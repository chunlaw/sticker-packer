function _mergeNamespaces(o,s){for(var j=0;j<s.length;j++){const et=s[j];if(typeof et!="string"&&!Array.isArray(et)){for(const bt in et)if(bt!=="default"&&!(bt in o)){const At=Object.getOwnPropertyDescriptor(et,bt);At&&Object.defineProperty(o,bt,At.get?At:{enumerable:!0,get:()=>et[bt]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const bt of document.querySelectorAll('link[rel="modulepreload"]'))et(bt);new MutationObserver(bt=>{for(const At of bt)if(At.type==="childList")for(const Et of At.addedNodes)Et.tagName==="LINK"&&Et.rel==="modulepreload"&&et(Et)}).observe(document,{childList:!0,subtree:!0});function j(bt){const At={};return bt.integrity&&(At.integrity=bt.integrity),bt.referrerPolicy&&(At.referrerPolicy=bt.referrerPolicy),bt.crossOrigin==="use-credentials"?At.credentials="include":bt.crossOrigin==="anonymous"?At.credentials="omit":At.credentials="same-origin",At}function et(bt){if(bt.ep)return;bt.ep=!0;const At=j(bt);fetch(bt.href,At)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var s=o.default;if(typeof s=="function"){var j=function et(){return this instanceof et?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};j.prototype=s.prototype}else j={};return Object.defineProperty(j,"__esModule",{value:!0}),Object.keys(o).forEach(function(et){var bt=Object.getOwnPropertyDescriptor(o,et);Object.defineProperty(j,et,bt.get?bt:{enumerable:!0,get:function(){return o[et]}})}),j}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3(o){return o===null||typeof o!="object"?null:(o=z$4&&o[z$4]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$3(o,s,j){this.props=o,this.context=s,this.refs=D$2,this.updater=j||B$1}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(o,s){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,s,"setState")};E$3.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$1(o,s,j){this.props=o,this.context=s,this.refs=D$2,this.updater=j||B$1}var H$1=G$1.prototype=new F$2;H$1.constructor=G$1;C$1(H$1,E$3.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(o,s,j){var et,bt={},At=null,Et=null;if(s!=null)for(et in s.ref!==void 0&&(Et=s.ref),s.key!==void 0&&(At=""+s.key),s)J.call(s,et)&&!L$2.hasOwnProperty(et)&&(bt[et]=s[et]);var Ut=arguments.length-2;if(Ut===1)bt.children=j;else if(1<Ut){for(var zt=Array(Ut),It=0;It<Ut;It++)zt[It]=arguments[It+2];bt.children=zt}if(o&&o.defaultProps)for(et in Ut=o.defaultProps,Ut)bt[et]===void 0&&(bt[et]=Ut[et]);return{$$typeof:l$4,type:o,key:At,ref:Et,props:bt,_owner:K$2.current}}function N$1(o,s){return{$$typeof:l$4,type:o.type,key:s,ref:o.ref,props:o.props,_owner:o._owner}}function O$2(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$4}function escape(o){var s={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(j){return s[j]})}var P$1=/\/+/g;function Q$1(o,s){return typeof o=="object"&&o!==null&&o.key!=null?escape(""+o.key):s.toString(36)}function R$2(o,s,j,et,bt){var At=typeof o;(At==="undefined"||At==="boolean")&&(o=null);var Et=!1;if(o===null)Et=!0;else switch(At){case"string":case"number":Et=!0;break;case"object":switch(o.$$typeof){case l$4:case n$4:Et=!0}}if(Et)return Et=o,bt=bt(Et),o=et===""?"."+Q$1(Et,0):et,I$1(bt)?(j="",o!=null&&(j=o.replace(P$1,"$&/")+"/"),R$2(bt,s,j,"",function(It){return It})):bt!=null&&(O$2(bt)&&(bt=N$1(bt,j+(!bt.key||Et&&Et.key===bt.key?"":(""+bt.key).replace(P$1,"$&/")+"/")+o)),s.push(bt)),1;if(Et=0,et=et===""?".":et+":",I$1(o))for(var Ut=0;Ut<o.length;Ut++){At=o[Ut];var zt=et+Q$1(At,Ut);Et+=R$2(At,s,j,zt,bt)}else if(zt=A$3(o),typeof zt=="function")for(o=zt.call(o),Ut=0;!(At=o.next()).done;)At=At.value,zt=et+Q$1(At,Ut++),Et+=R$2(At,s,j,zt,bt);else if(At==="object")throw s=String(o),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return Et}function S$1(o,s,j){if(o==null)return o;var et=[],bt=0;return R$2(o,et,"","",function(At){return s.call(j,At,bt++)}),et}function T$2(o){if(o._status===-1){var s=o._result;s=s(),s.then(function(j){(o._status===0||o._status===-1)&&(o._status=1,o._result=j)},function(j){(o._status===0||o._status===-1)&&(o._status=2,o._result=j)}),o._status===-1&&(o._status=0,o._result=s)}if(o._status===1)return o._result.default;throw o._result}var U$3={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$1,forEach:function(o,s,j){S$1(o,function(){s.apply(this,arguments)},j)},count:function(o){var s=0;return S$1(o,function(){s++}),s},toArray:function(o){return S$1(o,function(s){return s})||[]},only:function(o){if(!O$2(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$3;react_production_min.Fragment=p$5;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(o,s,j){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var et=C$1({},o.props),bt=o.key,At=o.ref,Et=o._owner;if(s!=null){if(s.ref!==void 0&&(At=s.ref,Et=K$2.current),s.key!==void 0&&(bt=""+s.key),o.type&&o.type.defaultProps)var Ut=o.type.defaultProps;for(zt in s)J.call(s,zt)&&!L$2.hasOwnProperty(zt)&&(et[zt]=s[zt]===void 0&&Ut!==void 0?Ut[zt]:s[zt])}var zt=arguments.length-2;if(zt===1)et.children=j;else if(1<zt){Ut=Array(zt);for(var It=0;It<zt;It++)Ut[It]=arguments[It+2];et.children=Ut}return{$$typeof:l$4,type:o.type,key:bt,ref:At,props:et,_owner:Et}};react_production_min.createContext=function(o){return o={$$typeof:u$3,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$3,_context:o},o.Consumer=o};react_production_min.createElement=M$2;react_production_min.createFactory=function(o){var s=M$2.bind(null,o);return s.type=o,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$4,render:o}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(o){return{$$typeof:y$1,_payload:{_status:-1,_result:o},_init:T$2}};react_production_min.memo=function(o,s){return{$$typeof:x$1,type:o,compare:s===void 0?null:s}};react_production_min.startTransition=function(o){var s=V$2.transition;V$2.transition={};try{o()}finally{V$2.transition=s}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,s){return U$3.current.useCallback(o,s)};react_production_min.useContext=function(o){return U$3.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$3.current.useDeferredValue(o)};react_production_min.useEffect=function(o,s){return U$3.current.useEffect(o,s)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(o,s,j){return U$3.current.useImperativeHandle(o,s,j)};react_production_min.useInsertionEffect=function(o,s){return U$3.current.useInsertionEffect(o,s)};react_production_min.useLayoutEffect=function(o,s){return U$3.current.useLayoutEffect(o,s)};react_production_min.useMemo=function(o,s){return U$3.current.useMemo(o,s)};react_production_min.useReducer=function(o,s,j){return U$3.current.useReducer(o,s,j)};react_production_min.useRef=function(o){return U$3.current.useRef(o)};react_production_min.useState=function(o){return U$3.current.useState(o)};react_production_min.useSyncExternalStore=function(o,s,j){return U$3.current.useSyncExternalStore(o,s,j)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$3=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$3=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$5(o,s,j){var et,bt={},At=null,Et=null;j!==void 0&&(At=""+j),s.key!==void 0&&(At=""+s.key),s.ref!==void 0&&(Et=s.ref);for(et in s)m$4.call(s,et)&&!p$4.hasOwnProperty(et)&&(bt[et]=s[et]);if(o&&o.defaultProps)for(et in s=o.defaultProps,s)bt[et]===void 0&&(bt[et]=s[et]);return{$$typeof:k$3,type:o,key:At,ref:Et,props:bt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function s(kA,OA){var KA=kA.length;kA.push(OA);e:for(;0<KA;){var yA=KA-1>>>1,TA=kA[yA];if(0<bt(TA,OA))kA[yA]=OA,kA[KA]=TA,KA=yA;else break e}}function j(kA){return kA.length===0?null:kA[0]}function et(kA){if(kA.length===0)return null;var OA=kA[0],KA=kA.pop();if(KA!==OA){kA[0]=KA;e:for(var yA=0,TA=kA.length,r0=TA>>>1;yA<r0;){var qA=2*(yA+1)-1,XA=kA[qA],S0=qA+1,U0=kA[S0];if(0>bt(XA,KA))S0<TA&&0>bt(U0,XA)?(kA[yA]=U0,kA[S0]=KA,yA=S0):(kA[yA]=XA,kA[qA]=KA,yA=qA);else if(S0<TA&&0>bt(U0,KA))kA[yA]=U0,kA[S0]=KA,yA=S0;else break e}}return OA}function bt(kA,OA){var KA=kA.sortIndex-OA.sortIndex;return KA!==0?KA:kA.id-OA.id}if(typeof performance=="object"&&typeof performance.now=="function"){var At=performance;o.unstable_now=function(){return At.now()}}else{var Et=Date,Ut=Et.now();o.unstable_now=function(){return Et.now()-Ut}}var zt=[],It=[],Qt=1,Pt=null,Yt=3,cr=!1,_r=!1,vr=!1,Yr=typeof setTimeout=="function"?setTimeout:null,Kr=typeof clearTimeout=="function"?clearTimeout:null,jr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Hn(kA){for(var OA=j(It);OA!==null;){if(OA.callback===null)et(It);else if(OA.startTime<=kA)et(It),OA.sortIndex=OA.expirationTime,s(zt,OA);else break;OA=j(It)}}function tA(kA){if(vr=!1,Hn(kA),!_r)if(j(zt)!==null)_r=!0,LA(nA);else{var OA=j(It);OA!==null&&RA(tA,OA.startTime-kA)}}function nA(kA,OA){_r=!1,vr&&(vr=!1,Kr(hA),hA=-1),cr=!0;var KA=Yt;try{for(Hn(OA),Pt=j(zt);Pt!==null&&(!(Pt.expirationTime>OA)||kA&&!NA());){var yA=Pt.callback;if(typeof yA=="function"){Pt.callback=null,Yt=Pt.priorityLevel;var TA=yA(Pt.expirationTime<=OA);OA=o.unstable_now(),typeof TA=="function"?Pt.callback=TA:Pt===j(zt)&&et(zt),Hn(OA)}else et(zt);Pt=j(zt)}if(Pt!==null)var r0=!0;else{var qA=j(It);qA!==null&&RA(tA,qA.startTime-OA),r0=!1}return r0}finally{Pt=null,Yt=KA,cr=!1}}var aA=!1,lA=null,hA=-1,pA=5,wA=-1;function NA(){return!(o.unstable_now()-wA<pA)}function cA(){if(lA!==null){var kA=o.unstable_now();wA=kA;var OA=!0;try{OA=lA(!0,kA)}finally{OA?CA():(aA=!1,lA=null)}}else aA=!1}var CA;if(typeof jr=="function")CA=function(){jr(cA)};else if(typeof MessageChannel<"u"){var sA=new MessageChannel,UA=sA.port2;sA.port1.onmessage=cA,CA=function(){UA.postMessage(null)}}else CA=function(){Yr(cA,0)};function LA(kA){lA=kA,aA||(aA=!0,CA())}function RA(kA,OA){hA=Yr(function(){kA(o.unstable_now())},OA)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(kA){kA.callback=null},o.unstable_continueExecution=function(){_r||cr||(_r=!0,LA(nA))},o.unstable_forceFrameRate=function(kA){0>kA||125<kA?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pA=0<kA?Math.floor(1e3/kA):5},o.unstable_getCurrentPriorityLevel=function(){return Yt},o.unstable_getFirstCallbackNode=function(){return j(zt)},o.unstable_next=function(kA){switch(Yt){case 1:case 2:case 3:var OA=3;break;default:OA=Yt}var KA=Yt;Yt=OA;try{return kA()}finally{Yt=KA}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(kA,OA){switch(kA){case 1:case 2:case 3:case 4:case 5:break;default:kA=3}var KA=Yt;Yt=kA;try{return OA()}finally{Yt=KA}},o.unstable_scheduleCallback=function(kA,OA,KA){var yA=o.unstable_now();switch(typeof KA=="object"&&KA!==null?(KA=KA.delay,KA=typeof KA=="number"&&0<KA?yA+KA:yA):KA=yA,kA){case 1:var TA=-1;break;case 2:TA=250;break;case 5:TA=1073741823;break;case 4:TA=1e4;break;default:TA=5e3}return TA=KA+TA,kA={id:Qt++,callback:OA,priorityLevel:kA,startTime:KA,expirationTime:TA,sortIndex:-1},KA>yA?(kA.sortIndex=KA,s(It,kA),j(zt)===null&&kA===j(It)&&(vr?(Kr(hA),hA=-1):vr=!0,RA(tA,KA-yA))):(kA.sortIndex=TA,s(zt,kA),_r||cr||(_r=!0,LA(nA))),kA},o.unstable_shouldYield=NA,o.unstable_wrapCallback=function(kA){var OA=Yt;return function(){var KA=Yt;Yt=OA;try{return kA.apply(this,arguments)}finally{Yt=KA}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$2=reactExports,ca$2=schedulerExports;function p$3(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,j=1;j<arguments.length;j++)s+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$2=new Set,ea$1={};function fa$2(o,s){ha$2(o,s),ha$2(o+"Capture",s)}function ha$2(o,s){for(ea$1[o]=s,o=0;o<s.length;o++)da$2.add(s[o])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$2={},ma$2={};function oa$1(o){return ja$1.call(ma$2,o)?!0:ja$1.call(la$2,o)?!1:ka$1.test(o)?ma$2[o]=!0:(la$2[o]=!0,!1)}function pa$2(o,s,j,et){if(j!==null&&j.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return et?!1:j!==null?!j.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa$1(o,s,j,et){if(s===null||typeof s>"u"||pa$2(o,s,j,et))return!0;if(et)return!1;if(j!==null)switch(j.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$3(o,s,j,et,bt,At,Et){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=et,this.attributeNamespace=bt,this.mustUseProperty=j,this.propertyName=o,this.type=s,this.sanitizeURL=At,this.removeEmptyString=Et}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z$3[o]=new v$3(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];z$3[s]=new v$3(s,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z$3[o]=new v$3(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z$3[o]=new v$3(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z$3[o]=new v$3(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z$3[o]=new v$3(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z$3[o]=new v$3(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z$3[o]=new v$3(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z$3[o]=new v$3(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra$2=/[\-:]([a-z])/g;function sa$2(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(ra$2,sa$2);z$3[s]=new v$3(s,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(ra$2,sa$2);z$3[s]=new v$3(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(ra$2,sa$2);z$3[s]=new v$3(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z$3[o]=new v$3(o,1,!1,o.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z$3[o]=new v$3(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta$1(o,s,j,et){var bt=z$3.hasOwnProperty(s)?z$3[s]:null;(bt!==null?bt.type!==0:et||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa$1(s,j,bt,et)&&(j=null),et||bt===null?oa$1(s)&&(j===null?o.removeAttribute(s):o.setAttribute(s,""+j)):bt.mustUseProperty?o[bt.propertyName]=j===null?bt.type===3?!1:"":j:(s=bt.attributeName,et=bt.attributeNamespace,j===null?o.removeAttribute(s):(bt=bt.type,j=bt===3||bt===4&&j===!0?"":""+j,et?o.setAttributeNS(et,s,j):o.setAttribute(s,j))))}var ua$2=aa$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(o){return o===null||typeof o!="object"?null:(o=Ja$1&&o[Ja$1]||o["@@iterator"],typeof o=="function"?o:null)}var A$2=Object.assign,La;function Ma$1(o){if(La===void 0)try{throw Error()}catch(j){var s=j.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+o}var Na=!1;function Oa$1(o,s){if(!o||Na)return"";Na=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(It){var et=It}Reflect.construct(o,[],s)}else{try{s.call()}catch(It){et=It}o.call(s.prototype)}else{try{throw Error()}catch(It){et=It}o()}}catch(It){if(It&&et&&typeof It.stack=="string"){for(var bt=It.stack.split(`
`),At=et.stack.split(`
`),Et=bt.length-1,Ut=At.length-1;1<=Et&&0<=Ut&&bt[Et]!==At[Ut];)Ut--;for(;1<=Et&&0<=Ut;Et--,Ut--)if(bt[Et]!==At[Ut]){if(Et!==1||Ut!==1)do if(Et--,Ut--,0>Ut||bt[Et]!==At[Ut]){var zt=`
`+bt[Et].replace(" at new "," at ");return o.displayName&&zt.includes("<anonymous>")&&(zt=zt.replace("<anonymous>",o.displayName)),zt}while(1<=Et&&0<=Ut);break}}}finally{Na=!1,Error.prepareStackTrace=j}return(o=o?o.displayName||o.name:"")?Ma$1(o):""}function Pa$1(o){switch(o.tag){case 5:return Ma$1(o.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return o=Oa$1(o.type,!1),o;case 11:return o=Oa$1(o.type.render,!1),o;case 1:return o=Oa$1(o.type,!0),o;default:return""}}function Qa$1(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca$1:return(o.displayName||"Context")+".Consumer";case Ba$1:return(o._context.displayName||"Context")+".Provider";case Da$1:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return s=o.displayName||null,s!==null?s:Qa$1(o.type)||"Memo";case Ha$1:s=o._payload,o=o._init;try{return Qa$1(o(s))}catch{}}return null}function Ra$1(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(s);case 8:return s===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa$1(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta$1(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(o){var s=Ta$1(o)?"checked":"value",j=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),et=""+o[s];if(!o.hasOwnProperty(s)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var bt=j.get,At=j.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return bt.call(this)},set:function(Et){et=""+Et,At.call(this,Et)}}),Object.defineProperty(o,s,{enumerable:j.enumerable}),{getValue:function(){return et},setValue:function(Et){et=""+Et},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var j=s.getValue(),et="";return o&&(et=Ta$1(o)?o.checked?"true":"false":o.value),o=et,o!==j?(s.setValue(o),!0):!1}function Xa$1(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya$1(o,s){var j=s.checked;return A$2({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??o._wrapperState.initialChecked})}function Za$1(o,s){var j=s.defaultValue==null?"":s.defaultValue,et=s.checked!=null?s.checked:s.defaultChecked;j=Sa$1(s.value!=null?s.value:j),o._wrapperState={initialChecked:et,initialValue:j,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab$1(o,s){s=s.checked,s!=null&&ta$1(o,"checked",s,!1)}function bb$1(o,s){ab$1(o,s);var j=Sa$1(s.value),et=s.type;if(j!=null)et==="number"?(j===0&&o.value===""||o.value!=j)&&(o.value=""+j):o.value!==""+j&&(o.value=""+j);else if(et==="submit"||et==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?cb$1(o,s.type,j):s.hasOwnProperty("defaultValue")&&cb$1(o,s.type,Sa$1(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function db$2(o,s,j){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var et=s.type;if(!(et!=="submit"&&et!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,j||s===o.value||(o.value=s),o.defaultValue=s}j=o.name,j!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,j!==""&&(o.name=j)}function cb$1(o,s,j){(s!=="number"||Xa$1(o.ownerDocument)!==o)&&(j==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+j&&(o.defaultValue=""+j))}var eb$1=Array.isArray;function fb$1(o,s,j,et){if(o=o.options,s){s={};for(var bt=0;bt<j.length;bt++)s["$"+j[bt]]=!0;for(j=0;j<o.length;j++)bt=s.hasOwnProperty("$"+o[j].value),o[j].selected!==bt&&(o[j].selected=bt),bt&&et&&(o[j].defaultSelected=!0)}else{for(j=""+Sa$1(j),s=null,bt=0;bt<o.length;bt++){if(o[bt].value===j){o[bt].selected=!0,et&&(o[bt].defaultSelected=!0);return}s!==null||o[bt].disabled||(s=o[bt])}s!==null&&(s.selected=!0)}}function gb$1(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$2({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb$1(o,s){var j=s.value;if(j==null){if(j=s.children,s=s.defaultValue,j!=null){if(s!=null)throw Error(p$3(92));if(eb$1(j)){if(1<j.length)throw Error(p$3(93));j=j[0]}s=j}s==null&&(s=""),j=s}o._wrapperState={initialValue:Sa$1(j)}}function ib$1(o,s){var j=Sa$1(s.value),et=Sa$1(s.defaultValue);j!=null&&(j=""+j,j!==o.value&&(o.value=j),s.defaultValue==null&&o.defaultValue!==j&&(o.defaultValue=j)),et!=null&&(o.defaultValue=""+et)}function jb$1(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function kb$1(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?kb$1(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb$1,nb$1=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,j,et,bt){MSApp.execUnsafeLocalFunction(function(){return o(s,j,et,bt)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb$1.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function ob$1(o,s){if(s){var j=o.firstChild;if(j&&j===o.lastChild&&j.nodeType===3){j.nodeValue=s;return}}o.textContent=s}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(o){qb$1.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),pb$1[s]=pb$1[o]})});function rb$1(o,s,j){return s==null||typeof s=="boolean"||s===""?"":j||typeof s!="number"||s===0||pb$1.hasOwnProperty(o)&&pb$1[o]?(""+s).trim():s+"px"}function sb$1(o,s){o=o.style;for(var j in s)if(s.hasOwnProperty(j)){var et=j.indexOf("--")===0,bt=rb$1(j,s[j],et);j==="float"&&(j="cssFloat"),et?o.setProperty(j,bt):o[j]=bt}}var tb$1=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(o,s){if(s){if(tb$1[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$3(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$3(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$3(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$3(62))}}function vb$1(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(o){if(o=Cb$1(o)){if(typeof yb$1!="function")throw Error(p$3(280));var s=o.stateNode;s&&(s=Db$1(s),yb$1(o.stateNode,o.type,s))}}function Eb$1(o){zb$1?Ab$1?Ab$1.push(o):Ab$1=[o]:zb$1=o}function Fb$1(){if(zb$1){var o=zb$1,s=Ab$1;if(Ab$1=zb$1=null,Bb$1(o),s)for(o=0;o<s.length;o++)Bb$1(s[o])}}function Gb$1(o,s){return o(s)}function Hb$1(){}var Ib$1=!1;function Jb$1(o,s,j){if(Ib$1)return o(s,j);Ib$1=!0;try{return Gb$1(o,s,j)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1(o,s){var j=o.stateNode;if(j===null)return null;var et=Db$1(j);if(et===null)return null;j=et[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(et=!et.disabled)||(o=o.type,et=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!et;break e;default:o=!1}if(o)return null;if(j&&typeof j!="function")throw Error(p$3(231,s,typeof j));return j}var Lb$1=!1;if(ia$1)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1(o,s,j,et,bt,At,Et,Ut,zt){var It=Array.prototype.slice.call(arguments,3);try{s.apply(j,It)}catch(Qt){this.onError(Qt)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(o){Ob$1=!0,Pb$1=o}};function Tb$1(o,s,j,et,bt,At,Et,Ut,zt){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1(o,s,j,et,bt,At,Et,Ut,zt){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var It=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$3(198));Qb$1||(Qb$1=!0,Rb$1=It)}}function Vb$1(o){var s=o,j=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,s.flags&4098&&(j=s.return),o=s.return;while(o)}return s.tag===3?j:null}function Wb$1(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function Xb$1(o){if(Vb$1(o)!==o)throw Error(p$3(188))}function Yb$1(o){var s=o.alternate;if(!s){if(s=Vb$1(o),s===null)throw Error(p$3(188));return s!==o?null:o}for(var j=o,et=s;;){var bt=j.return;if(bt===null)break;var At=bt.alternate;if(At===null){if(et=bt.return,et!==null){j=et;continue}break}if(bt.child===At.child){for(At=bt.child;At;){if(At===j)return Xb$1(bt),o;if(At===et)return Xb$1(bt),s;At=At.sibling}throw Error(p$3(188))}if(j.return!==et.return)j=bt,et=At;else{for(var Et=!1,Ut=bt.child;Ut;){if(Ut===j){Et=!0,j=bt,et=At;break}if(Ut===et){Et=!0,et=bt,j=At;break}Ut=Ut.sibling}if(!Et){for(Ut=At.child;Ut;){if(Ut===j){Et=!0,j=At,et=bt;break}if(Ut===et){Et=!0,et=At,j=bt;break}Ut=Ut.sibling}if(!Et)throw Error(p$3(189))}}if(j.alternate!==et)throw Error(p$3(190))}if(j.tag!==3)throw Error(p$3(188));return j.stateNode.current===j?o:s}function Zb$1(o){return o=Yb$1(o),o!==null?$b$1(o):null}function $b$1(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=$b$1(o);if(s!==null)return s;o=o.sibling}return null}var ac$2=ca$2.unstable_scheduleCallback,bc$2=ca$2.unstable_cancelCallback,cc$2=ca$2.unstable_shouldYield,dc$2=ca$2.unstable_requestPaint,B=ca$2.unstable_now,ec$2=ca$2.unstable_getCurrentPriorityLevel,fc$2=ca$2.unstable_ImmediatePriority,gc$2=ca$2.unstable_UserBlockingPriority,hc$2=ca$2.unstable_NormalPriority,ic$2=ca$2.unstable_LowPriority,jc$2=ca$2.unstable_IdlePriority,kc$2=null,lc$2=null;function mc$2(o){if(lc$2&&typeof lc$2.onCommitFiberRoot=="function")try{lc$2.onCommitFiberRoot(kc$2,o,void 0,(o.current.flags&128)===128)}catch{}}var oc$2=Math.clz32?Math.clz32:nc$2,pc$2=Math.log,qc$2=Math.LN2;function nc$2(o){return o>>>=0,o===0?32:31-(pc$2(o)/qc$2|0)|0}var rc$2=64,sc$2=4194304;function tc$2(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc$2(o,s){var j=o.pendingLanes;if(j===0)return 0;var et=0,bt=o.suspendedLanes,At=o.pingedLanes,Et=j&268435455;if(Et!==0){var Ut=Et&~bt;Ut!==0?et=tc$2(Ut):(At&=Et,At!==0&&(et=tc$2(At)))}else Et=j&~bt,Et!==0?et=tc$2(Et):At!==0&&(et=tc$2(At));if(et===0)return 0;if(s!==0&&s!==et&&!(s&bt)&&(bt=et&-et,At=s&-s,bt>=At||bt===16&&(At&4194240)!==0))return s;if(et&4&&(et|=j&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=et;0<s;)j=31-oc$2(s),bt=1<<j,et|=o[j],s&=~bt;return et}function vc$1(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$2(o,s){for(var j=o.suspendedLanes,et=o.pingedLanes,bt=o.expirationTimes,At=o.pendingLanes;0<At;){var Et=31-oc$2(At),Ut=1<<Et,zt=bt[Et];zt===-1?(!(Ut&j)||Ut&et)&&(bt[Et]=vc$1(Ut,s)):zt<=s&&(o.expiredLanes|=Ut),At&=~Ut}}function xc$2(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc$2(){var o=rc$2;return rc$2<<=1,!(rc$2&4194240)&&(rc$2=64),o}function zc$2(o){for(var s=[],j=0;31>j;j++)s.push(o);return s}function Ac$2(o,s,j){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-oc$2(s),o[s]=j}function Bc$2(o,s){var j=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var et=o.eventTimes;for(o=o.expirationTimes;0<j;){var bt=31-oc$2(j),At=1<<bt;s[bt]=0,et[bt]=-1,o[bt]=-1,j&=~At}}function Cc$2(o,s){var j=o.entangledLanes|=s;for(o=o.entanglements;j;){var et=31-oc$2(j),bt=1<<et;bt&s|o[et]&s&&(o[et]|=s),j&=~bt}}var C=0;function Dc$2(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec$2,Fc$2,Gc$2,Hc$2,Ic$2,Jc$2=!1,Kc$2=[],Lc$2=null,Mc$2=null,Nc$2=null,Oc$2=new Map,Pc$2=new Map,Qc$2=[],Rc$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$2(o,s){switch(o){case"focusin":case"focusout":Lc$2=null;break;case"dragenter":case"dragleave":Mc$2=null;break;case"mouseover":case"mouseout":Nc$2=null;break;case"pointerover":case"pointerout":Oc$2.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$2.delete(s.pointerId)}}function Tc$2(o,s,j,et,bt,At){return o===null||o.nativeEvent!==At?(o={blockedOn:s,domEventName:j,eventSystemFlags:et,nativeEvent:At,targetContainers:[bt]},s!==null&&(s=Cb$1(s),s!==null&&Fc$2(s)),o):(o.eventSystemFlags|=et,s=o.targetContainers,bt!==null&&s.indexOf(bt)===-1&&s.push(bt),o)}function Uc$2(o,s,j,et,bt){switch(s){case"focusin":return Lc$2=Tc$2(Lc$2,o,s,j,et,bt),!0;case"dragenter":return Mc$2=Tc$2(Mc$2,o,s,j,et,bt),!0;case"mouseover":return Nc$2=Tc$2(Nc$2,o,s,j,et,bt),!0;case"pointerover":var At=bt.pointerId;return Oc$2.set(At,Tc$2(Oc$2.get(At)||null,o,s,j,et,bt)),!0;case"gotpointercapture":return At=bt.pointerId,Pc$2.set(At,Tc$2(Pc$2.get(At)||null,o,s,j,et,bt)),!0}return!1}function Vc$2(o){var s=Wc$2(o.target);if(s!==null){var j=Vb$1(s);if(j!==null){if(s=j.tag,s===13){if(s=Wb$1(j),s!==null){o.blockedOn=s,Ic$2(o.priority,function(){Gc$2(j)});return}}else if(s===3&&j.stateNode.current.memoizedState.isDehydrated){o.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc$2(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var j=Yc$2(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(j===null){j=o.nativeEvent;var et=new j.constructor(j.type,j);wb$1=et,j.target.dispatchEvent(et),wb$1=null}else return s=Cb$1(j),s!==null&&Fc$2(s),o.blockedOn=j,!1;s.shift()}return!0}function Zc$2(o,s,j){Xc$2(o)&&j.delete(s)}function $c$2(){Jc$2=!1,Lc$2!==null&&Xc$2(Lc$2)&&(Lc$2=null),Mc$2!==null&&Xc$2(Mc$2)&&(Mc$2=null),Nc$2!==null&&Xc$2(Nc$2)&&(Nc$2=null),Oc$2.forEach(Zc$2),Pc$2.forEach(Zc$2)}function ad$1(o,s){o.blockedOn===s&&(o.blockedOn=null,Jc$2||(Jc$2=!0,ca$2.unstable_scheduleCallback(ca$2.unstable_NormalPriority,$c$2)))}function bd$2(o){function s(bt){return ad$1(bt,o)}if(0<Kc$2.length){ad$1(Kc$2[0],o);for(var j=1;j<Kc$2.length;j++){var et=Kc$2[j];et.blockedOn===o&&(et.blockedOn=null)}}for(Lc$2!==null&&ad$1(Lc$2,o),Mc$2!==null&&ad$1(Mc$2,o),Nc$2!==null&&ad$1(Nc$2,o),Oc$2.forEach(s),Pc$2.forEach(s),j=0;j<Qc$2.length;j++)et=Qc$2[j],et.blockedOn===o&&(et.blockedOn=null);for(;0<Qc$2.length&&(j=Qc$2[0],j.blockedOn===null);)Vc$2(j),j.blockedOn===null&&Qc$2.shift()}var cd$2=ua$2.ReactCurrentBatchConfig,dd$2=!0;function ed$1(o,s,j,et){var bt=C,At=cd$2.transition;cd$2.transition=null;try{C=1,fd$2(o,s,j,et)}finally{C=bt,cd$2.transition=At}}function gd$2(o,s,j,et){var bt=C,At=cd$2.transition;cd$2.transition=null;try{C=4,fd$2(o,s,j,et)}finally{C=bt,cd$2.transition=At}}function fd$2(o,s,j,et){if(dd$2){var bt=Yc$2(o,s,j,et);if(bt===null)hd$2(o,s,et,id$1,j),Sc$2(o,et);else if(Uc$2(bt,o,s,j,et))et.stopPropagation();else if(Sc$2(o,et),s&4&&-1<Rc$2.indexOf(o)){for(;bt!==null;){var At=Cb$1(bt);if(At!==null&&Ec$2(At),At=Yc$2(o,s,j,et),At===null&&hd$2(o,s,et,id$1,j),At===bt)break;bt=At}bt!==null&&et.stopPropagation()}else hd$2(o,s,et,null,j)}}var id$1=null;function Yc$2(o,s,j,et){if(id$1=null,o=xb$1(et),o=Wc$2(o),o!==null)if(s=Vb$1(o),s===null)o=null;else if(j=s.tag,j===13){if(o=Wb$1(s),o!==null)return o;o=null}else if(j===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return id$1=o,null}function jd$2(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$2()){case fc$2:return 1;case gc$2:return 4;case hc$2:case ic$2:return 16;case jc$2:return 536870912;default:return 16}default:return 16}}var kd$2=null,ld$2=null,md$2=null;function nd$1(){if(md$2)return md$2;var o,s=ld$2,j=s.length,et,bt="value"in kd$2?kd$2.value:kd$2.textContent,At=bt.length;for(o=0;o<j&&s[o]===bt[o];o++);var Et=j-o;for(et=1;et<=Et&&s[j-et]===bt[At-et];et++);return md$2=bt.slice(o,1<et?1-et:void 0)}function od$1(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function pd$2(){return!0}function qd$1(){return!1}function rd$1(o){function s(j,et,bt,At,Et){this._reactName=j,this._targetInst=bt,this.type=et,this.nativeEvent=At,this.target=Et,this.currentTarget=null;for(var Ut in o)o.hasOwnProperty(Ut)&&(j=o[Ut],this[Ut]=j?j(At):At[Ut]);return this.isDefaultPrevented=(At.defaultPrevented!=null?At.defaultPrevented:At.returnValue===!1)?pd$2:qd$1,this.isPropagationStopped=qd$1,this}return A$2(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=pd$2)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=pd$2)},persist:function(){},isPersistent:pd$2}),s}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$2({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$2=A$2({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd$1&&(yd$1&&o.type==="mousemove"?(wd$1=o.screenX-yd$1.screenX,xd$1=o.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=o),wd$1)},movementY:function(o){return"movementY"in o?o.movementY:xd$1}}),Bd$1=rd$1(Ad$2),Cd$2=A$2({},Ad$2,{dataTransfer:0}),Dd$2=rd$1(Cd$2),Ed$2=A$2({},ud$1,{relatedTarget:0}),Fd$2=rd$1(Ed$2),Gd$1=A$2({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$2=A$2({},sd$1,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd$2=rd$1(Id$2),Kd$2=A$2({},sd$1,{data:0}),Ld$2=rd$1(Kd$2),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$2(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=Od$2[o])?!!s[o]:!1}function zd$1(){return Pd$2}var Qd$2=A$2({},ud$1,{key:function(o){if(o.key){var s=Md$1[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=od$1(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd$2[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(o){return o.type==="keypress"?od$1(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od$1(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd$1=rd$1(Qd$2),Sd$2=A$2({},Ad$2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$2),Ud$1=A$2({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$2({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$2=rd$1(Wd$1),Yd$2=A$2({},Ad$2,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$2=rd$1(Yd$2),$d$1=[9,13,27,32],ae$1=ia$1&&"CompositionEvent"in window,be$2=null;ia$1&&"documentMode"in document&&(be$2=document.documentMode);var ce$1=ia$1&&"TextEvent"in window&&!be$2,de=ia$1&&(!ae$1||be$2&&8<be$2&&11>=be$2),ee$1=" ",fe$1=!1;function ge(o,s){switch(o){case"keyup":return $d$1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie$1=!1;function je$1(o,s){switch(o){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe$1=!0,ee$1);case"textInput":return o=s.data,o===ee$1&&fe$1?null:o;default:return null}}function ke$1(o,s){if(ie$1)return o==="compositionend"||!ae$1&&ge(o,s)?(o=nd$1(),md$2=ld$2=kd$2=null,ie$1=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!le$1[o.type]:s==="textarea"}function ne(o,s,j,et){Eb$1(et),s=oe$1(s,"onChange"),0<s.length&&(j=new td$1("onChange","change",null,j,et),o.push({event:j,listeners:s}))}var pe=null,qe=null;function re$2(o){se(o,0)}function te(o){var s=ue(o);if(Wa(s))return o}function ve(o,s){if(o==="change")return s}var we=!1;if(ia$1){var xe$1;if(ia$1){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be$1),qe=pe=null)}function Be$1(o){if(o.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,o,xb$1(o)),Jb$1(re$2,s)}}function Ce$1(o,s,j){o==="focusin"?(Ae$1(),pe=s,qe=j,pe.attachEvent("onpropertychange",Be$1)):o==="focusout"&&Ae$1()}function De$2(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,s){if(o==="click")return te(s)}function Fe(o,s){if(o==="input"||o==="change")return te(s)}function Ge$2(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var He$1=typeof Object.is=="function"?Object.is:Ge$2;function Ie(o,s){if(He$1(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var j=Object.keys(o),et=Object.keys(s);if(j.length!==et.length)return!1;for(et=0;et<j.length;et++){var bt=j[et];if(!ja$1.call(s,bt)||!He$1(o[bt],s[bt]))return!1}return!0}function Je$1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke$1(o,s){var j=Je$1(o);o=0;for(var et;j;){if(j.nodeType===3){if(et=o+j.textContent.length,o<=s&&et>=s)return{node:j,offset:s-o};o=et}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=Je$1(j)}}function Le$1(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Le$1(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Me$1(){for(var o=window,s=Xa$1();s instanceof o.HTMLIFrameElement;){try{var j=typeof s.contentWindow.location.href=="string"}catch{j=!1}if(j)o=s.contentWindow;else break;s=Xa$1(o.document)}return s}function Ne(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function Oe$2(o){var s=Me$1(),j=o.focusedElem,et=o.selectionRange;if(s!==j&&j&&j.ownerDocument&&Le$1(j.ownerDocument.documentElement,j)){if(et!==null&&Ne(j)){if(s=et.start,o=et.end,o===void 0&&(o=s),"selectionStart"in j)j.selectionStart=s,j.selectionEnd=Math.min(o,j.value.length);else if(o=(s=j.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var bt=j.textContent.length,At=Math.min(et.start,bt);et=et.end===void 0?At:Math.min(et.end,bt),!o.extend&&At>et&&(bt=et,et=At,At=bt),bt=Ke$1(j,At);var Et=Ke$1(j,et);bt&&Et&&(o.rangeCount!==1||o.anchorNode!==bt.node||o.anchorOffset!==bt.offset||o.focusNode!==Et.node||o.focusOffset!==Et.offset)&&(s=s.createRange(),s.setStart(bt.node,bt.offset),o.removeAllRanges(),At>et?(o.addRange(s),o.extend(Et.node,Et.offset)):(s.setEnd(Et.node,Et.offset),o.addRange(s)))}}for(s=[],o=j;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<s.length;j++)o=s[j],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se=null,Te=!1;function Ue(o,s,j){var et=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;Te||Qe$1==null||Qe$1!==Xa$1(et)||(et=Qe$1,"selectionStart"in et&&Ne(et)?et={start:et.selectionStart,end:et.selectionEnd}:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection(),et={anchorNode:et.anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset}),Se&&Ie(Se,et)||(Se=et,et=oe$1(Re$1,"onSelect"),0<et.length&&(s=new td$1("onSelect","select",null,s,j),o.push({event:s,listeners:et}),s.target=Qe$1)))}function Ve$1(o,s){var j={};return j[o.toLowerCase()]=s.toLowerCase(),j["Webkit"+o]="webkit"+s,j["Moz"+o]="moz"+s,j}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$2={},Ye$1={};ia$1&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(o){if(Xe$2[o])return Xe$2[o];if(!We[o])return o;var s=We[o],j;for(j in s)if(s.hasOwnProperty(j)&&j in Ye$1)return Xe$2[o]=s[j];return o}var $e$1=Ze$1("animationend"),af$2=Ze$1("animationiteration"),bf$1=Ze$1("animationstart"),cf$1=Ze$1("transitionend"),df$2=new Map,ef$2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$2(o,s){df$2.set(o,s),fa$2(s,[o])}for(var gf$2=0;gf$2<ef$2.length;gf$2++){var hf$2=ef$2[gf$2],jf$1=hf$2.toLowerCase(),kf$1=hf$2[0].toUpperCase()+hf$2.slice(1);ff$2(jf$1,"on"+kf$1)}ff$2($e$1,"onAnimationEnd");ff$2(af$2,"onAnimationIteration");ff$2(bf$1,"onAnimationStart");ff$2("dblclick","onDoubleClick");ff$2("focusin","onFocus");ff$2("focusout","onBlur");ff$2(cf$1,"onTransitionEnd");ha$2("onMouseEnter",["mouseout","mouseover"]);ha$2("onMouseLeave",["mouseout","mouseover"]);ha$2("onPointerEnter",["pointerout","pointerover"]);ha$2("onPointerLeave",["pointerout","pointerover"]);fa$2("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$2("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$2("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$2("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf$2=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$2));function nf$2(o,s,j){var et=o.type||"unknown-event";o.currentTarget=j,Ub$1(et,s,void 0,o),o.currentTarget=null}function se(o,s){s=(s&4)!==0;for(var j=0;j<o.length;j++){var et=o[j],bt=et.event;et=et.listeners;e:{var At=void 0;if(s)for(var Et=et.length-1;0<=Et;Et--){var Ut=et[Et],zt=Ut.instance,It=Ut.currentTarget;if(Ut=Ut.listener,zt!==At&&bt.isPropagationStopped())break e;nf$2(bt,Ut,It),At=zt}else for(Et=0;Et<et.length;Et++){if(Ut=et[Et],zt=Ut.instance,It=Ut.currentTarget,Ut=Ut.listener,zt!==At&&bt.isPropagationStopped())break e;nf$2(bt,Ut,It),At=zt}}}if(Qb$1)throw o=Rb$1,Qb$1=!1,Rb$1=null,o}function D$1(o,s){var j=s[of$2];j===void 0&&(j=s[of$2]=new Set);var et=o+"__bubble";j.has(et)||(pf$1(s,o,2,!1),j.add(et))}function qf$1(o,s,j){var et=0;s&&(et|=4),pf$1(j,o,et,s)}var rf$2="_reactListening"+Math.random().toString(36).slice(2);function sf$2(o){if(!o[rf$2]){o[rf$2]=!0,da$2.forEach(function(j){j!=="selectionchange"&&(mf$2.has(j)||qf$1(j,!1,o),qf$1(j,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[rf$2]||(s[rf$2]=!0,qf$1("selectionchange",!1,s))}}function pf$1(o,s,j,et){switch(jd$2(s)){case 1:var bt=ed$1;break;case 4:bt=gd$2;break;default:bt=fd$2}j=bt.bind(null,s,j,o),bt=void 0,!Lb$1||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(bt=!0),et?bt!==void 0?o.addEventListener(s,j,{capture:!0,passive:bt}):o.addEventListener(s,j,!0):bt!==void 0?o.addEventListener(s,j,{passive:bt}):o.addEventListener(s,j,!1)}function hd$2(o,s,j,et,bt){var At=et;if(!(s&1)&&!(s&2)&&et!==null)e:for(;;){if(et===null)return;var Et=et.tag;if(Et===3||Et===4){var Ut=et.stateNode.containerInfo;if(Ut===bt||Ut.nodeType===8&&Ut.parentNode===bt)break;if(Et===4)for(Et=et.return;Et!==null;){var zt=Et.tag;if((zt===3||zt===4)&&(zt=Et.stateNode.containerInfo,zt===bt||zt.nodeType===8&&zt.parentNode===bt))return;Et=Et.return}for(;Ut!==null;){if(Et=Wc$2(Ut),Et===null)return;if(zt=Et.tag,zt===5||zt===6){et=At=Et;continue e}Ut=Ut.parentNode}}et=et.return}Jb$1(function(){var It=At,Qt=xb$1(j),Pt=[];e:{var Yt=df$2.get(o);if(Yt!==void 0){var cr=td$1,_r=o;switch(o){case"keypress":if(od$1(j)===0)break e;case"keydown":case"keyup":cr=Rd$1;break;case"focusin":_r="focus",cr=Fd$2;break;case"focusout":_r="blur",cr=Fd$2;break;case"beforeblur":case"afterblur":cr=Fd$2;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":cr=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":cr=Dd$2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":cr=Vd$1;break;case $e$1:case af$2:case bf$1:cr=Hd$1;break;case cf$1:cr=Xd$2;break;case"scroll":cr=vd$1;break;case"wheel":cr=Zd$2;break;case"copy":case"cut":case"paste":cr=Jd$2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":cr=Td$1}var vr=(s&4)!==0,Yr=!vr&&o==="scroll",Kr=vr?Yt!==null?Yt+"Capture":null:Yt;vr=[];for(var jr=It,Hn;jr!==null;){Hn=jr;var tA=Hn.stateNode;if(Hn.tag===5&&tA!==null&&(Hn=tA,Kr!==null&&(tA=Kb$1(jr,Kr),tA!=null&&vr.push(tf$2(jr,tA,Hn)))),Yr)break;jr=jr.return}0<vr.length&&(Yt=new cr(Yt,_r,null,j,Qt),Pt.push({event:Yt,listeners:vr}))}}if(!(s&7)){e:{if(Yt=o==="mouseover"||o==="pointerover",cr=o==="mouseout"||o==="pointerout",Yt&&j!==wb$1&&(_r=j.relatedTarget||j.fromElement)&&(Wc$2(_r)||_r[uf$2]))break e;if((cr||Yt)&&(Yt=Qt.window===Qt?Qt:(Yt=Qt.ownerDocument)?Yt.defaultView||Yt.parentWindow:window,cr?(_r=j.relatedTarget||j.toElement,cr=It,_r=_r?Wc$2(_r):null,_r!==null&&(Yr=Vb$1(_r),_r!==Yr||_r.tag!==5&&_r.tag!==6)&&(_r=null)):(cr=null,_r=It),cr!==_r)){if(vr=Bd$1,tA="onMouseLeave",Kr="onMouseEnter",jr="mouse",(o==="pointerout"||o==="pointerover")&&(vr=Td$1,tA="onPointerLeave",Kr="onPointerEnter",jr="pointer"),Yr=cr==null?Yt:ue(cr),Hn=_r==null?Yt:ue(_r),Yt=new vr(tA,jr+"leave",cr,j,Qt),Yt.target=Yr,Yt.relatedTarget=Hn,tA=null,Wc$2(Qt)===It&&(vr=new vr(Kr,jr+"enter",_r,j,Qt),vr.target=Hn,vr.relatedTarget=Yr,tA=vr),Yr=tA,cr&&_r)t:{for(vr=cr,Kr=_r,jr=0,Hn=vr;Hn;Hn=vf$1(Hn))jr++;for(Hn=0,tA=Kr;tA;tA=vf$1(tA))Hn++;for(;0<jr-Hn;)vr=vf$1(vr),jr--;for(;0<Hn-jr;)Kr=vf$1(Kr),Hn--;for(;jr--;){if(vr===Kr||Kr!==null&&vr===Kr.alternate)break t;vr=vf$1(vr),Kr=vf$1(Kr)}vr=null}else vr=null;cr!==null&&wf$1(Pt,Yt,cr,vr,!1),_r!==null&&Yr!==null&&wf$1(Pt,Yr,_r,vr,!0)}}e:{if(Yt=It?ue(It):window,cr=Yt.nodeName&&Yt.nodeName.toLowerCase(),cr==="select"||cr==="input"&&Yt.type==="file")var nA=ve;else if(me$1(Yt))if(we)nA=Fe;else{nA=De$2;var aA=Ce$1}else(cr=Yt.nodeName)&&cr.toLowerCase()==="input"&&(Yt.type==="checkbox"||Yt.type==="radio")&&(nA=Ee);if(nA&&(nA=nA(o,It))){ne(Pt,nA,j,Qt);break e}aA&&aA(o,Yt,It),o==="focusout"&&(aA=Yt._wrapperState)&&aA.controlled&&Yt.type==="number"&&cb$1(Yt,"number",Yt.value)}switch(aA=It?ue(It):window,o){case"focusin":(me$1(aA)||aA.contentEditable==="true")&&(Qe$1=aA,Re$1=It,Se=null);break;case"focusout":Se=Re$1=Qe$1=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Pt,j,Qt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Pt,j,Qt)}var lA;if(ae$1)e:{switch(o){case"compositionstart":var hA="onCompositionStart";break e;case"compositionend":hA="onCompositionEnd";break e;case"compositionupdate":hA="onCompositionUpdate";break e}hA=void 0}else ie$1?ge(o,j)&&(hA="onCompositionEnd"):o==="keydown"&&j.keyCode===229&&(hA="onCompositionStart");hA&&(de&&j.locale!=="ko"&&(ie$1||hA!=="onCompositionStart"?hA==="onCompositionEnd"&&ie$1&&(lA=nd$1()):(kd$2=Qt,ld$2="value"in kd$2?kd$2.value:kd$2.textContent,ie$1=!0)),aA=oe$1(It,hA),0<aA.length&&(hA=new Ld$2(hA,o,null,j,Qt),Pt.push({event:hA,listeners:aA}),lA?hA.data=lA:(lA=he(j),lA!==null&&(hA.data=lA)))),(lA=ce$1?je$1(o,j):ke$1(o,j))&&(It=oe$1(It,"onBeforeInput"),0<It.length&&(Qt=new Ld$2("onBeforeInput","beforeinput",null,j,Qt),Pt.push({event:Qt,listeners:It}),Qt.data=lA))}se(Pt,s)})}function tf$2(o,s,j){return{instance:o,listener:s,currentTarget:j}}function oe$1(o,s){for(var j=s+"Capture",et=[];o!==null;){var bt=o,At=bt.stateNode;bt.tag===5&&At!==null&&(bt=At,At=Kb$1(o,j),At!=null&&et.unshift(tf$2(o,At,bt)),At=Kb$1(o,s),At!=null&&et.push(tf$2(o,At,bt))),o=o.return}return et}function vf$1(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf$1(o,s,j,et,bt){for(var At=s._reactName,Et=[];j!==null&&j!==et;){var Ut=j,zt=Ut.alternate,It=Ut.stateNode;if(zt!==null&&zt===et)break;Ut.tag===5&&It!==null&&(Ut=It,bt?(zt=Kb$1(j,At),zt!=null&&Et.unshift(tf$2(j,zt,Ut))):bt||(zt=Kb$1(j,At),zt!=null&&Et.push(tf$2(j,zt,Ut)))),j=j.return}Et.length!==0&&o.push({event:s,listeners:Et})}var xf$1=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(o){return(typeof o=="string"?o:""+o).replace(xf$1,`
`).replace(yf$1,"")}function Af$1(o,s,j){if(s=zf$1(s),zf$1(o)!==s&&j)throw Error(p$3(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff$1=typeof setTimeout=="function"?setTimeout:void 0,Gf$1=typeof clearTimeout=="function"?clearTimeout:void 0,Hf$1=typeof Promise=="function"?Promise:void 0,Jf$1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf$1<"u"?function(o){return Hf$1.resolve(null).then(o).catch(If$1)}:Ff$1;function If$1(o){setTimeout(function(){throw o})}function Kf$1(o,s){var j=s,et=0;do{var bt=j.nextSibling;if(o.removeChild(j),bt&&bt.nodeType===8)if(j=bt.data,j==="/$"){if(et===0){o.removeChild(bt),bd$2(s);return}et--}else j!=="$"&&j!=="$?"&&j!=="$!"||et++;j=bt}while(j);bd$2(s)}function Lf$1(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function Mf$1(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var j=o.data;if(j==="$"||j==="$!"||j==="$?"){if(s===0)return o;s--}else j==="/$"&&s++}o=o.previousSibling}return null}var Nf$1=Math.random().toString(36).slice(2),Of$1="__reactFiber$"+Nf$1,Pf$1="__reactProps$"+Nf$1,uf$2="__reactContainer$"+Nf$1,of$2="__reactEvents$"+Nf$1,Qf$1="__reactListeners$"+Nf$1,Rf$1="__reactHandles$"+Nf$1;function Wc$2(o){var s=o[Of$1];if(s)return s;for(var j=o.parentNode;j;){if(s=j[uf$2]||j[Of$1]){if(j=s.alternate,s.child!==null||j!==null&&j.child!==null)for(o=Mf$1(o);o!==null;){if(j=o[Of$1])return j;o=Mf$1(o)}return s}o=j,j=o.parentNode}return null}function Cb$1(o){return o=o[Of$1]||o[uf$2],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$3(33))}function Db$1(o){return o[Pf$1]||null}var Sf$1=[],Tf$1=-1;function Uf$1(o){return{current:o}}function E$2(o){0>Tf$1||(o.current=Sf$1[Tf$1],Sf$1[Tf$1]=null,Tf$1--)}function G(o,s){Tf$1++,Sf$1[Tf$1]=o.current,o.current=s}var Vf$1={},H=Uf$1(Vf$1),Wf$1=Uf$1(!1),Xf$1=Vf$1;function Yf$1(o,s){var j=o.type.contextTypes;if(!j)return Vf$1;var et=o.stateNode;if(et&&et.__reactInternalMemoizedUnmaskedChildContext===s)return et.__reactInternalMemoizedMaskedChildContext;var bt={},At;for(At in j)bt[At]=s[At];return et&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=bt),bt}function Zf$1(o){return o=o.childContextTypes,o!=null}function $f$1(){E$2(Wf$1),E$2(H)}function ag$1(o,s,j){if(H.current!==Vf$1)throw Error(p$3(168));G(H,s),G(Wf$1,j)}function bg$1(o,s,j){var et=o.stateNode;if(s=s.childContextTypes,typeof et.getChildContext!="function")return j;et=et.getChildContext();for(var bt in et)if(!(bt in s))throw Error(p$3(108,Ra$1(o)||"Unknown",bt));return A$2({},j,et)}function cg$1(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf$1,Xf$1=H.current,G(H,o),G(Wf$1,Wf$1.current),!0}function dg$1(o,s,j){var et=o.stateNode;if(!et)throw Error(p$3(169));j?(o=bg$1(o,s,Xf$1),et.__reactInternalMemoizedMergedChildContext=o,E$2(Wf$1),E$2(H),G(H,o)):E$2(Wf$1),G(Wf$1,j)}var eg$1=null,fg$1=!1,gg$1=!1;function hg$1(o){eg$1===null?eg$1=[o]:eg$1.push(o)}function ig$1(o){fg$1=!0,hg$1(o)}function jg(){if(!gg$1&&eg$1!==null){gg$1=!0;var o=0,s=C;try{var j=eg$1;for(C=1;o<j.length;o++){var et=j[o];do et=et(!0);while(et!==null)}eg$1=null,fg$1=!1}catch(bt){throw eg$1!==null&&(eg$1=eg$1.slice(o+1)),ac$2(fc$2,jg),bt}finally{C=s,gg$1=!1}}return null}var kg=[],lg$1=0,mg$1=null,ng$1=0,og$1=[],pg$1=0,qg=null,rg=1,sg$1="";function tg$1(o,s){kg[lg$1++]=ng$1,kg[lg$1++]=mg$1,mg$1=o,ng$1=s}function ug(o,s,j){og$1[pg$1++]=rg,og$1[pg$1++]=sg$1,og$1[pg$1++]=qg,qg=o;var et=rg;o=sg$1;var bt=32-oc$2(et)-1;et&=~(1<<bt),j+=1;var At=32-oc$2(s)+bt;if(30<At){var Et=bt-bt%5;At=(et&(1<<Et)-1).toString(32),et>>=Et,bt-=Et,rg=1<<32-oc$2(s)+bt|j<<bt|et,sg$1=At+o}else rg=1<<At|j<<bt|et,sg$1=o}function vg$1(o){o.return!==null&&(tg$1(o,1),ug(o,1,0))}function wg$1(o){for(;o===mg$1;)mg$1=kg[--lg$1],kg[lg$1]=null,ng$1=kg[--lg$1],kg[lg$1]=null;for(;o===qg;)qg=og$1[--pg$1],og$1[pg$1]=null,sg$1=og$1[--pg$1],og$1[pg$1]=null,rg=og$1[--pg$1],og$1[pg$1]=null}var xg=null,yg$1=null,I=!1,zg=null;function Ag(o,s){var j=Bg(5,null,null,0);j.elementType="DELETED",j.stateNode=s,j.return=o,s=o.deletions,s===null?(o.deletions=[j],o.flags|=16):s.push(j)}function Cg(o,s){switch(o.tag){case 5:var j=o.type;return s=s.nodeType!==1||j.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,xg=o,yg$1=Lf$1(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,xg=o,yg$1=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(j=qg!==null?{id:rg,overflow:sg$1}:null,o.memoizedState={dehydrated:s,treeContext:j,retryLane:1073741824},j=Bg(18,null,null,0),j.stateNode=s,j.return=o,o.child=j,xg=o,yg$1=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var s=yg$1;if(s){var j=s;if(!Cg(o,s)){if(Dg(o))throw Error(p$3(418));s=Lf$1(j.nextSibling);var et=xg;s&&Cg(o,s)?Ag(et,j):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p$3(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!Ef$1(o.type,o.memoizedProps)),s&&(s=yg$1)){if(Dg(o))throw Hg(),Error(p$3(418));for(;s;)Ag(o,s),s=Lf$1(s.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$3(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var j=o.data;if(j==="/$"){if(s===0){yg$1=Lf$1(o.nextSibling);break e}s--}else j!=="$"&&j!=="$!"&&j!=="$?"||s++}o=o.nextSibling}yg$1=null}}else yg$1=xg?Lf$1(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg$1;o;)o=Lf$1(o.nextSibling)}function Ig(){yg$1=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua$2.ReactCurrentBatchConfig;function Lg(o,s){if(o&&o.defaultProps){s=A$2({},s),o=o.defaultProps;for(var j in o)s[j]===void 0&&(s[j]=o[j]);return s}return s}var Mg=Uf$1(null),Ng=null,Og$1=null,Pg=null;function Qg(){Pg=Og$1=Ng=null}function Rg(o){var s=Mg.current;E$2(Mg),o._currentValue=s}function Sg(o,s,j){for(;o!==null;){var et=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,et!==null&&(et.childLanes|=s)):et!==null&&(et.childLanes&s)!==s&&(et.childLanes|=s),o===j)break;o=o.return}}function Tg(o,s){Ng=o,Pg=Og$1=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&s&&(Ug=!0),o.firstContext=null)}function Vg(o){var s=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:s,next:null},Og$1===null){if(Ng===null)throw Error(p$3(308));Og$1=o,Ng.dependencies={lanes:0,firstContext:o}}else Og$1=Og$1.next=o;return s}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,s,j,et){var bt=s.interleaved;return bt===null?(j.next=j,Xg(s)):(j.next=bt.next,bt.next=j),s.interleaved=j,Zg(o,et)}function Zg(o,s){o.lanes|=s;var j=o.alternate;for(j!==null&&(j.lanes|=s),j=o,o=o.return;o!==null;)o.childLanes|=s,j=o.alternate,j!==null&&(j.childLanes|=s),j=o,o=o.return;return j.tag===3?j.stateNode:null}var $g=!1;function ah$1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh$1(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch$1(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function dh$1(o,s,j){var et=o.updateQueue;if(et===null)return null;if(et=et.shared,K$1&2){var bt=et.pending;return bt===null?s.next=s:(s.next=bt.next,bt.next=s),et.pending=s,Zg(o,j)}return bt=et.interleaved,bt===null?(s.next=s,Xg(et)):(s.next=bt.next,bt.next=s),et.interleaved=s,Zg(o,j)}function eh$1(o,s,j){if(s=s.updateQueue,s!==null&&(s=s.shared,(j&4194240)!==0)){var et=s.lanes;et&=o.pendingLanes,j|=et,s.lanes=j,Cc$2(o,j)}}function fh$1(o,s){var j=o.updateQueue,et=o.alternate;if(et!==null&&(et=et.updateQueue,j===et)){var bt=null,At=null;if(j=j.firstBaseUpdate,j!==null){do{var Et={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};At===null?bt=At=Et:At=At.next=Et,j=j.next}while(j!==null);At===null?bt=At=s:At=At.next=s}else bt=At=s;j={baseState:et.baseState,firstBaseUpdate:bt,lastBaseUpdate:At,shared:et.shared,effects:et.effects},o.updateQueue=j;return}o=j.lastBaseUpdate,o===null?j.firstBaseUpdate=s:o.next=s,j.lastBaseUpdate=s}function gh$1(o,s,j,et){var bt=o.updateQueue;$g=!1;var At=bt.firstBaseUpdate,Et=bt.lastBaseUpdate,Ut=bt.shared.pending;if(Ut!==null){bt.shared.pending=null;var zt=Ut,It=zt.next;zt.next=null,Et===null?At=It:Et.next=It,Et=zt;var Qt=o.alternate;Qt!==null&&(Qt=Qt.updateQueue,Ut=Qt.lastBaseUpdate,Ut!==Et&&(Ut===null?Qt.firstBaseUpdate=It:Ut.next=It,Qt.lastBaseUpdate=zt))}if(At!==null){var Pt=bt.baseState;Et=0,Qt=It=zt=null,Ut=At;do{var Yt=Ut.lane,cr=Ut.eventTime;if((et&Yt)===Yt){Qt!==null&&(Qt=Qt.next={eventTime:cr,lane:0,tag:Ut.tag,payload:Ut.payload,callback:Ut.callback,next:null});e:{var _r=o,vr=Ut;switch(Yt=s,cr=j,vr.tag){case 1:if(_r=vr.payload,typeof _r=="function"){Pt=_r.call(cr,Pt,Yt);break e}Pt=_r;break e;case 3:_r.flags=_r.flags&-65537|128;case 0:if(_r=vr.payload,Yt=typeof _r=="function"?_r.call(cr,Pt,Yt):_r,Yt==null)break e;Pt=A$2({},Pt,Yt);break e;case 2:$g=!0}}Ut.callback!==null&&Ut.lane!==0&&(o.flags|=64,Yt=bt.effects,Yt===null?bt.effects=[Ut]:Yt.push(Ut))}else cr={eventTime:cr,lane:Yt,tag:Ut.tag,payload:Ut.payload,callback:Ut.callback,next:null},Qt===null?(It=Qt=cr,zt=Pt):Qt=Qt.next=cr,Et|=Yt;if(Ut=Ut.next,Ut===null){if(Ut=bt.shared.pending,Ut===null)break;Yt=Ut,Ut=Yt.next,Yt.next=null,bt.lastBaseUpdate=Yt,bt.shared.pending=null}}while(!0);if(Qt===null&&(zt=Pt),bt.baseState=zt,bt.firstBaseUpdate=It,bt.lastBaseUpdate=Qt,s=bt.shared.interleaved,s!==null){bt=s;do Et|=bt.lane,bt=bt.next;while(bt!==s)}else At===null&&(bt.shared.lanes=0);hh$1|=Et,o.lanes=Et,o.memoizedState=Pt}}function ih$1(o,s,j){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var et=o[s],bt=et.callback;if(bt!==null){if(et.callback=null,et=j,typeof bt!="function")throw Error(p$3(191,bt));bt.call(et)}}}var jh$1=new aa$2.Component().refs;function kh$1(o,s,j,et){s=o.memoizedState,j=j(et,s),j=j==null?s:A$2({},s,j),o.memoizedState=j,o.lanes===0&&(o.updateQueue.baseState=j)}var nh$1={isMounted:function(o){return(o=o._reactInternals)?Vb$1(o)===o:!1},enqueueSetState:function(o,s,j){o=o._reactInternals;var et=L$1(),bt=lh$1(o),At=ch$1(et,bt);At.payload=s,j!=null&&(At.callback=j),s=dh$1(o,At,bt),s!==null&&(mh$1(s,o,bt,et),eh$1(s,o,bt))},enqueueReplaceState:function(o,s,j){o=o._reactInternals;var et=L$1(),bt=lh$1(o),At=ch$1(et,bt);At.tag=1,At.payload=s,j!=null&&(At.callback=j),s=dh$1(o,At,bt),s!==null&&(mh$1(s,o,bt,et),eh$1(s,o,bt))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var j=L$1(),et=lh$1(o),bt=ch$1(j,et);bt.tag=2,s!=null&&(bt.callback=s),s=dh$1(o,bt,et),s!==null&&(mh$1(s,o,et,j),eh$1(s,o,et))}};function oh$1(o,s,j,et,bt,At,Et){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(et,At,Et):s.prototype&&s.prototype.isPureReactComponent?!Ie(j,et)||!Ie(bt,At):!0}function ph(o,s,j){var et=!1,bt=Vf$1,At=s.contextType;return typeof At=="object"&&At!==null?At=Vg(At):(bt=Zf$1(s)?Xf$1:H.current,et=s.contextTypes,At=(et=et!=null)?Yf$1(o,bt):Vf$1),s=new s(j,At),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nh$1,o.stateNode=s,s._reactInternals=o,et&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=bt,o.__reactInternalMemoizedMaskedChildContext=At),s}function qh$1(o,s,j,et){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(j,et),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(j,et),s.state!==o&&nh$1.enqueueReplaceState(s,s.state,null)}function rh$1(o,s,j,et){var bt=o.stateNode;bt.props=j,bt.state=o.memoizedState,bt.refs=jh$1,ah$1(o);var At=s.contextType;typeof At=="object"&&At!==null?bt.context=Vg(At):(At=Zf$1(s)?Xf$1:H.current,bt.context=Yf$1(o,At)),bt.state=o.memoizedState,At=s.getDerivedStateFromProps,typeof At=="function"&&(kh$1(o,s,At,j),bt.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof bt.getSnapshotBeforeUpdate=="function"||typeof bt.UNSAFE_componentWillMount!="function"&&typeof bt.componentWillMount!="function"||(s=bt.state,typeof bt.componentWillMount=="function"&&bt.componentWillMount(),typeof bt.UNSAFE_componentWillMount=="function"&&bt.UNSAFE_componentWillMount(),s!==bt.state&&nh$1.enqueueReplaceState(bt,bt.state,null),gh$1(o,j,bt,et),bt.state=o.memoizedState),typeof bt.componentDidMount=="function"&&(o.flags|=4194308)}function sh$1(o,s,j){if(o=j.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(p$3(309));var et=j.stateNode}if(!et)throw Error(p$3(147,o));var bt=et,At=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===At?s.ref:(s=function(Et){var Ut=bt.refs;Ut===jh$1&&(Ut=bt.refs={}),Et===null?delete Ut[At]:Ut[At]=Et},s._stringRef=At,s)}if(typeof o!="string")throw Error(p$3(284));if(!j._owner)throw Error(p$3(290,o))}return o}function th$1(o,s){throw o=Object.prototype.toString.call(s),Error(p$3(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function uh(o){var s=o._init;return s(o._payload)}function vh$1(o){function s(Kr,jr){if(o){var Hn=Kr.deletions;Hn===null?(Kr.deletions=[jr],Kr.flags|=16):Hn.push(jr)}}function j(Kr,jr){if(!o)return null;for(;jr!==null;)s(Kr,jr),jr=jr.sibling;return null}function et(Kr,jr){for(Kr=new Map;jr!==null;)jr.key!==null?Kr.set(jr.key,jr):Kr.set(jr.index,jr),jr=jr.sibling;return Kr}function bt(Kr,jr){return Kr=wh$1(Kr,jr),Kr.index=0,Kr.sibling=null,Kr}function At(Kr,jr,Hn){return Kr.index=Hn,o?(Hn=Kr.alternate,Hn!==null?(Hn=Hn.index,Hn<jr?(Kr.flags|=2,jr):Hn):(Kr.flags|=2,jr)):(Kr.flags|=1048576,jr)}function Et(Kr){return o&&Kr.alternate===null&&(Kr.flags|=2),Kr}function Ut(Kr,jr,Hn,tA){return jr===null||jr.tag!==6?(jr=xh$1(Hn,Kr.mode,tA),jr.return=Kr,jr):(jr=bt(jr,Hn),jr.return=Kr,jr)}function zt(Kr,jr,Hn,tA){var nA=Hn.type;return nA===ya$1?Qt(Kr,jr,Hn.props.children,tA,Hn.key):jr!==null&&(jr.elementType===nA||typeof nA=="object"&&nA!==null&&nA.$$typeof===Ha$1&&uh(nA)===jr.type)?(tA=bt(jr,Hn.props),tA.ref=sh$1(Kr,jr,Hn),tA.return=Kr,tA):(tA=yh$1(Hn.type,Hn.key,Hn.props,null,Kr.mode,tA),tA.ref=sh$1(Kr,jr,Hn),tA.return=Kr,tA)}function It(Kr,jr,Hn,tA){return jr===null||jr.tag!==4||jr.stateNode.containerInfo!==Hn.containerInfo||jr.stateNode.implementation!==Hn.implementation?(jr=zh$1(Hn,Kr.mode,tA),jr.return=Kr,jr):(jr=bt(jr,Hn.children||[]),jr.return=Kr,jr)}function Qt(Kr,jr,Hn,tA,nA){return jr===null||jr.tag!==7?(jr=Ah(Hn,Kr.mode,tA,nA),jr.return=Kr,jr):(jr=bt(jr,Hn),jr.return=Kr,jr)}function Pt(Kr,jr,Hn){if(typeof jr=="string"&&jr!==""||typeof jr=="number")return jr=xh$1(""+jr,Kr.mode,Hn),jr.return=Kr,jr;if(typeof jr=="object"&&jr!==null){switch(jr.$$typeof){case va$1:return Hn=yh$1(jr.type,jr.key,jr.props,null,Kr.mode,Hn),Hn.ref=sh$1(Kr,null,jr),Hn.return=Kr,Hn;case wa$1:return jr=zh$1(jr,Kr.mode,Hn),jr.return=Kr,jr;case Ha$1:var tA=jr._init;return Pt(Kr,tA(jr._payload),Hn)}if(eb$1(jr)||Ka$1(jr))return jr=Ah(jr,Kr.mode,Hn,null),jr.return=Kr,jr;th$1(Kr,jr)}return null}function Yt(Kr,jr,Hn,tA){var nA=jr!==null?jr.key:null;if(typeof Hn=="string"&&Hn!==""||typeof Hn=="number")return nA!==null?null:Ut(Kr,jr,""+Hn,tA);if(typeof Hn=="object"&&Hn!==null){switch(Hn.$$typeof){case va$1:return Hn.key===nA?zt(Kr,jr,Hn,tA):null;case wa$1:return Hn.key===nA?It(Kr,jr,Hn,tA):null;case Ha$1:return nA=Hn._init,Yt(Kr,jr,nA(Hn._payload),tA)}if(eb$1(Hn)||Ka$1(Hn))return nA!==null?null:Qt(Kr,jr,Hn,tA,null);th$1(Kr,Hn)}return null}function cr(Kr,jr,Hn,tA,nA){if(typeof tA=="string"&&tA!==""||typeof tA=="number")return Kr=Kr.get(Hn)||null,Ut(jr,Kr,""+tA,nA);if(typeof tA=="object"&&tA!==null){switch(tA.$$typeof){case va$1:return Kr=Kr.get(tA.key===null?Hn:tA.key)||null,zt(jr,Kr,tA,nA);case wa$1:return Kr=Kr.get(tA.key===null?Hn:tA.key)||null,It(jr,Kr,tA,nA);case Ha$1:var aA=tA._init;return cr(Kr,jr,Hn,aA(tA._payload),nA)}if(eb$1(tA)||Ka$1(tA))return Kr=Kr.get(Hn)||null,Qt(jr,Kr,tA,nA,null);th$1(jr,tA)}return null}function _r(Kr,jr,Hn,tA){for(var nA=null,aA=null,lA=jr,hA=jr=0,pA=null;lA!==null&&hA<Hn.length;hA++){lA.index>hA?(pA=lA,lA=null):pA=lA.sibling;var wA=Yt(Kr,lA,Hn[hA],tA);if(wA===null){lA===null&&(lA=pA);break}o&&lA&&wA.alternate===null&&s(Kr,lA),jr=At(wA,jr,hA),aA===null?nA=wA:aA.sibling=wA,aA=wA,lA=pA}if(hA===Hn.length)return j(Kr,lA),I&&tg$1(Kr,hA),nA;if(lA===null){for(;hA<Hn.length;hA++)lA=Pt(Kr,Hn[hA],tA),lA!==null&&(jr=At(lA,jr,hA),aA===null?nA=lA:aA.sibling=lA,aA=lA);return I&&tg$1(Kr,hA),nA}for(lA=et(Kr,lA);hA<Hn.length;hA++)pA=cr(lA,Kr,hA,Hn[hA],tA),pA!==null&&(o&&pA.alternate!==null&&lA.delete(pA.key===null?hA:pA.key),jr=At(pA,jr,hA),aA===null?nA=pA:aA.sibling=pA,aA=pA);return o&&lA.forEach(function(NA){return s(Kr,NA)}),I&&tg$1(Kr,hA),nA}function vr(Kr,jr,Hn,tA){var nA=Ka$1(Hn);if(typeof nA!="function")throw Error(p$3(150));if(Hn=nA.call(Hn),Hn==null)throw Error(p$3(151));for(var aA=nA=null,lA=jr,hA=jr=0,pA=null,wA=Hn.next();lA!==null&&!wA.done;hA++,wA=Hn.next()){lA.index>hA?(pA=lA,lA=null):pA=lA.sibling;var NA=Yt(Kr,lA,wA.value,tA);if(NA===null){lA===null&&(lA=pA);break}o&&lA&&NA.alternate===null&&s(Kr,lA),jr=At(NA,jr,hA),aA===null?nA=NA:aA.sibling=NA,aA=NA,lA=pA}if(wA.done)return j(Kr,lA),I&&tg$1(Kr,hA),nA;if(lA===null){for(;!wA.done;hA++,wA=Hn.next())wA=Pt(Kr,wA.value,tA),wA!==null&&(jr=At(wA,jr,hA),aA===null?nA=wA:aA.sibling=wA,aA=wA);return I&&tg$1(Kr,hA),nA}for(lA=et(Kr,lA);!wA.done;hA++,wA=Hn.next())wA=cr(lA,Kr,hA,wA.value,tA),wA!==null&&(o&&wA.alternate!==null&&lA.delete(wA.key===null?hA:wA.key),jr=At(wA,jr,hA),aA===null?nA=wA:aA.sibling=wA,aA=wA);return o&&lA.forEach(function(cA){return s(Kr,cA)}),I&&tg$1(Kr,hA),nA}function Yr(Kr,jr,Hn,tA){if(typeof Hn=="object"&&Hn!==null&&Hn.type===ya$1&&Hn.key===null&&(Hn=Hn.props.children),typeof Hn=="object"&&Hn!==null){switch(Hn.$$typeof){case va$1:e:{for(var nA=Hn.key,aA=jr;aA!==null;){if(aA.key===nA){if(nA=Hn.type,nA===ya$1){if(aA.tag===7){j(Kr,aA.sibling),jr=bt(aA,Hn.props.children),jr.return=Kr,Kr=jr;break e}}else if(aA.elementType===nA||typeof nA=="object"&&nA!==null&&nA.$$typeof===Ha$1&&uh(nA)===aA.type){j(Kr,aA.sibling),jr=bt(aA,Hn.props),jr.ref=sh$1(Kr,aA,Hn),jr.return=Kr,Kr=jr;break e}j(Kr,aA);break}else s(Kr,aA);aA=aA.sibling}Hn.type===ya$1?(jr=Ah(Hn.props.children,Kr.mode,tA,Hn.key),jr.return=Kr,Kr=jr):(tA=yh$1(Hn.type,Hn.key,Hn.props,null,Kr.mode,tA),tA.ref=sh$1(Kr,jr,Hn),tA.return=Kr,Kr=tA)}return Et(Kr);case wa$1:e:{for(aA=Hn.key;jr!==null;){if(jr.key===aA)if(jr.tag===4&&jr.stateNode.containerInfo===Hn.containerInfo&&jr.stateNode.implementation===Hn.implementation){j(Kr,jr.sibling),jr=bt(jr,Hn.children||[]),jr.return=Kr,Kr=jr;break e}else{j(Kr,jr);break}else s(Kr,jr);jr=jr.sibling}jr=zh$1(Hn,Kr.mode,tA),jr.return=Kr,Kr=jr}return Et(Kr);case Ha$1:return aA=Hn._init,Yr(Kr,jr,aA(Hn._payload),tA)}if(eb$1(Hn))return _r(Kr,jr,Hn,tA);if(Ka$1(Hn))return vr(Kr,jr,Hn,tA);th$1(Kr,Hn)}return typeof Hn=="string"&&Hn!==""||typeof Hn=="number"?(Hn=""+Hn,jr!==null&&jr.tag===6?(j(Kr,jr.sibling),jr=bt(jr,Hn),jr.return=Kr,Kr=jr):(j(Kr,jr),jr=xh$1(Hn,Kr.mode,tA),jr.return=Kr,Kr=jr),Et(Kr)):j(Kr,jr)}return Yr}var Bh$1=vh$1(!0),Ch$1=vh$1(!1),Dh$1={},Eh$1=Uf$1(Dh$1),Fh$1=Uf$1(Dh$1),Gh$1=Uf$1(Dh$1);function Hh$1(o){if(o===Dh$1)throw Error(p$3(174));return o}function Ih$1(o,s){switch(G(Gh$1,s),G(Fh$1,o),G(Eh$1,Dh$1),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb$1(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=lb$1(s,o)}E$2(Eh$1),G(Eh$1,s)}function Jh$1(){E$2(Eh$1),E$2(Fh$1),E$2(Gh$1)}function Kh$1(o){Hh$1(Gh$1.current);var s=Hh$1(Eh$1.current),j=lb$1(s,o.type);s!==j&&(G(Fh$1,o),G(Eh$1,j))}function Lh$1(o){Fh$1.current===o&&(E$2(Eh$1),E$2(Fh$1))}var M$1=Uf$1(0);function Mh$1(o){for(var s=o;s!==null;){if(s.tag===13){var j=s.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh$1=[];function Oh$1(){for(var o=0;o<Nh$1.length;o++)Nh$1[o]._workInProgressVersionPrimary=null;Nh$1.length=0}var Ph$1=ua$2.ReactCurrentDispatcher,Qh$1=ua$2.ReactCurrentBatchConfig,Rh$1=0,N=null,O$1=null,P=null,Sh$1=!1,Th$1=!1,Uh$1=0,Vh$1=0;function Q(){throw Error(p$3(321))}function Wh$1(o,s){if(s===null)return!1;for(var j=0;j<s.length&&j<o.length;j++)if(!He$1(o[j],s[j]))return!1;return!0}function Xh$1(o,s,j,et,bt,At){if(Rh$1=At,N=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ph$1.current=o===null||o.memoizedState===null?Yh$1:Zh$1,o=j(et,bt),Th$1){At=0;do{if(Th$1=!1,Uh$1=0,25<=At)throw Error(p$3(301));At+=1,P=O$1=null,s.updateQueue=null,Ph$1.current=$h$1,o=j(et,bt)}while(Th$1)}if(Ph$1.current=ai,s=O$1!==null&&O$1.next!==null,Rh$1=0,P=O$1=N=null,Sh$1=!1,s)throw Error(p$3(300));return o}function bi$2(){var o=Uh$1!==0;return Uh$1=0,o}function ci$1(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=o:P=P.next=o,P}function di$1(){if(O$1===null){var o=N.alternate;o=o!==null?o.memoizedState:null}else o=O$1.next;var s=P===null?N.memoizedState:P.next;if(s!==null)P=s,O$1=o;else{if(o===null)throw Error(p$3(310));O$1=o,o={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P===null?N.memoizedState=P=o:P=P.next=o}return P}function ei$1(o,s){return typeof s=="function"?s(o):s}function fi$1(o){var s=di$1(),j=s.queue;if(j===null)throw Error(p$3(311));j.lastRenderedReducer=o;var et=O$1,bt=et.baseQueue,At=j.pending;if(At!==null){if(bt!==null){var Et=bt.next;bt.next=At.next,At.next=Et}et.baseQueue=bt=At,j.pending=null}if(bt!==null){At=bt.next,et=et.baseState;var Ut=Et=null,zt=null,It=At;do{var Qt=It.lane;if((Rh$1&Qt)===Qt)zt!==null&&(zt=zt.next={lane:0,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),et=It.hasEagerState?It.eagerState:o(et,It.action);else{var Pt={lane:Qt,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null};zt===null?(Ut=zt=Pt,Et=et):zt=zt.next=Pt,N.lanes|=Qt,hh$1|=Qt}It=It.next}while(It!==null&&It!==At);zt===null?Et=et:zt.next=Ut,He$1(et,s.memoizedState)||(Ug=!0),s.memoizedState=et,s.baseState=Et,s.baseQueue=zt,j.lastRenderedState=et}if(o=j.interleaved,o!==null){bt=o;do At=bt.lane,N.lanes|=At,hh$1|=At,bt=bt.next;while(bt!==o)}else bt===null&&(j.lanes=0);return[s.memoizedState,j.dispatch]}function gi$2(o){var s=di$1(),j=s.queue;if(j===null)throw Error(p$3(311));j.lastRenderedReducer=o;var et=j.dispatch,bt=j.pending,At=s.memoizedState;if(bt!==null){j.pending=null;var Et=bt=bt.next;do At=o(At,Et.action),Et=Et.next;while(Et!==bt);He$1(At,s.memoizedState)||(Ug=!0),s.memoizedState=At,s.baseQueue===null&&(s.baseState=At),j.lastRenderedState=At}return[At,et]}function hi$2(){}function ii$1(o,s){var j=N,et=di$1(),bt=s(),At=!He$1(et.memoizedState,bt);if(At&&(et.memoizedState=bt,Ug=!0),et=et.queue,ji$2(ki$2.bind(null,j,et,o),[o]),et.getSnapshot!==s||At||P!==null&&P.memoizedState.tag&1){if(j.flags|=2048,li$2(9,mi$2.bind(null,j,et,bt,s),void 0,null),R$1===null)throw Error(p$3(349));Rh$1&30||ni(j,s,bt)}return bt}function ni(o,s,j){o.flags|=16384,o={getSnapshot:s,value:j},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.stores=[o]):(j=s.stores,j===null?s.stores=[o]:j.push(o))}function mi$2(o,s,j,et){s.value=j,s.getSnapshot=et,oi$1(s)&&pi$2(o)}function ki$2(o,s,j){return j(function(){oi$1(s)&&pi$2(o)})}function oi$1(o){var s=o.getSnapshot;o=o.value;try{var j=s();return!He$1(o,j)}catch{return!0}}function pi$2(o){var s=Zg(o,1);s!==null&&mh$1(s,o,1,-1)}function qi$2(o){var s=ci$1();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei$1,lastRenderedState:o},s.queue=o,o=o.dispatch=ri.bind(null,N,o),[s.memoizedState,o]}function li$2(o,s,j,et){return o={tag:o,create:s,destroy:j,deps:et,next:null},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.lastEffect=o.next=o):(j=s.lastEffect,j===null?s.lastEffect=o.next=o:(et=j.next,j.next=o,o.next=et,s.lastEffect=o)),o}function si$1(){return di$1().memoizedState}function ti(o,s,j,et){var bt=ci$1();N.flags|=o,bt.memoizedState=li$2(1|s,j,void 0,et===void 0?null:et)}function ui$1(o,s,j,et){var bt=di$1();et=et===void 0?null:et;var At=void 0;if(O$1!==null){var Et=O$1.memoizedState;if(At=Et.destroy,et!==null&&Wh$1(et,Et.deps)){bt.memoizedState=li$2(s,j,At,et);return}}N.flags|=o,bt.memoizedState=li$2(1|s,j,At,et)}function vi$2(o,s){return ti(8390656,8,o,s)}function ji$2(o,s){return ui$1(2048,8,o,s)}function wi$2(o,s){return ui$1(4,2,o,s)}function xi$2(o,s){return ui$1(4,4,o,s)}function yi$2(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function zi$2(o,s,j){return j=j!=null?j.concat([o]):null,ui$1(4,4,yi$2.bind(null,s,o),j)}function Ai$2(){}function Bi$1(o,s){var j=di$1();s=s===void 0?null:s;var et=j.memoizedState;return et!==null&&s!==null&&Wh$1(s,et[1])?et[0]:(j.memoizedState=[o,s],o)}function Ci$2(o,s){var j=di$1();s=s===void 0?null:s;var et=j.memoizedState;return et!==null&&s!==null&&Wh$1(s,et[1])?et[0]:(o=o(),j.memoizedState=[o,s],o)}function Di$1(o,s,j){return Rh$1&21?(He$1(j,s)||(j=yc$2(),N.lanes|=j,hh$1|=j,o.baseState=!0),s):(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=j)}function Ei$2(o,s){var j=C;C=j!==0&&4>j?j:4,o(!0);var et=Qh$1.transition;Qh$1.transition={};try{o(!1),s()}finally{C=j,Qh$1.transition=et}}function Fi$2(){return di$1().memoizedState}function Gi$1(o,s,j){var et=lh$1(o);if(j={lane:et,action:j,hasEagerState:!1,eagerState:null,next:null},Hi$1(o))Ii$2(s,j);else if(j=Yg(o,s,j,et),j!==null){var bt=L$1();mh$1(j,o,et,bt),Ji$2(j,s,et)}}function ri(o,s,j){var et=lh$1(o),bt={lane:et,action:j,hasEagerState:!1,eagerState:null,next:null};if(Hi$1(o))Ii$2(s,bt);else{var At=o.alternate;if(o.lanes===0&&(At===null||At.lanes===0)&&(At=s.lastRenderedReducer,At!==null))try{var Et=s.lastRenderedState,Ut=At(Et,j);if(bt.hasEagerState=!0,bt.eagerState=Ut,He$1(Ut,Et)){var zt=s.interleaved;zt===null?(bt.next=bt,Xg(s)):(bt.next=zt.next,zt.next=bt),s.interleaved=bt;return}}catch{}finally{}j=Yg(o,s,bt,et),j!==null&&(bt=L$1(),mh$1(j,o,et,bt),Ji$2(j,s,et))}}function Hi$1(o){var s=o.alternate;return o===N||s!==null&&s===N}function Ii$2(o,s){Th$1=Sh$1=!0;var j=o.pending;j===null?s.next=s:(s.next=j.next,j.next=s),o.pending=s}function Ji$2(o,s,j){if(j&4194240){var et=s.lanes;et&=o.pendingLanes,j|=et,s.lanes=j,Cc$2(o,j)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh$1={readContext:Vg,useCallback:function(o,s){return ci$1().memoizedState=[o,s===void 0?null:s],o},useContext:Vg,useEffect:vi$2,useImperativeHandle:function(o,s,j){return j=j!=null?j.concat([o]):null,ti(4194308,4,yi$2.bind(null,s,o),j)},useLayoutEffect:function(o,s){return ti(4194308,4,o,s)},useInsertionEffect:function(o,s){return ti(4,2,o,s)},useMemo:function(o,s){var j=ci$1();return s=s===void 0?null:s,o=o(),j.memoizedState=[o,s],o},useReducer:function(o,s,j){var et=ci$1();return s=j!==void 0?j(s):s,et.memoizedState=et.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},et.queue=o,o=o.dispatch=Gi$1.bind(null,N,o),[et.memoizedState,o]},useRef:function(o){var s=ci$1();return o={current:o},s.memoizedState=o},useState:qi$2,useDebugValue:Ai$2,useDeferredValue:function(o){return ci$1().memoizedState=o},useTransition:function(){var o=qi$2(!1),s=o[0];return o=Ei$2.bind(null,o[1]),ci$1().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,j){var et=N,bt=ci$1();if(I){if(j===void 0)throw Error(p$3(407));j=j()}else{if(j=s(),R$1===null)throw Error(p$3(349));Rh$1&30||ni(et,s,j)}bt.memoizedState=j;var At={value:j,getSnapshot:s};return bt.queue=At,vi$2(ki$2.bind(null,et,At,o),[o]),et.flags|=2048,li$2(9,mi$2.bind(null,et,At,j,s),void 0,null),j},useId:function(){var o=ci$1(),s=R$1.identifierPrefix;if(I){var j=sg$1,et=rg;j=(et&~(1<<32-oc$2(et)-1)).toString(32)+j,s=":"+s+"R"+j,j=Uh$1++,0<j&&(s+="H"+j.toString(32)),s+=":"}else j=Vh$1++,s=":"+s+"r"+j.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},Zh$1={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$2,useImperativeHandle:zi$2,useInsertionEffect:wi$2,useLayoutEffect:xi$2,useMemo:Ci$2,useReducer:fi$1,useRef:si$1,useState:function(){return fi$1(ei$1)},useDebugValue:Ai$2,useDeferredValue:function(o){var s=di$1();return Di$1(s,O$1.memoizedState,o)},useTransition:function(){var o=fi$1(ei$1)[0],s=di$1().memoizedState;return[o,s]},useMutableSource:hi$2,useSyncExternalStore:ii$1,useId:Fi$2,unstable_isNewReconciler:!1},$h$1={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$2,useImperativeHandle:zi$2,useInsertionEffect:wi$2,useLayoutEffect:xi$2,useMemo:Ci$2,useReducer:gi$2,useRef:si$1,useState:function(){return gi$2(ei$1)},useDebugValue:Ai$2,useDeferredValue:function(o){var s=di$1();return O$1===null?s.memoizedState=o:Di$1(s,O$1.memoizedState,o)},useTransition:function(){var o=gi$2(ei$1)[0],s=di$1().memoizedState;return[o,s]},useMutableSource:hi$2,useSyncExternalStore:ii$1,useId:Fi$2,unstable_isNewReconciler:!1};function Ki$2(o,s){try{var j="",et=s;do j+=Pa$1(et),et=et.return;while(et);var bt=j}catch(At){bt=`
Error generating stack: `+At.message+`
`+At.stack}return{value:o,source:s,stack:bt,digest:null}}function Li$2(o,s,j){return{value:o,source:null,stack:j??null,digest:s??null}}function Mi$2(o,s){try{console.error(s.value)}catch(j){setTimeout(function(){throw j})}}var Ni$2=typeof WeakMap=="function"?WeakMap:Map;function Oi$2(o,s,j){j=ch$1(-1,j),j.tag=3,j.payload={element:null};var et=s.value;return j.callback=function(){Pi$2||(Pi$2=!0,Qi$2=et),Mi$2(o,s)},j}function Ri$2(o,s,j){j=ch$1(-1,j),j.tag=3;var et=o.type.getDerivedStateFromError;if(typeof et=="function"){var bt=s.value;j.payload=function(){return et(bt)},j.callback=function(){Mi$2(o,s)}}var At=o.stateNode;return At!==null&&typeof At.componentDidCatch=="function"&&(j.callback=function(){Mi$2(o,s),typeof et!="function"&&(Si$2===null?Si$2=new Set([this]):Si$2.add(this));var Et=s.stack;this.componentDidCatch(s.value,{componentStack:Et!==null?Et:""})}),j}function Ti$2(o,s,j){var et=o.pingCache;if(et===null){et=o.pingCache=new Ni$2;var bt=new Set;et.set(s,bt)}else bt=et.get(s),bt===void 0&&(bt=new Set,et.set(s,bt));bt.has(j)||(bt.add(j),o=Ui$2.bind(null,o,s,j),s.then(o,o))}function Vi$2(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function Wi$2(o,s,j,et,bt){return o.mode&1?(o.flags|=65536,o.lanes=bt,o):(o===s?o.flags|=65536:(o.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(s=ch$1(-1,1),s.tag=2,dh$1(j,s,1))),j.lanes|=1),o)}var Xi$2=ua$2.ReactCurrentOwner,Ug=!1;function Yi$2(o,s,j,et){s.child=o===null?Ch$1(s,null,j,et):Bh$1(s,o.child,j,et)}function Zi$2(o,s,j,et,bt){j=j.render;var At=s.ref;return Tg(s,bt),et=Xh$1(o,s,j,et,At,bt),j=bi$2(),o!==null&&!Ug?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~bt,$i$2(o,s,bt)):(I&&j&&vg$1(s),s.flags|=1,Yi$2(o,s,et,bt),s.child)}function aj(o,s,j,et,bt){if(o===null){var At=j.type;return typeof At=="function"&&!bj(At)&&At.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(s.tag=15,s.type=At,cj(o,s,At,et,bt)):(o=yh$1(j.type,null,et,s,s.mode,bt),o.ref=s.ref,o.return=s,s.child=o)}if(At=o.child,!(o.lanes&bt)){var Et=At.memoizedProps;if(j=j.compare,j=j!==null?j:Ie,j(Et,et)&&o.ref===s.ref)return $i$2(o,s,bt)}return s.flags|=1,o=wh$1(At,et),o.ref=s.ref,o.return=s,s.child=o}function cj(o,s,j,et,bt){if(o!==null){var At=o.memoizedProps;if(Ie(At,et)&&o.ref===s.ref)if(Ug=!1,s.pendingProps=et=At,(o.lanes&bt)!==0)o.flags&131072&&(Ug=!0);else return s.lanes=o.lanes,$i$2(o,s,bt)}return dj(o,s,j,et,bt)}function ej(o,s,j){var et=s.pendingProps,bt=et.children,At=o!==null?o.memoizedState:null;if(et.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=j;else{if(!(j&1073741824))return o=At!==null?At.baseLanes|j:j,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,G(fj,gj),gj|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},et=At!==null?At.baseLanes:j,G(fj,gj),gj|=et}else At!==null?(et=At.baseLanes|j,s.memoizedState=null):et=j,G(fj,gj),gj|=et;return Yi$2(o,s,bt,j),s.child}function hj(o,s){var j=s.ref;(o===null&&j!==null||o!==null&&o.ref!==j)&&(s.flags|=512,s.flags|=2097152)}function dj(o,s,j,et,bt){var At=Zf$1(j)?Xf$1:H.current;return At=Yf$1(s,At),Tg(s,bt),j=Xh$1(o,s,j,et,At,bt),et=bi$2(),o!==null&&!Ug?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~bt,$i$2(o,s,bt)):(I&&et&&vg$1(s),s.flags|=1,Yi$2(o,s,j,bt),s.child)}function ij(o,s,j,et,bt){if(Zf$1(j)){var At=!0;cg$1(s)}else At=!1;if(Tg(s,bt),s.stateNode===null)jj(o,s),ph(s,j,et),rh$1(s,j,et,bt),et=!0;else if(o===null){var Et=s.stateNode,Ut=s.memoizedProps;Et.props=Ut;var zt=Et.context,It=j.contextType;typeof It=="object"&&It!==null?It=Vg(It):(It=Zf$1(j)?Xf$1:H.current,It=Yf$1(s,It));var Qt=j.getDerivedStateFromProps,Pt=typeof Qt=="function"||typeof Et.getSnapshotBeforeUpdate=="function";Pt||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(Ut!==et||zt!==It)&&qh$1(s,Et,et,It),$g=!1;var Yt=s.memoizedState;Et.state=Yt,gh$1(s,et,Et,bt),zt=s.memoizedState,Ut!==et||Yt!==zt||Wf$1.current||$g?(typeof Qt=="function"&&(kh$1(s,j,Qt,et),zt=s.memoizedState),(Ut=$g||oh$1(s,j,Ut,et,Yt,zt,It))?(Pt||typeof Et.UNSAFE_componentWillMount!="function"&&typeof Et.componentWillMount!="function"||(typeof Et.componentWillMount=="function"&&Et.componentWillMount(),typeof Et.UNSAFE_componentWillMount=="function"&&Et.UNSAFE_componentWillMount()),typeof Et.componentDidMount=="function"&&(s.flags|=4194308)):(typeof Et.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=et,s.memoizedState=zt),Et.props=et,Et.state=zt,Et.context=It,et=Ut):(typeof Et.componentDidMount=="function"&&(s.flags|=4194308),et=!1)}else{Et=s.stateNode,bh$1(o,s),Ut=s.memoizedProps,It=s.type===s.elementType?Ut:Lg(s.type,Ut),Et.props=It,Pt=s.pendingProps,Yt=Et.context,zt=j.contextType,typeof zt=="object"&&zt!==null?zt=Vg(zt):(zt=Zf$1(j)?Xf$1:H.current,zt=Yf$1(s,zt));var cr=j.getDerivedStateFromProps;(Qt=typeof cr=="function"||typeof Et.getSnapshotBeforeUpdate=="function")||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(Ut!==Pt||Yt!==zt)&&qh$1(s,Et,et,zt),$g=!1,Yt=s.memoizedState,Et.state=Yt,gh$1(s,et,Et,bt);var _r=s.memoizedState;Ut!==Pt||Yt!==_r||Wf$1.current||$g?(typeof cr=="function"&&(kh$1(s,j,cr,et),_r=s.memoizedState),(It=$g||oh$1(s,j,It,et,Yt,_r,zt)||!1)?(Qt||typeof Et.UNSAFE_componentWillUpdate!="function"&&typeof Et.componentWillUpdate!="function"||(typeof Et.componentWillUpdate=="function"&&Et.componentWillUpdate(et,_r,zt),typeof Et.UNSAFE_componentWillUpdate=="function"&&Et.UNSAFE_componentWillUpdate(et,_r,zt)),typeof Et.componentDidUpdate=="function"&&(s.flags|=4),typeof Et.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof Et.componentDidUpdate!="function"||Ut===o.memoizedProps&&Yt===o.memoizedState||(s.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||Ut===o.memoizedProps&&Yt===o.memoizedState||(s.flags|=1024),s.memoizedProps=et,s.memoizedState=_r),Et.props=et,Et.state=_r,Et.context=zt,et=It):(typeof Et.componentDidUpdate!="function"||Ut===o.memoizedProps&&Yt===o.memoizedState||(s.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||Ut===o.memoizedProps&&Yt===o.memoizedState||(s.flags|=1024),et=!1)}return kj(o,s,j,et,At,bt)}function kj(o,s,j,et,bt,At){hj(o,s);var Et=(s.flags&128)!==0;if(!et&&!Et)return bt&&dg$1(s,j,!1),$i$2(o,s,At);et=s.stateNode,Xi$2.current=s;var Ut=Et&&typeof j.getDerivedStateFromError!="function"?null:et.render();return s.flags|=1,o!==null&&Et?(s.child=Bh$1(s,o.child,null,At),s.child=Bh$1(s,null,Ut,At)):Yi$2(o,s,Ut,At),s.memoizedState=et.state,bt&&dg$1(s,j,!0),s.child}function lj(o){var s=o.stateNode;s.pendingContext?ag$1(o,s.pendingContext,s.pendingContext!==s.context):s.context&&ag$1(o,s.context,!1),Ih$1(o,s.containerInfo)}function mj(o,s,j,et,bt){return Ig(),Jg(bt),s.flags|=256,Yi$2(o,s,j,et),s.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,s,j){var et=s.pendingProps,bt=M$1.current,At=!1,Et=(s.flags&128)!==0,Ut;if((Ut=Et)||(Ut=o!==null&&o.memoizedState===null?!1:(bt&2)!==0),Ut?(At=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(bt|=1),G(M$1,bt&1),o===null)return Eg(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(s.mode&1?o.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(Et=et.children,o=et.fallback,At?(et=s.mode,At=s.child,Et={mode:"hidden",children:Et},!(et&1)&&At!==null?(At.childLanes=0,At.pendingProps=Et):At=qj(Et,et,0,null),o=Ah(o,et,j,null),At.return=s,o.return=s,At.sibling=o,s.child=At,s.child.memoizedState=oj(j),s.memoizedState=nj,o):rj(s,Et));if(bt=o.memoizedState,bt!==null&&(Ut=bt.dehydrated,Ut!==null))return sj(o,s,Et,et,Ut,bt,j);if(At){At=et.fallback,Et=s.mode,bt=o.child,Ut=bt.sibling;var zt={mode:"hidden",children:et.children};return!(Et&1)&&s.child!==bt?(et=s.child,et.childLanes=0,et.pendingProps=zt,s.deletions=null):(et=wh$1(bt,zt),et.subtreeFlags=bt.subtreeFlags&14680064),Ut!==null?At=wh$1(Ut,At):(At=Ah(At,Et,j,null),At.flags|=2),At.return=s,et.return=s,et.sibling=At,s.child=et,et=At,At=s.child,Et=o.child.memoizedState,Et=Et===null?oj(j):{baseLanes:Et.baseLanes|j,cachePool:null,transitions:Et.transitions},At.memoizedState=Et,At.childLanes=o.childLanes&~j,s.memoizedState=nj,et}return At=o.child,o=At.sibling,et=wh$1(At,{mode:"visible",children:et.children}),!(s.mode&1)&&(et.lanes=j),et.return=s,et.sibling=null,o!==null&&(j=s.deletions,j===null?(s.deletions=[o],s.flags|=16):j.push(o)),s.child=et,s.memoizedState=null,et}function rj(o,s){return s=qj({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function tj(o,s,j,et){return et!==null&&Jg(et),Bh$1(s,o.child,null,j),o=rj(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function sj(o,s,j,et,bt,At,Et){if(j)return s.flags&256?(s.flags&=-257,et=Li$2(Error(p$3(422))),tj(o,s,Et,et)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(At=et.fallback,bt=s.mode,et=qj({mode:"visible",children:et.children},bt,0,null),At=Ah(At,bt,Et,null),At.flags|=2,et.return=s,At.return=s,et.sibling=At,s.child=et,s.mode&1&&Bh$1(s,o.child,null,Et),s.child.memoizedState=oj(Et),s.memoizedState=nj,At);if(!(s.mode&1))return tj(o,s,Et,null);if(bt.data==="$!"){if(et=bt.nextSibling&&bt.nextSibling.dataset,et)var Ut=et.dgst;return et=Ut,At=Error(p$3(419)),et=Li$2(At,et,void 0),tj(o,s,Et,et)}if(Ut=(Et&o.childLanes)!==0,Ug||Ut){if(et=R$1,et!==null){switch(Et&-Et){case 4:bt=2;break;case 16:bt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:bt=32;break;case 536870912:bt=268435456;break;default:bt=0}bt=bt&(et.suspendedLanes|Et)?0:bt,bt!==0&&bt!==At.retryLane&&(At.retryLane=bt,Zg(o,bt),mh$1(et,o,bt,-1))}return uj(),et=Li$2(Error(p$3(421))),tj(o,s,Et,et)}return bt.data==="$?"?(s.flags|=128,s.child=o.child,s=vj.bind(null,o),bt._reactRetry=s,null):(o=At.treeContext,yg$1=Lf$1(bt.nextSibling),xg=s,I=!0,zg=null,o!==null&&(og$1[pg$1++]=rg,og$1[pg$1++]=sg$1,og$1[pg$1++]=qg,rg=o.id,sg$1=o.overflow,qg=s),s=rj(s,et.children),s.flags|=4096,s)}function wj(o,s,j){o.lanes|=s;var et=o.alternate;et!==null&&(et.lanes|=s),Sg(o.return,s,j)}function xj(o,s,j,et,bt){var At=o.memoizedState;At===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:et,tail:j,tailMode:bt}:(At.isBackwards=s,At.rendering=null,At.renderingStartTime=0,At.last=et,At.tail=j,At.tailMode=bt)}function yj(o,s,j){var et=s.pendingProps,bt=et.revealOrder,At=et.tail;if(Yi$2(o,s,et.children,j),et=M$1.current,et&2)et=et&1|2,s.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,j,s);else if(o.tag===19)wj(o,j,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}et&=1}if(G(M$1,et),!(s.mode&1))s.memoizedState=null;else switch(bt){case"forwards":for(j=s.child,bt=null;j!==null;)o=j.alternate,o!==null&&Mh$1(o)===null&&(bt=j),j=j.sibling;j=bt,j===null?(bt=s.child,s.child=null):(bt=j.sibling,j.sibling=null),xj(s,!1,bt,j,At);break;case"backwards":for(j=null,bt=s.child,s.child=null;bt!==null;){if(o=bt.alternate,o!==null&&Mh$1(o)===null){s.child=bt;break}o=bt.sibling,bt.sibling=j,j=bt,bt=o}xj(s,!0,j,null,At);break;case"together":xj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jj(o,s){!(s.mode&1)&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function $i$2(o,s,j){if(o!==null&&(s.dependencies=o.dependencies),hh$1|=s.lanes,!(j&s.childLanes))return null;if(o!==null&&s.child!==o.child)throw Error(p$3(153));if(s.child!==null){for(o=s.child,j=wh$1(o,o.pendingProps),s.child=j,j.return=s;o.sibling!==null;)o=o.sibling,j=j.sibling=wh$1(o,o.pendingProps),j.return=s;j.sibling=null}return s.child}function zj(o,s,j){switch(s.tag){case 3:lj(s),Ig();break;case 5:Kh$1(s);break;case 1:Zf$1(s.type)&&cg$1(s);break;case 4:Ih$1(s,s.stateNode.containerInfo);break;case 10:var et=s.type._context,bt=s.memoizedProps.value;G(Mg,et._currentValue),et._currentValue=bt;break;case 13:if(et=s.memoizedState,et!==null)return et.dehydrated!==null?(G(M$1,M$1.current&1),s.flags|=128,null):j&s.child.childLanes?pj(o,s,j):(G(M$1,M$1.current&1),o=$i$2(o,s,j),o!==null?o.sibling:null);G(M$1,M$1.current&1);break;case 19:if(et=(j&s.childLanes)!==0,o.flags&128){if(et)return yj(o,s,j);s.flags|=128}if(bt=s.memoizedState,bt!==null&&(bt.rendering=null,bt.tail=null,bt.lastEffect=null),G(M$1,M$1.current),et)break;return null;case 22:case 23:return s.lanes=0,ej(o,s,j)}return $i$2(o,s,j)}var Aj,Bj,Cj,Dj;Aj=function(o,s){for(var j=s.child;j!==null;){if(j.tag===5||j.tag===6)o.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===s)break;for(;j.sibling===null;){if(j.return===null||j.return===s)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};Bj=function(){};Cj=function(o,s,j,et){var bt=o.memoizedProps;if(bt!==et){o=s.stateNode,Hh$1(Eh$1.current);var At=null;switch(j){case"input":bt=Ya$1(o,bt),et=Ya$1(o,et),At=[];break;case"select":bt=A$2({},bt,{value:void 0}),et=A$2({},et,{value:void 0}),At=[];break;case"textarea":bt=gb$1(o,bt),et=gb$1(o,et),At=[];break;default:typeof bt.onClick!="function"&&typeof et.onClick=="function"&&(o.onclick=Bf$1)}ub$1(j,et);var Et;j=null;for(It in bt)if(!et.hasOwnProperty(It)&&bt.hasOwnProperty(It)&&bt[It]!=null)if(It==="style"){var Ut=bt[It];for(Et in Ut)Ut.hasOwnProperty(Et)&&(j||(j={}),j[Et]="")}else It!=="dangerouslySetInnerHTML"&&It!=="children"&&It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&It!=="autoFocus"&&(ea$1.hasOwnProperty(It)?At||(At=[]):(At=At||[]).push(It,null));for(It in et){var zt=et[It];if(Ut=bt!=null?bt[It]:void 0,et.hasOwnProperty(It)&&zt!==Ut&&(zt!=null||Ut!=null))if(It==="style")if(Ut){for(Et in Ut)!Ut.hasOwnProperty(Et)||zt&&zt.hasOwnProperty(Et)||(j||(j={}),j[Et]="");for(Et in zt)zt.hasOwnProperty(Et)&&Ut[Et]!==zt[Et]&&(j||(j={}),j[Et]=zt[Et])}else j||(At||(At=[]),At.push(It,j)),j=zt;else It==="dangerouslySetInnerHTML"?(zt=zt?zt.__html:void 0,Ut=Ut?Ut.__html:void 0,zt!=null&&Ut!==zt&&(At=At||[]).push(It,zt)):It==="children"?typeof zt!="string"&&typeof zt!="number"||(At=At||[]).push(It,""+zt):It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(It)?(zt!=null&&It==="onScroll"&&D$1("scroll",o),At||Ut===zt||(At=[])):(At=At||[]).push(It,zt))}j&&(At=At||[]).push("style",j);var It=At;(s.updateQueue=It)&&(s.flags|=4)}};Dj=function(o,s,j,et){j!==et&&(s.flags|=4)};function Ej(o,s){if(!I)switch(o.tailMode){case"hidden":s=o.tail;for(var j=null;s!==null;)s.alternate!==null&&(j=s),s=s.sibling;j===null?o.tail=null:j.sibling=null;break;case"collapsed":j=o.tail;for(var et=null;j!==null;)j.alternate!==null&&(et=j),j=j.sibling;et===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:et.sibling=null}}function S(o){var s=o.alternate!==null&&o.alternate.child===o.child,j=0,et=0;if(s)for(var bt=o.child;bt!==null;)j|=bt.lanes|bt.childLanes,et|=bt.subtreeFlags&14680064,et|=bt.flags&14680064,bt.return=o,bt=bt.sibling;else for(bt=o.child;bt!==null;)j|=bt.lanes|bt.childLanes,et|=bt.subtreeFlags,et|=bt.flags,bt.return=o,bt=bt.sibling;return o.subtreeFlags|=et,o.childLanes=j,s}function Fj(o,s,j){var et=s.pendingProps;switch(wg$1(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf$1(s.type)&&$f$1(),S(s),null;case 3:return et=s.stateNode,Jh$1(),E$2(Wf$1),E$2(H),Oh$1(),et.pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),(o===null||o.child===null)&&(Gg(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,s),S(s),null;case 5:Lh$1(s);var bt=Hh$1(Gh$1.current);if(j=s.type,o!==null&&s.stateNode!=null)Cj(o,s,j,et,bt),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!et){if(s.stateNode===null)throw Error(p$3(166));return S(s),null}if(o=Hh$1(Eh$1.current),Gg(s)){et=s.stateNode,j=s.type;var At=s.memoizedProps;switch(et[Of$1]=s,et[Pf$1]=At,o=(s.mode&1)!==0,j){case"dialog":D$1("cancel",et),D$1("close",et);break;case"iframe":case"object":case"embed":D$1("load",et);break;case"video":case"audio":for(bt=0;bt<lf$2.length;bt++)D$1(lf$2[bt],et);break;case"source":D$1("error",et);break;case"img":case"image":case"link":D$1("error",et),D$1("load",et);break;case"details":D$1("toggle",et);break;case"input":Za$1(et,At),D$1("invalid",et);break;case"select":et._wrapperState={wasMultiple:!!At.multiple},D$1("invalid",et);break;case"textarea":hb$1(et,At),D$1("invalid",et)}ub$1(j,At),bt=null;for(var Et in At)if(At.hasOwnProperty(Et)){var Ut=At[Et];Et==="children"?typeof Ut=="string"?et.textContent!==Ut&&(At.suppressHydrationWarning!==!0&&Af$1(et.textContent,Ut,o),bt=["children",Ut]):typeof Ut=="number"&&et.textContent!==""+Ut&&(At.suppressHydrationWarning!==!0&&Af$1(et.textContent,Ut,o),bt=["children",""+Ut]):ea$1.hasOwnProperty(Et)&&Ut!=null&&Et==="onScroll"&&D$1("scroll",et)}switch(j){case"input":Va(et),db$2(et,At,!0);break;case"textarea":Va(et),jb$1(et);break;case"select":case"option":break;default:typeof At.onClick=="function"&&(et.onclick=Bf$1)}et=bt,s.updateQueue=et,et!==null&&(s.flags|=4)}else{Et=bt.nodeType===9?bt:bt.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb$1(j)),o==="http://www.w3.org/1999/xhtml"?j==="script"?(o=Et.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof et.is=="string"?o=Et.createElement(j,{is:et.is}):(o=Et.createElement(j),j==="select"&&(Et=o,et.multiple?Et.multiple=!0:et.size&&(Et.size=et.size))):o=Et.createElementNS(o,j),o[Of$1]=s,o[Pf$1]=et,Aj(o,s,!1,!1),s.stateNode=o;e:{switch(Et=vb$1(j,et),j){case"dialog":D$1("cancel",o),D$1("close",o),bt=et;break;case"iframe":case"object":case"embed":D$1("load",o),bt=et;break;case"video":case"audio":for(bt=0;bt<lf$2.length;bt++)D$1(lf$2[bt],o);bt=et;break;case"source":D$1("error",o),bt=et;break;case"img":case"image":case"link":D$1("error",o),D$1("load",o),bt=et;break;case"details":D$1("toggle",o),bt=et;break;case"input":Za$1(o,et),bt=Ya$1(o,et),D$1("invalid",o);break;case"option":bt=et;break;case"select":o._wrapperState={wasMultiple:!!et.multiple},bt=A$2({},et,{value:void 0}),D$1("invalid",o);break;case"textarea":hb$1(o,et),bt=gb$1(o,et),D$1("invalid",o);break;default:bt=et}ub$1(j,bt),Ut=bt;for(At in Ut)if(Ut.hasOwnProperty(At)){var zt=Ut[At];At==="style"?sb$1(o,zt):At==="dangerouslySetInnerHTML"?(zt=zt?zt.__html:void 0,zt!=null&&nb$1(o,zt)):At==="children"?typeof zt=="string"?(j!=="textarea"||zt!=="")&&ob$1(o,zt):typeof zt=="number"&&ob$1(o,""+zt):At!=="suppressContentEditableWarning"&&At!=="suppressHydrationWarning"&&At!=="autoFocus"&&(ea$1.hasOwnProperty(At)?zt!=null&&At==="onScroll"&&D$1("scroll",o):zt!=null&&ta$1(o,At,zt,Et))}switch(j){case"input":Va(o),db$2(o,et,!1);break;case"textarea":Va(o),jb$1(o);break;case"option":et.value!=null&&o.setAttribute("value",""+Sa$1(et.value));break;case"select":o.multiple=!!et.multiple,At=et.value,At!=null?fb$1(o,!!et.multiple,At,!1):et.defaultValue!=null&&fb$1(o,!!et.multiple,et.defaultValue,!0);break;default:typeof bt.onClick=="function"&&(o.onclick=Bf$1)}switch(j){case"button":case"input":case"select":case"textarea":et=!!et.autoFocus;break e;case"img":et=!0;break e;default:et=!1}}et&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(o&&s.stateNode!=null)Dj(o,s,o.memoizedProps,et);else{if(typeof et!="string"&&s.stateNode===null)throw Error(p$3(166));if(j=Hh$1(Gh$1.current),Hh$1(Eh$1.current),Gg(s)){if(et=s.stateNode,j=s.memoizedProps,et[Of$1]=s,(At=et.nodeValue!==j)&&(o=xg,o!==null))switch(o.tag){case 3:Af$1(et.nodeValue,j,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af$1(et.nodeValue,j,(o.mode&1)!==0)}At&&(s.flags|=4)}else et=(j.nodeType===9?j:j.ownerDocument).createTextNode(et),et[Of$1]=s,s.stateNode=et}return S(s),null;case 13:if(E$2(M$1),et=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg$1!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,At=!1;else if(At=Gg(s),et!==null&&et.dehydrated!==null){if(o===null){if(!At)throw Error(p$3(318));if(At=s.memoizedState,At=At!==null?At.dehydrated:null,!At)throw Error(p$3(317));At[Of$1]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),At=!1}else zg!==null&&(Gj(zg),zg=null),At=!0;if(!At)return s.flags&65536?s:null}return s.flags&128?(s.lanes=j,s):(et=et!==null,et!==(o!==null&&o.memoizedState!==null)&&et&&(s.child.flags|=8192,s.mode&1&&(o===null||M$1.current&1?T$1===0&&(T$1=3):uj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return Jh$1(),Bj(o,s),o===null&&sf$2(s.stateNode.containerInfo),S(s),null;case 10:return Rg(s.type._context),S(s),null;case 17:return Zf$1(s.type)&&$f$1(),S(s),null;case 19:if(E$2(M$1),At=s.memoizedState,At===null)return S(s),null;if(et=(s.flags&128)!==0,Et=At.rendering,Et===null)if(et)Ej(At,!1);else{if(T$1!==0||o!==null&&o.flags&128)for(o=s.child;o!==null;){if(Et=Mh$1(o),Et!==null){for(s.flags|=128,Ej(At,!1),et=Et.updateQueue,et!==null&&(s.updateQueue=et,s.flags|=4),s.subtreeFlags=0,et=j,j=s.child;j!==null;)At=j,o=et,At.flags&=14680066,Et=At.alternate,Et===null?(At.childLanes=0,At.lanes=o,At.child=null,At.subtreeFlags=0,At.memoizedProps=null,At.memoizedState=null,At.updateQueue=null,At.dependencies=null,At.stateNode=null):(At.childLanes=Et.childLanes,At.lanes=Et.lanes,At.child=Et.child,At.subtreeFlags=0,At.deletions=null,At.memoizedProps=Et.memoizedProps,At.memoizedState=Et.memoizedState,At.updateQueue=Et.updateQueue,At.type=Et.type,o=Et.dependencies,At.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),j=j.sibling;return G(M$1,M$1.current&1|2),s.child}o=o.sibling}At.tail!==null&&B()>Hj&&(s.flags|=128,et=!0,Ej(At,!1),s.lanes=4194304)}else{if(!et)if(o=Mh$1(Et),o!==null){if(s.flags|=128,et=!0,j=o.updateQueue,j!==null&&(s.updateQueue=j,s.flags|=4),Ej(At,!0),At.tail===null&&At.tailMode==="hidden"&&!Et.alternate&&!I)return S(s),null}else 2*B()-At.renderingStartTime>Hj&&j!==1073741824&&(s.flags|=128,et=!0,Ej(At,!1),s.lanes=4194304);At.isBackwards?(Et.sibling=s.child,s.child=Et):(j=At.last,j!==null?j.sibling=Et:s.child=Et,At.last=Et)}return At.tail!==null?(s=At.tail,At.rendering=s,At.tail=s.sibling,At.renderingStartTime=B(),s.sibling=null,j=M$1.current,G(M$1,et?j&1|2:j&1),s):(S(s),null);case 22:case 23:return Ij(),et=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==et&&(s.flags|=8192),et&&s.mode&1?gj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$3(156,s.tag))}function Jj(o,s){switch(wg$1(s),s.tag){case 1:return Zf$1(s.type)&&$f$1(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Jh$1(),E$2(Wf$1),E$2(H),Oh$1(),o=s.flags,o&65536&&!(o&128)?(s.flags=o&-65537|128,s):null;case 5:return Lh$1(s),null;case 13:if(E$2(M$1),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(p$3(340));Ig()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return E$2(M$1),null;case 4:return Jh$1(),null;case 10:return Rg(s.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(o,s){var j=o.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(et){W$1(o,s,et)}else j.current=null}function Nj(o,s,j){try{j()}catch(et){W$1(o,s,et)}}var Oj=!1;function Pj(o,s){if(Cf$1=dd$2,o=Me$1(),Ne(o)){if("selectionStart"in o)var j={start:o.selectionStart,end:o.selectionEnd};else e:{j=(j=o.ownerDocument)&&j.defaultView||window;var et=j.getSelection&&j.getSelection();if(et&&et.rangeCount!==0){j=et.anchorNode;var bt=et.anchorOffset,At=et.focusNode;et=et.focusOffset;try{j.nodeType,At.nodeType}catch{j=null;break e}var Et=0,Ut=-1,zt=-1,It=0,Qt=0,Pt=o,Yt=null;t:for(;;){for(var cr;Pt!==j||bt!==0&&Pt.nodeType!==3||(Ut=Et+bt),Pt!==At||et!==0&&Pt.nodeType!==3||(zt=Et+et),Pt.nodeType===3&&(Et+=Pt.nodeValue.length),(cr=Pt.firstChild)!==null;)Yt=Pt,Pt=cr;for(;;){if(Pt===o)break t;if(Yt===j&&++It===bt&&(Ut=Et),Yt===At&&++Qt===et&&(zt=Et),(cr=Pt.nextSibling)!==null)break;Pt=Yt,Yt=Pt.parentNode}Pt=cr}j=Ut===-1||zt===-1?null:{start:Ut,end:zt}}else j=null}j=j||{start:0,end:0}}else j=null;for(Df$1={focusedElem:o,selectionRange:j},dd$2=!1,V$1=s;V$1!==null;)if(s=V$1,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,V$1=o;else for(;V$1!==null;){s=V$1;try{var _r=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(_r!==null){var vr=_r.memoizedProps,Yr=_r.memoizedState,Kr=s.stateNode,jr=Kr.getSnapshotBeforeUpdate(s.elementType===s.type?vr:Lg(s.type,vr),Yr);Kr.__reactInternalSnapshotBeforeUpdate=jr}break;case 3:var Hn=s.stateNode.containerInfo;Hn.nodeType===1?Hn.textContent="":Hn.nodeType===9&&Hn.documentElement&&Hn.removeChild(Hn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(tA){W$1(s,s.return,tA)}if(o=s.sibling,o!==null){o.return=s.return,V$1=o;break}V$1=s.return}return _r=Oj,Oj=!1,_r}function Qj(o,s,j){var et=s.updateQueue;if(et=et!==null?et.lastEffect:null,et!==null){var bt=et=et.next;do{if((bt.tag&o)===o){var At=bt.destroy;bt.destroy=void 0,At!==void 0&&Nj(s,j,At)}bt=bt.next}while(bt!==et)}}function Rj(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var j=s=s.next;do{if((j.tag&o)===o){var et=j.create;j.destroy=et()}j=j.next}while(j!==s)}}function Sj(o){var s=o.ref;if(s!==null){var j=o.stateNode;switch(o.tag){case 5:o=j;break;default:o=j}typeof s=="function"?s(o):s.current=o}}function Tj(o){var s=o.alternate;s!==null&&(o.alternate=null,Tj(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[Of$1],delete s[Pf$1],delete s[of$2],delete s[Qf$1],delete s[Rf$1])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,s,j){var et=o.tag;if(et===5||et===6)o=o.stateNode,s?j.nodeType===8?j.parentNode.insertBefore(o,s):j.insertBefore(o,s):(j.nodeType===8?(s=j.parentNode,s.insertBefore(o,j)):(s=j,s.appendChild(o)),j=j._reactRootContainer,j!=null||s.onclick!==null||(s.onclick=Bf$1));else if(et!==4&&(o=o.child,o!==null))for(Wj(o,s,j),o=o.sibling;o!==null;)Wj(o,s,j),o=o.sibling}function Xj(o,s,j){var et=o.tag;if(et===5||et===6)o=o.stateNode,s?j.insertBefore(o,s):j.appendChild(o);else if(et!==4&&(o=o.child,o!==null))for(Xj(o,s,j),o=o.sibling;o!==null;)Xj(o,s,j),o=o.sibling}var X=null,Yj=!1;function Zj(o,s,j){for(j=j.child;j!==null;)ak(o,s,j),j=j.sibling}function ak(o,s,j){if(lc$2&&typeof lc$2.onCommitFiberUnmount=="function")try{lc$2.onCommitFiberUnmount(kc$2,j)}catch{}switch(j.tag){case 5:U$2||Mj(j,s);case 6:var et=X,bt=Yj;X=null,Zj(o,s,j),X=et,Yj=bt,X!==null&&(Yj?(o=X,j=j.stateNode,o.nodeType===8?o.parentNode.removeChild(j):o.removeChild(j)):X.removeChild(j.stateNode));break;case 18:X!==null&&(Yj?(o=X,j=j.stateNode,o.nodeType===8?Kf$1(o.parentNode,j):o.nodeType===1&&Kf$1(o,j),bd$2(o)):Kf$1(X,j.stateNode));break;case 4:et=X,bt=Yj,X=j.stateNode.containerInfo,Yj=!0,Zj(o,s,j),X=et,Yj=bt;break;case 0:case 11:case 14:case 15:if(!U$2&&(et=j.updateQueue,et!==null&&(et=et.lastEffect,et!==null))){bt=et=et.next;do{var At=bt,Et=At.destroy;At=At.tag,Et!==void 0&&(At&2||At&4)&&Nj(j,s,Et),bt=bt.next}while(bt!==et)}Zj(o,s,j);break;case 1:if(!U$2&&(Mj(j,s),et=j.stateNode,typeof et.componentWillUnmount=="function"))try{et.props=j.memoizedProps,et.state=j.memoizedState,et.componentWillUnmount()}catch(Ut){W$1(j,s,Ut)}Zj(o,s,j);break;case 21:Zj(o,s,j);break;case 22:j.mode&1?(U$2=(et=U$2)||j.memoizedState!==null,Zj(o,s,j),U$2=et):Zj(o,s,j);break;default:Zj(o,s,j)}}function bk(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var j=o.stateNode;j===null&&(j=o.stateNode=new Lj),s.forEach(function(et){var bt=ck.bind(null,o,et);j.has(et)||(j.add(et),et.then(bt,bt))})}}function dk(o,s){var j=s.deletions;if(j!==null)for(var et=0;et<j.length;et++){var bt=j[et];try{var At=o,Et=s,Ut=Et;e:for(;Ut!==null;){switch(Ut.tag){case 5:X=Ut.stateNode,Yj=!1;break e;case 3:X=Ut.stateNode.containerInfo,Yj=!0;break e;case 4:X=Ut.stateNode.containerInfo,Yj=!0;break e}Ut=Ut.return}if(X===null)throw Error(p$3(160));ak(At,Et,bt),X=null,Yj=!1;var zt=bt.alternate;zt!==null&&(zt.return=null),bt.return=null}catch(It){W$1(bt,s,It)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ek(s,o),s=s.sibling}function ek(o,s){var j=o.alternate,et=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(s,o),fk(o),et&4){try{Qj(3,o,o.return),Rj(3,o)}catch(vr){W$1(o,o.return,vr)}try{Qj(5,o,o.return)}catch(vr){W$1(o,o.return,vr)}}break;case 1:dk(s,o),fk(o),et&512&&j!==null&&Mj(j,j.return);break;case 5:if(dk(s,o),fk(o),et&512&&j!==null&&Mj(j,j.return),o.flags&32){var bt=o.stateNode;try{ob$1(bt,"")}catch(vr){W$1(o,o.return,vr)}}if(et&4&&(bt=o.stateNode,bt!=null)){var At=o.memoizedProps,Et=j!==null?j.memoizedProps:At,Ut=o.type,zt=o.updateQueue;if(o.updateQueue=null,zt!==null)try{Ut==="input"&&At.type==="radio"&&At.name!=null&&ab$1(bt,At),vb$1(Ut,Et);var It=vb$1(Ut,At);for(Et=0;Et<zt.length;Et+=2){var Qt=zt[Et],Pt=zt[Et+1];Qt==="style"?sb$1(bt,Pt):Qt==="dangerouslySetInnerHTML"?nb$1(bt,Pt):Qt==="children"?ob$1(bt,Pt):ta$1(bt,Qt,Pt,It)}switch(Ut){case"input":bb$1(bt,At);break;case"textarea":ib$1(bt,At);break;case"select":var Yt=bt._wrapperState.wasMultiple;bt._wrapperState.wasMultiple=!!At.multiple;var cr=At.value;cr!=null?fb$1(bt,!!At.multiple,cr,!1):Yt!==!!At.multiple&&(At.defaultValue!=null?fb$1(bt,!!At.multiple,At.defaultValue,!0):fb$1(bt,!!At.multiple,At.multiple?[]:"",!1))}bt[Pf$1]=At}catch(vr){W$1(o,o.return,vr)}}break;case 6:if(dk(s,o),fk(o),et&4){if(o.stateNode===null)throw Error(p$3(162));bt=o.stateNode,At=o.memoizedProps;try{bt.nodeValue=At}catch(vr){W$1(o,o.return,vr)}}break;case 3:if(dk(s,o),fk(o),et&4&&j!==null&&j.memoizedState.isDehydrated)try{bd$2(s.containerInfo)}catch(vr){W$1(o,o.return,vr)}break;case 4:dk(s,o),fk(o);break;case 13:dk(s,o),fk(o),bt=o.child,bt.flags&8192&&(At=bt.memoizedState!==null,bt.stateNode.isHidden=At,!At||bt.alternate!==null&&bt.alternate.memoizedState!==null||(gk=B())),et&4&&bk(o);break;case 22:if(Qt=j!==null&&j.memoizedState!==null,o.mode&1?(U$2=(It=U$2)||Qt,dk(s,o),U$2=It):dk(s,o),fk(o),et&8192){if(It=o.memoizedState!==null,(o.stateNode.isHidden=It)&&!Qt&&o.mode&1)for(V$1=o,Qt=o.child;Qt!==null;){for(Pt=V$1=Qt;V$1!==null;){switch(Yt=V$1,cr=Yt.child,Yt.tag){case 0:case 11:case 14:case 15:Qj(4,Yt,Yt.return);break;case 1:Mj(Yt,Yt.return);var _r=Yt.stateNode;if(typeof _r.componentWillUnmount=="function"){et=Yt,j=Yt.return;try{s=et,_r.props=s.memoizedProps,_r.state=s.memoizedState,_r.componentWillUnmount()}catch(vr){W$1(et,j,vr)}}break;case 5:Mj(Yt,Yt.return);break;case 22:if(Yt.memoizedState!==null){hk(Pt);continue}}cr!==null?(cr.return=Yt,V$1=cr):hk(Pt)}Qt=Qt.sibling}e:for(Qt=null,Pt=o;;){if(Pt.tag===5){if(Qt===null){Qt=Pt;try{bt=Pt.stateNode,It?(At=bt.style,typeof At.setProperty=="function"?At.setProperty("display","none","important"):At.display="none"):(Ut=Pt.stateNode,zt=Pt.memoizedProps.style,Et=zt!=null&&zt.hasOwnProperty("display")?zt.display:null,Ut.style.display=rb$1("display",Et))}catch(vr){W$1(o,o.return,vr)}}}else if(Pt.tag===6){if(Qt===null)try{Pt.stateNode.nodeValue=It?"":Pt.memoizedProps}catch(vr){W$1(o,o.return,vr)}}else if((Pt.tag!==22&&Pt.tag!==23||Pt.memoizedState===null||Pt===o)&&Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===o)break e;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===o)break e;Qt===Pt&&(Qt=null),Pt=Pt.return}Qt===Pt&&(Qt=null),Pt.sibling.return=Pt.return,Pt=Pt.sibling}}break;case 19:dk(s,o),fk(o),et&4&&bk(o);break;case 21:break;default:dk(s,o),fk(o)}}function fk(o){var s=o.flags;if(s&2){try{e:{for(var j=o.return;j!==null;){if(Uj(j)){var et=j;break e}j=j.return}throw Error(p$3(160))}switch(et.tag){case 5:var bt=et.stateNode;et.flags&32&&(ob$1(bt,""),et.flags&=-33);var At=Vj(o);Xj(o,At,bt);break;case 3:case 4:var Et=et.stateNode.containerInfo,Ut=Vj(o);Wj(o,Ut,Et);break;default:throw Error(p$3(161))}}catch(zt){W$1(o,o.return,zt)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function ik(o,s,j){V$1=o,jk(o)}function jk(o,s,j){for(var et=(o.mode&1)!==0;V$1!==null;){var bt=V$1,At=bt.child;if(bt.tag===22&&et){var Et=bt.memoizedState!==null||Kj;if(!Et){var Ut=bt.alternate,zt=Ut!==null&&Ut.memoizedState!==null||U$2;Ut=Kj;var It=U$2;if(Kj=Et,(U$2=zt)&&!It)for(V$1=bt;V$1!==null;)Et=V$1,zt=Et.child,Et.tag===22&&Et.memoizedState!==null?kk(bt):zt!==null?(zt.return=Et,V$1=zt):kk(bt);for(;At!==null;)V$1=At,jk(At),At=At.sibling;V$1=bt,Kj=Ut,U$2=It}lk(o)}else bt.subtreeFlags&8772&&At!==null?(At.return=bt,V$1=At):lk(o)}}function lk(o){for(;V$1!==null;){var s=V$1;if(s.flags&8772){var j=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U$2||Rj(5,s);break;case 1:var et=s.stateNode;if(s.flags&4&&!U$2)if(j===null)et.componentDidMount();else{var bt=s.elementType===s.type?j.memoizedProps:Lg(s.type,j.memoizedProps);et.componentDidUpdate(bt,j.memoizedState,et.__reactInternalSnapshotBeforeUpdate)}var At=s.updateQueue;At!==null&&ih$1(s,At,et);break;case 3:var Et=s.updateQueue;if(Et!==null){if(j=null,s.child!==null)switch(s.child.tag){case 5:j=s.child.stateNode;break;case 1:j=s.child.stateNode}ih$1(s,Et,j)}break;case 5:var Ut=s.stateNode;if(j===null&&s.flags&4){j=Ut;var zt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":zt.autoFocus&&j.focus();break;case"img":zt.src&&(j.src=zt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var It=s.alternate;if(It!==null){var Qt=It.memoizedState;if(Qt!==null){var Pt=Qt.dehydrated;Pt!==null&&bd$2(Pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$2||s.flags&512&&Sj(s)}catch(Yt){W$1(s,s.return,Yt)}}if(s===o){V$1=null;break}if(j=s.sibling,j!==null){j.return=s.return,V$1=j;break}V$1=s.return}}function hk(o){for(;V$1!==null;){var s=V$1;if(s===o){V$1=null;break}var j=s.sibling;if(j!==null){j.return=s.return,V$1=j;break}V$1=s.return}}function kk(o){for(;V$1!==null;){var s=V$1;try{switch(s.tag){case 0:case 11:case 15:var j=s.return;try{Rj(4,s)}catch(zt){W$1(s,j,zt)}break;case 1:var et=s.stateNode;if(typeof et.componentDidMount=="function"){var bt=s.return;try{et.componentDidMount()}catch(zt){W$1(s,bt,zt)}}var At=s.return;try{Sj(s)}catch(zt){W$1(s,At,zt)}break;case 5:var Et=s.return;try{Sj(s)}catch(zt){W$1(s,Et,zt)}}}catch(zt){W$1(s,s.return,zt)}if(s===o){V$1=null;break}var Ut=s.sibling;if(Ut!==null){Ut.return=s.return,V$1=Ut;break}V$1=s.return}}var mk=Math.ceil,nk=ua$2.ReactCurrentDispatcher,ok=ua$2.ReactCurrentOwner,pk=ua$2.ReactCurrentBatchConfig,K$1=0,R$1=null,Y=null,Z$2=0,gj=0,fj=Uf$1(0),T$1=0,qk=null,hh$1=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi$2=!1,Qi$2=null,Si$2=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K$1&6?B():Bk!==-1?Bk:Bk=B()}function lh$1(o){return o.mode&1?K$1&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc$2()),Ck):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd$2(o.type)),o):1}function mh$1(o,s,j,et){if(50<zk)throw zk=0,Ak=null,Error(p$3(185));Ac$2(o,j,et),(!(K$1&2)||o!==R$1)&&(o===R$1&&(!(K$1&2)&&(rk|=j),T$1===4&&Dk(o,Z$2)),Ek(o,et),j===1&&K$1===0&&!(s.mode&1)&&(Hj=B()+500,fg$1&&jg()))}function Ek(o,s){var j=o.callbackNode;wc$2(o,s);var et=uc$2(o,o===R$1?Z$2:0);if(et===0)j!==null&&bc$2(j),o.callbackNode=null,o.callbackPriority=0;else if(s=et&-et,o.callbackPriority!==s){if(j!=null&&bc$2(j),s===1)o.tag===0?ig$1(Fk.bind(null,o)):hg$1(Fk.bind(null,o)),Jf$1(function(){!(K$1&6)&&jg()}),j=null;else{switch(Dc$2(et)){case 1:j=fc$2;break;case 4:j=gc$2;break;case 16:j=hc$2;break;case 536870912:j=jc$2;break;default:j=hc$2}j=Gk(j,Hk.bind(null,o))}o.callbackPriority=s,o.callbackNode=j}}function Hk(o,s){if(Bk=-1,Ck=0,K$1&6)throw Error(p$3(327));var j=o.callbackNode;if(Ik()&&o.callbackNode!==j)return null;var et=uc$2(o,o===R$1?Z$2:0);if(et===0)return null;if(et&30||et&o.expiredLanes||s)s=Jk(o,et);else{s=et;var bt=K$1;K$1|=2;var At=Kk();(R$1!==o||Z$2!==s)&&(vk=null,Hj=B()+500,Lk(o,s));do try{Mk();break}catch(Ut){Nk(o,Ut)}while(!0);Qg(),nk.current=At,K$1=bt,Y!==null?s=0:(R$1=null,Z$2=0,s=T$1)}if(s!==0){if(s===2&&(bt=xc$2(o),bt!==0&&(et=bt,s=Ok(o,bt))),s===1)throw j=qk,Lk(o,0),Dk(o,et),Ek(o,B()),j;if(s===6)Dk(o,et);else{if(bt=o.current.alternate,!(et&30)&&!Pk(bt)&&(s=Jk(o,et),s===2&&(At=xc$2(o),At!==0&&(et=At,s=Ok(o,At))),s===1))throw j=qk,Lk(o,0),Dk(o,et),Ek(o,B()),j;switch(o.finishedWork=bt,o.finishedLanes=et,s){case 0:case 1:throw Error(p$3(345));case 2:Qk(o,uk,vk);break;case 3:if(Dk(o,et),(et&130023424)===et&&(s=gk+500-B(),10<s)){if(uc$2(o,0)!==0)break;if(bt=o.suspendedLanes,(bt&et)!==et){L$1(),o.pingedLanes|=o.suspendedLanes&bt;break}o.timeoutHandle=Ff$1(Qk.bind(null,o,uk,vk),s);break}Qk(o,uk,vk);break;case 4:if(Dk(o,et),(et&4194240)===et)break;for(s=o.eventTimes,bt=-1;0<et;){var Et=31-oc$2(et);At=1<<Et,Et=s[Et],Et>bt&&(bt=Et),et&=~At}if(et=bt,et=B()-et,et=(120>et?120:480>et?480:1080>et?1080:1920>et?1920:3e3>et?3e3:4320>et?4320:1960*mk(et/1960))-et,10<et){o.timeoutHandle=Ff$1(Qk.bind(null,o,uk,vk),et);break}Qk(o,uk,vk);break;case 5:Qk(o,uk,vk);break;default:throw Error(p$3(329))}}}return Ek(o,B()),o.callbackNode===j?Hk.bind(null,o):null}function Ok(o,s){var j=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,s).flags|=256),o=Jk(o,s),o!==2&&(s=uk,uk=j,s!==null&&Gj(s)),o}function Gj(o){uk===null?uk=o:uk.push.apply(uk,o)}function Pk(o){for(var s=o;;){if(s.flags&16384){var j=s.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var et=0;et<j.length;et++){var bt=j[et],At=bt.getSnapshot;bt=bt.value;try{if(!He$1(At(),bt))return!1}catch{return!1}}}if(j=s.child,s.subtreeFlags&16384&&j!==null)j.return=s,s=j;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dk(o,s){for(s&=~sk,s&=~rk,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var j=31-oc$2(s),et=1<<j;o[j]=-1,s&=~et}}function Fk(o){if(K$1&6)throw Error(p$3(327));Ik();var s=uc$2(o,0);if(!(s&1))return Ek(o,B()),null;var j=Jk(o,s);if(o.tag!==0&&j===2){var et=xc$2(o);et!==0&&(s=et,j=Ok(o,et))}if(j===1)throw j=qk,Lk(o,0),Dk(o,s),Ek(o,B()),j;if(j===6)throw Error(p$3(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,Qk(o,uk,vk),Ek(o,B()),null}function Rk(o,s){var j=K$1;K$1|=1;try{return o(s)}finally{K$1=j,K$1===0&&(Hj=B()+500,fg$1&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var s=K$1;K$1|=1;var j=pk.transition,et=C;try{if(pk.transition=null,C=1,o)return o()}finally{C=et,pk.transition=j,K$1=s,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(o,s){o.finishedWork=null,o.finishedLanes=0;var j=o.timeoutHandle;if(j!==-1&&(o.timeoutHandle=-1,Gf$1(j)),Y!==null)for(j=Y.return;j!==null;){var et=j;switch(wg$1(et),et.tag){case 1:et=et.type.childContextTypes,et!=null&&$f$1();break;case 3:Jh$1(),E$2(Wf$1),E$2(H),Oh$1();break;case 5:Lh$1(et);break;case 4:Jh$1();break;case 13:E$2(M$1);break;case 19:E$2(M$1);break;case 10:Rg(et.type._context);break;case 22:case 23:Ij()}j=j.return}if(R$1=o,Y=o=wh$1(o.current,null),Z$2=gj=s,T$1=0,qk=null,sk=rk=hh$1=0,uk=tk=null,Wg!==null){for(s=0;s<Wg.length;s++)if(j=Wg[s],et=j.interleaved,et!==null){j.interleaved=null;var bt=et.next,At=j.pending;if(At!==null){var Et=At.next;At.next=bt,et.next=Et}j.pending=et}Wg=null}return o}function Nk(o,s){do{var j=Y;try{if(Qg(),Ph$1.current=ai,Sh$1){for(var et=N.memoizedState;et!==null;){var bt=et.queue;bt!==null&&(bt.pending=null),et=et.next}Sh$1=!1}if(Rh$1=0,P=O$1=N=null,Th$1=!1,Uh$1=0,ok.current=null,j===null||j.return===null){T$1=1,qk=s,Y=null;break}e:{var At=o,Et=j.return,Ut=j,zt=s;if(s=Z$2,Ut.flags|=32768,zt!==null&&typeof zt=="object"&&typeof zt.then=="function"){var It=zt,Qt=Ut,Pt=Qt.tag;if(!(Qt.mode&1)&&(Pt===0||Pt===11||Pt===15)){var Yt=Qt.alternate;Yt?(Qt.updateQueue=Yt.updateQueue,Qt.memoizedState=Yt.memoizedState,Qt.lanes=Yt.lanes):(Qt.updateQueue=null,Qt.memoizedState=null)}var cr=Vi$2(Et);if(cr!==null){cr.flags&=-257,Wi$2(cr,Et,Ut,At,s),cr.mode&1&&Ti$2(At,It,s),s=cr,zt=It;var _r=s.updateQueue;if(_r===null){var vr=new Set;vr.add(zt),s.updateQueue=vr}else _r.add(zt);break e}else{if(!(s&1)){Ti$2(At,It,s),uj();break e}zt=Error(p$3(426))}}else if(I&&Ut.mode&1){var Yr=Vi$2(Et);if(Yr!==null){!(Yr.flags&65536)&&(Yr.flags|=256),Wi$2(Yr,Et,Ut,At,s),Jg(Ki$2(zt,Ut));break e}}At=zt=Ki$2(zt,Ut),T$1!==4&&(T$1=2),tk===null?tk=[At]:tk.push(At),At=Et;do{switch(At.tag){case 3:At.flags|=65536,s&=-s,At.lanes|=s;var Kr=Oi$2(At,zt,s);fh$1(At,Kr);break e;case 1:Ut=zt;var jr=At.type,Hn=At.stateNode;if(!(At.flags&128)&&(typeof jr.getDerivedStateFromError=="function"||Hn!==null&&typeof Hn.componentDidCatch=="function"&&(Si$2===null||!Si$2.has(Hn)))){At.flags|=65536,s&=-s,At.lanes|=s;var tA=Ri$2(At,Ut,s);fh$1(At,tA);break e}}At=At.return}while(At!==null)}Tk(j)}catch(nA){s=nA,Y===j&&j!==null&&(Y=j=j.return);continue}break}while(!0)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh$1&268435455)&&!(rk&268435455)||Dk(R$1,Z$2)}function Jk(o,s){var j=K$1;K$1|=2;var et=Kk();(R$1!==o||Z$2!==s)&&(vk=null,Lk(o,s));do try{Uk();break}catch(bt){Nk(o,bt)}while(!0);if(Qg(),K$1=j,nk.current=et,Y!==null)throw Error(p$3(261));return R$1=null,Z$2=0,T$1}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc$2();)Vk(Y)}function Vk(o){var s=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,s===null?Tk(o):Y=s,ok.current=null}function Tk(o){var s=o;do{var j=s.alternate;if(o=s.return,s.flags&32768){if(j=Jj(j,s),j!==null){j.flags&=32767,Y=j;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T$1=6,Y=null;return}}else if(j=Fj(j,s,gj),j!==null){Y=j;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=o}while(s!==null);T$1===0&&(T$1=5)}function Qk(o,s,j){var et=C,bt=pk.transition;try{pk.transition=null,C=1,Xk(o,s,j,et)}finally{pk.transition=bt,C=et}return null}function Xk(o,s,j,et){do Ik();while(xk!==null);if(K$1&6)throw Error(p$3(327));j=o.finishedWork;var bt=o.finishedLanes;if(j===null)return null;if(o.finishedWork=null,o.finishedLanes=0,j===o.current)throw Error(p$3(177));o.callbackNode=null,o.callbackPriority=0;var At=j.lanes|j.childLanes;if(Bc$2(o,At),o===R$1&&(Y=R$1=null,Z$2=0),!(j.subtreeFlags&2064)&&!(j.flags&2064)||wk||(wk=!0,Gk(hc$2,function(){return Ik(),null})),At=(j.flags&15990)!==0,j.subtreeFlags&15990||At){At=pk.transition,pk.transition=null;var Et=C;C=1;var Ut=K$1;K$1|=4,ok.current=null,Pj(o,j),ek(j,o),Oe$2(Df$1),dd$2=!!Cf$1,Df$1=Cf$1=null,o.current=j,ik(j),dc$2(),K$1=Ut,C=Et,pk.transition=At}else o.current=j;if(wk&&(wk=!1,xk=o,yk=bt),At=o.pendingLanes,At===0&&(Si$2=null),mc$2(j.stateNode),Ek(o,B()),s!==null)for(et=o.onRecoverableError,j=0;j<s.length;j++)bt=s[j],et(bt.value,{componentStack:bt.stack,digest:bt.digest});if(Pi$2)throw Pi$2=!1,o=Qi$2,Qi$2=null,o;return yk&1&&o.tag!==0&&Ik(),At=o.pendingLanes,At&1?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc$2(yk),s=pk.transition,j=C;try{if(pk.transition=null,C=16>o?16:o,xk===null)var et=!1;else{if(o=xk,xk=null,yk=0,K$1&6)throw Error(p$3(331));var bt=K$1;for(K$1|=4,V$1=o.current;V$1!==null;){var At=V$1,Et=At.child;if(V$1.flags&16){var Ut=At.deletions;if(Ut!==null){for(var zt=0;zt<Ut.length;zt++){var It=Ut[zt];for(V$1=It;V$1!==null;){var Qt=V$1;switch(Qt.tag){case 0:case 11:case 15:Qj(8,Qt,At)}var Pt=Qt.child;if(Pt!==null)Pt.return=Qt,V$1=Pt;else for(;V$1!==null;){Qt=V$1;var Yt=Qt.sibling,cr=Qt.return;if(Tj(Qt),Qt===It){V$1=null;break}if(Yt!==null){Yt.return=cr,V$1=Yt;break}V$1=cr}}}var _r=At.alternate;if(_r!==null){var vr=_r.child;if(vr!==null){_r.child=null;do{var Yr=vr.sibling;vr.sibling=null,vr=Yr}while(vr!==null)}}V$1=At}}if(At.subtreeFlags&2064&&Et!==null)Et.return=At,V$1=Et;else e:for(;V$1!==null;){if(At=V$1,At.flags&2048)switch(At.tag){case 0:case 11:case 15:Qj(9,At,At.return)}var Kr=At.sibling;if(Kr!==null){Kr.return=At.return,V$1=Kr;break e}V$1=At.return}}var jr=o.current;for(V$1=jr;V$1!==null;){Et=V$1;var Hn=Et.child;if(Et.subtreeFlags&2064&&Hn!==null)Hn.return=Et,V$1=Hn;else e:for(Et=jr;V$1!==null;){if(Ut=V$1,Ut.flags&2048)try{switch(Ut.tag){case 0:case 11:case 15:Rj(9,Ut)}}catch(nA){W$1(Ut,Ut.return,nA)}if(Ut===Et){V$1=null;break e}var tA=Ut.sibling;if(tA!==null){tA.return=Ut.return,V$1=tA;break e}V$1=Ut.return}}if(K$1=bt,jg(),lc$2&&typeof lc$2.onPostCommitFiberRoot=="function")try{lc$2.onPostCommitFiberRoot(kc$2,o)}catch{}et=!0}return et}finally{C=j,pk.transition=s}}return!1}function Yk(o,s,j){s=Ki$2(j,s),s=Oi$2(o,s,1),o=dh$1(o,s,1),s=L$1(),o!==null&&(Ac$2(o,1,s),Ek(o,s))}function W$1(o,s,j){if(o.tag===3)Yk(o,o,j);else for(;s!==null;){if(s.tag===3){Yk(s,o,j);break}else if(s.tag===1){var et=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof et.componentDidCatch=="function"&&(Si$2===null||!Si$2.has(et))){o=Ki$2(j,o),o=Ri$2(s,o,1),s=dh$1(s,o,1),o=L$1(),s!==null&&(Ac$2(s,1,o),Ek(s,o));break}}s=s.return}}function Ui$2(o,s,j){var et=o.pingCache;et!==null&&et.delete(s),s=L$1(),o.pingedLanes|=o.suspendedLanes&j,R$1===o&&(Z$2&j)===j&&(T$1===4||T$1===3&&(Z$2&130023424)===Z$2&&500>B()-gk?Lk(o,0):sk|=j),Ek(o,s)}function Zk(o,s){s===0&&(o.mode&1?(s=sc$2,sc$2<<=1,!(sc$2&130023424)&&(sc$2=4194304)):s=1);var j=L$1();o=Zg(o,s),o!==null&&(Ac$2(o,s,j),Ek(o,j))}function vj(o){var s=o.memoizedState,j=0;s!==null&&(j=s.retryLane),Zk(o,j)}function ck(o,s){var j=0;switch(o.tag){case 13:var et=o.stateNode,bt=o.memoizedState;bt!==null&&(j=bt.retryLane);break;case 19:et=o.stateNode;break;default:throw Error(p$3(314))}et!==null&&et.delete(s),Zk(o,j)}var Wk;Wk=function(o,s,j){if(o!==null)if(o.memoizedProps!==s.pendingProps||Wf$1.current)Ug=!0;else{if(!(o.lanes&j)&&!(s.flags&128))return Ug=!1,zj(o,s,j);Ug=!!(o.flags&131072)}else Ug=!1,I&&s.flags&1048576&&ug(s,ng$1,s.index);switch(s.lanes=0,s.tag){case 2:var et=s.type;jj(o,s),o=s.pendingProps;var bt=Yf$1(s,H.current);Tg(s,j),bt=Xh$1(null,s,et,o,bt,j);var At=bi$2();return s.flags|=1,typeof bt=="object"&&bt!==null&&typeof bt.render=="function"&&bt.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf$1(et)?(At=!0,cg$1(s)):At=!1,s.memoizedState=bt.state!==null&&bt.state!==void 0?bt.state:null,ah$1(s),bt.updater=nh$1,s.stateNode=bt,bt._reactInternals=s,rh$1(s,et,o,j),s=kj(null,s,et,!0,At,j)):(s.tag=0,I&&At&&vg$1(s),Yi$2(null,s,bt,j),s=s.child),s;case 16:et=s.elementType;e:{switch(jj(o,s),o=s.pendingProps,bt=et._init,et=bt(et._payload),s.type=et,bt=s.tag=$k(et),o=Lg(et,o),bt){case 0:s=dj(null,s,et,o,j);break e;case 1:s=ij(null,s,et,o,j);break e;case 11:s=Zi$2(null,s,et,o,j);break e;case 14:s=aj(null,s,et,Lg(et.type,o),j);break e}throw Error(p$3(306,et,""))}return s;case 0:return et=s.type,bt=s.pendingProps,bt=s.elementType===et?bt:Lg(et,bt),dj(o,s,et,bt,j);case 1:return et=s.type,bt=s.pendingProps,bt=s.elementType===et?bt:Lg(et,bt),ij(o,s,et,bt,j);case 3:e:{if(lj(s),o===null)throw Error(p$3(387));et=s.pendingProps,At=s.memoizedState,bt=At.element,bh$1(o,s),gh$1(s,et,null,j);var Et=s.memoizedState;if(et=Et.element,At.isDehydrated)if(At={element:et,isDehydrated:!1,cache:Et.cache,pendingSuspenseBoundaries:Et.pendingSuspenseBoundaries,transitions:Et.transitions},s.updateQueue.baseState=At,s.memoizedState=At,s.flags&256){bt=Ki$2(Error(p$3(423)),s),s=mj(o,s,et,j,bt);break e}else if(et!==bt){bt=Ki$2(Error(p$3(424)),s),s=mj(o,s,et,j,bt);break e}else for(yg$1=Lf$1(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,j=Ch$1(s,null,et,j),s.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(Ig(),et===bt){s=$i$2(o,s,j);break e}Yi$2(o,s,et,j)}s=s.child}return s;case 5:return Kh$1(s),o===null&&Eg(s),et=s.type,bt=s.pendingProps,At=o!==null?o.memoizedProps:null,Et=bt.children,Ef$1(et,bt)?Et=null:At!==null&&Ef$1(et,At)&&(s.flags|=32),hj(o,s),Yi$2(o,s,Et,j),s.child;case 6:return o===null&&Eg(s),null;case 13:return pj(o,s,j);case 4:return Ih$1(s,s.stateNode.containerInfo),et=s.pendingProps,o===null?s.child=Bh$1(s,null,et,j):Yi$2(o,s,et,j),s.child;case 11:return et=s.type,bt=s.pendingProps,bt=s.elementType===et?bt:Lg(et,bt),Zi$2(o,s,et,bt,j);case 7:return Yi$2(o,s,s.pendingProps,j),s.child;case 8:return Yi$2(o,s,s.pendingProps.children,j),s.child;case 12:return Yi$2(o,s,s.pendingProps.children,j),s.child;case 10:e:{if(et=s.type._context,bt=s.pendingProps,At=s.memoizedProps,Et=bt.value,G(Mg,et._currentValue),et._currentValue=Et,At!==null)if(He$1(At.value,Et)){if(At.children===bt.children&&!Wf$1.current){s=$i$2(o,s,j);break e}}else for(At=s.child,At!==null&&(At.return=s);At!==null;){var Ut=At.dependencies;if(Ut!==null){Et=At.child;for(var zt=Ut.firstContext;zt!==null;){if(zt.context===et){if(At.tag===1){zt=ch$1(-1,j&-j),zt.tag=2;var It=At.updateQueue;if(It!==null){It=It.shared;var Qt=It.pending;Qt===null?zt.next=zt:(zt.next=Qt.next,Qt.next=zt),It.pending=zt}}At.lanes|=j,zt=At.alternate,zt!==null&&(zt.lanes|=j),Sg(At.return,j,s),Ut.lanes|=j;break}zt=zt.next}}else if(At.tag===10)Et=At.type===s.type?null:At.child;else if(At.tag===18){if(Et=At.return,Et===null)throw Error(p$3(341));Et.lanes|=j,Ut=Et.alternate,Ut!==null&&(Ut.lanes|=j),Sg(Et,j,s),Et=At.sibling}else Et=At.child;if(Et!==null)Et.return=At;else for(Et=At;Et!==null;){if(Et===s){Et=null;break}if(At=Et.sibling,At!==null){At.return=Et.return,Et=At;break}Et=Et.return}At=Et}Yi$2(o,s,bt.children,j),s=s.child}return s;case 9:return bt=s.type,et=s.pendingProps.children,Tg(s,j),bt=Vg(bt),et=et(bt),s.flags|=1,Yi$2(o,s,et,j),s.child;case 14:return et=s.type,bt=Lg(et,s.pendingProps),bt=Lg(et.type,bt),aj(o,s,et,bt,j);case 15:return cj(o,s,s.type,s.pendingProps,j);case 17:return et=s.type,bt=s.pendingProps,bt=s.elementType===et?bt:Lg(et,bt),jj(o,s),s.tag=1,Zf$1(et)?(o=!0,cg$1(s)):o=!1,Tg(s,j),ph(s,et,bt),rh$1(s,et,bt,j),kj(null,s,et,!0,o,j);case 19:return yj(o,s,j);case 22:return ej(o,s,j)}throw Error(p$3(156,s.tag))};function Gk(o,s){return ac$2(o,s)}function al$2(o,s,j,et){this.tag=o,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,s,j,et){return new al$2(o,s,j,et)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da$1)return 11;if(o===Ga)return 14}return 2}function wh$1(o,s){var j=o.alternate;return j===null?(j=Bg(o.tag,s,o.key,o.mode),j.elementType=o.elementType,j.type=o.type,j.stateNode=o.stateNode,j.alternate=o,o.alternate=j):(j.pendingProps=s,j.type=o.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=o.flags&14680064,j.childLanes=o.childLanes,j.lanes=o.lanes,j.child=o.child,j.memoizedProps=o.memoizedProps,j.memoizedState=o.memoizedState,j.updateQueue=o.updateQueue,s=o.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},j.sibling=o.sibling,j.index=o.index,j.ref=o.ref,j}function yh$1(o,s,j,et,bt,At){var Et=2;if(et=o,typeof o=="function")bj(o)&&(Et=1);else if(typeof o=="string")Et=5;else e:switch(o){case ya$1:return Ah(j.children,bt,At,s);case za$1:Et=8,bt|=8;break;case Aa$1:return o=Bg(12,j,s,bt|2),o.elementType=Aa$1,o.lanes=At,o;case Ea$1:return o=Bg(13,j,s,bt),o.elementType=Ea$1,o.lanes=At,o;case Fa:return o=Bg(19,j,s,bt),o.elementType=Fa,o.lanes=At,o;case Ia$1:return qj(j,bt,At,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba$1:Et=10;break e;case Ca$1:Et=9;break e;case Da$1:Et=11;break e;case Ga:Et=14;break e;case Ha$1:Et=16,et=null;break e}throw Error(p$3(130,o==null?o:typeof o,""))}return s=Bg(Et,j,s,bt),s.elementType=o,s.type=et,s.lanes=At,s}function Ah(o,s,j,et){return o=Bg(7,o,et,s),o.lanes=j,o}function qj(o,s,j,et){return o=Bg(22,o,et,s),o.elementType=Ia$1,o.lanes=j,o.stateNode={isHidden:!1},o}function xh$1(o,s,j){return o=Bg(6,o,null,s),o.lanes=j,o}function zh$1(o,s,j){return s=Bg(4,o.children!==null?o.children:[],o.key,s),s.lanes=j,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function bl$2(o,s,j,et,bt){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$2(0),this.expirationTimes=zc$2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$2(0),this.identifierPrefix=et,this.onRecoverableError=bt,this.mutableSourceEagerHydrationData=null}function cl$2(o,s,j,et,bt,At,Et,Ut,zt){return o=new bl$2(o,s,j,Ut,zt),s===1?(s=1,At===!0&&(s|=8)):s=0,At=Bg(3,null,null,s),o.current=At,At.stateNode=o,At.memoizedState={element:et,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah$1(At),o}function dl$2(o,s,j){var et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:et==null?null:""+et,children:o,containerInfo:s,implementation:j}}function el$2(o){if(!o)return Vf$1;o=o._reactInternals;e:{if(Vb$1(o)!==o||o.tag!==1)throw Error(p$3(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf$1(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$3(171))}if(o.tag===1){var j=o.type;if(Zf$1(j))return bg$1(o,j,s)}return s}function fl$2(o,s,j,et,bt,At,Et,Ut,zt){return o=cl$2(j,et,!0,o,bt,At,Et,Ut,zt),o.context=el$2(null),j=o.current,et=L$1(),bt=lh$1(j),At=ch$1(et,bt),At.callback=s??null,dh$1(j,At,bt),o.current.lanes=bt,Ac$2(o,bt,et),Ek(o,et),o}function gl$2(o,s,j,et){var bt=s.current,At=L$1(),Et=lh$1(bt);return j=el$2(j),s.context===null?s.context=j:s.pendingContext=j,s=ch$1(At,Et),s.payload={element:o},et=et===void 0?null:et,et!==null&&(s.callback=et),o=dh$1(bt,s,Et),o!==null&&(mh$1(o,bt,Et,At),eh$1(o,bt,Et)),Et}function hl$2(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il$2(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var j=o.retryLane;o.retryLane=j!==0&&j<s?j:s}}function jl$2(o,s){il$2(o,s),(o=o.alternate)&&il$2(o,s)}function kl$2(){return null}var ll$2=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml$2(o){this._internalRoot=o}nl$2.prototype.render=ml$2.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(p$3(409));gl$2(o,s,null,null)};nl$2.prototype.unmount=ml$2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Sk(function(){gl$2(null,o,null,null)}),s[uf$2]=null}};function nl$2(o){this._internalRoot=o}nl$2.prototype.unstable_scheduleHydration=function(o){if(o){var s=Hc$2();o={blockedOn:null,target:o,priority:s};for(var j=0;j<Qc$2.length&&s!==0&&s<Qc$2[j].priority;j++);Qc$2.splice(j,0,o),j===0&&Vc$2(o)}};function ol$2(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl$2(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql$2(){}function rl$2(o,s,j,et,bt){if(bt){if(typeof et=="function"){var At=et;et=function(){var It=hl$2(Et);At.call(It)}}var Et=fl$2(s,et,o,0,null,!1,!1,"",ql$2);return o._reactRootContainer=Et,o[uf$2]=Et.current,sf$2(o.nodeType===8?o.parentNode:o),Sk(),Et}for(;bt=o.lastChild;)o.removeChild(bt);if(typeof et=="function"){var Ut=et;et=function(){var It=hl$2(zt);Ut.call(It)}}var zt=cl$2(o,0,!1,null,null,!1,!1,"",ql$2);return o._reactRootContainer=zt,o[uf$2]=zt.current,sf$2(o.nodeType===8?o.parentNode:o),Sk(function(){gl$2(s,zt,j,et)}),zt}function sl$2(o,s,j,et,bt){var At=j._reactRootContainer;if(At){var Et=At;if(typeof bt=="function"){var Ut=bt;bt=function(){var zt=hl$2(Et);Ut.call(zt)}}gl$2(s,Et,o,bt)}else Et=rl$2(j,s,o,bt,et);return hl$2(Et)}Ec$2=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var j=tc$2(s.pendingLanes);j!==0&&(Cc$2(s,j|1),Ek(s,B()),!(K$1&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var et=Zg(o,1);if(et!==null){var bt=L$1();mh$1(et,o,1,bt)}}),jl$2(o,1)}};Fc$2=function(o){if(o.tag===13){var s=Zg(o,134217728);if(s!==null){var j=L$1();mh$1(s,o,134217728,j)}jl$2(o,134217728)}};Gc$2=function(o){if(o.tag===13){var s=lh$1(o),j=Zg(o,s);if(j!==null){var et=L$1();mh$1(j,o,s,et)}jl$2(o,s)}};Hc$2=function(){return C};Ic$2=function(o,s){var j=C;try{return C=o,s()}finally{C=j}};yb$1=function(o,s,j){switch(s){case"input":if(bb$1(o,j),s=j.name,j.type==="radio"&&s!=null){for(j=o;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<j.length;s++){var et=j[s];if(et!==o&&et.form===o.form){var bt=Db$1(et);if(!bt)throw Error(p$3(90));Wa(et),bb$1(et,bt)}}}break;case"textarea":ib$1(o,j);break;case"select":s=j.value,s!=null&&fb$1(o,!!j.multiple,s,!1)}};Gb$1=Rk;Hb$1=Sk;var tl$1={usingClientEntryPoint:!1,Events:[Cb$1,ue,Db$1,Eb$1,Fb$1,Rk]},ul$2={findFiberByHostInstance:Wc$2,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl$2={bundleType:ul$2.bundleType,version:ul$2.version,rendererPackageName:ul$2.rendererPackageName,rendererConfig:ul$2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$2.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb$1(o),o===null?null:o.stateNode},findFiberByHostInstance:ul$2.findFiberByHostInstance||kl$2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl$2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl$2.isDisabled&&wl$2.supportsFiber)try{kc$2=wl$2.inject(vl$2),lc$2=wl$2}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl$1;reactDom_production_min.createPortal=function(o,s){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol$2(s))throw Error(p$3(200));return dl$2(o,s,null,j)};reactDom_production_min.createRoot=function(o,s){if(!ol$2(o))throw Error(p$3(299));var j=!1,et="",bt=ll$2;return s!=null&&(s.unstable_strictMode===!0&&(j=!0),s.identifierPrefix!==void 0&&(et=s.identifierPrefix),s.onRecoverableError!==void 0&&(bt=s.onRecoverableError)),s=cl$2(o,1,!1,null,null,j,!1,et,bt),o[uf$2]=s.current,sf$2(o.nodeType===8?o.parentNode:o),new ml$2(s)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(p$3(188)):(o=Object.keys(o).join(","),Error(p$3(268,o)));return o=Zb$1(s),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,s,j){if(!pl$2(s))throw Error(p$3(200));return sl$2(null,o,s,!0,j)};reactDom_production_min.hydrateRoot=function(o,s,j){if(!ol$2(o))throw Error(p$3(405));var et=j!=null&&j.hydratedSources||null,bt=!1,At="",Et=ll$2;if(j!=null&&(j.unstable_strictMode===!0&&(bt=!0),j.identifierPrefix!==void 0&&(At=j.identifierPrefix),j.onRecoverableError!==void 0&&(Et=j.onRecoverableError)),s=fl$2(s,null,o,1,j??null,bt,!1,At,Et),o[uf$2]=s.current,sf$2(o),et)for(o=0;o<et.length;o++)j=et[o],bt=j._getVersion,bt=bt(j._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[j,bt]:s.mutableSourceEagerHydrationData.push(j,bt);return new nl$2(s)};reactDom_production_min.render=function(o,s,j){if(!pl$2(s))throw Error(p$3(200));return sl$2(null,o,s,!1,j)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl$2(o))throw Error(p$3(40));return o._reactRootContainer?(Sk(function(){sl$2(null,null,o,!1,function(){o._reactRootContainer=null,o[uf$2]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,s,j,et){if(!pl$2(j))throw Error(p$3(200));if(o==null||o._reactInternals===void 0)throw Error(p$3(38));return sl$2(o,s,j,!1,et)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var j=arguments[s];for(var et in j)Object.prototype.hasOwnProperty.call(j,et)&&(o[et]=j[et])}return o},_extends$3.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});function s(et,bt){let{pathname:At,search:Et,hash:Ut}=et.location;return createLocation("",{pathname:At,search:Et,hash:Ut},bt.state&&bt.state.usr||null,bt.state&&bt.state.key||"default")}function j(et,bt){return typeof bt=="string"?bt:createPath(bt)}return getUrlBasedHistory(s,j,null,o)}function invariant(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}function warning(o,s){if(!o){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,s){return{usr:o.state,key:o.key,idx:s}}function createLocation(o,s,j,et){return j===void 0&&(j=null),_extends$3({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:j,key:s&&s.key||et||createKey()})}function createPath(o){let{pathname:s="/",search:j="",hash:et=""}=o;return j&&j!=="?"&&(s+=j.charAt(0)==="?"?j:"?"+j),et&&et!=="#"&&(s+=et.charAt(0)==="#"?et:"#"+et),s}function parsePath(o){let s={};if(o){let j=o.indexOf("#");j>=0&&(s.hash=o.substr(j),o=o.substr(0,j));let et=o.indexOf("?");et>=0&&(s.search=o.substr(et),o=o.substr(0,et)),o&&(s.pathname=o)}return s}function getUrlBasedHistory(o,s,j,et){et===void 0&&(et={});let{window:bt=document.defaultView,v5Compat:At=!1}=et,Et=bt.history,Ut=Action.Pop,zt=null,It=Qt();It==null&&(It=0,Et.replaceState(_extends$3({},Et.state,{idx:It}),""));function Qt(){return(Et.state||{idx:null}).idx}function Pt(){Ut=Action.Pop;let Yr=Qt(),Kr=Yr==null?null:Yr-It;It=Yr,zt&&zt({action:Ut,location:vr.location,delta:Kr})}function Yt(Yr,Kr){Ut=Action.Push;let jr=createLocation(vr.location,Yr,Kr);j&&j(jr,Yr),It=Qt()+1;let Hn=getHistoryState(jr,It),tA=vr.createHref(jr);try{Et.pushState(Hn,"",tA)}catch(nA){if(nA instanceof DOMException&&nA.name==="DataCloneError")throw nA;bt.location.assign(tA)}At&&zt&&zt({action:Ut,location:vr.location,delta:1})}function cr(Yr,Kr){Ut=Action.Replace;let jr=createLocation(vr.location,Yr,Kr);j&&j(jr,Yr),It=Qt();let Hn=getHistoryState(jr,It),tA=vr.createHref(jr);Et.replaceState(Hn,"",tA),At&&zt&&zt({action:Ut,location:vr.location,delta:0})}function _r(Yr){let Kr=bt.location.origin!=="null"?bt.location.origin:bt.location.href,jr=typeof Yr=="string"?Yr:createPath(Yr);return jr=jr.replace(/ $/,"%20"),invariant(Kr,"No window.location.(origin|href) available to create URL for href: "+jr),new URL(jr,Kr)}let vr={get action(){return Ut},get location(){return o(bt,Et)},listen(Yr){if(zt)throw new Error("A history only accepts one active listener");return bt.addEventListener(PopStateEventType,Pt),zt=Yr,()=>{bt.removeEventListener(PopStateEventType,Pt),zt=null}},createHref(Yr){return s(bt,Yr)},createURL:_r,encodeLocation(Yr){let Kr=_r(Yr);return{pathname:Kr.pathname,search:Kr.search,hash:Kr.hash}},push:Yt,replace:cr,go(Yr){return Et.go(Yr)}};return vr}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));function matchRoutes(o,s,j){j===void 0&&(j="/");let et=typeof s=="string"?parsePath(s):s,bt=stripBasename(et.pathname||"/",j);if(bt==null)return null;let At=flattenRoutes(o);rankRouteBranches(At);let Et=null;for(let Ut=0;Et==null&&Ut<At.length;++Ut){let zt=decodePath(bt);Et=matchRouteBranch(At[Ut],zt)}return Et}function flattenRoutes(o,s,j,et){s===void 0&&(s=[]),j===void 0&&(j=[]),et===void 0&&(et="");let bt=(At,Et,Ut)=>{let zt={relativePath:Ut===void 0?At.path||"":Ut,caseSensitive:At.caseSensitive===!0,childrenIndex:Et,route:At};zt.relativePath.startsWith("/")&&(invariant(zt.relativePath.startsWith(et),'Absolute route path "'+zt.relativePath+'" nested under path '+('"'+et+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),zt.relativePath=zt.relativePath.slice(et.length));let It=joinPaths([et,zt.relativePath]),Qt=j.concat(zt);At.children&&At.children.length>0&&(invariant(At.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+It+'".')),flattenRoutes(At.children,s,Qt,It)),!(At.path==null&&!At.index)&&s.push({path:It,score:computeScore(It,At.index),routesMeta:Qt})};return o.forEach((At,Et)=>{var Ut;if(At.path===""||!((Ut=At.path)!=null&&Ut.includes("?")))bt(At,Et);else for(let zt of explodeOptionalSegments(At.path))bt(At,Et,zt)}),s}function explodeOptionalSegments(o){let s=o.split("/");if(s.length===0)return[];let[j,...et]=s,bt=j.endsWith("?"),At=j.replace(/\?$/,"");if(et.length===0)return bt?[At,""]:[At];let Et=explodeOptionalSegments(et.join("/")),Ut=[];return Ut.push(...Et.map(zt=>zt===""?At:[At,zt].join("/"))),bt&&Ut.push(...Et),Ut.map(zt=>o.startsWith("/")&&zt===""?"/":zt)}function rankRouteBranches(o){o.sort((s,j)=>s.score!==j.score?j.score-s.score:compareIndexes(s.routesMeta.map(et=>et.childrenIndex),j.routesMeta.map(et=>et.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,s){let j=o.split("/"),et=j.length;return j.some(isSplat)&&(et+=splatPenalty),s&&(et+=indexRouteValue),j.filter(bt=>!isSplat(bt)).reduce((bt,At)=>bt+(paramRe.test(At)?dynamicSegmentValue:At===""?emptySegmentValue:staticSegmentValue),et)}function compareIndexes(o,s){return o.length===s.length&&o.slice(0,-1).every((et,bt)=>et===s[bt])?o[o.length-1]-s[s.length-1]:0}function matchRouteBranch(o,s){let{routesMeta:j}=o,et={},bt="/",At=[];for(let Et=0;Et<j.length;++Et){let Ut=j[Et],zt=Et===j.length-1,It=bt==="/"?s:s.slice(bt.length)||"/",Qt=matchPath({path:Ut.relativePath,caseSensitive:Ut.caseSensitive,end:zt},It);if(!Qt)return null;Object.assign(et,Qt.params);let Pt=Ut.route;At.push({params:et,pathname:joinPaths([bt,Qt.pathname]),pathnameBase:normalizePathname(joinPaths([bt,Qt.pathnameBase])),route:Pt}),Qt.pathnameBase!=="/"&&(bt=joinPaths([bt,Qt.pathnameBase]))}return At}function matchPath(o,s){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[j,et]=compilePath(o.path,o.caseSensitive,o.end),bt=s.match(j);if(!bt)return null;let At=bt[0],Et=At.replace(/(.)\/+$/,"$1"),Ut=bt.slice(1);return{params:et.reduce((It,Qt,Pt)=>{let{paramName:Yt,isOptional:cr}=Qt;if(Yt==="*"){let vr=Ut[Pt]||"";Et=At.slice(0,At.length-vr.length).replace(/(.)\/+$/,"$1")}const _r=Ut[Pt];return cr&&!_r?It[Yt]=void 0:It[Yt]=(_r||"").replace(/%2F/g,"/"),It},{}),pathname:At,pathnameBase:Et,pattern:o}}function compilePath(o,s,j){s===void 0&&(s=!1),j===void 0&&(j=!0),warning(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let et=[],bt="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Et,Ut,zt)=>(et.push({paramName:Ut,isOptional:zt!=null}),zt?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(et.push({paramName:"*"}),bt+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):j?bt+="\\/*$":o!==""&&o!=="/"&&(bt+="(?:(?=\\/|$))"),[new RegExp(bt,s?void 0:"i"),et]}function decodePath(o){try{return o.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),o}}function stripBasename(o,s){if(s==="/")return o;if(!o.toLowerCase().startsWith(s.toLowerCase()))return null;let j=s.endsWith("/")?s.length-1:s.length,et=o.charAt(j);return et&&et!=="/"?null:o.slice(j)||"/"}function resolvePath(o,s){s===void 0&&(s="/");let{pathname:j,search:et="",hash:bt=""}=typeof o=="string"?parsePath(o):o;return{pathname:j?j.startsWith("/")?j:resolvePathname(j,s):s,search:normalizeSearch(et),hash:normalizeHash(bt)}}function resolvePathname(o,s){let j=s.replace(/\/+$/,"").split("/");return o.split("/").forEach(bt=>{bt===".."?j.length>1&&j.pop():bt!=="."&&j.push(bt)}),j.length>1?j.join("/"):"/"}function getInvalidPathError(o,s,j,et){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(et)+"].  Please separate it out to the ")+("`to."+j+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((s,j)=>j===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(o,s){let j=getPathContributingMatches(o);return s?j.map((et,bt)=>bt===o.length-1?et.pathname:et.pathnameBase):j.map(et=>et.pathnameBase)}function resolveTo(o,s,j,et){et===void 0&&(et=!1);let bt;typeof o=="string"?bt=parsePath(o):(bt=_extends$3({},o),invariant(!bt.pathname||!bt.pathname.includes("?"),getInvalidPathError("?","pathname","search",bt)),invariant(!bt.pathname||!bt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",bt)),invariant(!bt.search||!bt.search.includes("#"),getInvalidPathError("#","search","hash",bt)));let At=o===""||bt.pathname==="",Et=At?"/":bt.pathname,Ut;if(Et==null)Ut=j;else{let Pt=s.length-1;if(!et&&Et.startsWith("..")){let Yt=Et.split("/");for(;Yt[0]==="..";)Yt.shift(),Pt-=1;bt.pathname=Yt.join("/")}Ut=Pt>=0?s[Pt]:"/"}let zt=resolvePath(bt,Ut),It=Et&&Et!=="/"&&Et.endsWith("/"),Qt=(At||Et===".")&&j.endsWith("/");return!zt.pathname.endsWith("/")&&(It||Qt)&&(zt.pathname+="/"),zt}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var j=arguments[s];for(var et in j)Object.prototype.hasOwnProperty.call(j,et)&&(o[et]=j[et])}return o},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let o=reactExports.useContext(DataRouterContext),{basename:s,future:j,navigator:et}=reactExports.useContext(NavigationContext),{matches:bt}=reactExports.useContext(RouteContext),{pathname:At}=useLocation(),Et=JSON.stringify(getResolveToMatches(bt,j.v7_relativeSplatPath)),Ut=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{Ut.current=!0}),reactExports.useCallback(function(It,Qt){if(Qt===void 0&&(Qt={}),!Ut.current)return;if(typeof It=="number"){et.go(It);return}let Pt=resolveTo(It,JSON.parse(Et),At,Qt.relative==="path");o==null&&s!=="/"&&(Pt.pathname=Pt.pathname==="/"?s:joinPaths([s,Pt.pathname])),(Qt.replace?et.replace:et.push)(Pt,Qt.state,Qt)},[s,et,Et,At,o])}const OutletContext=reactExports.createContext(null);function useOutlet(o){let s=reactExports.useContext(RouteContext).outlet;return s&&reactExports.createElement(OutletContext.Provider,{value:o},s)}function useParams(){let{matches:o}=reactExports.useContext(RouteContext),s=o[o.length-1];return s?s.params:{}}function useRoutes(o,s){return useRoutesImpl(o,s)}function useRoutesImpl(o,s,j,et){useInRouterContext()||invariant(!1);let{navigator:bt}=reactExports.useContext(NavigationContext),{matches:At}=reactExports.useContext(RouteContext),Et=At[At.length-1],Ut=Et?Et.params:{};Et&&Et.pathname;let zt=Et?Et.pathnameBase:"/";Et&&Et.route;let It=useLocation(),Qt;if(s){var Pt;let Yr=typeof s=="string"?parsePath(s):s;zt==="/"||(Pt=Yr.pathname)!=null&&Pt.startsWith(zt)||invariant(!1),Qt=Yr}else Qt=It;let Yt=Qt.pathname||"/",cr=Yt;if(zt!=="/"){let Yr=zt.replace(/^\//,"").split("/");cr="/"+Yt.replace(/^\//,"").split("/").slice(Yr.length).join("/")}let _r=matchRoutes(o,{pathname:cr}),vr=_renderMatches(_r&&_r.map(Yr=>Object.assign({},Yr,{params:Object.assign({},Ut,Yr.params),pathname:joinPaths([zt,bt.encodeLocation?bt.encodeLocation(Yr.pathname).pathname:Yr.pathname]),pathnameBase:Yr.pathnameBase==="/"?zt:joinPaths([zt,bt.encodeLocation?bt.encodeLocation(Yr.pathnameBase).pathname:Yr.pathnameBase])})),At,j,et);return s&&vr?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},Qt),navigationType:Action.Pop}},vr):vr}function DefaultErrorComponent(){let o=useRouteError(),s=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),j=o instanceof Error?o.stack:null,bt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),j?reactExports.createElement("pre",{style:bt},j):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,j){return j.location!==s.location||j.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:j.error,location:j.location,revalidation:s.revalidation||j.revalidation}}componentDidCatch(s,j){console.error("React Router caught the following error during render",s,j)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:s,match:j,children:et}=o,bt=reactExports.useContext(DataRouterContext);return bt&&bt.static&&bt.staticContext&&(j.route.errorElement||j.route.ErrorBoundary)&&(bt.staticContext._deepestRenderedBoundaryId=j.route.id),reactExports.createElement(RouteContext.Provider,{value:s},et)}function _renderMatches(o,s,j,et){var bt;if(s===void 0&&(s=[]),j===void 0&&(j=null),et===void 0&&(et=null),o==null){var At;if((At=j)!=null&&At.errors)o=j.matches;else return null}let Et=o,Ut=(bt=j)==null?void 0:bt.errors;if(Ut!=null){let Qt=Et.findIndex(Pt=>Pt.route.id&&(Ut==null?void 0:Ut[Pt.route.id]));Qt>=0||invariant(!1),Et=Et.slice(0,Math.min(Et.length,Qt+1))}let zt=!1,It=-1;if(j&&et&&et.v7_partialHydration)for(let Qt=0;Qt<Et.length;Qt++){let Pt=Et[Qt];if((Pt.route.HydrateFallback||Pt.route.hydrateFallbackElement)&&(It=Qt),Pt.route.id){let{loaderData:Yt,errors:cr}=j,_r=Pt.route.loader&&Yt[Pt.route.id]===void 0&&(!cr||cr[Pt.route.id]===void 0);if(Pt.route.lazy||_r){zt=!0,It>=0?Et=Et.slice(0,It+1):Et=[Et[0]];break}}}return Et.reduceRight((Qt,Pt,Yt)=>{let cr,_r=!1,vr=null,Yr=null;j&&(cr=Ut&&Pt.route.id?Ut[Pt.route.id]:void 0,vr=Pt.route.errorElement||defaultErrorElement,zt&&(It<0&&Yt===0?(warningOnce("route-fallback",!1),_r=!0,Yr=null):It===Yt&&(_r=!0,Yr=Pt.route.hydrateFallbackElement||null)));let Kr=s.concat(Et.slice(0,Yt+1)),jr=()=>{let Hn;return cr?Hn=vr:_r?Hn=Yr:Pt.route.Component?Hn=reactExports.createElement(Pt.route.Component,null):Pt.route.element?Hn=Pt.route.element:Hn=Qt,reactExports.createElement(RenderedRoute,{match:Pt,routeContext:{outlet:Qt,matches:Kr,isDataRoute:j!=null},children:Hn})};return j&&(Pt.route.ErrorBoundary||Pt.route.errorElement||Yt===0)?reactExports.createElement(RenderErrorBoundary,{location:j.location,revalidation:j.revalidation,component:vr,error:cr,children:jr(),routeContext:{outlet:null,matches:Kr,isDataRoute:!0}}):jr()},null)}var DataRouterHook$1=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(DataRouterHook$1||{}),DataRouterStateHook$1=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(DataRouterStateHook$1||{});function useDataRouterContext(o){let s=reactExports.useContext(DataRouterContext);return s||invariant(!1),s}function useDataRouterState(o){let s=reactExports.useContext(DataRouterStateContext);return s||invariant(!1),s}function useRouteContext(o){let s=reactExports.useContext(RouteContext);return s||invariant(!1),s}function useCurrentRouteId(o){let s=useRouteContext(),j=s.matches[s.matches.length-1];return j.route.id||invariant(!1),j.route.id}function useRouteError(){var o;let s=reactExports.useContext(RouteErrorContext),j=useDataRouterState(DataRouterStateHook$1.UseRouteError),et=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return s!==void 0?s:(o=j.errors)==null?void 0:o[et]}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),j=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{j.current=!0}),reactExports.useCallback(function(bt,At){At===void 0&&(At={}),j.current&&(typeof bt=="number"?o.navigate(bt):o.navigate(bt,_extends$2({fromRouteId:s},At)))},[o,s])}const alreadyWarned={};function warningOnce(o,s,j){!s&&!alreadyWarned[o]&&(alreadyWarned[o]=!0)}function Outlet(o){return useOutlet(o.context)}function Route(o){invariant(!1)}function Router(o){let{basename:s="/",children:j=null,location:et,navigationType:bt=Action.Pop,navigator:At,static:Et=!1,future:Ut}=o;useInRouterContext()&&invariant(!1);let zt=s.replace(/^\/*/,"/"),It=reactExports.useMemo(()=>({basename:zt,navigator:At,static:Et,future:_extends$2({v7_relativeSplatPath:!1},Ut)}),[zt,Ut,At,Et]);typeof et=="string"&&(et=parsePath(et));let{pathname:Qt="/",search:Pt="",hash:Yt="",state:cr=null,key:_r="default"}=et,vr=reactExports.useMemo(()=>{let Yr=stripBasename(Qt,zt);return Yr==null?null:{location:{pathname:Yr,search:Pt,hash:Yt,state:cr,key:_r},navigationType:bt}},[zt,Qt,Pt,Yt,cr,_r,bt]);return vr==null?null:reactExports.createElement(NavigationContext.Provider,{value:It},reactExports.createElement(LocationContext.Provider,{children:j,value:vr}))}function Routes(o){let{children:s,location:j}=o;return useRoutes(createRoutesFromChildren(s),j)}new Promise(()=>{});function createRoutesFromChildren(o,s){s===void 0&&(s=[]);let j=[];return reactExports.Children.forEach(o,(et,bt)=>{if(!reactExports.isValidElement(et))return;let At=[...s,bt];if(et.type===reactExports.Fragment){j.push.apply(j,createRoutesFromChildren(et.props.children,At));return}et.type!==Route&&invariant(!1),!et.props.index||!et.props.children||invariant(!1);let Et={id:et.props.id||At.join("-"),caseSensitive:et.props.caseSensitive,element:et.props.element,Component:et.props.Component,index:et.props.index,path:et.props.path,loader:et.props.loader,action:et.props.action,errorElement:et.props.errorElement,ErrorBoundary:et.props.ErrorBoundary,hasErrorBoundary:et.props.ErrorBoundary!=null||et.props.errorElement!=null,shouldRevalidate:et.props.shouldRevalidate,handle:et.props.handle,lazy:et.props.lazy};et.props.children&&(Et.children=createRoutesFromChildren(et.props.children,At)),j.push(Et)}),j}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$2[START_TRANSITION];function BrowserRouter(o){let{basename:s,children:j,future:et,window:bt}=o,At=reactExports.useRef();At.current==null&&(At.current=createBrowserHistory({window:bt,v5Compat:!0}));let Et=At.current,[Ut,zt]=reactExports.useState({action:Et.action,location:Et.location}),{v7_startTransition:It}=et||{},Qt=reactExports.useCallback(Pt=>{It&&startTransitionImpl?startTransitionImpl(()=>zt(Pt)):zt(Pt)},[zt,It]);return reactExports.useLayoutEffect(()=>Et.listen(Qt),[Et,Qt]),reactExports.createElement(Router,{basename:s,children:j,location:Ut.location,navigationType:Ut.action,navigator:Et,future:et})}var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const common={black:"#000",white:"#fff"},common$1=common,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function formatMuiErrorMessage$1(o){let s="https://mui.com/production-error/?code="+o;for(let j=1;j<arguments.length;j+=1)s+="&args[]="+encodeURIComponent(arguments[j]);return"Minified MUI error #"+o+"; visit "+s+" for the full message."}const formatMuiErrorMessage=Object.freeze(Object.defineProperty({__proto__:null,default:formatMuiErrorMessage$1},Symbol.toStringTag,{value:"Module"})),THEME_ID="$$material";function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var j=arguments[s];for(var et in j)Object.prototype.hasOwnProperty.call(j,et)&&(o[et]=j[et])}return o},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose(o,s){if(o==null)return{};var j={},et=Object.keys(o),bt,At;for(At=0;At<et.length;At++)bt=et[At],!(s.indexOf(bt)>=0)&&(j[bt]=o[bt]);return j}function memoize$1(o){var s=Object.create(null);return function(j){return s[j]===void 0&&(s[j]=o(j)),s[j]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(o){return reactPropsRegex.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91});function sheetForTag(o){if(o.sheet)return o.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===o)return document.styleSheets[s]}function createStyleElement(o){var s=document.createElement("style");return s.setAttribute("data-emotion",o.key),o.nonce!==void 0&&s.setAttribute("nonce",o.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function o(j){var et=this;this._insertTag=function(bt){var At;et.tags.length===0?et.insertionPoint?At=et.insertionPoint.nextSibling:et.prepend?At=et.container.firstChild:At=et.before:At=et.tags[et.tags.length-1].nextSibling,et.container.insertBefore(bt,At),et.tags.push(bt)},this.isSpeedy=j.speedy===void 0?!0:j.speedy,this.tags=[],this.ctr=0,this.nonce=j.nonce,this.key=j.key,this.container=j.container,this.prepend=j.prepend,this.insertionPoint=j.insertionPoint,this.before=null}var s=o.prototype;return s.hydrate=function(et){et.forEach(this._insertTag)},s.insert=function(et){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var bt=this.tags[this.tags.length-1];if(this.isSpeedy){var At=sheetForTag(bt);try{At.insertRule(et,At.cssRules.length)}catch{}}else bt.appendChild(document.createTextNode(et));this.ctr++},s.flush=function(){this.tags.forEach(function(et){return et.parentNode&&et.parentNode.removeChild(et)}),this.tags=[],this.ctr=0},o}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$2(o,s){return charat(o,0)^45?(((s<<2^charat(o,0))<<2^charat(o,1))<<2^charat(o,2))<<2^charat(o,3):0}function trim(o){return o.trim()}function match(o,s){return(o=s.exec(o))?o[0]:o}function replace(o,s,j){return o.replace(s,j)}function indexof(o,s){return o.indexOf(s)}function charat(o,s){return o.charCodeAt(s)|0}function substr(o,s,j){return o.slice(s,j)}function strlen(o){return o.length}function sizeof(o){return o.length}function append(o,s){return s.push(o),o}function combine(o,s){return o.map(s).join("")}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(o,s,j,et,bt,At,Et){return{value:o,root:s,parent:j,type:et,props:bt,children:At,line,column,length:Et,return:""}}function copy(o,s){return assign(node("",null,null,"",null,null,0),o,{length:-o.length},s)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(o,s){return substr(characters,o,s)}function token(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(o){return line=column=1,length=strlen(characters=o),position$1=0,[]}function dealloc(o){return characters="",o}function delimit(o){return trim(slice(position$1-1,delimiter(o===91?o+2:o===40?o+1:o)))}function whitespace(o){for(;(character=peek())&&character<33;)next();return token(o)>2||token(character)>3?"":" "}function escaping(o,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(o,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(o){for(;next();)switch(character){case o:return position$1;case 34:case 39:o!==34&&o!==39&&delimiter(character);break;case 40:o===41&&delimiter(o);break;case 92:next();break}return position$1}function commenter(o,s){for(;next()&&o+character!==57;)if(o+character===84&&peek()===47)break;return"/*"+slice(s,position$1-1)+"*"+from(o===47?o:next())}function identifier(o){for(;!token(peek());)next();return slice(o,position$1)}function compile(o){return dealloc(parse$1("",null,null,null,[""],o=alloc(o),0,[0],o))}function parse$1(o,s,j,et,bt,At,Et,Ut,zt){for(var It=0,Qt=0,Pt=Et,Yt=0,cr=0,_r=0,vr=1,Yr=1,Kr=1,jr=0,Hn="",tA=bt,nA=At,aA=et,lA=Hn;Yr;)switch(_r=jr,jr=next()){case 40:if(_r!=108&&charat(lA,Pt-1)==58){indexof(lA+=replace(delimit(jr),"&","&\f"),"&\f")!=-1&&(Kr=-1);break}case 34:case 39:case 91:lA+=delimit(jr);break;case 9:case 10:case 13:case 32:lA+=whitespace(_r);break;case 92:lA+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),s,j),zt);break;default:lA+="/"}break;case 123*vr:Ut[It++]=strlen(lA)*Kr;case 125*vr:case 59:case 0:switch(jr){case 0:case 125:Yr=0;case 59+Qt:Kr==-1&&(lA=replace(lA,/\f/g,"")),cr>0&&strlen(lA)-Pt&&append(cr>32?declaration(lA+";",et,j,Pt-1):declaration(replace(lA," ","")+";",et,j,Pt-2),zt);break;case 59:lA+=";";default:if(append(aA=ruleset(lA,s,j,It,Qt,bt,Ut,Hn,tA=[],nA=[],Pt),At),jr===123)if(Qt===0)parse$1(lA,s,aA,aA,tA,At,Pt,Ut,nA);else switch(Yt===99&&charat(lA,3)===110?100:Yt){case 100:case 108:case 109:case 115:parse$1(o,aA,aA,et&&append(ruleset(o,aA,aA,0,0,bt,Ut,Hn,bt,tA=[],Pt),nA),bt,nA,Pt,Ut,et?tA:nA);break;default:parse$1(lA,aA,aA,aA,[""],nA,0,Ut,nA)}}It=Qt=cr=0,vr=Kr=1,Hn=lA="",Pt=Et;break;case 58:Pt=1+strlen(lA),cr=_r;default:if(vr<1){if(jr==123)--vr;else if(jr==125&&vr++==0&&prev()==125)continue}switch(lA+=from(jr),jr*vr){case 38:Kr=Qt>0?1:(lA+="\f",-1);break;case 44:Ut[It++]=(strlen(lA)-1)*Kr,Kr=1;break;case 64:peek()===45&&(lA+=delimit(next())),Yt=peek(),Qt=Pt=strlen(Hn=lA+=identifier(caret())),jr++;break;case 45:_r===45&&strlen(lA)==2&&(vr=0)}}return At}function ruleset(o,s,j,et,bt,At,Et,Ut,zt,It,Qt){for(var Pt=bt-1,Yt=bt===0?At:[""],cr=sizeof(Yt),_r=0,vr=0,Yr=0;_r<et;++_r)for(var Kr=0,jr=substr(o,Pt+1,Pt=abs(vr=Et[_r])),Hn=o;Kr<cr;++Kr)(Hn=trim(vr>0?Yt[Kr]+" "+jr:replace(jr,/&\f/g,Yt[Kr])))&&(zt[Yr++]=Hn);return node(o,s,j,bt===0?RULESET:Ut,zt,It,Qt)}function comment(o,s,j){return node(o,s,j,COMMENT,from(char()),substr(o,2,-2),0)}function declaration(o,s,j,et){return node(o,s,j,DECLARATION,substr(o,0,et),substr(o,et+1,-1),et)}function serialize(o,s){for(var j="",et=sizeof(o),bt=0;bt<et;bt++)j+=s(o[bt],bt,o,s)||"";return j}function stringify(o,s,j,et){switch(o.type){case LAYER:if(o.children.length)break;case IMPORT:case DECLARATION:return o.return=o.return||o.value;case COMMENT:return"";case KEYFRAMES:return o.return=o.value+"{"+serialize(o.children,et)+"}";case RULESET:o.value=o.props.join(",")}return strlen(j=serialize(o.children,et))?o.return=o.value+"{"+j+"}":""}function middleware(o){var s=sizeof(o);return function(j,et,bt,At){for(var Et="",Ut=0;Ut<s;Ut++)Et+=o[Ut](j,et,bt,At)||"";return Et}}function rulesheet(o){return function(s){s.root||(s=s.return)&&o(s)}}var identifierWithPointTracking=function(s,j,et){for(var bt=0,At=0;bt=At,At=peek(),bt===38&&At===12&&(j[et]=1),!token(At);)next();return slice(s,position$1)},toRules=function(s,j){var et=-1,bt=44;do switch(token(bt)){case 0:bt===38&&peek()===12&&(j[et]=1),s[et]+=identifierWithPointTracking(position$1-1,j,et);break;case 2:s[et]+=delimit(bt);break;case 4:if(bt===44){s[++et]=peek()===58?"&\f":"",j[et]=s[et].length;break}default:s[et]+=from(bt)}while(bt=next());return s},getRules=function(s,j){return dealloc(toRules(alloc(s),j))},fixedElements=new WeakMap,compat=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var j=s.value,et=s.parent,bt=s.column===et.column&&s.line===et.line;et.type!=="rule";)if(et=et.parent,!et)return;if(!(s.props.length===1&&j.charCodeAt(0)!==58&&!fixedElements.get(et))&&!bt){fixedElements.set(s,!0);for(var At=[],Et=getRules(j,At),Ut=et.props,zt=0,It=0;zt<Et.length;zt++)for(var Qt=0;Qt<Ut.length;Qt++,It++)s.props[It]=At[zt]?Et[zt].replace(/&\f/g,Ut[Qt]):Ut[Qt]+" "+Et[zt]}}},removeLabel=function(s){if(s.type==="decl"){var j=s.value;j.charCodeAt(0)===108&&j.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(o,s){switch(hash$2(o,s)){case 5103:return WEBKIT+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+o+MOZ+o+MS+o+o;case 6828:case 4268:return WEBKIT+o+MS+o+o;case 6165:return WEBKIT+o+MS+"flex-"+o+o;case 5187:return WEBKIT+o+replace(o,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+o;case 5443:return WEBKIT+o+MS+"flex-item-"+replace(o,/flex-|-self/,"")+o;case 4675:return WEBKIT+o+MS+"flex-line-pack"+replace(o,/align-content|flex-|-self/,"")+o;case 5548:return WEBKIT+o+MS+replace(o,"shrink","negative")+o;case 5292:return WEBKIT+o+MS+replace(o,"basis","preferred-size")+o;case 6060:return WEBKIT+"box-"+replace(o,"-grow","")+WEBKIT+o+MS+replace(o,"grow","positive")+o;case 4554:return WEBKIT+replace(o,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+o;case 6187:return replace(replace(replace(o,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),o,"")+o;case 5495:case 3959:return replace(o,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(o,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+o+o;case 4095:case 3583:case 4068:case 2532:return replace(o,/(.+)-inline(.+)/,WEBKIT+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(o)-1-s>6)switch(charat(o,s+1)){case 109:if(charat(o,s+4)!==45)break;case 102:return replace(o,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(o,s+3)==108?"$3":"$2-$3"))+o;case 115:return~indexof(o,"stretch")?prefix(replace(o,"stretch","fill-available"),s)+o:o}break;case 4949:if(charat(o,s+1)!==115)break;case 6444:switch(charat(o,strlen(o)-3-(~indexof(o,"!important")&&10))){case 107:return replace(o,":",":"+WEBKIT)+o;case 101:return replace(o,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(o,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+o}break;case 5936:switch(charat(o,s+11)){case 114:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"lr")+o}return WEBKIT+o+MS+o+o}return o}var prefixer=function(s,j,et,bt){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],bt);case RULESET:if(s.length)return combine(s.props,function(At){switch(match(At,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace(At,/:(read-\w+)/,":"+MOZ+"$1")]})],bt);case"::placeholder":return serialize([copy(s,{props:[replace(At,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace(At,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace(At,/:(plac\w+)/,MS+"input-$1")]})],bt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(s){var j=s.key;if(j==="css"){var et=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(et,function(vr){var Yr=vr.getAttribute("data-emotion");Yr.indexOf(" ")!==-1&&(document.head.appendChild(vr),vr.setAttribute("data-s",""))})}var bt=s.stylisPlugins||defaultStylisPlugins,At={},Et,Ut=[];Et=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+j+' "]'),function(vr){for(var Yr=vr.getAttribute("data-emotion").split(" "),Kr=1;Kr<Yr.length;Kr++)At[Yr[Kr]]=!0;Ut.push(vr)});var zt,It=[compat,removeLabel];{var Qt,Pt=[stringify,rulesheet(function(vr){Qt.insert(vr)})],Yt=middleware(It.concat(bt,Pt)),cr=function(Yr){return serialize(compile(Yr),Yt)};zt=function(Yr,Kr,jr,Hn){Qt=jr,cr(Yr?Yr+"{"+Kr.styles+"}":Kr.styles),Hn&&(_r.inserted[Kr.name]=!0)}}var _r={key:j,sheet:new StyleSheet({key:j,container:Et,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:At,registered:{},insert:zt};return _r.sheet.hydrate(Ut),_r},reactIs$2={exports:{}},reactIs_production_min$2={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$2=b$2?Symbol.for("react.element"):60103,d$2=b$2?Symbol.for("react.portal"):60106,e$3=b$2?Symbol.for("react.fragment"):60107,f$3=b$2?Symbol.for("react.strict_mode"):60108,g$2=b$2?Symbol.for("react.profiler"):60114,h$2=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l$2=b$2?Symbol.for("react.async_mode"):60111,m$2=b$2?Symbol.for("react.concurrent_mode"):60111,n$2=b$2?Symbol.for("react.forward_ref"):60112,p$2=b$2?Symbol.for("react.suspense"):60113,q$4=b$2?Symbol.for("react.suspense_list"):60120,r$1=b$2?Symbol.for("react.memo"):60115,t$2=b$2?Symbol.for("react.lazy"):60116,v$2=b$2?Symbol.for("react.block"):60121,w=b$2?Symbol.for("react.fundamental"):60117,x=b$2?Symbol.for("react.responder"):60118,y=b$2?Symbol.for("react.scope"):60119;function z$2(o){if(typeof o=="object"&&o!==null){var s=o.$$typeof;switch(s){case c$2:switch(o=o.type,o){case l$2:case m$2:case e$3:case g$2:case f$3:case p$2:return o;default:switch(o=o&&o.$$typeof,o){case k$2:case n$2:case t$2:case r$1:case h$2:return o;default:return s}}case d$2:return s}}}function A$1(o){return z$2(o)===m$2}reactIs_production_min$2.AsyncMode=l$2;reactIs_production_min$2.ConcurrentMode=m$2;reactIs_production_min$2.ContextConsumer=k$2;reactIs_production_min$2.ContextProvider=h$2;reactIs_production_min$2.Element=c$2;reactIs_production_min$2.ForwardRef=n$2;reactIs_production_min$2.Fragment=e$3;reactIs_production_min$2.Lazy=t$2;reactIs_production_min$2.Memo=r$1;reactIs_production_min$2.Portal=d$2;reactIs_production_min$2.Profiler=g$2;reactIs_production_min$2.StrictMode=f$3;reactIs_production_min$2.Suspense=p$2;reactIs_production_min$2.isAsyncMode=function(o){return A$1(o)||z$2(o)===l$2};reactIs_production_min$2.isConcurrentMode=A$1;reactIs_production_min$2.isContextConsumer=function(o){return z$2(o)===k$2};reactIs_production_min$2.isContextProvider=function(o){return z$2(o)===h$2};reactIs_production_min$2.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c$2};reactIs_production_min$2.isForwardRef=function(o){return z$2(o)===n$2};reactIs_production_min$2.isFragment=function(o){return z$2(o)===e$3};reactIs_production_min$2.isLazy=function(o){return z$2(o)===t$2};reactIs_production_min$2.isMemo=function(o){return z$2(o)===r$1};reactIs_production_min$2.isPortal=function(o){return z$2(o)===d$2};reactIs_production_min$2.isProfiler=function(o){return z$2(o)===g$2};reactIs_production_min$2.isStrictMode=function(o){return z$2(o)===f$3};reactIs_production_min$2.isSuspense=function(o){return z$2(o)===p$2};reactIs_production_min$2.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e$3||o===m$2||o===g$2||o===f$3||o===p$2||o===q$4||typeof o=="object"&&o!==null&&(o.$$typeof===t$2||o.$$typeof===r$1||o.$$typeof===h$2||o.$$typeof===k$2||o.$$typeof===n$2||o.$$typeof===w||o.$$typeof===x||o.$$typeof===y||o.$$typeof===v$2)};reactIs_production_min$2.typeOf=z$2;reactIs$2.exports=reactIs_production_min$2;var reactIsExports$1=reactIs$2.exports,reactIs$1=reactIsExports$1,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(o,s,j){var et="";return j.split(" ").forEach(function(bt){o[bt]!==void 0?s.push(o[bt]+";"):et+=bt+" "}),et}var registerStyles=function(s,j,et){var bt=s.key+"-"+j.name;(et===!1||isBrowser===!1)&&s.registered[bt]===void 0&&(s.registered[bt]=j.styles)},insertStyles=function(s,j,et){registerStyles(s,j,et);var bt=s.key+"-"+j.name;if(s.inserted[j.name]===void 0){var At=j;do s.insert(j===At?"."+bt:"",At,s.sheet,!0),At=At.next;while(At!==void 0)}};function murmur2(o){for(var s=0,j,et=0,bt=o.length;bt>=4;++et,bt-=4)j=o.charCodeAt(et)&255|(o.charCodeAt(++et)&255)<<8|(o.charCodeAt(++et)&255)<<16|(o.charCodeAt(++et)&255)<<24,j=(j&65535)*1540483477+((j>>>16)*59797<<16),j^=j>>>24,s=(j&65535)*1540483477+((j>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(bt){case 3:s^=(o.charCodeAt(et+2)&255)<<16;case 2:s^=(o.charCodeAt(et+1)&255)<<8;case 1:s^=o.charCodeAt(et)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(s){return s.charCodeAt(1)===45},isProcessableValue=function(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$1(function(o){return isCustomProperty(o)?o:o.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(s,j){switch(s){case"animation":case"animationName":if(typeof j=="string")return j.replace(animationRegex,function(et,bt,At){return cursor={name:bt,styles:At,next:cursor},bt})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof j=="number"&&j!==0?j+"px":j},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(o,s,j){if(j==null)return"";if(j.__emotion_styles!==void 0)return j;switch(typeof j){case"boolean":return"";case"object":{if(j.anim===1)return cursor={name:j.name,styles:j.styles,next:cursor},j.name;if(j.styles!==void 0){var et=j.next;if(et!==void 0)for(;et!==void 0;)cursor={name:et.name,styles:et.styles,next:cursor},et=et.next;var bt=j.styles+";";return bt}return createStringFromObject(o,s,j)}case"function":{if(o!==void 0){var At=cursor,Et=j(o);return cursor=At,handleInterpolation(o,s,Et)}break}}if(s==null)return j;var Ut=s[j];return Ut!==void 0?Ut:j}function createStringFromObject(o,s,j){var et="";if(Array.isArray(j))for(var bt=0;bt<j.length;bt++)et+=handleInterpolation(o,s,j[bt])+";";else for(var At in j){var Et=j[At];if(typeof Et!="object")s!=null&&s[Et]!==void 0?et+=At+"{"+s[Et]+"}":isProcessableValue(Et)&&(et+=processStyleName(At)+":"+processStyleValue(At,Et)+";");else if(Array.isArray(Et)&&typeof Et[0]=="string"&&(s==null||s[Et[0]]===void 0))for(var Ut=0;Ut<Et.length;Ut++)isProcessableValue(Et[Ut])&&(et+=processStyleName(At)+":"+processStyleValue(At,Et[Ut])+";");else{var zt=handleInterpolation(o,s,Et);switch(At){case"animation":case"animationName":{et+=processStyleName(At)+":"+zt+";";break}default:et+=At+"{"+zt+"}"}}}return et}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(s,j,et){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var bt=!0,At="";cursor=void 0;var Et=s[0];Et==null||Et.raw===void 0?(bt=!1,At+=handleInterpolation(et,j,Et)):At+=Et[0];for(var Ut=1;Ut<s.length;Ut++)At+=handleInterpolation(et,j,s[Ut]),bt&&(At+=Et[Ut]);labelPattern.lastIndex=0;for(var zt="",It;(It=labelPattern.exec(At))!==null;)zt+="-"+It[1];var Qt=murmur2(At)+zt;return{name:Qt,styles:At,next:cursor}},syncFallback=function(s){return s()},useInsertionEffect=React$2.useInsertionEffect?React$2.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function(s){return reactExports.forwardRef(function(j,et){var bt=reactExports.useContext(EmotionCacheContext);return s(j,bt,et)})},ThemeContext$2=reactExports.createContext({}),_extends={exports:{}},hasRequired_extends;function require_extends(){return hasRequired_extends||(hasRequired_extends=1,function(o){function s(){return o.exports=s=Object.assign?Object.assign.bind():function(j){for(var et=1;et<arguments.length;et++){var bt=arguments[et];for(var At in bt)Object.prototype.hasOwnProperty.call(bt,At)&&(j[At]=bt[At])}return j},o.exports.__esModule=!0,o.exports.default=o.exports,s.apply(this,arguments)}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}(_extends)),_extends.exports}require_extends();var Global=withEmotionCache(function(o,s){var j=o.styles,et=serializeStyles([j],void 0,reactExports.useContext(ThemeContext$2)),bt=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var At=s.key+"-global",Et=new s.sheet.constructor({key:At,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),Ut=!1,zt=document.querySelector('style[data-emotion="'+At+" "+et.name+'"]');return s.sheet.tags.length&&(Et.before=s.sheet.tags[0]),zt!==null&&(Ut=!0,zt.setAttribute("data-emotion",At),Et.hydrate([zt])),bt.current=[Et,Ut],function(){Et.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var At=bt.current,Et=At[0],Ut=At[1];if(Ut){At[1]=!1;return}if(et.next!==void 0&&insertStyles(s,et.next,!0),Et.tags.length){var zt=Et.tags[Et.tags.length-1].nextElementSibling;Et.before=zt,Et.flush()}s.insert("",et,Et,!1)},[s,et.name]),null});function css(){for(var o=arguments.length,s=new Array(o),j=0;j<o;j++)s[j]=arguments[j];return serializeStyles(s)}var keyframes=function(){var s=css.apply(void 0,arguments),j="animation-"+s.name;return{name:j,styles:"@keyframes "+j+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(s){return s!=="theme"},getDefaultShouldForwardProp=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(s,j,et){var bt;if(j){var At=j.shouldForwardProp;bt=s.__emotion_forwardProp&&At?function(Et){return s.__emotion_forwardProp(Et)&&At(Et)}:At}return typeof bt!="function"&&et&&(bt=s.__emotion_forwardProp),bt},Insertion=function(s){var j=s.cache,et=s.serialized,bt=s.isStringTag;return registerStyles(j,et,bt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(j,et,bt)}),null},createStyled$3=function o(s,j){var et=s.__emotion_real===s,bt=et&&s.__emotion_base||s,At,Et;j!==void 0&&(At=j.label,Et=j.target);var Ut=composeShouldForwardProps(s,j,et),zt=Ut||getDefaultShouldForwardProp(bt),It=!zt("as");return function(){var Qt=arguments,Pt=et&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(At!==void 0&&Pt.push("label:"+At+";"),Qt[0]==null||Qt[0].raw===void 0)Pt.push.apply(Pt,Qt);else{Pt.push(Qt[0][0]);for(var Yt=Qt.length,cr=1;cr<Yt;cr++)Pt.push(Qt[cr],Qt[0][cr])}var _r=withEmotionCache(function(vr,Yr,Kr){var jr=It&&vr.as||bt,Hn="",tA=[],nA=vr;if(vr.theme==null){nA={};for(var aA in vr)nA[aA]=vr[aA];nA.theme=reactExports.useContext(ThemeContext$2)}typeof vr.className=="string"?Hn=getRegisteredStyles(Yr.registered,tA,vr.className):vr.className!=null&&(Hn=vr.className+" ");var lA=serializeStyles(Pt.concat(tA),Yr.registered,nA);Hn+=Yr.key+"-"+lA.name,Et!==void 0&&(Hn+=" "+Et);var hA=It&&Ut===void 0?getDefaultShouldForwardProp(jr):zt,pA={};for(var wA in vr)It&&wA==="as"||hA(wA)&&(pA[wA]=vr[wA]);return pA.className=Hn,pA.ref=Kr,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Yr,serialized:lA,isStringTag:typeof jr=="string"}),reactExports.createElement(jr,pA))});return _r.displayName=At!==void 0?At:"Styled("+(typeof bt=="string"?bt:bt.displayName||bt.name||"Component")+")",_r.defaultProps=s.defaultProps,_r.__emotion_real=_r,_r.__emotion_base=bt,_r.__emotion_styles=Pt,_r.__emotion_forwardProp=Ut,Object.defineProperty(_r,"toString",{value:function(){return"."+Et}}),_r.withComponent=function(vr,Yr){return o(vr,_extends$1({},j,Yr,{shouldForwardProp:composeShouldForwardProps(_r,Yr,!0)})).apply(void 0,Pt)},_r}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$3.bind();tags.forEach(function(o){newStyled[o]=newStyled(o)});let cache;typeof document=="object"&&(cache=createCache({key:"css",prepend:!0}));function StyledEngineProvider(o){const{injectFirst:s,children:j}=o;return s&&cache?jsxRuntimeExports.jsx(CacheProvider,{value:cache,children:j}):j}function isEmpty$4(o){return o==null||Object.keys(o).length===0}function GlobalStyles$2(o){const{styles:s,defaultTheme:j={}}=o,et=typeof s=="function"?bt=>s(isEmpty$4(bt)?j:bt):s;return jsxRuntimeExports.jsx(Global,{styles:et})}function styled$2(o,s){return newStyled(o,s)}const internal_processStyles=(o,s)=>{Array.isArray(o.__emotion_styles)&&(o.__emotion_styles=s(o.__emotion_styles))},styledEngine=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:GlobalStyles$2,StyledEngineProvider,ThemeContext:ThemeContext$2,css,default:styled$2,internal_processStyles,keyframes},Symbol.toStringTag,{value:"Module"}));function isPlainObject(o){if(typeof o!="object"||o===null)return!1;const s=Object.getPrototypeOf(o);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)}function deepClone(o){if(!isPlainObject(o))return o;const s={};return Object.keys(o).forEach(j=>{s[j]=deepClone(o[j])}),s}function deepmerge$1(o,s,j={clone:!0}){const et=j.clone?_extends$1({},o):o;return isPlainObject(o)&&isPlainObject(s)&&Object.keys(s).forEach(bt=>{bt!=="__proto__"&&(isPlainObject(s[bt])&&bt in o&&isPlainObject(o[bt])?et[bt]=deepmerge$1(o[bt],s[bt],j):j.clone?et[bt]=isPlainObject(s[bt])?deepClone(s[bt]):s[bt]:et[bt]=s[bt])}),et}const deepmerge=Object.freeze(Object.defineProperty({__proto__:null,default:deepmerge$1,isPlainObject},Symbol.toStringTag,{value:"Module"})),_excluded$M=["values","unit","step"],sortBreakpointsValues=o=>{const s=Object.keys(o).map(j=>({key:j,val:o[j]}))||[];return s.sort((j,et)=>j.val-et.val),s.reduce((j,et)=>_extends$1({},j,{[et.key]:et.val}),{})};function createBreakpoints(o){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:j="px",step:et=5}=o,bt=_objectWithoutPropertiesLoose(o,_excluded$M),At=sortBreakpointsValues(s),Et=Object.keys(At);function Ut(Yt){return`@media (min-width:${typeof s[Yt]=="number"?s[Yt]:Yt}${j})`}function zt(Yt){return`@media (max-width:${(typeof s[Yt]=="number"?s[Yt]:Yt)-et/100}${j})`}function It(Yt,cr){const _r=Et.indexOf(cr);return`@media (min-width:${typeof s[Yt]=="number"?s[Yt]:Yt}${j}) and (max-width:${(_r!==-1&&typeof s[Et[_r]]=="number"?s[Et[_r]]:cr)-et/100}${j})`}function Qt(Yt){return Et.indexOf(Yt)+1<Et.length?It(Yt,Et[Et.indexOf(Yt)+1]):Ut(Yt)}function Pt(Yt){const cr=Et.indexOf(Yt);return cr===0?Ut(Et[1]):cr===Et.length-1?zt(Et[cr]):It(Yt,Et[Et.indexOf(Yt)+1]).replace("@media","@media not all and")}return _extends$1({keys:Et,values:At,up:Ut,down:zt,between:It,only:Qt,not:Pt,unit:j},bt)}const shape={borderRadius:4},shape$1=shape;function merge(o,s){return s?deepmerge$1(o,s,{clone:!1}):o}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:o=>`@media (min-width:${values$1[o]}px)`};function handleBreakpoints(o,s,j){const et=o.theme||{};if(Array.isArray(s)){const At=et.breakpoints||defaultBreakpoints;return s.reduce((Et,Ut,zt)=>(Et[At.up(At.keys[zt])]=j(s[zt]),Et),{})}if(typeof s=="object"){const At=et.breakpoints||defaultBreakpoints;return Object.keys(s).reduce((Et,Ut)=>{if(Object.keys(At.values||values$1).indexOf(Ut)!==-1){const zt=At.up(Ut);Et[zt]=j(s[Ut],Ut)}else{const zt=Ut;Et[zt]=s[zt]}return Et},{})}return j(s)}function createEmptyBreakpointObject(o={}){var s;return((s=o.keys)==null?void 0:s.reduce((et,bt)=>{const At=o.up(bt);return et[At]={},et},{}))||{}}function removeUnusedBreakpoints(o,s){return o.reduce((j,et)=>{const bt=j[et];return(!bt||Object.keys(bt).length===0)&&delete j[et],j},s)}function computeBreakpointsBase(o,s){if(typeof o!="object")return{};const j={},et=Object.keys(s);return Array.isArray(o)?et.forEach((bt,At)=>{At<o.length&&(j[bt]=!0)}):et.forEach(bt=>{o[bt]!=null&&(j[bt]=!0)}),j}function resolveBreakpointValues({values:o,breakpoints:s,base:j}){const et=j||computeBreakpointsBase(o,s),bt=Object.keys(et);if(bt.length===0)return o;let At;return bt.reduce((Et,Ut,zt)=>(Array.isArray(o)?(Et[Ut]=o[zt]!=null?o[zt]:o[At],At=zt):typeof o=="object"?(Et[Ut]=o[Ut]!=null?o[Ut]:o[At],At=Ut):Et[Ut]=o,Et),{})}function capitalize$2(o){if(typeof o!="string")throw new Error(formatMuiErrorMessage$1(7));return o.charAt(0).toUpperCase()+o.slice(1)}const capitalize$1=Object.freeze(Object.defineProperty({__proto__:null,default:capitalize$2},Symbol.toStringTag,{value:"Module"}));function getPath(o,s,j=!0){if(!s||typeof s!="string")return null;if(o&&o.vars&&j){const et=`vars.${s}`.split(".").reduce((bt,At)=>bt&&bt[At]?bt[At]:null,o);if(et!=null)return et}return s.split(".").reduce((et,bt)=>et&&et[bt]!=null?et[bt]:null,o)}function getStyleValue$1(o,s,j,et=j){let bt;return typeof o=="function"?bt=o(j):Array.isArray(o)?bt=o[j]||et:bt=getPath(o,j)||et,s&&(bt=s(bt,et,o)),bt}function style$1(o){const{prop:s,cssProperty:j=o.prop,themeKey:et,transform:bt}=o,At=Et=>{if(Et[s]==null)return null;const Ut=Et[s],zt=Et.theme,It=getPath(zt,et)||{};return handleBreakpoints(Et,Ut,Pt=>{let Yt=getStyleValue$1(It,bt,Pt);return Pt===Yt&&typeof Pt=="string"&&(Yt=getStyleValue$1(It,bt,`${s}${Pt==="default"?"":capitalize$2(Pt)}`,Pt)),j===!1?Yt:{[j]:Yt}})};return At.propTypes={},At.filterProps=[s],At}function memoize(o){const s={};return j=>(s[j]===void 0&&(s[j]=o(j)),s[j])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(o=>{if(o.length>2)if(aliases[o])o=aliases[o];else return[o];const[s,j]=o.split(""),et=properties[s],bt=directions[j]||"";return Array.isArray(bt)?bt.map(At=>et+At):[et+bt]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(o,s,j,et){var bt;const At=(bt=getPath(o,s,!1))!=null?bt:j;return typeof At=="number"?Et=>typeof Et=="string"?Et:At*Et:Array.isArray(At)?Et=>typeof Et=="string"?Et:At[Et]:typeof At=="function"?At:()=>{}}function createUnarySpacing(o){return createUnaryUnit(o,"spacing",8)}function getValue(o,s){if(typeof s=="string"||s==null)return s;const j=Math.abs(s),et=o(j);return s>=0?et:typeof et=="number"?-et:`-${et}`}function getStyleFromPropValue(o,s){return j=>o.reduce((et,bt)=>(et[bt]=getValue(s,j),et),{})}function resolveCssProperty(o,s,j,et){if(s.indexOf(j)===-1)return null;const bt=getCssProperties(j),At=getStyleFromPropValue(bt,et),Et=o[j];return handleBreakpoints(o,Et,At)}function style(o,s){const j=createUnarySpacing(o.theme);return Object.keys(o).map(et=>resolveCssProperty(o,s,et,j)).reduce(merge,{})}function margin(o){return style(o,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(o){return style(o,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(o=8){if(o.mui)return o;const s=createUnarySpacing({spacing:o}),j=(...et)=>(et.length===0?[1]:et).map(At=>{const Et=s(At);return typeof Et=="number"?`${Et}px`:Et}).join(" ");return j.mui=!0,j}function compose(...o){const s=o.reduce((et,bt)=>(bt.filterProps.forEach(At=>{et[At]=bt}),et),{}),j=et=>Object.keys(et).reduce((bt,At)=>s[At]?merge(bt,s[At](et)):bt,{});return j.propTypes={},j.filterProps=o.reduce((et,bt)=>et.concat(bt.filterProps),[]),j}function borderTransform(o){return typeof o!="number"?o:`${o}px solid`}function createBorderStyle(o,s){return style$1({prop:o,themeKey:"borders",transform:s})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor$1=createBorderStyle("borderTopColor"),borderRightColor$1=createBorderStyle("borderRightColor"),borderBottomColor$1=createBorderStyle("borderBottomColor"),borderLeftColor$1=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=o=>{if(o.borderRadius!==void 0&&o.borderRadius!==null){const s=createUnaryUnit(o.theme,"shape.borderRadius",4),j=et=>({borderRadius:getValue(s,et)});return handleBreakpoints(o,o.borderRadius,j)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor$1,borderRightColor$1,borderBottomColor$1,borderLeftColor$1,borderRadius,outline,outlineColor);const gap=o=>{if(o.gap!==void 0&&o.gap!==null){const s=createUnaryUnit(o.theme,"spacing",8),j=et=>({gap:getValue(s,et)});return handleBreakpoints(o,o.gap,j)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=o=>{if(o.columnGap!==void 0&&o.columnGap!==null){const s=createUnaryUnit(o.theme,"spacing",8),j=et=>({columnGap:getValue(s,et)});return handleBreakpoints(o,o.columnGap,j)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=o=>{if(o.rowGap!==void 0&&o.rowGap!==null){const s=createUnaryUnit(o.theme,"spacing",8),j=et=>({rowGap:getValue(s,et)});return handleBreakpoints(o,o.rowGap,j)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(o,s){return s==="grey"?s:o}const color$2=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor$1=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color$2,bgcolor,backgroundColor$1);function sizingTransform(o){return o<=1&&o!==0?`${o*100}%`:o}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=o=>{if(o.maxWidth!==void 0&&o.maxWidth!==null){const s=j=>{var et,bt;const At=((et=o.theme)==null||(et=et.breakpoints)==null||(et=et.values)==null?void 0:et[j])||values$1[j];return At?((bt=o.theme)==null||(bt=bt.breakpoints)==null?void 0:bt.unit)!=="px"?{maxWidth:`${At}${o.theme.breakpoints.unit}`}:{maxWidth:At}:{maxWidth:sizingTransform(j)}};return handleBreakpoints(o,o.maxWidth,s)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:o=>({"@media print":{display:o}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...o){const s=o.reduce((et,bt)=>et.concat(Object.keys(bt)),[]),j=new Set(s);return o.every(et=>j.size===Object.keys(et).length)}function callIfFn(o,s){return typeof o=="function"?o(s):o}function unstable_createStyleFunctionSx(){function o(j,et,bt,At){const Et={[j]:et,theme:bt},Ut=At[j];if(!Ut)return{[j]:et};const{cssProperty:zt=j,themeKey:It,transform:Qt,style:Pt}=Ut;if(et==null)return null;if(It==="typography"&&et==="inherit")return{[j]:et};const Yt=getPath(bt,It)||{};return Pt?Pt(Et):handleBreakpoints(Et,et,_r=>{let vr=getStyleValue$1(Yt,Qt,_r);return _r===vr&&typeof _r=="string"&&(vr=getStyleValue$1(Yt,Qt,`${j}${_r==="default"?"":capitalize$2(_r)}`,_r)),zt===!1?vr:{[zt]:vr}})}function s(j){var et;const{sx:bt,theme:At={}}=j||{};if(!bt)return null;const Et=(et=At.unstable_sxConfig)!=null?et:defaultSxConfig$1;function Ut(zt){let It=zt;if(typeof zt=="function")It=zt(At);else if(typeof zt!="object")return zt;if(!It)return null;const Qt=createEmptyBreakpointObject(At.breakpoints),Pt=Object.keys(Qt);let Yt=Qt;return Object.keys(It).forEach(cr=>{const _r=callIfFn(It[cr],At);if(_r!=null)if(typeof _r=="object")if(Et[cr])Yt=merge(Yt,o(cr,_r,At,Et));else{const vr=handleBreakpoints({theme:At},_r,Yr=>({[cr]:Yr}));objectsHaveSameKeys(vr,_r)?Yt[cr]=s({sx:_r,theme:At}):Yt=merge(Yt,vr)}else Yt=merge(Yt,o(cr,_r,At,Et))}),removeUnusedBreakpoints(Pt,Yt)}return Array.isArray(bt)?bt.map(Ut):Ut(bt)}return s}const styleFunctionSx$1=unstable_createStyleFunctionSx();styleFunctionSx$1.filterProps=["sx"];function applyStyles$2(o,s){const j=this;return j.vars&&typeof j.getColorSchemeSelector=="function"?{[j.getColorSchemeSelector(o).replace(/(\[[^\]]+\])/,"*:where($1)")]:s}:j.palette.mode===o?s:{}}const _excluded$L=["breakpoints","palette","spacing","shape"];function createTheme$2(o={},...s){const{breakpoints:j={},palette:et={},spacing:bt,shape:At={}}=o,Et=_objectWithoutPropertiesLoose(o,_excluded$L),Ut=createBreakpoints(j),zt=createSpacing(bt);let It=deepmerge$1({breakpoints:Ut,direction:"ltr",components:{},palette:_extends$1({mode:"light"},et),spacing:zt,shape:_extends$1({},shape$1,At)},Et);return It.applyStyles=applyStyles$2,It=s.reduce((Qt,Pt)=>deepmerge$1(Qt,Pt),It),It.unstable_sxConfig=_extends$1({},defaultSxConfig$1,Et==null?void 0:Et.unstable_sxConfig),It.unstable_sx=function(Pt){return styleFunctionSx$1({sx:Pt,theme:this})},It}const createTheme$1=Object.freeze(Object.defineProperty({__proto__:null,default:createTheme$2,private_createBreakpoints:createBreakpoints,unstable_applyStyles:applyStyles$2},Symbol.toStringTag,{value:"Module"}));function isObjectEmpty$1(o){return Object.keys(o).length===0}function useTheme$4(o=null){const s=reactExports.useContext(ThemeContext$2);return!s||isObjectEmpty$1(s)?o:s}const systemDefaultTheme$2=createTheme$2();function useTheme$3(o=systemDefaultTheme$2){return useTheme$4(o)}function GlobalStyles$1({styles:o,themeId:s,defaultTheme:j={}}){const et=useTheme$3(j),bt=typeof o=="function"?o(s&&et[s]||et):o;return jsxRuntimeExports.jsx(GlobalStyles$2,{styles:bt})}const _excluded$K=["sx"],splitProps=o=>{var s,j;const et={systemProps:{},otherProps:{}},bt=(s=o==null||(j=o.theme)==null?void 0:j.unstable_sxConfig)!=null?s:defaultSxConfig$1;return Object.keys(o).forEach(At=>{bt[At]?et.systemProps[At]=o[At]:et.otherProps[At]=o[At]}),et};function extendSxProp(o){const{sx:s}=o,j=_objectWithoutPropertiesLoose(o,_excluded$K),{systemProps:et,otherProps:bt}=splitProps(j);let At;return Array.isArray(s)?At=[et,...s]:typeof s=="function"?At=(...Et)=>{const Ut=s(...Et);return isPlainObject(Ut)?_extends$1({},et,Ut):et}:At=_extends$1({},et,s),_extends$1({},bt,{sx:At})}const styleFunctionSx=Object.freeze(Object.defineProperty({__proto__:null,default:styleFunctionSx$1,extendSxProp,unstable_createStyleFunctionSx,unstable_defaultSxConfig:defaultSxConfig$1},Symbol.toStringTag,{value:"Module"})),defaultGenerator=o=>o,createClassNameGenerator=()=>{let o=defaultGenerator;return{configure(s){o=s},generate(s){return o(s)},reset(){o=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator;function r(o){var s,j,et="";if(typeof o=="string"||typeof o=="number")et+=o;else if(typeof o=="object")if(Array.isArray(o)){var bt=o.length;for(s=0;s<bt;s++)o[s]&&(j=r(o[s]))&&(et&&(et+=" "),et+=j)}else for(j in o)o[j]&&(et&&(et+=" "),et+=j);return et}function clsx(){for(var o,s,j=0,et="",bt=arguments.length;j<bt;j++)(o=arguments[j])&&(s=r(o))&&(et&&(et+=" "),et+=s);return et}const _excluded$J=["className","component"];function createBox(o={}){const{themeId:s,defaultTheme:j,defaultClassName:et="MuiBox-root",generateClassName:bt}=o,At=styled$2("div",{shouldForwardProp:Ut=>Ut!=="theme"&&Ut!=="sx"&&Ut!=="as"})(styleFunctionSx$1);return reactExports.forwardRef(function(zt,It){const Qt=useTheme$3(j),Pt=extendSxProp(zt),{className:Yt,component:cr="div"}=Pt,_r=_objectWithoutPropertiesLoose(Pt,_excluded$J);return jsxRuntimeExports.jsx(At,_extends$1({as:cr,ref:It,className:clsx(Yt,bt?bt(et):et),theme:s&&Qt[s]||Qt},_r))})}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass$1(o,s,j="Mui"){const et=globalStateClasses[s];return et?`${j}-${et}`:`${ClassNameGenerator$1.generate(o)}-${s}`}function generateUtilityClasses$1(o,s,j="Mui"){const et={};return s.forEach(bt=>{et[bt]=generateUtilityClass$1(o,bt,j)}),et}var reactIs={exports:{}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$2=Symbol.for("react.strict_mode"),f$2=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q$3=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u$2;u$2=Symbol.for("react.module.reference");function v$1(o){if(typeof o=="object"&&o!==null){var s=o.$$typeof;switch(s){case b$1:switch(o=o.type,o){case d$1:case f$2:case e$2:case m$1:case n$1:return o;default:switch(o=o&&o.$$typeof,o){case k$1:case h$1:case l$1:case q$3:case p$1:case g$1:return o;default:return s}}case c$1:return s}}}reactIs_production_min$1.ContextConsumer=h$1;reactIs_production_min$1.ContextProvider=g$1;reactIs_production_min$1.Element=b$1;reactIs_production_min$1.ForwardRef=l$1;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$3;reactIs_production_min$1.Memo=p$1;reactIs_production_min$1.Portal=c$1;reactIs_production_min$1.Profiler=f$2;reactIs_production_min$1.StrictMode=e$2;reactIs_production_min$1.Suspense=m$1;reactIs_production_min$1.SuspenseList=n$1;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(o){return v$1(o)===h$1};reactIs_production_min$1.isContextProvider=function(o){return v$1(o)===g$1};reactIs_production_min$1.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===b$1};reactIs_production_min$1.isForwardRef=function(o){return v$1(o)===l$1};reactIs_production_min$1.isFragment=function(o){return v$1(o)===d$1};reactIs_production_min$1.isLazy=function(o){return v$1(o)===q$3};reactIs_production_min$1.isMemo=function(o){return v$1(o)===p$1};reactIs_production_min$1.isPortal=function(o){return v$1(o)===c$1};reactIs_production_min$1.isProfiler=function(o){return v$1(o)===f$2};reactIs_production_min$1.isStrictMode=function(o){return v$1(o)===e$2};reactIs_production_min$1.isSuspense=function(o){return v$1(o)===m$1};reactIs_production_min$1.isSuspenseList=function(o){return v$1(o)===n$1};reactIs_production_min$1.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===d$1||o===f$2||o===e$2||o===m$1||o===n$1||o===t$1||typeof o=="object"&&o!==null&&(o.$$typeof===q$3||o.$$typeof===p$1||o.$$typeof===g$1||o.$$typeof===h$1||o.$$typeof===l$1||o.$$typeof===u$2||o.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$1;reactIs.exports=reactIs_production_min$1;var reactIsExports=reactIs.exports;const fnNameMatchRegex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function getFunctionName(o){const s=`${o}`.match(fnNameMatchRegex);return s&&s[1]||""}function getFunctionComponentName(o,s=""){return o.displayName||o.name||getFunctionName(o)||s}function getWrappedName(o,s,j){const et=getFunctionComponentName(s);return o.displayName||(et!==""?`${j}(${et})`:j)}function getDisplayName$1(o){if(o!=null){if(typeof o=="string")return o;if(typeof o=="function")return getFunctionComponentName(o,"Component");if(typeof o=="object")switch(o.$$typeof){case reactIsExports.ForwardRef:return getWrappedName(o,o.render,"ForwardRef");case reactIsExports.Memo:return getWrappedName(o,o.type,"memo");default:return}}}const getDisplayName=Object.freeze(Object.defineProperty({__proto__:null,default:getDisplayName$1,getFunctionName},Symbol.toStringTag,{value:"Module"})),_excluded$I=["ownerState"],_excluded2$6=["variants"],_excluded3$2=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty$3(o){return Object.keys(o).length===0}function isStringTag$1(o){return typeof o=="string"&&o.charCodeAt(0)>96}function shouldForwardProp$1(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}const systemDefaultTheme$1=createTheme$2(),lowercaseFirstLetter$1=o=>o&&o.charAt(0).toLowerCase()+o.slice(1);function resolveTheme$1({defaultTheme:o,theme:s,themeId:j}){return isEmpty$3(s)?o:s[j]||s}function defaultOverridesResolver$1(o){return o?(s,j)=>j[o]:null}function processStyleArg$1(o,s){let{ownerState:j}=s,et=_objectWithoutPropertiesLoose(s,_excluded$I);const bt=typeof o=="function"?o(_extends$1({ownerState:j},et)):o;if(Array.isArray(bt))return bt.flatMap(At=>processStyleArg$1(At,_extends$1({ownerState:j},et)));if(bt&&typeof bt=="object"&&Array.isArray(bt.variants)){const{variants:At=[]}=bt;let Ut=_objectWithoutPropertiesLoose(bt,_excluded2$6);return At.forEach(zt=>{let It=!0;typeof zt.props=="function"?It=zt.props(_extends$1({ownerState:j},et,j)):Object.keys(zt.props).forEach(Qt=>{(j==null?void 0:j[Qt])!==zt.props[Qt]&&et[Qt]!==zt.props[Qt]&&(It=!1)}),It&&(Array.isArray(Ut)||(Ut=[Ut]),Ut.push(typeof zt.style=="function"?zt.style(_extends$1({ownerState:j},et,j)):zt.style))}),Ut}return bt}function createStyled$2(o={}){const{themeId:s,defaultTheme:j=systemDefaultTheme$1,rootShouldForwardProp:et=shouldForwardProp$1,slotShouldForwardProp:bt=shouldForwardProp$1}=o,At=Et=>styleFunctionSx$1(_extends$1({},Et,{theme:resolveTheme$1(_extends$1({},Et,{defaultTheme:j,themeId:s}))}));return At.__mui_systemSx=!0,(Et,Ut={})=>{internal_processStyles(Et,nA=>nA.filter(aA=>!(aA!=null&&aA.__mui_systemSx)));const{name:zt,slot:It,skipVariantsResolver:Qt,skipSx:Pt,overridesResolver:Yt=defaultOverridesResolver$1(lowercaseFirstLetter$1(It))}=Ut,cr=_objectWithoutPropertiesLoose(Ut,_excluded3$2),_r=Qt!==void 0?Qt:It&&It!=="Root"&&It!=="root"||!1,vr=Pt||!1;let Yr,Kr=shouldForwardProp$1;It==="Root"||It==="root"?Kr=et:It?Kr=bt:isStringTag$1(Et)&&(Kr=void 0);const jr=styled$2(Et,_extends$1({shouldForwardProp:Kr,label:Yr},cr)),Hn=nA=>typeof nA=="function"&&nA.__emotion_real!==nA||isPlainObject(nA)?aA=>processStyleArg$1(nA,_extends$1({},aA,{theme:resolveTheme$1({theme:aA.theme,defaultTheme:j,themeId:s})})):nA,tA=(nA,...aA)=>{let lA=Hn(nA);const hA=aA?aA.map(Hn):[];zt&&Yt&&hA.push(NA=>{const cA=resolveTheme$1(_extends$1({},NA,{defaultTheme:j,themeId:s}));if(!cA.components||!cA.components[zt]||!cA.components[zt].styleOverrides)return null;const CA=cA.components[zt].styleOverrides,sA={};return Object.entries(CA).forEach(([UA,LA])=>{sA[UA]=processStyleArg$1(LA,_extends$1({},NA,{theme:cA}))}),Yt(NA,sA)}),zt&&!_r&&hA.push(NA=>{var cA;const CA=resolveTheme$1(_extends$1({},NA,{defaultTheme:j,themeId:s})),sA=CA==null||(cA=CA.components)==null||(cA=cA[zt])==null?void 0:cA.variants;return processStyleArg$1({variants:sA},_extends$1({},NA,{theme:CA}))}),vr||hA.push(At);const pA=hA.length-aA.length;if(Array.isArray(nA)&&pA>0){const NA=new Array(pA).fill("");lA=[...nA,...NA],lA.raw=[...nA.raw,...NA]}const wA=jr(lA,...hA);return Et.muiName&&(wA.muiName=Et.muiName),wA};return jr.withConfig&&(tA.withConfig=jr.withConfig),tA}}const styled$1=createStyled$2();function resolveProps(o,s){const j=_extends$1({},s);return Object.keys(o).forEach(et=>{if(et.toString().match(/^(components|slots)$/))j[et]=_extends$1({},o[et],j[et]);else if(et.toString().match(/^(componentsProps|slotProps)$/)){const bt=o[et]||{},At=s[et];j[et]={},!At||!Object.keys(At)?j[et]=bt:!bt||!Object.keys(bt)?j[et]=At:(j[et]=_extends$1({},At),Object.keys(bt).forEach(Et=>{j[et][Et]=resolveProps(bt[Et],At[Et])}))}else j[et]===void 0&&(j[et]=o[et])}),j}function getThemeProps(o){const{theme:s,name:j,props:et}=o;return!s||!s.components||!s.components[j]||!s.components[j].defaultProps?et:resolveProps(s.components[j].defaultProps,et)}function useThemeProps$1({props:o,name:s,defaultTheme:j,themeId:et}){let bt=useTheme$3(j);return et&&(bt=bt[et]||bt),getThemeProps({theme:bt,name:s,props:o})}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp$1(o,s=Number.MIN_SAFE_INTEGER,j=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(o,j))}const clamp=Object.freeze(Object.defineProperty({__proto__:null,default:clamp$1},Symbol.toStringTag,{value:"Module"}));function createChainedFunction(...o){return o.reduce((s,j)=>j==null?s:function(...bt){s.apply(this,bt),j.apply(this,bt)},()=>{})}function debounce$1(o,s=166){let j;function et(...bt){const At=()=>{o.apply(this,bt)};clearTimeout(j),j=setTimeout(At,s)}return et.clear=()=>{clearTimeout(j)},et}function isMuiElement(o,s){var j,et;return reactExports.isValidElement(o)&&s.indexOf((j=o.type.muiName)!=null?j:(et=o.type)==null||(et=et._payload)==null||(et=et.value)==null?void 0:et.muiName)!==-1}function ownerDocument(o){return o&&o.ownerDocument||document}function ownerWindow(o){return ownerDocument(o).defaultView||window}function setRef(o,s){typeof o=="function"?o(s):o&&(o.current=s)}let globalId=0;function useGlobalId(o){const[s,j]=reactExports.useState(o),et=o||s;return reactExports.useEffect(()=>{s==null&&(globalId+=1,j(`mui-${globalId}`))},[s]),et}const maybeReactUseId=React$2.useId;function useId(o){if(maybeReactUseId!==void 0){const s=maybeReactUseId();return o??s}return useGlobalId(o)}function useControlled({controlled:o,default:s,name:j,state:et="value"}){const{current:bt}=reactExports.useRef(o!==void 0),[At,Et]=reactExports.useState(s),Ut=bt?o:At,zt=reactExports.useCallback(It=>{bt||Et(It)},[]);return[Ut,zt]}function useEventCallback(o){const s=reactExports.useRef(o);return useEnhancedEffect(()=>{s.current=o}),reactExports.useRef((...j)=>(0,s.current)(...j)).current}function useForkRef(...o){return reactExports.useMemo(()=>o.every(s=>s==null)?null:s=>{o.forEach(j=>{setRef(j,s)})},o)}const UNINITIALIZED={};function useLazyRef(o,s){const j=reactExports.useRef(UNINITIALIZED);return j.current===UNINITIALIZED&&(j.current=o(s)),j}const EMPTY=[];function useOnMount(o){reactExports.useEffect(o,EMPTY)}class Timeout{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Timeout}start(s,j){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,j()},s)}}function useTimeout(){const o=useLazyRef(Timeout.create).current;return useOnMount(o.disposeEffect),o}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1;const hadFocusVisibleRecentlyTimeout=new Timeout,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(o){const{type:s,tagName:j}=o;return!!(j==="INPUT"&&inputTypesWhitelist[s]&&!o.readOnly||j==="TEXTAREA"&&!o.readOnly||o.isContentEditable)}function handleKeyDown(o){o.metaKey||o.altKey||o.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(o){o.addEventListener("keydown",handleKeyDown,!0),o.addEventListener("mousedown",handlePointerDown,!0),o.addEventListener("pointerdown",handlePointerDown,!0),o.addEventListener("touchstart",handlePointerDown,!0),o.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(o){const{target:s}=o;try{return s.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(s)}function useIsFocusVisible(){const o=reactExports.useCallback(bt=>{bt!=null&&prepare(bt.ownerDocument)},[]),s=reactExports.useRef(!1);function j(){return s.current?(hadFocusVisibleRecently=!0,hadFocusVisibleRecentlyTimeout.start(100,()=>{hadFocusVisibleRecently=!1}),s.current=!1,!0):!1}function et(bt){return isFocusVisible(bt)?(s.current=!0,!0):!1}return{isFocusVisibleRef:s,onFocus:et,onBlur:j,ref:o}}function getScrollbarSize(o){const s=o.documentElement.clientWidth;return Math.abs(window.innerWidth-s)}const usePreviousProps=o=>{const s=reactExports.useRef({});return reactExports.useEffect(()=>{s.current=o}),s.current};function composeClasses(o,s,j=void 0){const et={};return Object.keys(o).forEach(bt=>{et[bt]=o[bt].reduce((At,Et)=>{if(Et){const Ut=s(Et);Ut!==""&&At.push(Ut),j&&j[Et]&&At.push(j[Et])}return At},[]).join(" ")}),et}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme$2(){return reactExports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(o,s){return typeof s=="function"?s(o):_extends$1({},o,s)}function ThemeProvider$2(o){const{children:s,theme:j}=o,et=useTheme$2(),bt=reactExports.useMemo(()=>{const At=et===null?j:mergeOuterLocalTheme(et,j);return At!=null&&(At[nested]=et!==null),At},[j,et]);return jsxRuntimeExports.jsx(ThemeContext$1.Provider,{value:bt,children:s})}const EMPTY_THEME={};function useThemeScoping(o,s,j,et=!1){return reactExports.useMemo(()=>{const bt=o&&s[o]||s;if(typeof j=="function"){const At=j(bt),Et=o?_extends$1({},s,{[o]:At}):At;return et?()=>Et:Et}return o?_extends$1({},s,{[o]:j}):_extends$1({},s,j)},[o,s,j,et])}function ThemeProvider$1(o){const{children:s,theme:j,themeId:et}=o,bt=useTheme$4(EMPTY_THEME),At=useTheme$2()||EMPTY_THEME,Et=useThemeScoping(et,bt,j),Ut=useThemeScoping(et,At,j,!0);return jsxRuntimeExports.jsx(ThemeProvider$2,{theme:Ut,children:jsxRuntimeExports.jsx(ThemeContext$2.Provider,{value:Et,children:s})})}const _excluded$H=["className","component","disableGutters","fixed","maxWidth","classes"],defaultTheme$3=createTheme$2(),defaultCreateStyledComponent=styled$1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,s[`maxWidth${capitalize$2(String(j.maxWidth))}`],j.fixed&&s.fixed,j.disableGutters&&s.disableGutters]}}),useThemePropsDefault=o=>useThemeProps$1({props:o,name:"MuiContainer",defaultTheme:defaultTheme$3}),useUtilityClasses$s=(o,s)=>{const j=zt=>generateUtilityClass$1(s,zt),{classes:et,fixed:bt,disableGutters:At,maxWidth:Et}=o,Ut={root:["root",Et&&`maxWidth${capitalize$2(String(Et))}`,bt&&"fixed",At&&"disableGutters"]};return composeClasses(Ut,j,et)};function createContainer$1(o={}){const{createStyledComponent:s=defaultCreateStyledComponent,useThemeProps:j=useThemePropsDefault,componentName:et="MuiContainer"}=o,bt=s(({theme:Et,ownerState:Ut})=>_extends$1({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!Ut.disableGutters&&{paddingLeft:Et.spacing(2),paddingRight:Et.spacing(2),[Et.breakpoints.up("sm")]:{paddingLeft:Et.spacing(3),paddingRight:Et.spacing(3)}}),({theme:Et,ownerState:Ut})=>Ut.fixed&&Object.keys(Et.breakpoints.values).reduce((zt,It)=>{const Qt=It,Pt=Et.breakpoints.values[Qt];return Pt!==0&&(zt[Et.breakpoints.up(Qt)]={maxWidth:`${Pt}${Et.breakpoints.unit}`}),zt},{}),({theme:Et,ownerState:Ut})=>_extends$1({},Ut.maxWidth==="xs"&&{[Et.breakpoints.up("xs")]:{maxWidth:Math.max(Et.breakpoints.values.xs,444)}},Ut.maxWidth&&Ut.maxWidth!=="xs"&&{[Et.breakpoints.up(Ut.maxWidth)]:{maxWidth:`${Et.breakpoints.values[Ut.maxWidth]}${Et.breakpoints.unit}`}}));return reactExports.forwardRef(function(Ut,zt){const It=j(Ut),{className:Qt,component:Pt="div",disableGutters:Yt=!1,fixed:cr=!1,maxWidth:_r="lg"}=It,vr=_objectWithoutPropertiesLoose(It,_excluded$H),Yr=_extends$1({},It,{component:Pt,disableGutters:Yt,fixed:cr,maxWidth:_r}),Kr=useUtilityClasses$s(Yr,et);return jsxRuntimeExports.jsx(bt,_extends$1({as:Pt,ownerState:Yr,className:clsx(Kr.root,Qt),ref:zt},vr))})}function createMixins(o,s){return _extends$1({toolbar:{minHeight:56,[o.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[o.up("sm")]:{minHeight:64}}},s)}var colorManipulator={},interopRequireDefault={exports:{}};(function(o){function s(j){return j&&j.__esModule?j:{default:j}}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports;const require$$1$1=getAugmentedNamespace(formatMuiErrorMessage),require$$2=getAugmentedNamespace(clamp);var _interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(colorManipulator,"__esModule",{value:!0});var alpha_1=colorManipulator.alpha=alpha;colorManipulator.blend=blend;colorManipulator.colorChannel=void 0;var darken_1=colorManipulator.darken=darken;colorManipulator.decomposeColor=decomposeColor;var emphasize_1=colorManipulator.emphasize=emphasize,getContrastRatio_1=colorManipulator.getContrastRatio=getContrastRatio;colorManipulator.getLuminance=getLuminance;colorManipulator.hexToRgb=hexToRgb;colorManipulator.hslToRgb=hslToRgb;var lighten_1=colorManipulator.lighten=lighten;colorManipulator.private_safeAlpha=private_safeAlpha;colorManipulator.private_safeColorChannel=void 0;colorManipulator.private_safeDarken=private_safeDarken;colorManipulator.private_safeEmphasize=private_safeEmphasize;colorManipulator.private_safeLighten=private_safeLighten;colorManipulator.recomposeColor=recomposeColor;colorManipulator.rgbToHex=rgbToHex;var _formatMuiErrorMessage2=_interopRequireDefault$1(require$$1$1),_clamp=_interopRequireDefault$1(require$$2);function clampWrapper(o,s=0,j=1){return(0,_clamp.default)(o,s,j)}function hexToRgb(o){o=o.slice(1);const s=new RegExp(`.{1,${o.length>=6?2:1}}`,"g");let j=o.match(s);return j&&j[0].length===1&&(j=j.map(et=>et+et)),j?`rgb${j.length===4?"a":""}(${j.map((et,bt)=>bt<3?parseInt(et,16):Math.round(parseInt(et,16)/255*1e3)/1e3).join(", ")})`:""}function intToHex(o){const s=o.toString(16);return s.length===1?`0${s}`:s}function decomposeColor(o){if(o.type)return o;if(o.charAt(0)==="#")return decomposeColor(hexToRgb(o));const s=o.indexOf("("),j=o.substring(0,s);if(["rgb","rgba","hsl","hsla","color"].indexOf(j)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(9,o));let et=o.substring(s+1,o.length-1),bt;if(j==="color"){if(et=et.split(" "),bt=et.shift(),et.length===4&&et[3].charAt(0)==="/"&&(et[3]=et[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(bt)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(10,bt))}else et=et.split(",");return et=et.map(At=>parseFloat(At)),{type:j,values:et,colorSpace:bt}}const colorChannel=o=>{const s=decomposeColor(o);return s.values.slice(0,3).map((j,et)=>s.type.indexOf("hsl")!==-1&&et!==0?`${j}%`:j).join(" ")};colorManipulator.colorChannel=colorChannel;const private_safeColorChannel=(o,s)=>{try{return colorChannel(o)}catch{return o}};colorManipulator.private_safeColorChannel=private_safeColorChannel;function recomposeColor(o){const{type:s,colorSpace:j}=o;let{values:et}=o;return s.indexOf("rgb")!==-1?et=et.map((bt,At)=>At<3?parseInt(bt,10):bt):s.indexOf("hsl")!==-1&&(et[1]=`${et[1]}%`,et[2]=`${et[2]}%`),s.indexOf("color")!==-1?et=`${j} ${et.join(" ")}`:et=`${et.join(", ")}`,`${s}(${et})`}function rgbToHex(o){if(o.indexOf("#")===0)return o;const{values:s}=decomposeColor(o);return`#${s.map((j,et)=>intToHex(et===3?Math.round(255*j):j)).join("")}`}function hslToRgb(o){o=decomposeColor(o);const{values:s}=o,j=s[0],et=s[1]/100,bt=s[2]/100,At=et*Math.min(bt,1-bt),Et=(It,Qt=(It+j/30)%12)=>bt-At*Math.max(Math.min(Qt-3,9-Qt,1),-1);let Ut="rgb";const zt=[Math.round(Et(0)*255),Math.round(Et(8)*255),Math.round(Et(4)*255)];return o.type==="hsla"&&(Ut+="a",zt.push(s[3])),recomposeColor({type:Ut,values:zt})}function getLuminance(o){o=decomposeColor(o);let s=o.type==="hsl"||o.type==="hsla"?decomposeColor(hslToRgb(o)).values:o.values;return s=s.map(j=>(o.type!=="color"&&(j/=255),j<=.03928?j/12.92:((j+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function getContrastRatio(o,s){const j=getLuminance(o),et=getLuminance(s);return(Math.max(j,et)+.05)/(Math.min(j,et)+.05)}function alpha(o,s){return o=decomposeColor(o),s=clampWrapper(s),(o.type==="rgb"||o.type==="hsl")&&(o.type+="a"),o.type==="color"?o.values[3]=`/${s}`:o.values[3]=s,recomposeColor(o)}function private_safeAlpha(o,s,j){try{return alpha(o,s)}catch{return o}}function darken(o,s){if(o=decomposeColor(o),s=clampWrapper(s),o.type.indexOf("hsl")!==-1)o.values[2]*=1-s;else if(o.type.indexOf("rgb")!==-1||o.type.indexOf("color")!==-1)for(let j=0;j<3;j+=1)o.values[j]*=1-s;return recomposeColor(o)}function private_safeDarken(o,s,j){try{return darken(o,s)}catch{return o}}function lighten(o,s){if(o=decomposeColor(o),s=clampWrapper(s),o.type.indexOf("hsl")!==-1)o.values[2]+=(100-o.values[2])*s;else if(o.type.indexOf("rgb")!==-1)for(let j=0;j<3;j+=1)o.values[j]+=(255-o.values[j])*s;else if(o.type.indexOf("color")!==-1)for(let j=0;j<3;j+=1)o.values[j]+=(1-o.values[j])*s;return recomposeColor(o)}function private_safeLighten(o,s,j){try{return lighten(o,s)}catch{return o}}function emphasize(o,s=.15){return getLuminance(o)>.5?darken(o,s):lighten(o,s)}function private_safeEmphasize(o,s,j){try{return private_safeEmphasize(o,s)}catch{return o}}function blend(o,s,j,et=1){const bt=(zt,It)=>Math.round((zt**(1/et)*(1-j)+It**(1/et)*j)**et),At=decomposeColor(o),Et=decomposeColor(s),Ut=[bt(At.values[0],Et.values[0]),bt(At.values[1],Et.values[1]),bt(At.values[2],Et.values[2])];return recomposeColor({type:"rgb",values:Ut})}const _excluded$G=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(o,s,j,et){const bt=et.light||et,At=et.dark||et*1.5;o[s]||(o.hasOwnProperty(j)?o[s]=o[j]:s==="light"?o.light=lighten_1(o.main,bt):s==="dark"&&(o.dark=darken_1(o.main,At)))}function getDefaultPrimary(o="light"){return o==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(o="light"){return o==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(o="light"){return o==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(o="light"){return o==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(o="light"){return o==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(o="light"){return o==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(o){const{mode:s="light",contrastThreshold:j=3,tonalOffset:et=.2}=o,bt=_objectWithoutPropertiesLoose(o,_excluded$G),At=o.primary||getDefaultPrimary(s),Et=o.secondary||getDefaultSecondary(s),Ut=o.error||getDefaultError(s),zt=o.info||getDefaultInfo(s),It=o.success||getDefaultSuccess(s),Qt=o.warning||getDefaultWarning(s);function Pt(vr){return getContrastRatio_1(vr,dark.text.primary)>=j?dark.text.primary:light.text.primary}const Yt=({color:vr,name:Yr,mainShade:Kr=500,lightShade:jr=300,darkShade:Hn=700})=>{if(vr=_extends$1({},vr),!vr.main&&vr[Kr]&&(vr.main=vr[Kr]),!vr.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage$1(11,Yr?` (${Yr})`:"",Kr));if(typeof vr.main!="string")throw new Error(formatMuiErrorMessage$1(12,Yr?` (${Yr})`:"",JSON.stringify(vr.main)));return addLightOrDark(vr,"light",jr,et),addLightOrDark(vr,"dark",Hn,et),vr.contrastText||(vr.contrastText=Pt(vr.main)),vr},cr={dark,light};return deepmerge$1(_extends$1({common:_extends$1({},common$1),mode:s,primary:Yt({color:At,name:"primary"}),secondary:Yt({color:Et,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:Yt({color:Ut,name:"error"}),warning:Yt({color:Qt,name:"warning"}),info:Yt({color:zt,name:"info"}),success:Yt({color:It,name:"success"}),grey:grey$1,contrastThreshold:j,getContrastText:Pt,augmentColor:Yt,tonalOffset:et},cr[s]),bt)}const _excluded$F=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$1(o){return Math.round(o*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(o,s){const j=typeof s=="function"?s(o):s,{fontFamily:et=defaultFontFamily,fontSize:bt=14,fontWeightLight:At=300,fontWeightRegular:Et=400,fontWeightMedium:Ut=500,fontWeightBold:zt=700,htmlFontSize:It=16,allVariants:Qt,pxToRem:Pt}=j,Yt=_objectWithoutPropertiesLoose(j,_excluded$F),cr=bt/14,_r=Pt||(Kr=>`${Kr/It*cr}rem`),vr=(Kr,jr,Hn,tA,nA)=>_extends$1({fontFamily:et,fontWeight:Kr,fontSize:_r(jr),lineHeight:Hn},et===defaultFontFamily?{letterSpacing:`${round$1(tA/jr)}em`}:{},nA,Qt),Yr={h1:vr(At,96,1.167,-1.5),h2:vr(At,60,1.2,-.5),h3:vr(Et,48,1.167,0),h4:vr(Et,34,1.235,.25),h5:vr(Et,24,1.334,0),h6:vr(Ut,20,1.6,.15),subtitle1:vr(Et,16,1.75,.15),subtitle2:vr(Ut,14,1.57,.1),body1:vr(Et,16,1.5,.15),body2:vr(Et,14,1.43,.15),button:vr(Ut,14,1.75,.4,caseAllCaps),caption:vr(Et,12,1.66,.4),overline:vr(Et,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge$1(_extends$1({htmlFontSize:It,pxToRem:_r,fontFamily:et,fontSize:bt,fontWeightLight:At,fontWeightRegular:Et,fontWeightMedium:Ut,fontWeightBold:zt},Yr),Yt,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...o){return[`${o[0]}px ${o[1]}px ${o[2]}px ${o[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${o[4]}px ${o[5]}px ${o[6]}px ${o[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${o[8]}px ${o[9]}px ${o[10]}px ${o[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],_excluded$E=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration$1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(o){return`${Math.round(o)}ms`}function getAutoHeightDuration(o){if(!o)return 0;const s=o/36;return Math.round((4+15*s**.25+s/5)*10)}function createTransitions(o){const s=_extends$1({},easing,o.easing),j=_extends$1({},duration$1,o.duration);return _extends$1({getAutoHeightDuration,create:(bt=["all"],At={})=>{const{duration:Et=j.standard,easing:Ut=s.easeInOut,delay:zt=0}=At;return _objectWithoutPropertiesLoose(At,_excluded$E),(Array.isArray(bt)?bt:[bt]).map(It=>`${It} ${typeof Et=="string"?Et:formatMs(Et)} ${Ut} ${typeof zt=="string"?zt:formatMs(zt)}`).join(",")}},o,{easing:s,duration:j})}const zIndex$1={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$2=zIndex$1,_excluded$D=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(o={},...s){const{mixins:j={},palette:et={},transitions:bt={},typography:At={}}=o,Et=_objectWithoutPropertiesLoose(o,_excluded$D);if(o.vars)throw new Error(formatMuiErrorMessage$1(18));const Ut=createPalette(et),zt=createTheme$2(o);let It=deepmerge$1(zt,{mixins:createMixins(zt.breakpoints,j),palette:Ut,shadows:shadows.slice(),typography:createTypography(Ut,At),transitions:createTransitions(bt),zIndex:_extends$1({},zIndex$2)});return It=deepmerge$1(It,Et),It=s.reduce((Qt,Pt)=>deepmerge$1(Qt,Pt),It),It.unstable_sxConfig=_extends$1({},defaultSxConfig$1,Et==null?void 0:Et.unstable_sxConfig),It.unstable_sx=function(Pt){return styleFunctionSx$1({sx:Pt,theme:this})},It}const defaultTheme$1=createTheme(),defaultTheme$2=defaultTheme$1;function useTheme$1(){const o=useTheme$3(defaultTheme$2);return o[THEME_ID]||o}function useThemeProps({props:o,name:s}){return useThemeProps$1({props:o,name:s,defaultTheme:defaultTheme$2,themeId:THEME_ID})}var createStyled$1={},objectWithoutPropertiesLoose={exports:{}},hasRequiredObjectWithoutPropertiesLoose;function requireObjectWithoutPropertiesLoose(){return hasRequiredObjectWithoutPropertiesLoose||(hasRequiredObjectWithoutPropertiesLoose=1,function(o){function s(j,et){if(j==null)return{};var bt={},At=Object.keys(j),Et,Ut;for(Ut=0;Ut<At.length;Ut++)Et=At[Ut],!(et.indexOf(Et)>=0)&&(bt[Et]=j[Et]);return bt}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}(objectWithoutPropertiesLoose)),objectWithoutPropertiesLoose.exports}const require$$1=getAugmentedNamespace(styledEngine),require$$4=getAugmentedNamespace(deepmerge),require$$5=getAugmentedNamespace(capitalize$1),require$$6=getAugmentedNamespace(getDisplayName),require$$7=getAugmentedNamespace(createTheme$1),require$$8=getAugmentedNamespace(styleFunctionSx);var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(createStyled$1,"__esModule",{value:!0});var _default=createStyled$1.default=createStyled,shouldForwardProp_1=createStyled$1.shouldForwardProp=shouldForwardProp;createStyled$1.systemDefaultTheme=void 0;var _extends2=_interopRequireDefault(require_extends()),_objectWithoutPropertiesLoose2=_interopRequireDefault(requireObjectWithoutPropertiesLoose()),_styledEngine$1=_interopRequireWildcard$1(require$$1),_deepmerge=require$$4;_interopRequireDefault(require$$5);_interopRequireDefault(require$$6);var _createTheme=_interopRequireDefault(require$$7),_styleFunctionSx=_interopRequireDefault(require$$8);const _excluded$C=["ownerState"],_excluded2$5=["variants"],_excluded3$1=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _getRequireWildcardCache$1(o){if(typeof WeakMap!="function")return null;var s=new WeakMap,j=new WeakMap;return(_getRequireWildcardCache$1=function(et){return et?j:s})(o)}function _interopRequireWildcard$1(o,s){if(!s&&o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var j=_getRequireWildcardCache$1(s);if(j&&j.has(o))return j.get(o);var et={__proto__:null},bt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var At in o)if(At!=="default"&&Object.prototype.hasOwnProperty.call(o,At)){var Et=bt?Object.getOwnPropertyDescriptor(o,At):null;Et&&(Et.get||Et.set)?Object.defineProperty(et,At,Et):et[At]=o[At]}return et.default=o,j&&j.set(o,et),et}function isEmpty$2(o){return Object.keys(o).length===0}function isStringTag(o){return typeof o=="string"&&o.charCodeAt(0)>96}function shouldForwardProp(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}const systemDefaultTheme=createStyled$1.systemDefaultTheme=(0,_createTheme.default)(),lowercaseFirstLetter=o=>o&&o.charAt(0).toLowerCase()+o.slice(1);function resolveTheme({defaultTheme:o,theme:s,themeId:j}){return isEmpty$2(s)?o:s[j]||s}function defaultOverridesResolver(o){return o?(s,j)=>j[o]:null}function processStyleArg(o,s){let{ownerState:j}=s,et=(0,_objectWithoutPropertiesLoose2.default)(s,_excluded$C);const bt=typeof o=="function"?o((0,_extends2.default)({ownerState:j},et)):o;if(Array.isArray(bt))return bt.flatMap(At=>processStyleArg(At,(0,_extends2.default)({ownerState:j},et)));if(bt&&typeof bt=="object"&&Array.isArray(bt.variants)){const{variants:At=[]}=bt;let Ut=(0,_objectWithoutPropertiesLoose2.default)(bt,_excluded2$5);return At.forEach(zt=>{let It=!0;typeof zt.props=="function"?It=zt.props((0,_extends2.default)({ownerState:j},et,j)):Object.keys(zt.props).forEach(Qt=>{(j==null?void 0:j[Qt])!==zt.props[Qt]&&et[Qt]!==zt.props[Qt]&&(It=!1)}),It&&(Array.isArray(Ut)||(Ut=[Ut]),Ut.push(typeof zt.style=="function"?zt.style((0,_extends2.default)({ownerState:j},et,j)):zt.style))}),Ut}return bt}function createStyled(o={}){const{themeId:s,defaultTheme:j=systemDefaultTheme,rootShouldForwardProp:et=shouldForwardProp,slotShouldForwardProp:bt=shouldForwardProp}=o,At=Et=>(0,_styleFunctionSx.default)((0,_extends2.default)({},Et,{theme:resolveTheme((0,_extends2.default)({},Et,{defaultTheme:j,themeId:s}))}));return At.__mui_systemSx=!0,(Et,Ut={})=>{(0,_styledEngine$1.internal_processStyles)(Et,nA=>nA.filter(aA=>!(aA!=null&&aA.__mui_systemSx)));const{name:zt,slot:It,skipVariantsResolver:Qt,skipSx:Pt,overridesResolver:Yt=defaultOverridesResolver(lowercaseFirstLetter(It))}=Ut,cr=(0,_objectWithoutPropertiesLoose2.default)(Ut,_excluded3$1),_r=Qt!==void 0?Qt:It&&It!=="Root"&&It!=="root"||!1,vr=Pt||!1;let Yr,Kr=shouldForwardProp;It==="Root"||It==="root"?Kr=et:It?Kr=bt:isStringTag(Et)&&(Kr=void 0);const jr=(0,_styledEngine$1.default)(Et,(0,_extends2.default)({shouldForwardProp:Kr,label:Yr},cr)),Hn=nA=>typeof nA=="function"&&nA.__emotion_real!==nA||(0,_deepmerge.isPlainObject)(nA)?aA=>processStyleArg(nA,(0,_extends2.default)({},aA,{theme:resolveTheme({theme:aA.theme,defaultTheme:j,themeId:s})})):nA,tA=(nA,...aA)=>{let lA=Hn(nA);const hA=aA?aA.map(Hn):[];zt&&Yt&&hA.push(NA=>{const cA=resolveTheme((0,_extends2.default)({},NA,{defaultTheme:j,themeId:s}));if(!cA.components||!cA.components[zt]||!cA.components[zt].styleOverrides)return null;const CA=cA.components[zt].styleOverrides,sA={};return Object.entries(CA).forEach(([UA,LA])=>{sA[UA]=processStyleArg(LA,(0,_extends2.default)({},NA,{theme:cA}))}),Yt(NA,sA)}),zt&&!_r&&hA.push(NA=>{var cA;const CA=resolveTheme((0,_extends2.default)({},NA,{defaultTheme:j,themeId:s})),sA=CA==null||(cA=CA.components)==null||(cA=cA[zt])==null?void 0:cA.variants;return processStyleArg({variants:sA},(0,_extends2.default)({},NA,{theme:CA}))}),vr||hA.push(At);const pA=hA.length-aA.length;if(Array.isArray(nA)&&pA>0){const NA=new Array(pA).fill("");lA=[...nA,...NA],lA.raw=[...nA.raw,...NA]}const wA=jr(lA,...hA);return Et.muiName&&(wA.muiName=Et.muiName),wA};return jr.withConfig&&(tA.withConfig=jr.withConfig),tA}}const rootShouldForwardProp=o=>shouldForwardProp_1(o)&&o!=="classes",slotShouldForwardProp=shouldForwardProp_1,styled=_default({themeId:THEME_ID,defaultTheme:defaultTheme$2,rootShouldForwardProp}),_excluded$B=["theme"];function ThemeProvider(o){let{theme:s}=o,j=_objectWithoutPropertiesLoose(o,_excluded$B);const et=s[THEME_ID];return jsxRuntimeExports.jsx(ThemeProvider$1,_extends$1({},j,{themeId:et?THEME_ID:void 0,theme:et||s}))}const getOverlayAlpha=o=>{let s;return o<1?s=5.11916*o**2:s=4.5*Math.log(o+1)+2,(s/100).toFixed(2)};function getSvgIconUtilityClass(o){return generateUtilityClass$1("MuiSvgIcon",o)}generateUtilityClasses$1("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$A=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$r=o=>{const{color:s,fontSize:j,classes:et}=o,bt={root:["root",s!=="inherit"&&`color${capitalize$2(s)}`,`fontSize${capitalize$2(j)}`]};return composeClasses(bt,getSvgIconUtilityClass,et)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,j.color!=="inherit"&&s[`color${capitalize$2(j.color)}`],s[`fontSize${capitalize$2(j.fontSize)}`]]}})(({theme:o,ownerState:s})=>{var j,et,bt,At,Et,Ut,zt,It,Qt,Pt,Yt,cr,_r;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:s.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(j=o.transitions)==null||(et=j.create)==null?void 0:et.call(j,"fill",{duration:(bt=o.transitions)==null||(bt=bt.duration)==null?void 0:bt.shorter}),fontSize:{inherit:"inherit",small:((At=o.typography)==null||(Et=At.pxToRem)==null?void 0:Et.call(At,20))||"1.25rem",medium:((Ut=o.typography)==null||(zt=Ut.pxToRem)==null?void 0:zt.call(Ut,24))||"1.5rem",large:((It=o.typography)==null||(Qt=It.pxToRem)==null?void 0:Qt.call(It,35))||"2.1875rem"}[s.fontSize],color:(Pt=(Yt=(o.vars||o).palette)==null||(Yt=Yt[s.color])==null?void 0:Yt.main)!=null?Pt:{action:(cr=(o.vars||o).palette)==null||(cr=cr.action)==null?void 0:cr.active,disabled:(_r=(o.vars||o).palette)==null||(_r=_r.action)==null?void 0:_r.disabled,inherit:void 0}[s.color]}}),SvgIcon=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiSvgIcon"}),{children:bt,className:At,color:Et="inherit",component:Ut="svg",fontSize:zt="medium",htmlColor:It,inheritViewBox:Qt=!1,titleAccess:Pt,viewBox:Yt="0 0 24 24"}=et,cr=_objectWithoutPropertiesLoose(et,_excluded$A),_r=reactExports.isValidElement(bt)&&bt.type==="svg",vr=_extends$1({},et,{color:Et,component:Ut,fontSize:zt,instanceFontSize:s.fontSize,inheritViewBox:Qt,viewBox:Yt,hasSvgAsChild:_r}),Yr={};Qt||(Yr.viewBox=Yt);const Kr=useUtilityClasses$r(vr);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends$1({as:Ut,className:clsx(Kr.root,At),focusable:"false",color:It,"aria-hidden":Pt?void 0:!0,role:Pt?"img":void 0,ref:j},Yr,cr,_r&&bt.props,{ownerState:vr,children:[_r?bt.props.children:bt,Pt?jsxRuntimeExports.jsx("title",{children:Pt}):null]}))});SvgIcon.muiName="SvgIcon";function createSvgIcon(o,s){function j(et,bt){return jsxRuntimeExports.jsx(SvgIcon,_extends$1({"data-testid":`${s}Icon`,ref:bt},et,{children:o}))}return j.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(j))}var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q$2=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u$1;u$1=Symbol.for("react.module.reference");function v(o){if(typeof o=="object"&&o!==null){var s=o.$$typeof;switch(s){case b:switch(o=o.type,o){case d:case f$1:case e$1:case m:case n:return o;default:switch(o=o&&o.$$typeof,o){case k:case h:case l:case q$2:case p:case g:return o;default:return s}}case c:return s}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q$2;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f$1;reactIs_production_min.StrictMode=e$1;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(o){return v(o)===h};reactIs_production_min.isContextProvider=function(o){return v(o)===g};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===b};reactIs_production_min.isForwardRef=function(o){return v(o)===l};reactIs_production_min.isFragment=function(o){return v(o)===d};reactIs_production_min.isLazy=function(o){return v(o)===q$2};reactIs_production_min.isMemo=function(o){return v(o)===p};reactIs_production_min.isPortal=function(o){return v(o)===c};reactIs_production_min.isProfiler=function(o){return v(o)===f$1};reactIs_production_min.isStrictMode=function(o){return v(o)===e$1};reactIs_production_min.isSuspense=function(o){return v(o)===m};reactIs_production_min.isSuspenseList=function(o){return v(o)===n};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===d||o===f$1||o===e$1||o===m||o===n||o===t||typeof o=="object"&&o!==null&&(o.$$typeof===q$2||o.$$typeof===p||o.$$typeof===g||o.$$typeof===h||o.$$typeof===l||o.$$typeof===u$1||o.getModuleId!==void 0)};reactIs_production_min.typeOf=v;function _setPrototypeOf(o,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,bt){return et.__proto__=bt,et},_setPrototypeOf(o,s)}function _inheritsLoose(o,s){o.prototype=Object.create(s.prototype),o.prototype.constructor=o,_setPrototypeOf(o,s)}const config={disabled:!1},TransitionGroupContext=React$1.createContext(null);var forceReflow=function(s){return s.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(o){_inheritsLoose(s,o);function s(et,bt){var At;At=o.call(this,et,bt)||this;var Et=bt,Ut=Et&&!Et.isMounting?et.enter:et.appear,zt;return At.appearStatus=null,et.in?Ut?(zt=EXITED,At.appearStatus=ENTERING):zt=ENTERED:et.unmountOnExit||et.mountOnEnter?zt=UNMOUNTED:zt=EXITED,At.state={status:zt},At.nextCallback=null,At}s.getDerivedStateFromProps=function(bt,At){var Et=bt.in;return Et&&At.status===UNMOUNTED?{status:EXITED}:null};var j=s.prototype;return j.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},j.componentDidUpdate=function(bt){var At=null;if(bt!==this.props){var Et=this.state.status;this.props.in?Et!==ENTERING&&Et!==ENTERED&&(At=ENTERING):(Et===ENTERING||Et===ENTERED)&&(At=EXITING)}this.updateStatus(!1,At)},j.componentWillUnmount=function(){this.cancelNextCallback()},j.getTimeouts=function(){var bt=this.props.timeout,At,Et,Ut;return At=Et=Ut=bt,bt!=null&&typeof bt!="number"&&(At=bt.exit,Et=bt.enter,Ut=bt.appear!==void 0?bt.appear:Et),{exit:At,enter:Et,appear:Ut}},j.updateStatus=function(bt,At){if(bt===void 0&&(bt=!1),At!==null)if(this.cancelNextCallback(),At===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var Et=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);Et&&forceReflow(Et)}this.performEnter(bt)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},j.performEnter=function(bt){var At=this,Et=this.props.enter,Ut=this.context?this.context.isMounting:bt,zt=this.props.nodeRef?[Ut]:[ReactDOM.findDOMNode(this),Ut],It=zt[0],Qt=zt[1],Pt=this.getTimeouts(),Yt=Ut?Pt.appear:Pt.enter;if(!bt&&!Et||config.disabled){this.safeSetState({status:ENTERED},function(){At.props.onEntered(It)});return}this.props.onEnter(It,Qt),this.safeSetState({status:ENTERING},function(){At.props.onEntering(It,Qt),At.onTransitionEnd(Yt,function(){At.safeSetState({status:ENTERED},function(){At.props.onEntered(It,Qt)})})})},j.performExit=function(){var bt=this,At=this.props.exit,Et=this.getTimeouts(),Ut=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!At||config.disabled){this.safeSetState({status:EXITED},function(){bt.props.onExited(Ut)});return}this.props.onExit(Ut),this.safeSetState({status:EXITING},function(){bt.props.onExiting(Ut),bt.onTransitionEnd(Et.exit,function(){bt.safeSetState({status:EXITED},function(){bt.props.onExited(Ut)})})})},j.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},j.safeSetState=function(bt,At){At=this.setNextCallback(At),this.setState(bt,At)},j.setNextCallback=function(bt){var At=this,Et=!0;return this.nextCallback=function(Ut){Et&&(Et=!1,At.nextCallback=null,bt(Ut))},this.nextCallback.cancel=function(){Et=!1},this.nextCallback},j.onTransitionEnd=function(bt,At){this.setNextCallback(At);var Et=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),Ut=bt==null&&!this.props.addEndListener;if(!Et||Ut){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var zt=this.props.nodeRef?[this.nextCallback]:[Et,this.nextCallback],It=zt[0],Qt=zt[1];this.props.addEndListener(It,Qt)}bt!=null&&setTimeout(this.nextCallback,bt)},j.render=function(){var bt=this.state.status;if(bt===UNMOUNTED)return null;var At=this.props,Et=At.children;At.in,At.mountOnEnter,At.unmountOnExit,At.appear,At.enter,At.exit,At.timeout,At.addEndListener,At.onEnter,At.onEntering,At.onEntered,At.onExit,At.onExiting,At.onExited,At.nodeRef;var Ut=_objectWithoutPropertiesLoose(At,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$1.createElement(TransitionGroupContext.Provider,{value:null},typeof Et=="function"?Et(bt,Ut):React$1.cloneElement(React$1.Children.only(Et),Ut))},s}(React$1.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function getChildMapping(o,s){var j=function(At){return s&&reactExports.isValidElement(At)?s(At):At},et=Object.create(null);return o&&reactExports.Children.map(o,function(bt){return bt}).forEach(function(bt){et[bt.key]=j(bt)}),et}function mergeChildMappings(o,s){o=o||{},s=s||{};function j(Qt){return Qt in s?s[Qt]:o[Qt]}var et=Object.create(null),bt=[];for(var At in o)At in s?bt.length&&(et[At]=bt,bt=[]):bt.push(At);var Et,Ut={};for(var zt in s){if(et[zt])for(Et=0;Et<et[zt].length;Et++){var It=et[zt][Et];Ut[et[zt][Et]]=j(It)}Ut[zt]=j(zt)}for(Et=0;Et<bt.length;Et++)Ut[bt[Et]]=j(bt[Et]);return Ut}function getProp(o,s,j){return j[s]!=null?j[s]:o.props[s]}function getInitialChildMapping(o,s){return getChildMapping(o.children,function(j){return reactExports.cloneElement(j,{onExited:s.bind(null,j),in:!0,appear:getProp(j,"appear",o),enter:getProp(j,"enter",o),exit:getProp(j,"exit",o)})})}function getNextChildMapping(o,s,j){var et=getChildMapping(o.children),bt=mergeChildMappings(s,et);return Object.keys(bt).forEach(function(At){var Et=bt[At];if(reactExports.isValidElement(Et)){var Ut=At in s,zt=At in et,It=s[At],Qt=reactExports.isValidElement(It)&&!It.props.in;zt&&(!Ut||Qt)?bt[At]=reactExports.cloneElement(Et,{onExited:j.bind(null,Et),in:!0,exit:getProp(Et,"exit",o),enter:getProp(Et,"enter",o)}):!zt&&Ut&&!Qt?bt[At]=reactExports.cloneElement(Et,{in:!1}):zt&&Ut&&reactExports.isValidElement(It)&&(bt[At]=reactExports.cloneElement(Et,{onExited:j.bind(null,Et),in:It.props.in,exit:getProp(Et,"exit",o),enter:getProp(Et,"enter",o)}))}}),bt}var values=Object.values||function(o){return Object.keys(o).map(function(s){return o[s]})},defaultProps={component:"div",childFactory:function(s){return s}},TransitionGroup=function(o){_inheritsLoose(s,o);function s(et,bt){var At;At=o.call(this,et,bt)||this;var Et=At.handleExited.bind(_assertThisInitialized(At));return At.state={contextValue:{isMounting:!0},handleExited:Et,firstRender:!0},At}var j=s.prototype;return j.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},j.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(bt,At){var Et=At.children,Ut=At.handleExited,zt=At.firstRender;return{children:zt?getInitialChildMapping(bt,Ut):getNextChildMapping(bt,Et,Ut),firstRender:!1}},j.handleExited=function(bt,At){var Et=getChildMapping(this.props.children);bt.key in Et||(bt.props.onExited&&bt.props.onExited(At),this.mounted&&this.setState(function(Ut){var zt=_extends$1({},Ut.children);return delete zt[bt.key],{children:zt}}))},j.render=function(){var bt=this.props,At=bt.component,Et=bt.childFactory,Ut=_objectWithoutPropertiesLoose(bt,["component","childFactory"]),zt=this.state.contextValue,It=values(this.state.children).map(Et);return delete Ut.appear,delete Ut.enter,delete Ut.exit,At===null?React$1.createElement(TransitionGroupContext.Provider,{value:zt},It):React$1.createElement(TransitionGroupContext.Provider,{value:zt},React$1.createElement(At,Ut,It))},s}(React$1.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=o=>o.scrollTop;function getTransitionProps(o,s){var j,et;const{timeout:bt,easing:At,style:Et={}}=o;return{duration:(j=Et.transitionDuration)!=null?j:typeof bt=="number"?bt:bt[s.mode]||0,easing:(et=Et.transitionTimingFunction)!=null?et:typeof At=="object"?At[s.mode]:At,delay:Et.transitionDelay}}function getPaperUtilityClass(o){return generateUtilityClass$1("MuiPaper",o)}generateUtilityClasses$1("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$z=["className","component","elevation","square","variant"],useUtilityClasses$q=o=>{const{square:s,elevation:j,variant:et,classes:bt}=o,At={root:["root",et,!s&&"rounded",et==="elevation"&&`elevation${j}`]};return composeClasses(At,getPaperUtilityClass,bt)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,s[j.variant],!j.square&&s.rounded,j.variant==="elevation"&&s[`elevation${j.elevation}`]]}})(({theme:o,ownerState:s})=>{var j;return _extends$1({backgroundColor:(o.vars||o).palette.background.paper,color:(o.vars||o).palette.text.primary,transition:o.transitions.create("box-shadow")},!s.square&&{borderRadius:o.shape.borderRadius},s.variant==="outlined"&&{border:`1px solid ${(o.vars||o).palette.divider}`},s.variant==="elevation"&&_extends$1({boxShadow:(o.vars||o).shadows[s.elevation]},!o.vars&&o.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha_1("#fff",getOverlayAlpha(s.elevation))}, ${alpha_1("#fff",getOverlayAlpha(s.elevation))})`},o.vars&&{backgroundImage:(j=o.vars.overlays)==null?void 0:j[s.elevation]}))}),Paper=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiPaper"}),{className:bt,component:At="div",elevation:Et=1,square:Ut=!1,variant:zt="elevation"}=et,It=_objectWithoutPropertiesLoose(et,_excluded$z),Qt=_extends$1({},et,{component:At,elevation:Et,square:Ut,variant:zt}),Pt=useUtilityClasses$q(Qt);return jsxRuntimeExports.jsx(PaperRoot,_extends$1({as:At,ownerState:Qt,className:clsx(Pt.root,bt),ref:j},It))}),Paper$1=Paper;function isHostComponent(o){return typeof o=="string"}function appendOwnerState(o,s,j){return o===void 0||isHostComponent(o)?s:_extends$1({},s,{ownerState:_extends$1({},s.ownerState,j)})}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride(o){const{disableDefaultClasses:s}=reactExports.useContext(ClassNameConfiguratorContext);return j=>s?"":o(j)}function extractEventHandlers(o,s=[]){if(o===void 0)return{};const j={};return Object.keys(o).filter(et=>et.match(/^on[A-Z]/)&&typeof o[et]=="function"&&!s.includes(et)).forEach(et=>{j[et]=o[et]}),j}function resolveComponentProps(o,s,j){return typeof o=="function"?o(s,j):o}function omitEventHandlers(o){if(o===void 0)return{};const s={};return Object.keys(o).filter(j=>!(j.match(/^on[A-Z]/)&&typeof o[j]=="function")).forEach(j=>{s[j]=o[j]}),s}function mergeSlotProps(o){const{getSlotProps:s,additionalProps:j,externalSlotProps:et,externalForwardedProps:bt,className:At}=o;if(!s){const cr=clsx(j==null?void 0:j.className,At,bt==null?void 0:bt.className,et==null?void 0:et.className),_r=_extends$1({},j==null?void 0:j.style,bt==null?void 0:bt.style,et==null?void 0:et.style),vr=_extends$1({},j,bt,et);return cr.length>0&&(vr.className=cr),Object.keys(_r).length>0&&(vr.style=_r),{props:vr,internalRef:void 0}}const Et=extractEventHandlers(_extends$1({},bt,et)),Ut=omitEventHandlers(et),zt=omitEventHandlers(bt),It=s(Et),Qt=clsx(It==null?void 0:It.className,j==null?void 0:j.className,At,bt==null?void 0:bt.className,et==null?void 0:et.className),Pt=_extends$1({},It==null?void 0:It.style,j==null?void 0:j.style,bt==null?void 0:bt.style,et==null?void 0:et.style),Yt=_extends$1({},It,j,zt,Ut);return Qt.length>0&&(Yt.className=Qt),Object.keys(Pt).length>0&&(Yt.style=Pt),{props:Yt,internalRef:It.ref}}const _excluded$y=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps(o){var s;const{elementType:j,externalSlotProps:et,ownerState:bt,skipResolvingSlotProps:At=!1}=o,Et=_objectWithoutPropertiesLoose(o,_excluded$y),Ut=At?{}:resolveComponentProps(et,bt),{props:zt,internalRef:It}=mergeSlotProps(_extends$1({},Et,{externalSlotProps:Ut})),Qt=useForkRef(It,Ut==null?void 0:Ut.ref,(s=o.additionalProps)==null?void 0:s.ref);return appendOwnerState(j,_extends$1({},zt,{ref:Qt}),bt)}function Ripple(o){const{className:s,classes:j,pulsate:et=!1,rippleX:bt,rippleY:At,rippleSize:Et,in:Ut,onExited:zt,timeout:It}=o,[Qt,Pt]=reactExports.useState(!1),Yt=clsx(s,j.ripple,j.rippleVisible,et&&j.ripplePulsate),cr={width:Et,height:Et,top:-(Et/2)+At,left:-(Et/2)+bt},_r=clsx(j.child,Qt&&j.childLeaving,et&&j.childPulsate);return!Ut&&!Qt&&Pt(!0),reactExports.useEffect(()=>{if(!Ut&&zt!=null){const vr=setTimeout(zt,It);return()=>{clearTimeout(vr)}}},[zt,Ut,It]),jsxRuntimeExports.jsx("span",{className:Yt,style:cr,children:jsxRuntimeExports.jsx("span",{className:_r})})}const touchRippleClasses=generateUtilityClasses$1("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_excluded$x=["center","classes","className"];let _=o=>o,_t$1,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t$1||(_t$1=_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses.rippleVisible,enterKeyframe,DURATION,({theme:o})=>o.transitions.easing.easeInOut,touchRippleClasses.ripplePulsate,({theme:o})=>o.transitions.duration.shorter,touchRippleClasses.child,touchRippleClasses.childLeaving,exitKeyframe,DURATION,({theme:o})=>o.transitions.easing.easeInOut,touchRippleClasses.childPulsate,pulsateKeyframe,({theme:o})=>o.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiTouchRipple"}),{center:bt=!1,classes:At={},className:Et}=et,Ut=_objectWithoutPropertiesLoose(et,_excluded$x),[zt,It]=reactExports.useState([]),Qt=reactExports.useRef(0),Pt=reactExports.useRef(null);reactExports.useEffect(()=>{Pt.current&&(Pt.current(),Pt.current=null)},[zt]);const Yt=reactExports.useRef(!1),cr=useTimeout(),_r=reactExports.useRef(null),vr=reactExports.useRef(null),Yr=reactExports.useCallback(tA=>{const{pulsate:nA,rippleX:aA,rippleY:lA,rippleSize:hA,cb:pA}=tA;It(wA=>[...wA,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(At.ripple,touchRippleClasses.ripple),rippleVisible:clsx(At.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(At.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(At.child,touchRippleClasses.child),childLeaving:clsx(At.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(At.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:nA,rippleX:aA,rippleY:lA,rippleSize:hA},Qt.current)]),Qt.current+=1,Pt.current=pA},[At]),Kr=reactExports.useCallback((tA={},nA={},aA=()=>{})=>{const{pulsate:lA=!1,center:hA=bt||nA.pulsate,fakeElement:pA=!1}=nA;if((tA==null?void 0:tA.type)==="mousedown"&&Yt.current){Yt.current=!1;return}(tA==null?void 0:tA.type)==="touchstart"&&(Yt.current=!0);const wA=pA?null:vr.current,NA=wA?wA.getBoundingClientRect():{width:0,height:0,left:0,top:0};let cA,CA,sA;if(hA||tA===void 0||tA.clientX===0&&tA.clientY===0||!tA.clientX&&!tA.touches)cA=Math.round(NA.width/2),CA=Math.round(NA.height/2);else{const{clientX:UA,clientY:LA}=tA.touches&&tA.touches.length>0?tA.touches[0]:tA;cA=Math.round(UA-NA.left),CA=Math.round(LA-NA.top)}if(hA)sA=Math.sqrt((2*NA.width**2+NA.height**2)/3),sA%2===0&&(sA+=1);else{const UA=Math.max(Math.abs((wA?wA.clientWidth:0)-cA),cA)*2+2,LA=Math.max(Math.abs((wA?wA.clientHeight:0)-CA),CA)*2+2;sA=Math.sqrt(UA**2+LA**2)}tA!=null&&tA.touches?_r.current===null&&(_r.current=()=>{Yr({pulsate:lA,rippleX:cA,rippleY:CA,rippleSize:sA,cb:aA})},cr.start(DELAY_RIPPLE,()=>{_r.current&&(_r.current(),_r.current=null)})):Yr({pulsate:lA,rippleX:cA,rippleY:CA,rippleSize:sA,cb:aA})},[bt,Yr,cr]),jr=reactExports.useCallback(()=>{Kr({},{pulsate:!0})},[Kr]),Hn=reactExports.useCallback((tA,nA)=>{if(cr.clear(),(tA==null?void 0:tA.type)==="touchend"&&_r.current){_r.current(),_r.current=null,cr.start(0,()=>{Hn(tA,nA)});return}_r.current=null,It(aA=>aA.length>0?aA.slice(1):aA),Pt.current=nA},[cr]);return reactExports.useImperativeHandle(j,()=>({pulsate:jr,start:Kr,stop:Hn}),[jr,Kr,Hn]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends$1({className:clsx(touchRippleClasses.root,At.root,Et),ref:vr},Ut,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:zt})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(o){return generateUtilityClass$1("MuiButtonBase",o)}const buttonBaseClasses=generateUtilityClasses$1("MuiButtonBase",["root","disabled","focusVisible"]),_excluded$w=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$p=o=>{const{disabled:s,focusVisible:j,focusVisibleClassName:et,classes:bt}=o,Et=composeClasses({root:["root",s&&"disabled",j&&"focusVisible"]},getButtonBaseUtilityClass,bt);return j&&et&&(Et.root+=` ${et}`),Et},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(o,s)=>s.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiButtonBase"}),{action:bt,centerRipple:At=!1,children:Et,className:Ut,component:zt="button",disabled:It=!1,disableRipple:Qt=!1,disableTouchRipple:Pt=!1,focusRipple:Yt=!1,LinkComponent:cr="a",onBlur:_r,onClick:vr,onContextMenu:Yr,onDragLeave:Kr,onFocus:jr,onFocusVisible:Hn,onKeyDown:tA,onKeyUp:nA,onMouseDown:aA,onMouseLeave:lA,onMouseUp:hA,onTouchEnd:pA,onTouchMove:wA,onTouchStart:NA,tabIndex:cA=0,TouchRippleProps:CA,touchRippleRef:sA,type:UA}=et,LA=_objectWithoutPropertiesLoose(et,_excluded$w),RA=reactExports.useRef(null),kA=reactExports.useRef(null),OA=useForkRef(kA,sA),{isFocusVisibleRef:KA,onFocus:yA,onBlur:TA,ref:r0}=useIsFocusVisible(),[qA,XA]=reactExports.useState(!1);It&&qA&&XA(!1),reactExports.useImperativeHandle(bt,()=>({focusVisible:()=>{XA(!0),RA.current.focus()}}),[]);const[S0,U0]=reactExports.useState(!1);reactExports.useEffect(()=>{U0(!0)},[]);const C0=S0&&!Qt&&!It;reactExports.useEffect(()=>{qA&&Yt&&!Qt&&S0&&kA.current.pulsate()},[Qt,Yt,qA,S0]);function B0(w0,E0,t1=Pt){return useEventCallback(O1=>(E0&&E0(O1),!t1&&kA.current&&kA.current[w0](O1),!0))}const Q0=B0("start",aA),T0=B0("stop",Yr),F0=B0("stop",Kr),k0=B0("stop",hA),uA=B0("stop",w0=>{qA&&w0.preventDefault(),lA&&lA(w0)}),ZA=B0("start",NA),jA=B0("stop",pA),IA=B0("stop",wA),$A=B0("stop",w0=>{TA(w0),KA.current===!1&&XA(!1),_r&&_r(w0)},!1),QA=useEventCallback(w0=>{RA.current||(RA.current=w0.currentTarget),yA(w0),KA.current===!0&&(XA(!0),Hn&&Hn(w0)),jr&&jr(w0)}),n0=()=>{const w0=RA.current;return zt&&zt!=="button"&&!(w0.tagName==="A"&&w0.href)},t0=reactExports.useRef(!1),GA=useEventCallback(w0=>{Yt&&!t0.current&&qA&&kA.current&&w0.key===" "&&(t0.current=!0,kA.current.stop(w0,()=>{kA.current.start(w0)})),w0.target===w0.currentTarget&&n0()&&w0.key===" "&&w0.preventDefault(),tA&&tA(w0),w0.target===w0.currentTarget&&n0()&&w0.key==="Enter"&&!It&&(w0.preventDefault(),vr&&vr(w0))}),A0=useEventCallback(w0=>{Yt&&w0.key===" "&&kA.current&&qA&&!w0.defaultPrevented&&(t0.current=!1,kA.current.stop(w0,()=>{kA.current.pulsate(w0)})),nA&&nA(w0),vr&&w0.target===w0.currentTarget&&n0()&&w0.key===" "&&!w0.defaultPrevented&&vr(w0)});let y0=zt;y0==="button"&&(LA.href||LA.to)&&(y0=cr);const f0={};y0==="button"?(f0.type=UA===void 0?"button":UA,f0.disabled=It):(!LA.href&&!LA.to&&(f0.role="button"),It&&(f0["aria-disabled"]=It));const P0=useForkRef(j,r0,RA),K0=_extends$1({},et,{centerRipple:At,component:zt,disabled:It,disableRipple:Qt,disableTouchRipple:Pt,focusRipple:Yt,tabIndex:cA,focusVisible:qA}),$0=useUtilityClasses$p(K0);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends$1({as:y0,className:clsx($0.root,Ut),ownerState:K0,onBlur:$A,onClick:vr,onContextMenu:T0,onFocus:QA,onKeyDown:GA,onKeyUp:A0,onMouseDown:Q0,onMouseLeave:uA,onMouseUp:k0,onDragLeave:F0,onTouchEnd:jA,onTouchMove:IA,onTouchStart:ZA,ref:P0,tabIndex:It?-1:cA,type:UA},f0,LA,{children:[Et,C0?jsxRuntimeExports.jsx(TouchRipple$1,_extends$1({ref:OA,center:At},CA)):null]}))}),ButtonBase$1=ButtonBase,GLOBAL_CLASS_PREFIX="base";function buildStateClass(o){return`${GLOBAL_CLASS_PREFIX}--${o}`}function buildSlotClass(o,s){return`${GLOBAL_CLASS_PREFIX}-${o}-${s}`}function generateUtilityClass(o,s){const j=globalStateClasses[s];return j?buildStateClass(j):buildSlotClass(o,s)}function generateUtilityClasses(o,s){const j={};return s.forEach(et=>{j[et]=generateUtilityClass(o,et)}),j}function mapEventPropToEvent(o){return o.substring(2).toLowerCase()}function clickedRootScrollbar(o,s){return s.documentElement.clientWidth<o.clientX||s.documentElement.clientHeight<o.clientY}function ClickAwayListener(o){const{children:s,disableReactTree:j=!1,mouseEvent:et="onClick",onClickAway:bt,touchEvent:At="onTouchEnd"}=o,Et=reactExports.useRef(!1),Ut=reactExports.useRef(null),zt=reactExports.useRef(!1),It=reactExports.useRef(!1);reactExports.useEffect(()=>(setTimeout(()=>{zt.current=!0},0),()=>{zt.current=!1}),[]);const Qt=useForkRef(s.ref,Ut),Pt=useEventCallback(_r=>{const vr=It.current;It.current=!1;const Yr=ownerDocument(Ut.current);if(!zt.current||!Ut.current||"clientX"in _r&&clickedRootScrollbar(_r,Yr))return;if(Et.current){Et.current=!1;return}let Kr;_r.composedPath?Kr=_r.composedPath().indexOf(Ut.current)>-1:Kr=!Yr.documentElement.contains(_r.target)||Ut.current.contains(_r.target),!Kr&&(j||!vr)&&bt(_r)}),Yt=_r=>vr=>{It.current=!0;const Yr=s.props[_r];Yr&&Yr(vr)},cr={ref:Qt};return At!==!1&&(cr[At]=Yt(At)),reactExports.useEffect(()=>{if(At!==!1){const _r=mapEventPropToEvent(At),vr=ownerDocument(Ut.current),Yr=()=>{Et.current=!0};return vr.addEventListener(_r,Pt),vr.addEventListener("touchmove",Yr),()=>{vr.removeEventListener(_r,Pt),vr.removeEventListener("touchmove",Yr)}}},[Pt,At]),et!==!1&&(cr[et]=Yt(et)),reactExports.useEffect(()=>{if(et!==!1){const _r=mapEventPropToEvent(et),vr=ownerDocument(Ut.current);return vr.addEventListener(_r,Pt),()=>{vr.removeEventListener(_r,Pt)}}},[Pt,et]),jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(s,cr)})}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(o){const s=parseInt(o.getAttribute("tabindex")||"",10);return Number.isNaN(s)?o.contentEditable==="true"||(o.nodeName==="AUDIO"||o.nodeName==="VIDEO"||o.nodeName==="DETAILS")&&o.getAttribute("tabindex")===null?0:o.tabIndex:s}function isNonTabbableRadio(o){if(o.tagName!=="INPUT"||o.type!=="radio"||!o.name)return!1;const s=et=>o.ownerDocument.querySelector(`input[type="radio"]${et}`);let j=s(`[name="${o.name}"]:checked`);return j||(j=s(`[name="${o.name}"]`)),j!==o}function isNodeMatchingSelectorFocusable(o){return!(o.disabled||o.tagName==="INPUT"&&o.type==="hidden"||isNonTabbableRadio(o))}function defaultGetTabbable(o){const s=[],j=[];return Array.from(o.querySelectorAll(candidatesSelector)).forEach((et,bt)=>{const At=getTabIndex(et);At===-1||!isNodeMatchingSelectorFocusable(et)||(At===0?s.push(et):j.push({documentOrder:bt,tabIndex:At,node:et}))}),j.sort((et,bt)=>et.tabIndex===bt.tabIndex?et.documentOrder-bt.documentOrder:et.tabIndex-bt.tabIndex).map(et=>et.node).concat(s)}function defaultIsEnabled(){return!0}function FocusTrap(o){const{children:s,disableAutoFocus:j=!1,disableEnforceFocus:et=!1,disableRestoreFocus:bt=!1,getTabbable:At=defaultGetTabbable,isEnabled:Et=defaultIsEnabled,open:Ut}=o,zt=reactExports.useRef(!1),It=reactExports.useRef(null),Qt=reactExports.useRef(null),Pt=reactExports.useRef(null),Yt=reactExports.useRef(null),cr=reactExports.useRef(!1),_r=reactExports.useRef(null),vr=useForkRef(s.ref,_r),Yr=reactExports.useRef(null);reactExports.useEffect(()=>{!Ut||!_r.current||(cr.current=!j)},[j,Ut]),reactExports.useEffect(()=>{if(!Ut||!_r.current)return;const Hn=ownerDocument(_r.current);return _r.current.contains(Hn.activeElement)||(_r.current.hasAttribute("tabIndex")||_r.current.setAttribute("tabIndex","-1"),cr.current&&_r.current.focus()),()=>{bt||(Pt.current&&Pt.current.focus&&(zt.current=!0,Pt.current.focus()),Pt.current=null)}},[Ut]),reactExports.useEffect(()=>{if(!Ut||!_r.current)return;const Hn=ownerDocument(_r.current),tA=lA=>{Yr.current=lA,!(et||!Et()||lA.key!=="Tab")&&Hn.activeElement===_r.current&&lA.shiftKey&&(zt.current=!0,Qt.current&&Qt.current.focus())},nA=()=>{const lA=_r.current;if(lA===null)return;if(!Hn.hasFocus()||!Et()||zt.current){zt.current=!1;return}if(lA.contains(Hn.activeElement)||et&&Hn.activeElement!==It.current&&Hn.activeElement!==Qt.current)return;if(Hn.activeElement!==Yt.current)Yt.current=null;else if(Yt.current!==null)return;if(!cr.current)return;let hA=[];if((Hn.activeElement===It.current||Hn.activeElement===Qt.current)&&(hA=At(_r.current)),hA.length>0){var pA,wA;const NA=!!((pA=Yr.current)!=null&&pA.shiftKey&&((wA=Yr.current)==null?void 0:wA.key)==="Tab"),cA=hA[0],CA=hA[hA.length-1];typeof cA!="string"&&typeof CA!="string"&&(NA?CA.focus():cA.focus())}else lA.focus()};Hn.addEventListener("focusin",nA),Hn.addEventListener("keydown",tA,!0);const aA=setInterval(()=>{Hn.activeElement&&Hn.activeElement.tagName==="BODY"&&nA()},50);return()=>{clearInterval(aA),Hn.removeEventListener("focusin",nA),Hn.removeEventListener("keydown",tA,!0)}},[j,et,bt,Et,Ut,At]);const Kr=Hn=>{Pt.current===null&&(Pt.current=Hn.relatedTarget),cr.current=!0,Yt.current=Hn.target;const tA=s.props.onFocus;tA&&tA(Hn)},jr=Hn=>{Pt.current===null&&(Pt.current=Hn.relatedTarget),cr.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:Ut?0:-1,onFocus:jr,ref:It,"data-testid":"sentinelStart"}),reactExports.cloneElement(s,{ref:vr,onFocus:Kr}),jsxRuntimeExports.jsx("div",{tabIndex:Ut?0:-1,onFocus:jr,ref:Qt,"data-testid":"sentinelEnd"})]})}function getContainer$1(o){return typeof o=="function"?o():o}const Portal=reactExports.forwardRef(function(s,j){const{children:et,container:bt,disablePortal:At=!1}=s,[Et,Ut]=reactExports.useState(null),zt=useForkRef(reactExports.isValidElement(et)?et.ref:null,j);if(useEnhancedEffect(()=>{At||Ut(getContainer$1(bt)||document.body)},[bt,At]),useEnhancedEffect(()=>{if(Et&&!At)return setRef(j,Et),()=>{setRef(j,null)}},[j,Et,At]),At){if(reactExports.isValidElement(et)){const It={ref:zt};return reactExports.cloneElement(et,It)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:et})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:Et&&reactDomExports.createPortal(et,Et)})});function isOverflowing(o){const s=ownerDocument(o);return s.body===o?ownerWindow(o).innerWidth>s.documentElement.clientWidth:o.scrollHeight>o.clientHeight}function ariaHidden(o,s){s?o.setAttribute("aria-hidden","true"):o.removeAttribute("aria-hidden")}function getPaddingRight(o){return parseInt(ownerWindow(o).getComputedStyle(o).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(o){const j=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(o.tagName)!==-1,et=o.tagName==="INPUT"&&o.getAttribute("type")==="hidden";return j||et}function ariaHiddenSiblings(o,s,j,et,bt){const At=[s,j,...et];[].forEach.call(o.children,Et=>{const Ut=At.indexOf(Et)===-1,zt=!isAriaHiddenForbiddenOnElement(Et);Ut&&zt&&ariaHidden(Et,bt)})}function findIndexOf(o,s){let j=-1;return o.some((et,bt)=>s(et)?(j=bt,!0):!1),j}function handleContainer(o,s){const j=[],et=o.container;if(!s.disableScrollLock){if(isOverflowing(et)){const Et=getScrollbarSize(ownerDocument(et));j.push({value:et.style.paddingRight,property:"padding-right",el:et}),et.style.paddingRight=`${getPaddingRight(et)+Et}px`;const Ut=ownerDocument(et).querySelectorAll(".mui-fixed");[].forEach.call(Ut,zt=>{j.push({value:zt.style.paddingRight,property:"padding-right",el:zt}),zt.style.paddingRight=`${getPaddingRight(zt)+Et}px`})}let At;if(et.parentNode instanceof DocumentFragment)At=ownerDocument(et).body;else{const Et=et.parentElement,Ut=ownerWindow(et);At=(Et==null?void 0:Et.nodeName)==="HTML"&&Ut.getComputedStyle(Et).overflowY==="scroll"?Et:et}j.push({value:At.style.overflow,property:"overflow",el:At},{value:At.style.overflowX,property:"overflow-x",el:At},{value:At.style.overflowY,property:"overflow-y",el:At}),At.style.overflow="hidden"}return()=>{j.forEach(({value:At,el:Et,property:Ut})=>{At?Et.style.setProperty(Ut,At):Et.style.removeProperty(Ut)})}}function getHiddenSiblings(o){const s=[];return[].forEach.call(o.children,j=>{j.getAttribute("aria-hidden")==="true"&&s.push(j)}),s}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(s,j){let et=this.modals.indexOf(s);if(et!==-1)return et;et=this.modals.length,this.modals.push(s),s.modalRef&&ariaHidden(s.modalRef,!1);const bt=getHiddenSiblings(j);ariaHiddenSiblings(j,s.mount,s.modalRef,bt,!0);const At=findIndexOf(this.containers,Et=>Et.container===j);return At!==-1?(this.containers[At].modals.push(s),et):(this.containers.push({modals:[s],container:j,restore:null,hiddenSiblings:bt}),et)}mount(s,j){const et=findIndexOf(this.containers,At=>At.modals.indexOf(s)!==-1),bt=this.containers[et];bt.restore||(bt.restore=handleContainer(bt,j))}remove(s,j=!0){const et=this.modals.indexOf(s);if(et===-1)return et;const bt=findIndexOf(this.containers,Et=>Et.modals.indexOf(s)!==-1),At=this.containers[bt];if(At.modals.splice(At.modals.indexOf(s),1),this.modals.splice(et,1),At.modals.length===0)At.restore&&At.restore(),s.modalRef&&ariaHidden(s.modalRef,j),ariaHiddenSiblings(At.container,s.mount,s.modalRef,At.hiddenSiblings,!1),this.containers.splice(bt,1);else{const Et=At.modals[At.modals.length-1];Et.modalRef&&ariaHidden(Et.modalRef,!1)}return et}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}function getContainer(o){return typeof o=="function"?o():o}function getHasTransition(o){return o?o.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager;function useModal(o){const{container:s,disableEscapeKeyDown:j=!1,disableScrollLock:et=!1,manager:bt=defaultManager,closeAfterTransition:At=!1,onTransitionEnter:Et,onTransitionExited:Ut,children:zt,onClose:It,open:Qt,rootRef:Pt}=o,Yt=reactExports.useRef({}),cr=reactExports.useRef(null),_r=reactExports.useRef(null),vr=useForkRef(_r,Pt),[Yr,Kr]=reactExports.useState(!Qt),jr=getHasTransition(zt);let Hn=!0;(o["aria-hidden"]==="false"||o["aria-hidden"]===!1)&&(Hn=!1);const tA=()=>ownerDocument(cr.current),nA=()=>(Yt.current.modalRef=_r.current,Yt.current.mount=cr.current,Yt.current),aA=()=>{bt.mount(nA(),{disableScrollLock:et}),_r.current&&(_r.current.scrollTop=0)},lA=useEventCallback(()=>{const LA=getContainer(s)||tA().body;bt.add(nA(),LA),_r.current&&aA()}),hA=reactExports.useCallback(()=>bt.isTopModal(nA()),[bt]),pA=useEventCallback(LA=>{cr.current=LA,LA&&(Qt&&hA()?aA():_r.current&&ariaHidden(_r.current,Hn))}),wA=reactExports.useCallback(()=>{bt.remove(nA(),Hn)},[Hn,bt]);reactExports.useEffect(()=>()=>{wA()},[wA]),reactExports.useEffect(()=>{Qt?lA():(!jr||!At)&&wA()},[Qt,wA,jr,At,lA]);const NA=LA=>RA=>{var kA;(kA=LA.onKeyDown)==null||kA.call(LA,RA),!(RA.key!=="Escape"||RA.which===229||!hA())&&(j||(RA.stopPropagation(),It&&It(RA,"escapeKeyDown")))},cA=LA=>RA=>{var kA;(kA=LA.onClick)==null||kA.call(LA,RA),RA.target===RA.currentTarget&&It&&It(RA,"backdropClick")};return{getRootProps:(LA={})=>{const RA=extractEventHandlers(o);delete RA.onTransitionEnter,delete RA.onTransitionExited;const kA=_extends$1({},RA,LA);return _extends$1({role:"presentation"},kA,{onKeyDown:NA(kA),ref:vr})},getBackdropProps:(LA={})=>{const RA=LA;return _extends$1({"aria-hidden":!0},RA,{onClick:cA(RA),open:Qt})},getTransitionProps:()=>{const LA=()=>{Kr(!1),Et&&Et()},RA=()=>{Kr(!0),Ut&&Ut(),At&&wA()};return{onEnter:createChainedFunction(LA,zt==null?void 0:zt.props.onEnter),onExited:createChainedFunction(RA,zt==null?void 0:zt.props.onExited)}},rootRef:vr,portalRef:pA,isTopModal:hA,exited:Yr,hasTransition:jr}}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(o,s){return o.concat([s+"-"+start,s+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(o,s){return o.concat([s,s+"-"+start,s+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(o){return o?(o.nodeName||"").toLowerCase():null}function getWindow(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var s=o.ownerDocument;return s&&s.defaultView||window}return o}function isElement(o){var s=getWindow(o).Element;return o instanceof s||o instanceof Element}function isHTMLElement$2(o){var s=getWindow(o).HTMLElement;return o instanceof s||o instanceof HTMLElement}function isShadowRoot(o){if(typeof ShadowRoot>"u")return!1;var s=getWindow(o).ShadowRoot;return o instanceof s||o instanceof ShadowRoot}function applyStyles(o){var s=o.state;Object.keys(s.elements).forEach(function(j){var et=s.styles[j]||{},bt=s.attributes[j]||{},At=s.elements[j];!isHTMLElement$2(At)||!getNodeName(At)||(Object.assign(At.style,et),Object.keys(bt).forEach(function(Et){var Ut=bt[Et];Ut===!1?At.removeAttribute(Et):At.setAttribute(Et,Ut===!0?"":Ut)}))})}function effect$2(o){var s=o.state,j={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,j.popper),s.styles=j,s.elements.arrow&&Object.assign(s.elements.arrow.style,j.arrow),function(){Object.keys(s.elements).forEach(function(et){var bt=s.elements[et],At=s.attributes[et]||{},Et=Object.keys(s.styles.hasOwnProperty(et)?s.styles[et]:j[et]),Ut=Et.reduce(function(zt,It){return zt[It]="",zt},{});!isHTMLElement$2(bt)||!getNodeName(bt)||(Object.assign(bt.style,Ut),Object.keys(At).forEach(function(zt){bt.removeAttribute(zt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(o){return o.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(o,s,j){s===void 0&&(s=!1),j===void 0&&(j=!1);var et=o.getBoundingClientRect(),bt=1,At=1;s&&isHTMLElement$2(o)&&(bt=o.offsetWidth>0&&round(et.width)/o.offsetWidth||1,At=o.offsetHeight>0&&round(et.height)/o.offsetHeight||1);var Et=isElement(o)?getWindow(o):window,Ut=Et.visualViewport,zt=!isLayoutViewport()&&j,It=(et.left+(zt&&Ut?Ut.offsetLeft:0))/bt,Qt=(et.top+(zt&&Ut?Ut.offsetTop:0))/At,Pt=et.width/bt,Yt=et.height/At;return{width:Pt,height:Yt,top:Qt,right:It+Pt,bottom:Qt+Yt,left:It,x:It,y:Qt}}function getLayoutRect(o){var s=getBoundingClientRect(o),j=o.offsetWidth,et=o.offsetHeight;return Math.abs(s.width-j)<=1&&(j=s.width),Math.abs(s.height-et)<=1&&(et=s.height),{x:o.offsetLeft,y:o.offsetTop,width:j,height:et}}function contains$1(o,s){var j=s.getRootNode&&s.getRootNode();if(o.contains(s))return!0;if(j&&isShadowRoot(j)){var et=s;do{if(et&&o.isSameNode(et))return!0;et=et.parentNode||et.host}while(et)}return!1}function getComputedStyle$1(o){return getWindow(o).getComputedStyle(o)}function isTableElement(o){return["table","td","th"].indexOf(getNodeName(o))>=0}function getDocumentElement(o){return((isElement(o)?o.ownerDocument:o.document)||window.document).documentElement}function getParentNode(o){return getNodeName(o)==="html"?o:o.assignedSlot||o.parentNode||(isShadowRoot(o)?o.host:null)||getDocumentElement(o)}function getTrueOffsetParent(o){return!isHTMLElement$2(o)||getComputedStyle$1(o).position==="fixed"?null:o.offsetParent}function getContainingBlock(o){var s=/firefox/i.test(getUAString()),j=/Trident/i.test(getUAString());if(j&&isHTMLElement$2(o)){var et=getComputedStyle$1(o);if(et.position==="fixed")return null}var bt=getParentNode(o);for(isShadowRoot(bt)&&(bt=bt.host);isHTMLElement$2(bt)&&["html","body"].indexOf(getNodeName(bt))<0;){var At=getComputedStyle$1(bt);if(At.transform!=="none"||At.perspective!=="none"||At.contain==="paint"||["transform","perspective"].indexOf(At.willChange)!==-1||s&&At.willChange==="filter"||s&&At.filter&&At.filter!=="none")return bt;bt=bt.parentNode}return null}function getOffsetParent(o){for(var s=getWindow(o),j=getTrueOffsetParent(o);j&&isTableElement(j)&&getComputedStyle$1(j).position==="static";)j=getTrueOffsetParent(j);return j&&(getNodeName(j)==="html"||getNodeName(j)==="body"&&getComputedStyle$1(j).position==="static")?s:j||getContainingBlock(o)||s}function getMainAxisFromPlacement(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function within(o,s,j){return max(o,min(s,j))}function withinMaxClamp(o,s,j){var et=within(o,s,j);return et>j?j:et}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(o){return Object.assign({},getFreshSideObject(),o)}function expandToHashMap(o,s){return s.reduce(function(j,et){return j[et]=o,j},{})}var toPaddingObject=function(s,j){return s=typeof s=="function"?s(Object.assign({},j.rects,{placement:j.placement})):s,mergePaddingObject(typeof s!="number"?s:expandToHashMap(s,basePlacements))};function arrow(o){var s,j=o.state,et=o.name,bt=o.options,At=j.elements.arrow,Et=j.modifiersData.popperOffsets,Ut=getBasePlacement(j.placement),zt=getMainAxisFromPlacement(Ut),It=[left,right].indexOf(Ut)>=0,Qt=It?"height":"width";if(!(!At||!Et)){var Pt=toPaddingObject(bt.padding,j),Yt=getLayoutRect(At),cr=zt==="y"?top:left,_r=zt==="y"?bottom:right,vr=j.rects.reference[Qt]+j.rects.reference[zt]-Et[zt]-j.rects.popper[Qt],Yr=Et[zt]-j.rects.reference[zt],Kr=getOffsetParent(At),jr=Kr?zt==="y"?Kr.clientHeight||0:Kr.clientWidth||0:0,Hn=vr/2-Yr/2,tA=Pt[cr],nA=jr-Yt[Qt]-Pt[_r],aA=jr/2-Yt[Qt]/2+Hn,lA=within(tA,aA,nA),hA=zt;j.modifiersData[et]=(s={},s[hA]=lA,s.centerOffset=lA-aA,s)}}function effect$1(o){var s=o.state,j=o.options,et=j.element,bt=et===void 0?"[data-popper-arrow]":et;bt!=null&&(typeof bt=="string"&&(bt=s.elements.popper.querySelector(bt),!bt)||contains$1(s.elements.popper,bt)&&(s.elements.arrow=bt))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(o){return o.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(o,s){var j=o.x,et=o.y,bt=s.devicePixelRatio||1;return{x:round(j*bt)/bt||0,y:round(et*bt)/bt||0}}function mapToStyles(o){var s,j=o.popper,et=o.popperRect,bt=o.placement,At=o.variation,Et=o.offsets,Ut=o.position,zt=o.gpuAcceleration,It=o.adaptive,Qt=o.roundOffsets,Pt=o.isFixed,Yt=Et.x,cr=Yt===void 0?0:Yt,_r=Et.y,vr=_r===void 0?0:_r,Yr=typeof Qt=="function"?Qt({x:cr,y:vr}):{x:cr,y:vr};cr=Yr.x,vr=Yr.y;var Kr=Et.hasOwnProperty("x"),jr=Et.hasOwnProperty("y"),Hn=left,tA=top,nA=window;if(It){var aA=getOffsetParent(j),lA="clientHeight",hA="clientWidth";if(aA===getWindow(j)&&(aA=getDocumentElement(j),getComputedStyle$1(aA).position!=="static"&&Ut==="absolute"&&(lA="scrollHeight",hA="scrollWidth")),aA=aA,bt===top||(bt===left||bt===right)&&At===end){tA=bottom;var pA=Pt&&aA===nA&&nA.visualViewport?nA.visualViewport.height:aA[lA];vr-=pA-et.height,vr*=zt?1:-1}if(bt===left||(bt===top||bt===bottom)&&At===end){Hn=right;var wA=Pt&&aA===nA&&nA.visualViewport?nA.visualViewport.width:aA[hA];cr-=wA-et.width,cr*=zt?1:-1}}var NA=Object.assign({position:Ut},It&&unsetSides),cA=Qt===!0?roundOffsetsByDPR({x:cr,y:vr},getWindow(j)):{x:cr,y:vr};if(cr=cA.x,vr=cA.y,zt){var CA;return Object.assign({},NA,(CA={},CA[tA]=jr?"0":"",CA[Hn]=Kr?"0":"",CA.transform=(nA.devicePixelRatio||1)<=1?"translate("+cr+"px, "+vr+"px)":"translate3d("+cr+"px, "+vr+"px, 0)",CA))}return Object.assign({},NA,(s={},s[tA]=jr?vr+"px":"",s[Hn]=Kr?cr+"px":"",s.transform="",s))}function computeStyles(o){var s=o.state,j=o.options,et=j.gpuAcceleration,bt=et===void 0?!0:et,At=j.adaptive,Et=At===void 0?!0:At,Ut=j.roundOffsets,zt=Ut===void 0?!0:Ut,It={placement:getBasePlacement(s.placement),variation:getVariation(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:bt,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,mapToStyles(Object.assign({},It,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:Et,roundOffsets:zt})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,mapToStyles(Object.assign({},It,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:zt})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(o){var s=o.state,j=o.instance,et=o.options,bt=et.scroll,At=bt===void 0?!0:bt,Et=et.resize,Ut=Et===void 0?!0:Et,zt=getWindow(s.elements.popper),It=[].concat(s.scrollParents.reference,s.scrollParents.popper);return At&&It.forEach(function(Qt){Qt.addEventListener("scroll",j.update,passive)}),Ut&&zt.addEventListener("resize",j.update,passive),function(){At&&It.forEach(function(Qt){Qt.removeEventListener("scroll",j.update,passive)}),Ut&&zt.removeEventListener("resize",j.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(o){return o.replace(/left|right|bottom|top/g,function(s){return hash$1[s]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(o){return o.replace(/start|end/g,function(s){return hash[s]})}function getWindowScroll(o){var s=getWindow(o),j=s.pageXOffset,et=s.pageYOffset;return{scrollLeft:j,scrollTop:et}}function getWindowScrollBarX(o){return getBoundingClientRect(getDocumentElement(o)).left+getWindowScroll(o).scrollLeft}function getViewportRect(o,s){var j=getWindow(o),et=getDocumentElement(o),bt=j.visualViewport,At=et.clientWidth,Et=et.clientHeight,Ut=0,zt=0;if(bt){At=bt.width,Et=bt.height;var It=isLayoutViewport();(It||!It&&s==="fixed")&&(Ut=bt.offsetLeft,zt=bt.offsetTop)}return{width:At,height:Et,x:Ut+getWindowScrollBarX(o),y:zt}}function getDocumentRect(o){var s,j=getDocumentElement(o),et=getWindowScroll(o),bt=(s=o.ownerDocument)==null?void 0:s.body,At=max(j.scrollWidth,j.clientWidth,bt?bt.scrollWidth:0,bt?bt.clientWidth:0),Et=max(j.scrollHeight,j.clientHeight,bt?bt.scrollHeight:0,bt?bt.clientHeight:0),Ut=-et.scrollLeft+getWindowScrollBarX(o),zt=-et.scrollTop;return getComputedStyle$1(bt||j).direction==="rtl"&&(Ut+=max(j.clientWidth,bt?bt.clientWidth:0)-At),{width:At,height:Et,x:Ut,y:zt}}function isScrollParent(o){var s=getComputedStyle$1(o),j=s.overflow,et=s.overflowX,bt=s.overflowY;return/auto|scroll|overlay|hidden/.test(j+bt+et)}function getScrollParent(o){return["html","body","#document"].indexOf(getNodeName(o))>=0?o.ownerDocument.body:isHTMLElement$2(o)&&isScrollParent(o)?o:getScrollParent(getParentNode(o))}function listScrollParents(o,s){var j;s===void 0&&(s=[]);var et=getScrollParent(o),bt=et===((j=o.ownerDocument)==null?void 0:j.body),At=getWindow(et),Et=bt?[At].concat(At.visualViewport||[],isScrollParent(et)?et:[]):et,Ut=s.concat(Et);return bt?Ut:Ut.concat(listScrollParents(getParentNode(Et)))}function rectToClientRect(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function getInnerBoundingClientRect(o,s){var j=getBoundingClientRect(o,!1,s==="fixed");return j.top=j.top+o.clientTop,j.left=j.left+o.clientLeft,j.bottom=j.top+o.clientHeight,j.right=j.left+o.clientWidth,j.width=o.clientWidth,j.height=o.clientHeight,j.x=j.left,j.y=j.top,j}function getClientRectFromMixedType(o,s,j){return s===viewport?rectToClientRect(getViewportRect(o,j)):isElement(s)?getInnerBoundingClientRect(s,j):rectToClientRect(getDocumentRect(getDocumentElement(o)))}function getClippingParents(o){var s=listScrollParents(getParentNode(o)),j=["absolute","fixed"].indexOf(getComputedStyle$1(o).position)>=0,et=j&&isHTMLElement$2(o)?getOffsetParent(o):o;return isElement(et)?s.filter(function(bt){return isElement(bt)&&contains$1(bt,et)&&getNodeName(bt)!=="body"}):[]}function getClippingRect(o,s,j,et){var bt=s==="clippingParents"?getClippingParents(o):[].concat(s),At=[].concat(bt,[j]),Et=At[0],Ut=At.reduce(function(zt,It){var Qt=getClientRectFromMixedType(o,It,et);return zt.top=max(Qt.top,zt.top),zt.right=min(Qt.right,zt.right),zt.bottom=min(Qt.bottom,zt.bottom),zt.left=max(Qt.left,zt.left),zt},getClientRectFromMixedType(o,Et,et));return Ut.width=Ut.right-Ut.left,Ut.height=Ut.bottom-Ut.top,Ut.x=Ut.left,Ut.y=Ut.top,Ut}function computeOffsets(o){var s=o.reference,j=o.element,et=o.placement,bt=et?getBasePlacement(et):null,At=et?getVariation(et):null,Et=s.x+s.width/2-j.width/2,Ut=s.y+s.height/2-j.height/2,zt;switch(bt){case top:zt={x:Et,y:s.y-j.height};break;case bottom:zt={x:Et,y:s.y+s.height};break;case right:zt={x:s.x+s.width,y:Ut};break;case left:zt={x:s.x-j.width,y:Ut};break;default:zt={x:s.x,y:s.y}}var It=bt?getMainAxisFromPlacement(bt):null;if(It!=null){var Qt=It==="y"?"height":"width";switch(At){case start:zt[It]=zt[It]-(s[Qt]/2-j[Qt]/2);break;case end:zt[It]=zt[It]+(s[Qt]/2-j[Qt]/2);break}}return zt}function detectOverflow(o,s){s===void 0&&(s={});var j=s,et=j.placement,bt=et===void 0?o.placement:et,At=j.strategy,Et=At===void 0?o.strategy:At,Ut=j.boundary,zt=Ut===void 0?clippingParents:Ut,It=j.rootBoundary,Qt=It===void 0?viewport:It,Pt=j.elementContext,Yt=Pt===void 0?popper:Pt,cr=j.altBoundary,_r=cr===void 0?!1:cr,vr=j.padding,Yr=vr===void 0?0:vr,Kr=mergePaddingObject(typeof Yr!="number"?Yr:expandToHashMap(Yr,basePlacements)),jr=Yt===popper?reference:popper,Hn=o.rects.popper,tA=o.elements[_r?jr:Yt],nA=getClippingRect(isElement(tA)?tA:tA.contextElement||getDocumentElement(o.elements.popper),zt,Qt,Et),aA=getBoundingClientRect(o.elements.reference),lA=computeOffsets({reference:aA,element:Hn,strategy:"absolute",placement:bt}),hA=rectToClientRect(Object.assign({},Hn,lA)),pA=Yt===popper?hA:aA,wA={top:nA.top-pA.top+Kr.top,bottom:pA.bottom-nA.bottom+Kr.bottom,left:nA.left-pA.left+Kr.left,right:pA.right-nA.right+Kr.right},NA=o.modifiersData.offset;if(Yt===popper&&NA){var cA=NA[bt];Object.keys(wA).forEach(function(CA){var sA=[right,bottom].indexOf(CA)>=0?1:-1,UA=[top,bottom].indexOf(CA)>=0?"y":"x";wA[CA]+=cA[UA]*sA})}return wA}function computeAutoPlacement(o,s){s===void 0&&(s={});var j=s,et=j.placement,bt=j.boundary,At=j.rootBoundary,Et=j.padding,Ut=j.flipVariations,zt=j.allowedAutoPlacements,It=zt===void 0?placements:zt,Qt=getVariation(et),Pt=Qt?Ut?variationPlacements:variationPlacements.filter(function(_r){return getVariation(_r)===Qt}):basePlacements,Yt=Pt.filter(function(_r){return It.indexOf(_r)>=0});Yt.length===0&&(Yt=Pt);var cr=Yt.reduce(function(_r,vr){return _r[vr]=detectOverflow(o,{placement:vr,boundary:bt,rootBoundary:At,padding:Et})[getBasePlacement(vr)],_r},{});return Object.keys(cr).sort(function(_r,vr){return cr[_r]-cr[vr]})}function getExpandedFallbackPlacements(o){if(getBasePlacement(o)===auto)return[];var s=getOppositePlacement(o);return[getOppositeVariationPlacement(o),s,getOppositeVariationPlacement(s)]}function flip(o){var s=o.state,j=o.options,et=o.name;if(!s.modifiersData[et]._skip){for(var bt=j.mainAxis,At=bt===void 0?!0:bt,Et=j.altAxis,Ut=Et===void 0?!0:Et,zt=j.fallbackPlacements,It=j.padding,Qt=j.boundary,Pt=j.rootBoundary,Yt=j.altBoundary,cr=j.flipVariations,_r=cr===void 0?!0:cr,vr=j.allowedAutoPlacements,Yr=s.options.placement,Kr=getBasePlacement(Yr),jr=Kr===Yr,Hn=zt||(jr||!_r?[getOppositePlacement(Yr)]:getExpandedFallbackPlacements(Yr)),tA=[Yr].concat(Hn).reduce(function(qA,XA){return qA.concat(getBasePlacement(XA)===auto?computeAutoPlacement(s,{placement:XA,boundary:Qt,rootBoundary:Pt,padding:It,flipVariations:_r,allowedAutoPlacements:vr}):XA)},[]),nA=s.rects.reference,aA=s.rects.popper,lA=new Map,hA=!0,pA=tA[0],wA=0;wA<tA.length;wA++){var NA=tA[wA],cA=getBasePlacement(NA),CA=getVariation(NA)===start,sA=[top,bottom].indexOf(cA)>=0,UA=sA?"width":"height",LA=detectOverflow(s,{placement:NA,boundary:Qt,rootBoundary:Pt,altBoundary:Yt,padding:It}),RA=sA?CA?right:left:CA?bottom:top;nA[UA]>aA[UA]&&(RA=getOppositePlacement(RA));var kA=getOppositePlacement(RA),OA=[];if(At&&OA.push(LA[cA]<=0),Ut&&OA.push(LA[RA]<=0,LA[kA]<=0),OA.every(function(qA){return qA})){pA=NA,hA=!1;break}lA.set(NA,OA)}if(hA)for(var KA=_r?3:1,yA=function(XA){var S0=tA.find(function(U0){var C0=lA.get(U0);if(C0)return C0.slice(0,XA).every(function(B0){return B0})});if(S0)return pA=S0,"break"},TA=KA;TA>0;TA--){var r0=yA(TA);if(r0==="break")break}s.placement!==pA&&(s.modifiersData[et]._skip=!0,s.placement=pA,s.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(o,s,j){return j===void 0&&(j={x:0,y:0}),{top:o.top-s.height-j.y,right:o.right-s.width+j.x,bottom:o.bottom-s.height+j.y,left:o.left-s.width-j.x}}function isAnySideFullyClipped(o){return[top,right,bottom,left].some(function(s){return o[s]>=0})}function hide(o){var s=o.state,j=o.name,et=s.rects.reference,bt=s.rects.popper,At=s.modifiersData.preventOverflow,Et=detectOverflow(s,{elementContext:"reference"}),Ut=detectOverflow(s,{altBoundary:!0}),zt=getSideOffsets(Et,et),It=getSideOffsets(Ut,bt,At),Qt=isAnySideFullyClipped(zt),Pt=isAnySideFullyClipped(It);s.modifiersData[j]={referenceClippingOffsets:zt,popperEscapeOffsets:It,isReferenceHidden:Qt,hasPopperEscaped:Pt},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":Qt,"data-popper-escaped":Pt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(o,s,j){var et=getBasePlacement(o),bt=[left,top].indexOf(et)>=0?-1:1,At=typeof j=="function"?j(Object.assign({},s,{placement:o})):j,Et=At[0],Ut=At[1];return Et=Et||0,Ut=(Ut||0)*bt,[left,right].indexOf(et)>=0?{x:Ut,y:Et}:{x:Et,y:Ut}}function offset(o){var s=o.state,j=o.options,et=o.name,bt=j.offset,At=bt===void 0?[0,0]:bt,Et=placements.reduce(function(Qt,Pt){return Qt[Pt]=distanceAndSkiddingToXY(Pt,s.rects,At),Qt},{}),Ut=Et[s.placement],zt=Ut.x,It=Ut.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=zt,s.modifiersData.popperOffsets.y+=It),s.modifiersData[et]=Et}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(o){var s=o.state,j=o.name;s.modifiersData[j]=computeOffsets({reference:s.rects.reference,element:s.rects.popper,strategy:"absolute",placement:s.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(o){return o==="x"?"y":"x"}function preventOverflow(o){var s=o.state,j=o.options,et=o.name,bt=j.mainAxis,At=bt===void 0?!0:bt,Et=j.altAxis,Ut=Et===void 0?!1:Et,zt=j.boundary,It=j.rootBoundary,Qt=j.altBoundary,Pt=j.padding,Yt=j.tether,cr=Yt===void 0?!0:Yt,_r=j.tetherOffset,vr=_r===void 0?0:_r,Yr=detectOverflow(s,{boundary:zt,rootBoundary:It,padding:Pt,altBoundary:Qt}),Kr=getBasePlacement(s.placement),jr=getVariation(s.placement),Hn=!jr,tA=getMainAxisFromPlacement(Kr),nA=getAltAxis(tA),aA=s.modifiersData.popperOffsets,lA=s.rects.reference,hA=s.rects.popper,pA=typeof vr=="function"?vr(Object.assign({},s.rects,{placement:s.placement})):vr,wA=typeof pA=="number"?{mainAxis:pA,altAxis:pA}:Object.assign({mainAxis:0,altAxis:0},pA),NA=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,cA={x:0,y:0};if(aA){if(At){var CA,sA=tA==="y"?top:left,UA=tA==="y"?bottom:right,LA=tA==="y"?"height":"width",RA=aA[tA],kA=RA+Yr[sA],OA=RA-Yr[UA],KA=cr?-hA[LA]/2:0,yA=jr===start?lA[LA]:hA[LA],TA=jr===start?-hA[LA]:-lA[LA],r0=s.elements.arrow,qA=cr&&r0?getLayoutRect(r0):{width:0,height:0},XA=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:getFreshSideObject(),S0=XA[sA],U0=XA[UA],C0=within(0,lA[LA],qA[LA]),B0=Hn?lA[LA]/2-KA-C0-S0-wA.mainAxis:yA-C0-S0-wA.mainAxis,Q0=Hn?-lA[LA]/2+KA+C0+U0+wA.mainAxis:TA+C0+U0+wA.mainAxis,T0=s.elements.arrow&&getOffsetParent(s.elements.arrow),F0=T0?tA==="y"?T0.clientTop||0:T0.clientLeft||0:0,k0=(CA=NA==null?void 0:NA[tA])!=null?CA:0,uA=RA+B0-k0-F0,ZA=RA+Q0-k0,jA=within(cr?min(kA,uA):kA,RA,cr?max(OA,ZA):OA);aA[tA]=jA,cA[tA]=jA-RA}if(Ut){var IA,$A=tA==="x"?top:left,QA=tA==="x"?bottom:right,n0=aA[nA],t0=nA==="y"?"height":"width",GA=n0+Yr[$A],A0=n0-Yr[QA],y0=[top,left].indexOf(Kr)!==-1,f0=(IA=NA==null?void 0:NA[nA])!=null?IA:0,P0=y0?GA:n0-lA[t0]-hA[t0]-f0+wA.altAxis,K0=y0?n0+lA[t0]+hA[t0]-f0-wA.altAxis:A0,$0=cr&&y0?withinMaxClamp(P0,n0,K0):within(cr?P0:GA,n0,cr?K0:A0);aA[nA]=$0,cA[nA]=$0-n0}s.modifiersData[et]=cA}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function getNodeScroll(o){return o===getWindow(o)||!isHTMLElement$2(o)?getWindowScroll(o):getHTMLElementScroll(o)}function isElementScaled(o){var s=o.getBoundingClientRect(),j=round(s.width)/o.offsetWidth||1,et=round(s.height)/o.offsetHeight||1;return j!==1||et!==1}function getCompositeRect(o,s,j){j===void 0&&(j=!1);var et=isHTMLElement$2(s),bt=isHTMLElement$2(s)&&isElementScaled(s),At=getDocumentElement(s),Et=getBoundingClientRect(o,bt,j),Ut={scrollLeft:0,scrollTop:0},zt={x:0,y:0};return(et||!et&&!j)&&((getNodeName(s)!=="body"||isScrollParent(At))&&(Ut=getNodeScroll(s)),isHTMLElement$2(s)?(zt=getBoundingClientRect(s,!0),zt.x+=s.clientLeft,zt.y+=s.clientTop):At&&(zt.x=getWindowScrollBarX(At))),{x:Et.left+Ut.scrollLeft-zt.x,y:Et.top+Ut.scrollTop-zt.y,width:Et.width,height:Et.height}}function order$1(o){var s=new Map,j=new Set,et=[];o.forEach(function(At){s.set(At.name,At)});function bt(At){j.add(At.name);var Et=[].concat(At.requires||[],At.requiresIfExists||[]);Et.forEach(function(Ut){if(!j.has(Ut)){var zt=s.get(Ut);zt&&bt(zt)}}),et.push(At)}return o.forEach(function(At){j.has(At.name)||bt(At)}),et}function orderModifiers(o){var s=order$1(o);return modifierPhases.reduce(function(j,et){return j.concat(s.filter(function(bt){return bt.phase===et}))},[])}function debounce(o){var s;return function(){return s||(s=new Promise(function(j){Promise.resolve().then(function(){s=void 0,j(o())})})),s}}function mergeByName(o){var s=o.reduce(function(j,et){var bt=j[et.name];return j[et.name]=bt?Object.assign({},bt,et,{options:Object.assign({},bt.options,et.options),data:Object.assign({},bt.data,et.data)}):et,j},{});return Object.keys(s).map(function(j){return s[j]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var o=arguments.length,s=new Array(o),j=0;j<o;j++)s[j]=arguments[j];return!s.some(function(et){return!(et&&typeof et.getBoundingClientRect=="function")})}function popperGenerator(o){o===void 0&&(o={});var s=o,j=s.defaultModifiers,et=j===void 0?[]:j,bt=s.defaultOptions,At=bt===void 0?DEFAULT_OPTIONS:bt;return function(Ut,zt,It){It===void 0&&(It=At);var Qt={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,At),modifiersData:{},elements:{reference:Ut,popper:zt},attributes:{},styles:{}},Pt=[],Yt=!1,cr={state:Qt,setOptions:function(Kr){var jr=typeof Kr=="function"?Kr(Qt.options):Kr;vr(),Qt.options=Object.assign({},At,Qt.options,jr),Qt.scrollParents={reference:isElement(Ut)?listScrollParents(Ut):Ut.contextElement?listScrollParents(Ut.contextElement):[],popper:listScrollParents(zt)};var Hn=orderModifiers(mergeByName([].concat(et,Qt.options.modifiers)));return Qt.orderedModifiers=Hn.filter(function(tA){return tA.enabled}),_r(),cr.update()},forceUpdate:function(){if(!Yt){var Kr=Qt.elements,jr=Kr.reference,Hn=Kr.popper;if(areValidElements(jr,Hn)){Qt.rects={reference:getCompositeRect(jr,getOffsetParent(Hn),Qt.options.strategy==="fixed"),popper:getLayoutRect(Hn)},Qt.reset=!1,Qt.placement=Qt.options.placement,Qt.orderedModifiers.forEach(function(wA){return Qt.modifiersData[wA.name]=Object.assign({},wA.data)});for(var tA=0;tA<Qt.orderedModifiers.length;tA++){if(Qt.reset===!0){Qt.reset=!1,tA=-1;continue}var nA=Qt.orderedModifiers[tA],aA=nA.fn,lA=nA.options,hA=lA===void 0?{}:lA,pA=nA.name;typeof aA=="function"&&(Qt=aA({state:Qt,options:hA,name:pA,instance:cr})||Qt)}}}},update:debounce(function(){return new Promise(function(Yr){cr.forceUpdate(),Yr(Qt)})}),destroy:function(){vr(),Yt=!0}};if(!areValidElements(Ut,zt))return cr;cr.setOptions(It).then(function(Yr){!Yt&&It.onFirstUpdate&&It.onFirstUpdate(Yr)});function _r(){Qt.orderedModifiers.forEach(function(Yr){var Kr=Yr.name,jr=Yr.options,Hn=jr===void 0?{}:jr,tA=Yr.effect;if(typeof tA=="function"){var nA=tA({state:Qt,name:Kr,instance:cr,options:Hn}),aA=function(){};Pt.push(nA||aA)}})}function vr(){Pt.forEach(function(Yr){return Yr()}),Pt=[]}return cr}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const COMPONENT_NAME="Popper";function getPopperUtilityClass(o){return generateUtilityClass(COMPONENT_NAME,o)}generateUtilityClasses(COMPONENT_NAME,["root"]);const _excluded$v=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],_excluded2$4=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function flipPlacement(o,s){if(s==="ltr")return o;switch(o){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return o}}function resolveAnchorEl$1(o){return typeof o=="function"?o():o}function isHTMLElement$1(o){return o.nodeType!==void 0}const useUtilityClasses$o=()=>composeClasses({root:["root"]},useClassNamesOverride(getPopperUtilityClass)),defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function(s,j){var et;const{anchorEl:bt,children:At,direction:Et,disablePortal:Ut,modifiers:zt,open:It,placement:Qt,popperOptions:Pt,popperRef:Yt,slotProps:cr={},slots:_r={},TransitionProps:vr}=s,Yr=_objectWithoutPropertiesLoose(s,_excluded$v),Kr=reactExports.useRef(null),jr=useForkRef(Kr,j),Hn=reactExports.useRef(null),tA=useForkRef(Hn,Yt),nA=reactExports.useRef(tA);useEnhancedEffect(()=>{nA.current=tA},[tA]),reactExports.useImperativeHandle(Yt,()=>Hn.current,[]);const aA=flipPlacement(Qt,Et),[lA,hA]=reactExports.useState(aA),[pA,wA]=reactExports.useState(resolveAnchorEl$1(bt));reactExports.useEffect(()=>{Hn.current&&Hn.current.forceUpdate()}),reactExports.useEffect(()=>{bt&&wA(resolveAnchorEl$1(bt))},[bt]),useEnhancedEffect(()=>{if(!pA||!It)return;const UA=kA=>{hA(kA.placement)};let LA=[{name:"preventOverflow",options:{altBoundary:Ut}},{name:"flip",options:{altBoundary:Ut}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:kA})=>{UA(kA)}}];zt!=null&&(LA=LA.concat(zt)),Pt&&Pt.modifiers!=null&&(LA=LA.concat(Pt.modifiers));const RA=createPopper(pA,Kr.current,_extends$1({placement:aA},Pt,{modifiers:LA}));return nA.current(RA),()=>{RA.destroy(),nA.current(null)}},[pA,Ut,zt,It,Pt,aA]);const NA={placement:lA};vr!==null&&(NA.TransitionProps=vr);const cA=useUtilityClasses$o(),CA=(et=_r.root)!=null?et:"div",sA=useSlotProps({elementType:CA,externalSlotProps:cr.root,externalForwardedProps:Yr,additionalProps:{role:"tooltip",ref:jr},ownerState:s,className:cA.root});return jsxRuntimeExports.jsx(CA,_extends$1({},sA,{children:typeof At=="function"?At(NA):At}))}),Popper$2=reactExports.forwardRef(function(s,j){const{anchorEl:et,children:bt,container:At,direction:Et="ltr",disablePortal:Ut=!1,keepMounted:zt=!1,modifiers:It,open:Qt,placement:Pt="bottom",popperOptions:Yt=defaultPopperOptions,popperRef:cr,style:_r,transition:vr=!1,slotProps:Yr={},slots:Kr={}}=s,jr=_objectWithoutPropertiesLoose(s,_excluded2$4),[Hn,tA]=reactExports.useState(!0),nA=()=>{tA(!1)},aA=()=>{tA(!0)};if(!zt&&!Qt&&(!vr||Hn))return null;let lA;if(At)lA=At;else if(et){const wA=resolveAnchorEl$1(et);lA=wA&&isHTMLElement$1(wA)?ownerDocument(wA).body:ownerDocument(null).body}const hA=!Qt&&zt&&(!vr||Hn)?"none":void 0,pA=vr?{in:Qt,onEnter:nA,onExited:aA}:void 0;return jsxRuntimeExports.jsx(Portal,{disablePortal:Ut,container:lA,children:jsxRuntimeExports.jsx(PopperTooltip,_extends$1({anchorEl:et,direction:Et,disablePortal:Ut,modifiers:It,ref:j,open:vr?!Hn:Qt,placement:Pt,popperOptions:Yt,popperRef:cr,slotProps:Yr,slots:Kr},jr,{style:_extends$1({position:"fixed",top:0,left:0,display:hA},_r),TransitionProps:pA,children:bt}))})}),_excluded$u=["onChange","maxRows","minRows","style","value"];function getStyleValue(o){return parseInt(o,10)||0}const styles$3={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1(o){return o==null||Object.keys(o).length===0||o.outerHeightStyle===0&&!o.overflowing}const TextareaAutosize=reactExports.forwardRef(function(s,j){const{onChange:et,maxRows:bt,minRows:At=1,style:Et,value:Ut}=s,zt=_objectWithoutPropertiesLoose(s,_excluded$u),{current:It}=reactExports.useRef(Ut!=null),Qt=reactExports.useRef(null),Pt=useForkRef(j,Qt),Yt=reactExports.useRef(null),cr=reactExports.useCallback(()=>{const Yr=Qt.current,jr=ownerWindow(Yr).getComputedStyle(Yr);if(jr.width==="0px")return{outerHeightStyle:0,overflowing:!1};const Hn=Yt.current;Hn.style.width=jr.width,Hn.value=Yr.value||s.placeholder||"x",Hn.value.slice(-1)===`
`&&(Hn.value+=" ");const tA=jr.boxSizing,nA=getStyleValue(jr.paddingBottom)+getStyleValue(jr.paddingTop),aA=getStyleValue(jr.borderBottomWidth)+getStyleValue(jr.borderTopWidth),lA=Hn.scrollHeight;Hn.value="x";const hA=Hn.scrollHeight;let pA=lA;At&&(pA=Math.max(Number(At)*hA,pA)),bt&&(pA=Math.min(Number(bt)*hA,pA)),pA=Math.max(pA,hA);const wA=pA+(tA==="border-box"?nA+aA:0),NA=Math.abs(pA-lA)<=1;return{outerHeightStyle:wA,overflowing:NA}},[bt,At,s.placeholder]),_r=reactExports.useCallback(()=>{const Yr=cr();if(isEmpty$1(Yr))return;const Kr=Qt.current;Kr.style.height=`${Yr.outerHeightStyle}px`,Kr.style.overflow=Yr.overflowing?"hidden":""},[cr]);useEnhancedEffect(()=>{const Yr=()=>{_r()};let Kr;const jr=debounce$1(Yr),Hn=Qt.current,tA=ownerWindow(Hn);tA.addEventListener("resize",jr);let nA;return typeof ResizeObserver<"u"&&(nA=new ResizeObserver(Yr),nA.observe(Hn)),()=>{jr.clear(),cancelAnimationFrame(Kr),tA.removeEventListener("resize",jr),nA&&nA.disconnect()}},[cr,_r]),useEnhancedEffect(()=>{_r()});const vr=Yr=>{It||_r(),et&&et(Yr)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",_extends$1({value:Ut,onChange:vr,ref:Pt,rows:At},zt)),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:Yt,tabIndex:-1,style:_extends$1({},styles$3.shadow,Et,{paddingTop:0,paddingBottom:0})})]})});function stripDiacritics(o){return typeof o.normalize<"u"?o.normalize("NFD").replace(/[\u0300-\u036f]/g,""):o}function createFilterOptions(o={}){const{ignoreAccents:s=!0,ignoreCase:j=!0,limit:et,matchFrom:bt="any",stringify:At,trim:Et=!1}=o;return(Ut,{inputValue:zt,getOptionLabel:It})=>{let Qt=Et?zt.trim():zt;j&&(Qt=Qt.toLowerCase()),s&&(Qt=stripDiacritics(Qt));const Pt=Qt?Ut.filter(Yt=>{let cr=(At||It)(Yt);return j&&(cr=cr.toLowerCase()),s&&(cr=stripDiacritics(cr)),bt==="start"?cr.indexOf(Qt)===0:cr.indexOf(Qt)>-1}):Ut;return typeof et=="number"?Pt.slice(0,et):Pt}}function findIndex(o,s){for(let j=0;j<o.length;j+=1)if(s(o[j]))return j;return-1}const defaultFilterOptions=createFilterOptions(),pageSize=5,defaultIsActiveElementInListbox=o=>{var s;return o.current!==null&&((s=o.current.parentElement)==null?void 0:s.contains(document.activeElement))};function useAutocomplete(o){const{unstable_isActiveElementInListbox:s=defaultIsActiveElementInListbox,unstable_classNamePrefix:j="Mui",autoComplete:et=!1,autoHighlight:bt=!1,autoSelect:At=!1,blurOnSelect:Et=!1,clearOnBlur:Ut=!o.freeSolo,clearOnEscape:zt=!1,componentName:It="useAutocomplete",defaultValue:Qt=o.multiple?[]:null,disableClearable:Pt=!1,disableCloseOnSelect:Yt=!1,disabled:cr,disabledItemsFocusable:_r=!1,disableListWrap:vr=!1,filterOptions:Yr=defaultFilterOptions,filterSelectedOptions:Kr=!1,freeSolo:jr=!1,getOptionDisabled:Hn,getOptionKey:tA,getOptionLabel:nA=d0=>{var e0;return(e0=d0.label)!=null?e0:d0},groupBy:aA,handleHomeEndKeys:lA=!o.freeSolo,id:hA,includeInputInList:pA=!1,inputValue:wA,isOptionEqualToValue:NA=(d0,e0)=>d0===e0,multiple:cA=!1,onChange:CA,onClose:sA,onHighlightChange:UA,onInputChange:LA,onOpen:RA,open:kA,openOnFocus:OA=!1,options:KA,readOnly:yA=!1,selectOnFocus:TA=!o.freeSolo,value:r0}=o,qA=useId(hA);let XA=nA;XA=d0=>{const e0=nA(d0);return typeof e0!="string"?String(e0):e0};const S0=reactExports.useRef(!1),U0=reactExports.useRef(!0),C0=reactExports.useRef(null),B0=reactExports.useRef(null),[Q0,T0]=reactExports.useState(null),[F0,k0]=reactExports.useState(-1),uA=bt?0:-1,ZA=reactExports.useRef(uA),[jA,IA]=useControlled({controlled:r0,default:Qt,name:It}),[$A,QA]=useControlled({controlled:wA,default:"",name:It,state:"inputValue"}),[n0,t0]=reactExports.useState(!1),GA=reactExports.useCallback((d0,e0)=>{if(!(cA?jA.length<e0.length:e0!==null)&&!Ut)return;let z0;if(cA)z0="";else if(e0==null)z0="";else{const g1=XA(e0);z0=typeof g1=="string"?g1:""}$A!==z0&&(QA(z0),LA&&LA(d0,z0,"reset"))},[XA,$A,cA,LA,QA,Ut,jA]),[A0,y0]=useControlled({controlled:kA,default:!1,name:It,state:"open"}),[f0,P0]=reactExports.useState(!0),K0=!cA&&jA!=null&&$A===XA(jA),$0=A0&&!yA,w0=$0?Yr(KA.filter(d0=>!(Kr&&(cA?jA:[jA]).some(e0=>e0!==null&&NA(d0,e0)))),{inputValue:K0&&f0?"":$A,getOptionLabel:XA}):[],E0=usePreviousProps({filteredOptions:w0,value:jA,inputValue:$A});reactExports.useEffect(()=>{const d0=jA!==E0.value;n0&&!d0||jr&&!d0||GA(null,jA)},[jA,GA,n0,E0.value,jr]);const t1=A0&&w0.length>0&&!yA,O1=useEventCallback(d0=>{d0===-1?C0.current.focus():Q0.querySelector(`[data-tag-index="${d0}"]`).focus()});reactExports.useEffect(()=>{cA&&F0>jA.length-1&&(k0(-1),O1(-1))},[jA,cA,F0,O1]);function v0(d0,e0){if(!B0.current||d0<0||d0>=w0.length)return-1;let R0=d0;for(;;){const z0=B0.current.querySelector(`[data-option-index="${R0}"]`),g1=_r?!1:!z0||z0.disabled||z0.getAttribute("aria-disabled")==="true";if(z0&&z0.hasAttribute("tabindex")&&!g1)return R0;if(e0==="next"?R0=(R0+1)%w0.length:R0=(R0-1+w0.length)%w0.length,R0===d0)return-1}}const X0=useEventCallback(({event:d0,index:e0,reason:R0="auto"})=>{if(ZA.current=e0,e0===-1?C0.current.removeAttribute("aria-activedescendant"):C0.current.setAttribute("aria-activedescendant",`${qA}-option-${e0}`),UA&&UA(d0,e0===-1?null:w0[e0],R0),!B0.current)return;const z0=B0.current.querySelector(`[role="option"].${j}-focused`);z0&&(z0.classList.remove(`${j}-focused`),z0.classList.remove(`${j}-focusVisible`));let g1=B0.current;if(B0.current.getAttribute("role")!=="listbox"&&(g1=B0.current.parentElement.querySelector('[role="listbox"]')),!g1)return;if(e0===-1){g1.scrollTop=0;return}const oA=B0.current.querySelector(`[data-option-index="${e0}"]`);if(oA&&(oA.classList.add(`${j}-focused`),R0==="keyboard"&&oA.classList.add(`${j}-focusVisible`),g1.scrollHeight>g1.clientHeight&&R0!=="mouse"&&R0!=="touch")){const gA=oA,xA=g1.clientHeight+g1.scrollTop,DA=gA.offsetTop+gA.offsetHeight;DA>xA?g1.scrollTop=DA-g1.clientHeight:gA.offsetTop-gA.offsetHeight*(aA?1.3:0)<g1.scrollTop&&(g1.scrollTop=gA.offsetTop-gA.offsetHeight*(aA?1.3:0))}}),r1=useEventCallback(({event:d0,diff:e0,direction:R0="next",reason:z0="auto"})=>{if(!$0)return;const oA=v0((()=>{const gA=w0.length-1;if(e0==="reset")return uA;if(e0==="start")return 0;if(e0==="end")return gA;const xA=ZA.current+e0;return xA<0?xA===-1&&pA?-1:vr&&ZA.current!==-1||Math.abs(e0)>1?0:gA:xA>gA?xA===gA+1&&pA?-1:vr||Math.abs(e0)>1?gA:0:xA})(),R0);if(X0({index:oA,reason:z0,event:d0}),et&&e0!=="reset")if(oA===-1)C0.current.value=$A;else{const gA=XA(w0[oA]);C0.current.value=gA,gA.toLowerCase().indexOf($A.toLowerCase())===0&&$A.length>0&&C0.current.setSelectionRange($A.length,gA.length)}}),L0=()=>{const d0=(e0,R0)=>{const z0=e0?XA(e0):"",g1=R0?XA(R0):"";return z0===g1};if(ZA.current!==-1&&E0.filteredOptions&&E0.filteredOptions.length!==w0.length&&E0.inputValue===$A&&(cA?jA.length===E0.value.length&&E0.value.every((e0,R0)=>XA(jA[R0])===XA(e0)):d0(E0.value,jA))){const e0=E0.filteredOptions[ZA.current];if(e0&&w0.some(z0=>XA(z0)===XA(e0)))return!0}return!1},k1=reactExports.useCallback(()=>{if(!$0||L0())return;const d0=cA?jA[0]:jA;if(w0.length===0||d0==null){r1({diff:"reset"});return}if(B0.current){if(d0!=null){const e0=w0[ZA.current];if(cA&&e0&&findIndex(jA,z0=>NA(e0,z0))!==-1)return;const R0=findIndex(w0,z0=>NA(z0,d0));R0===-1?r1({diff:"reset"}):X0({index:R0});return}if(ZA.current>=w0.length-1){X0({index:w0.length-1});return}X0({index:ZA.current})}},[w0.length,cA?!1:jA,Kr,r1,X0,$0,$A,cA]),M1=useEventCallback(d0=>{setRef(B0,d0),d0&&k1()});reactExports.useEffect(()=>{k1()},[k1]);const N1=d0=>{A0||(y0(!0),P0(!0),RA&&RA(d0))},mA=(d0,e0)=>{A0&&(y0(!1),sA&&sA(d0,e0))},HA=(d0,e0,R0,z0)=>{if(cA){if(jA.length===e0.length&&jA.every((g1,oA)=>g1===e0[oA]))return}else if(jA===e0)return;CA&&CA(d0,e0,R0,z0),IA(e0)},WA=reactExports.useRef(!1),c0=(d0,e0,R0="selectOption",z0="options")=>{let g1=R0,oA=e0;if(cA){oA=Array.isArray(jA)?jA.slice():[];const gA=findIndex(oA,xA=>NA(e0,xA));gA===-1?oA.push(e0):z0!=="freeSolo"&&(oA.splice(gA,1),g1="removeOption")}GA(d0,oA),HA(d0,oA,g1,{option:e0}),!Yt&&(!d0||!d0.ctrlKey&&!d0.metaKey)&&mA(d0,g1),(Et===!0||Et==="touch"&&WA.current||Et==="mouse"&&!WA.current)&&C0.current.blur()};function D0(d0,e0){if(d0===-1)return-1;let R0=d0;for(;;){if(e0==="next"&&R0===jA.length||e0==="previous"&&R0===-1)return-1;const z0=Q0.querySelector(`[data-tag-index="${R0}"]`);if(!z0||!z0.hasAttribute("tabindex")||z0.disabled||z0.getAttribute("aria-disabled")==="true")R0+=e0==="next"?1:-1;else return R0}}const W0=(d0,e0)=>{if(!cA)return;$A===""&&mA(d0,"toggleInput");let R0=F0;F0===-1?$A===""&&e0==="previous"&&(R0=jA.length-1):(R0+=e0==="next"?1:-1,R0<0&&(R0=0),R0===jA.length&&(R0=-1)),R0=D0(R0,e0),k0(R0),O1(R0)},l1=d0=>{S0.current=!0,QA(""),LA&&LA(d0,"","clear"),HA(d0,cA?[]:null,"clear")},P1=d0=>e0=>{if(d0.onKeyDown&&d0.onKeyDown(e0),!e0.defaultMuiPrevented&&(F0!==-1&&["ArrowLeft","ArrowRight"].indexOf(e0.key)===-1&&(k0(-1),O1(-1)),e0.which!==229))switch(e0.key){case"Home":$0&&lA&&(e0.preventDefault(),r1({diff:"start",direction:"next",reason:"keyboard",event:e0}));break;case"End":$0&&lA&&(e0.preventDefault(),r1({diff:"end",direction:"previous",reason:"keyboard",event:e0}));break;case"PageUp":e0.preventDefault(),r1({diff:-pageSize,direction:"previous",reason:"keyboard",event:e0}),N1(e0);break;case"PageDown":e0.preventDefault(),r1({diff:pageSize,direction:"next",reason:"keyboard",event:e0}),N1(e0);break;case"ArrowDown":e0.preventDefault(),r1({diff:1,direction:"next",reason:"keyboard",event:e0}),N1(e0);break;case"ArrowUp":e0.preventDefault(),r1({diff:-1,direction:"previous",reason:"keyboard",event:e0}),N1(e0);break;case"ArrowLeft":W0(e0,"previous");break;case"ArrowRight":W0(e0,"next");break;case"Enter":if(ZA.current!==-1&&$0){const R0=w0[ZA.current],z0=Hn?Hn(R0):!1;if(e0.preventDefault(),z0)return;c0(e0,R0,"selectOption"),et&&C0.current.setSelectionRange(C0.current.value.length,C0.current.value.length)}else jr&&$A!==""&&K0===!1&&(cA&&e0.preventDefault(),c0(e0,$A,"createOption","freeSolo"));break;case"Escape":$0?(e0.preventDefault(),e0.stopPropagation(),mA(e0,"escape")):zt&&($A!==""||cA&&jA.length>0)&&(e0.preventDefault(),e0.stopPropagation(),l1(e0));break;case"Backspace":if(cA&&!yA&&$A===""&&jA.length>0){const R0=F0===-1?jA.length-1:F0,z0=jA.slice();z0.splice(R0,1),HA(e0,z0,"removeOption",{option:jA[R0]})}break;case"Delete":if(cA&&!yA&&$A===""&&jA.length>0&&F0!==-1){const R0=F0,z0=jA.slice();z0.splice(R0,1),HA(e0,z0,"removeOption",{option:jA[R0]})}break}},V1=d0=>{t0(!0),OA&&!S0.current&&N1(d0)},F1=d0=>{if(s(B0)){C0.current.focus();return}t0(!1),U0.current=!0,S0.current=!1,At&&ZA.current!==-1&&$0?c0(d0,w0[ZA.current],"blur"):At&&jr&&$A!==""?c0(d0,$A,"blur","freeSolo"):Ut&&GA(d0,jA),mA(d0,"blur")},m1=d0=>{const e0=d0.target.value;$A!==e0&&(QA(e0),P0(!1),LA&&LA(d0,e0,"input")),e0===""?!Pt&&!cA&&HA(d0,null,"clear"):N1(d0)},M0=d0=>{const e0=Number(d0.currentTarget.getAttribute("data-option-index"));ZA.current!==e0&&X0({event:d0,index:e0,reason:"mouse"})},W1=d0=>{X0({event:d0,index:Number(d0.currentTarget.getAttribute("data-option-index")),reason:"touch"}),WA.current=!0},u0=d0=>{const e0=Number(d0.currentTarget.getAttribute("data-option-index"));c0(d0,w0[e0],"selectOption"),WA.current=!1},h1=d0=>e0=>{const R0=jA.slice();R0.splice(d0,1),HA(e0,R0,"removeOption",{option:jA[d0]})},E1=d0=>{A0?mA(d0,"toggleInput"):N1(d0)},q1=d0=>{d0.currentTarget.contains(d0.target)&&d0.target.getAttribute("id")!==qA&&d0.preventDefault()},iy=d0=>{d0.currentTarget.contains(d0.target)&&(C0.current.focus(),TA&&U0.current&&C0.current.selectionEnd-C0.current.selectionStart===0&&C0.current.select(),U0.current=!1)},Ay=d0=>{!cr&&($A===""||!A0)&&E1(d0)};let oy=jr&&$A.length>0;oy=oy||(cA?jA.length>0:jA!==null);let sy=w0;return aA&&(sy=w0.reduce((d0,e0,R0)=>{const z0=aA(e0);return d0.length>0&&d0[d0.length-1].group===z0?d0[d0.length-1].options.push(e0):d0.push({key:R0,index:R0,group:z0,options:[e0]}),d0},[])),cr&&n0&&F1(),{getRootProps:(d0={})=>_extends$1({"aria-owns":t1?`${qA}-listbox`:null},d0,{onKeyDown:P1(d0),onMouseDown:q1,onClick:iy}),getInputLabelProps:()=>({id:`${qA}-label`,htmlFor:qA}),getInputProps:()=>({id:qA,value:$A,onBlur:F1,onFocus:V1,onChange:m1,onMouseDown:Ay,"aria-activedescendant":$0?"":null,"aria-autocomplete":et?"both":"list","aria-controls":t1?`${qA}-listbox`:void 0,"aria-expanded":t1,autoComplete:"off",ref:C0,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:cr}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:l1}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:E1}),getTagProps:({index:d0})=>_extends$1({key:d0,"data-tag-index":d0,tabIndex:-1},!yA&&{onDelete:h1(d0)}),getListboxProps:()=>({role:"listbox",id:`${qA}-listbox`,"aria-labelledby":`${qA}-label`,ref:M1,onMouseDown:d0=>{d0.preventDefault()}}),getOptionProps:({index:d0,option:e0})=>{var R0;const z0=(cA?jA:[jA]).some(oA=>oA!=null&&NA(e0,oA)),g1=Hn?Hn(e0):!1;return{key:(R0=tA==null?void 0:tA(e0))!=null?R0:XA(e0),tabIndex:-1,role:"option",id:`${qA}-option-${d0}`,onMouseMove:M0,onClick:u0,onTouchStart:W1,"data-option-index":d0,"aria-disabled":g1,"aria-selected":z0}},id:qA,inputValue:$A,value:jA,dirty:oy,expanded:$0&&Q0,popupOpen:$0,focused:n0||F0!==-1,anchorEl:Q0,setAnchorEl:T0,focusedTag:F0,groupedOptions:sy}}function getIconButtonUtilityClass(o){return generateUtilityClass$1("MuiIconButton",o)}const iconButtonClasses=generateUtilityClasses$1("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),_excluded$t=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$n=o=>{const{classes:s,disabled:j,color:et,edge:bt,size:At}=o,Et={root:["root",j&&"disabled",et!=="default"&&`color${capitalize$2(et)}`,bt&&`edge${capitalize$2(bt)}`,`size${capitalize$2(At)}`]};return composeClasses(Et,getIconButtonUtilityClass,s)},IconButtonRoot=styled(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,j.color!=="default"&&s[`color${capitalize$2(j.color)}`],j.edge&&s[`edge${capitalize$2(j.edge)}`],s[`size${capitalize$2(j.size)}`]]}})(({theme:o,ownerState:s})=>_extends$1({textAlign:"center",flex:"0 0 auto",fontSize:o.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(o.vars||o).palette.action.active,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest})},!s.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha_1(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},s.edge==="start"&&{marginLeft:s.size==="small"?-3:-12},s.edge==="end"&&{marginRight:s.size==="small"?-3:-12}),({theme:o,ownerState:s})=>{var j;const et=(j=(o.vars||o).palette)==null?void 0:j[s.color];return _extends$1({},s.color==="inherit"&&{color:"inherit"},s.color!=="inherit"&&s.color!=="default"&&_extends$1({color:et==null?void 0:et.main},!s.disableRipple&&{"&:hover":_extends$1({},et&&{backgroundColor:o.vars?`rgba(${et.mainChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha_1(et.main,o.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),s.size==="small"&&{padding:5,fontSize:o.typography.pxToRem(18)},s.size==="large"&&{padding:12,fontSize:o.typography.pxToRem(28)},{[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(o.vars||o).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiIconButton"}),{edge:bt=!1,children:At,className:Et,color:Ut="default",disabled:zt=!1,disableFocusRipple:It=!1,size:Qt="medium"}=et,Pt=_objectWithoutPropertiesLoose(et,_excluded$t),Yt=_extends$1({},et,{edge:bt,color:Ut,disabled:zt,disableFocusRipple:It,size:Qt}),cr=useUtilityClasses$n(Yt);return jsxRuntimeExports.jsx(IconButtonRoot,_extends$1({className:clsx(cr.root,Et),centerRipple:!0,focusRipple:!It,disabled:zt,ref:j},Pt,{ownerState:Yt,children:At}))}),IconButton$1=IconButton,ClearIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function getTypographyUtilityClass(o){return generateUtilityClass$1("MuiTypography",o)}generateUtilityClasses$1("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$s=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$m=o=>{const{align:s,gutterBottom:j,noWrap:et,paragraph:bt,variant:At,classes:Et}=o,Ut={root:["root",At,o.align!=="inherit"&&`align${capitalize$2(s)}`,j&&"gutterBottom",et&&"noWrap",bt&&"paragraph"]};return composeClasses(Ut,getTypographyUtilityClass,Et)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,j.variant&&s[j.variant],j.align!=="inherit"&&s[`align${capitalize$2(j.align)}`],j.noWrap&&s.noWrap,j.gutterBottom&&s.gutterBottom,j.paragraph&&s.paragraph]}})(({theme:o,ownerState:s})=>_extends$1({margin:0},s.variant==="inherit"&&{font:"inherit"},s.variant!=="inherit"&&o.typography[s.variant],s.align!=="inherit"&&{textAlign:s.align},s.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},s.gutterBottom&&{marginBottom:"0.35em"},s.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=o=>colorTransformations[o]||o,Typography=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiTypography"}),bt=transformDeprecatedColors(et.color),At=extendSxProp(_extends$1({},et,{color:bt})),{align:Et="inherit",className:Ut,component:zt,gutterBottom:It=!1,noWrap:Qt=!1,paragraph:Pt=!1,variant:Yt="body1",variantMapping:cr=defaultVariantMapping}=At,_r=_objectWithoutPropertiesLoose(At,_excluded$s),vr=_extends$1({},At,{align:Et,color:bt,className:Ut,component:zt,gutterBottom:It,noWrap:Qt,paragraph:Pt,variant:Yt,variantMapping:cr}),Yr=zt||(Pt?"p":cr[Yt]||defaultVariantMapping[Yt])||"span",Kr=useUtilityClasses$m(vr);return jsxRuntimeExports.jsx(TypographyRoot,_extends$1({as:Yr,ref:j,ownerState:vr,className:clsx(Kr.root,Ut)},_r))}),Typography$1=Typography;var useThemeWithoutDefault={};Object.defineProperty(useThemeWithoutDefault,"__esModule",{value:!0});var default_1=useThemeWithoutDefault.default=void 0,React=_interopRequireWildcard(reactExports),_styledEngine=require$$1;function _getRequireWildcardCache(o){if(typeof WeakMap!="function")return null;var s=new WeakMap,j=new WeakMap;return(_getRequireWildcardCache=function(et){return et?j:s})(o)}function _interopRequireWildcard(o,s){if(!s&&o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var j=_getRequireWildcardCache(s);if(j&&j.has(o))return j.get(o);var et={__proto__:null},bt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var At in o)if(At!=="default"&&Object.prototype.hasOwnProperty.call(o,At)){var Et=bt?Object.getOwnPropertyDescriptor(o,At):null;Et&&(Et.get||Et.set)?Object.defineProperty(et,At,Et):et[At]=o[At]}return et.default=o,j&&j.set(o,et),et}function isObjectEmpty(o){return Object.keys(o).length===0}function useTheme(o=null){const s=React.useContext(_styledEngine.ThemeContext);return!s||isObjectEmpty(s)?o:s}default_1=useThemeWithoutDefault.default=useTheme;const _excluded$r=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],PopperRoot=styled(Popper$2,{name:"MuiPopper",slot:"Root",overridesResolver:(o,s)=>s.root})({}),Popper=reactExports.forwardRef(function(s,j){var et;const bt=default_1(),At=useThemeProps({props:s,name:"MuiPopper"}),{anchorEl:Et,component:Ut,components:zt,componentsProps:It,container:Qt,disablePortal:Pt,keepMounted:Yt,modifiers:cr,open:_r,placement:vr,popperOptions:Yr,popperRef:Kr,transition:jr,slots:Hn,slotProps:tA}=At,nA=_objectWithoutPropertiesLoose(At,_excluded$r),aA=(et=Hn==null?void 0:Hn.root)!=null?et:zt==null?void 0:zt.Root,lA=_extends$1({anchorEl:Et,container:Qt,disablePortal:Pt,keepMounted:Yt,modifiers:cr,open:_r,placement:vr,popperOptions:Yr,popperRef:Kr,transition:jr},nA);return jsxRuntimeExports.jsx(PopperRoot,_extends$1({as:Ut,direction:bt==null?void 0:bt.direction,slots:{root:aA},slotProps:tA??It},lA,{ref:j}))}),Popper$1=Popper;function getListSubheaderUtilityClass(o){return generateUtilityClass$1("MuiListSubheader",o)}generateUtilityClasses$1("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const _excluded$q=["className","color","component","disableGutters","disableSticky","inset"],useUtilityClasses$l=o=>{const{classes:s,color:j,disableGutters:et,inset:bt,disableSticky:At}=o,Et={root:["root",j!=="default"&&`color${capitalize$2(j)}`,!et&&"gutters",bt&&"inset",!At&&"sticky"]};return composeClasses(Et,getListSubheaderUtilityClass,s)},ListSubheaderRoot=styled("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,j.color!=="default"&&s[`color${capitalize$2(j.color)}`],!j.disableGutters&&s.gutters,j.inset&&s.inset,!j.disableSticky&&s.sticky]}})(({theme:o,ownerState:s})=>_extends$1({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(o.vars||o).palette.text.secondary,fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(14)},s.color==="primary"&&{color:(o.vars||o).palette.primary.main},s.color==="inherit"&&{color:"inherit"},!s.disableGutters&&{paddingLeft:16,paddingRight:16},s.inset&&{paddingLeft:72},!s.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(o.vars||o).palette.background.paper})),ListSubheader=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiListSubheader"}),{className:bt,color:At="default",component:Et="li",disableGutters:Ut=!1,disableSticky:zt=!1,inset:It=!1}=et,Qt=_objectWithoutPropertiesLoose(et,_excluded$q),Pt=_extends$1({},et,{color:At,component:Et,disableGutters:Ut,disableSticky:zt,inset:It}),Yt=useUtilityClasses$l(Pt);return jsxRuntimeExports.jsx(ListSubheaderRoot,_extends$1({as:Et,className:clsx(Yt.root,bt),ref:j,ownerState:Pt},Qt))});ListSubheader.muiSkipListHighlight=!0;const ListSubheader$1=ListSubheader,CancelIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function getChipUtilityClass(o){return generateUtilityClass$1("MuiChip",o)}const chipClasses=generateUtilityClasses$1("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),chipClasses$1=chipClasses,_excluded$p=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],useUtilityClasses$k=o=>{const{classes:s,disabled:j,size:et,color:bt,iconColor:At,onDelete:Et,clickable:Ut,variant:zt}=o,It={root:["root",zt,j&&"disabled",`size${capitalize$2(et)}`,`color${capitalize$2(bt)}`,Ut&&"clickable",Ut&&`clickableColor${capitalize$2(bt)}`,Et&&"deletable",Et&&`deletableColor${capitalize$2(bt)}`,`${zt}${capitalize$2(bt)}`],label:["label",`label${capitalize$2(et)}`],avatar:["avatar",`avatar${capitalize$2(et)}`,`avatarColor${capitalize$2(bt)}`],icon:["icon",`icon${capitalize$2(et)}`,`iconColor${capitalize$2(At)}`],deleteIcon:["deleteIcon",`deleteIcon${capitalize$2(et)}`,`deleteIconColor${capitalize$2(bt)}`,`deleteIcon${capitalize$2(zt)}Color${capitalize$2(bt)}`]};return composeClasses(It,getChipUtilityClass,s)},ChipRoot=styled("div",{name:"MuiChip",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o,{color:et,iconColor:bt,clickable:At,onDelete:Et,size:Ut,variant:zt}=j;return[{[`& .${chipClasses$1.avatar}`]:s.avatar},{[`& .${chipClasses$1.avatar}`]:s[`avatar${capitalize$2(Ut)}`]},{[`& .${chipClasses$1.avatar}`]:s[`avatarColor${capitalize$2(et)}`]},{[`& .${chipClasses$1.icon}`]:s.icon},{[`& .${chipClasses$1.icon}`]:s[`icon${capitalize$2(Ut)}`]},{[`& .${chipClasses$1.icon}`]:s[`iconColor${capitalize$2(bt)}`]},{[`& .${chipClasses$1.deleteIcon}`]:s.deleteIcon},{[`& .${chipClasses$1.deleteIcon}`]:s[`deleteIcon${capitalize$2(Ut)}`]},{[`& .${chipClasses$1.deleteIcon}`]:s[`deleteIconColor${capitalize$2(et)}`]},{[`& .${chipClasses$1.deleteIcon}`]:s[`deleteIcon${capitalize$2(zt)}Color${capitalize$2(et)}`]},s.root,s[`size${capitalize$2(Ut)}`],s[`color${capitalize$2(et)}`],At&&s.clickable,At&&et!=="default"&&s[`clickableColor${capitalize$2(et)})`],Et&&s.deletable,Et&&et!=="default"&&s[`deletableColor${capitalize$2(et)}`],s[zt],s[`${zt}${capitalize$2(et)}`]]}})(({theme:o,ownerState:s})=>{const j=o.palette.mode==="light"?o.palette.grey[700]:o.palette.grey[300];return _extends$1({maxWidth:"100%",fontFamily:o.typography.fontFamily,fontSize:o.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(o.vars||o).palette.text.primary,backgroundColor:(o.vars||o).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:o.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${chipClasses$1.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${chipClasses$1.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:o.vars?o.vars.palette.Chip.defaultAvatarColor:j,fontSize:o.typography.pxToRem(12)},[`& .${chipClasses$1.avatarColorPrimary}`]:{color:(o.vars||o).palette.primary.contrastText,backgroundColor:(o.vars||o).palette.primary.dark},[`& .${chipClasses$1.avatarColorSecondary}`]:{color:(o.vars||o).palette.secondary.contrastText,backgroundColor:(o.vars||o).palette.secondary.dark},[`& .${chipClasses$1.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:o.typography.pxToRem(10)},[`& .${chipClasses$1.icon}`]:_extends$1({marginLeft:5,marginRight:-6},s.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},s.iconColor===s.color&&_extends$1({color:o.vars?o.vars.palette.Chip.defaultIconColor:j},s.color!=="default"&&{color:"inherit"})),[`& .${chipClasses$1.deleteIcon}`]:_extends$1({WebkitTapHighlightColor:"transparent",color:o.vars?`rgba(${o.vars.palette.text.primaryChannel} / 0.26)`:alpha_1(o.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:o.vars?`rgba(${o.vars.palette.text.primaryChannel} / 0.4)`:alpha_1(o.palette.text.primary,.4)}},s.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},s.color!=="default"&&{color:o.vars?`rgba(${o.vars.palette[s.color].contrastTextChannel} / 0.7)`:alpha_1(o.palette[s.color].contrastText,.7),"&:hover, &:active":{color:(o.vars||o).palette[s.color].contrastText}})},s.size==="small"&&{height:24},s.color!=="default"&&{backgroundColor:(o.vars||o).palette[s.color].main,color:(o.vars||o).palette[s.color].contrastText},s.onDelete&&{[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.action.selectedChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:alpha_1(o.palette.action.selected,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}},s.onDelete&&s.color!=="default"&&{[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:(o.vars||o).palette[s.color].dark}})},({theme:o,ownerState:s})=>_extends$1({},s.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.selectedChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:alpha_1(o.palette.action.selected,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity)},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.action.selectedChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:alpha_1(o.palette.action.selected,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)},"&:active":{boxShadow:(o.vars||o).shadows[1]}},s.clickable&&s.color!=="default"&&{[`&:hover, &.${chipClasses$1.focusVisible}`]:{backgroundColor:(o.vars||o).palette[s.color].dark}}),({theme:o,ownerState:s})=>_extends$1({},s.variant==="outlined"&&{backgroundColor:"transparent",border:o.vars?`1px solid ${o.vars.palette.Chip.defaultBorder}`:`1px solid ${o.palette.mode==="light"?o.palette.grey[400]:o.palette.grey[700]}`,[`&.${chipClasses$1.clickable}:hover`]:{backgroundColor:(o.vars||o).palette.action.hover},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`& .${chipClasses$1.avatar}`]:{marginLeft:4},[`& .${chipClasses$1.avatarSmall}`]:{marginLeft:2},[`& .${chipClasses$1.icon}`]:{marginLeft:4},[`& .${chipClasses$1.iconSmall}`]:{marginLeft:2},[`& .${chipClasses$1.deleteIcon}`]:{marginRight:5},[`& .${chipClasses$1.deleteIconSmall}`]:{marginRight:3}},s.variant==="outlined"&&s.color!=="default"&&{color:(o.vars||o).palette[s.color].main,border:`1px solid ${o.vars?`rgba(${o.vars.palette[s.color].mainChannel} / 0.7)`:alpha_1(o.palette[s.color].main,.7)}`,[`&.${chipClasses$1.clickable}:hover`]:{backgroundColor:o.vars?`rgba(${o.vars.palette[s.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha_1(o.palette[s.color].main,o.palette.action.hoverOpacity)},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette[s.color].mainChannel} / ${o.vars.palette.action.focusOpacity})`:alpha_1(o.palette[s.color].main,o.palette.action.focusOpacity)},[`& .${chipClasses$1.deleteIcon}`]:{color:o.vars?`rgba(${o.vars.palette[s.color].mainChannel} / 0.7)`:alpha_1(o.palette[s.color].main,.7),"&:hover, &:active":{color:(o.vars||o).palette[s.color].main}}})),ChipLabel=styled("span",{name:"MuiChip",slot:"Label",overridesResolver:(o,s)=>{const{ownerState:j}=o,{size:et}=j;return[s.label,s[`label${capitalize$2(et)}`]]}})(({ownerState:o})=>_extends$1({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},o.variant==="outlined"&&{paddingLeft:11,paddingRight:11},o.size==="small"&&{paddingLeft:8,paddingRight:8},o.size==="small"&&o.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function isDeleteKeyboardEvent(o){return o.key==="Backspace"||o.key==="Delete"}const Chip=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiChip"}),{avatar:bt,className:At,clickable:Et,color:Ut="default",component:zt,deleteIcon:It,disabled:Qt=!1,icon:Pt,label:Yt,onClick:cr,onDelete:_r,onKeyDown:vr,onKeyUp:Yr,size:Kr="medium",variant:jr="filled",tabIndex:Hn,skipFocusWhenDisabled:tA=!1}=et,nA=_objectWithoutPropertiesLoose(et,_excluded$p),aA=reactExports.useRef(null),lA=useForkRef(aA,j),hA=OA=>{OA.stopPropagation(),_r&&_r(OA)},pA=OA=>{OA.currentTarget===OA.target&&isDeleteKeyboardEvent(OA)&&OA.preventDefault(),vr&&vr(OA)},wA=OA=>{OA.currentTarget===OA.target&&(_r&&isDeleteKeyboardEvent(OA)?_r(OA):OA.key==="Escape"&&aA.current&&aA.current.blur()),Yr&&Yr(OA)},NA=Et!==!1&&cr?!0:Et,cA=NA||_r?ButtonBase$1:zt||"div",CA=_extends$1({},et,{component:cA,disabled:Qt,size:Kr,color:Ut,iconColor:reactExports.isValidElement(Pt)&&Pt.props.color||Ut,onDelete:!!_r,clickable:NA,variant:jr}),sA=useUtilityClasses$k(CA),UA=cA===ButtonBase$1?_extends$1({component:zt||"div",focusVisibleClassName:sA.focusVisible},_r&&{disableRipple:!0}):{};let LA=null;_r&&(LA=It&&reactExports.isValidElement(It)?reactExports.cloneElement(It,{className:clsx(It.props.className,sA.deleteIcon),onClick:hA}):jsxRuntimeExports.jsx(CancelIcon,{className:clsx(sA.deleteIcon),onClick:hA}));let RA=null;bt&&reactExports.isValidElement(bt)&&(RA=reactExports.cloneElement(bt,{className:clsx(sA.avatar,bt.props.className)}));let kA=null;return Pt&&reactExports.isValidElement(Pt)&&(kA=reactExports.cloneElement(Pt,{className:clsx(sA.icon,Pt.props.className)})),jsxRuntimeExports.jsxs(ChipRoot,_extends$1({as:cA,className:clsx(sA.root,At),disabled:NA&&Qt?!0:void 0,onClick:cr,onKeyDown:pA,onKeyUp:wA,ref:lA,tabIndex:tA&&Qt?-1:Hn,ownerState:CA},UA,nA,{children:[RA||kA,jsxRuntimeExports.jsx(ChipLabel,{className:clsx(sA.label),ownerState:CA,children:Yt}),LA]}))}),Chip$1=Chip;function formControlState({props:o,states:s,muiFormControl:j}){return s.reduce((et,bt)=>(et[bt]=o[bt],j&&typeof o[bt]>"u"&&(et[bt]=j[bt]),et),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles(o){return jsxRuntimeExports.jsx(GlobalStyles$1,_extends$1({},o,{defaultTheme:defaultTheme$2,themeId:THEME_ID}))}function hasValue(o){return o!=null&&!(Array.isArray(o)&&o.length===0)}function isFilled(o,s=!1){return o&&(hasValue(o.value)&&o.value!==""||s&&hasValue(o.defaultValue)&&o.defaultValue!=="")}function isAdornedStart(o){return o.startAdornment}function getInputBaseUtilityClass(o){return generateUtilityClass$1("MuiInputBase",o)}const inputBaseClasses=generateUtilityClasses$1("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$o=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(o,s)=>{const{ownerState:j}=o;return[s.root,j.formControl&&s.formControl,j.startAdornment&&s.adornedStart,j.endAdornment&&s.adornedEnd,j.error&&s.error,j.size==="small"&&s.sizeSmall,j.multiline&&s.multiline,j.color&&s[`color${capitalize$2(j.color)}`],j.fullWidth&&s.fullWidth,j.hiddenLabel&&s.hiddenLabel]},inputOverridesResolver=(o,s)=>{const{ownerState:j}=o;return[s.input,j.size==="small"&&s.inputSizeSmall,j.multiline&&s.inputMultiline,j.type==="search"&&s.inputTypeSearch,j.startAdornment&&s.inputAdornedStart,j.endAdornment&&s.inputAdornedEnd,j.hiddenLabel&&s.inputHiddenLabel]},useUtilityClasses$j=o=>{const{classes:s,color:j,disabled:et,error:bt,endAdornment:At,focused:Et,formControl:Ut,fullWidth:zt,hiddenLabel:It,multiline:Qt,readOnly:Pt,size:Yt,startAdornment:cr,type:_r}=o,vr={root:["root",`color${capitalize$2(j)}`,et&&"disabled",bt&&"error",zt&&"fullWidth",Et&&"focused",Ut&&"formControl",Yt&&Yt!=="medium"&&`size${capitalize$2(Yt)}`,Qt&&"multiline",cr&&"adornedStart",At&&"adornedEnd",It&&"hiddenLabel",Pt&&"readOnly"],input:["input",et&&"disabled",_r==="search"&&"inputTypeSearch",Qt&&"inputMultiline",Yt==="small"&&"inputSizeSmall",It&&"inputHiddenLabel",cr&&"inputAdornedStart",At&&"inputAdornedEnd",Pt&&"readOnly"]};return composeClasses(vr,getInputBaseUtilityClass,s)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:o,ownerState:s})=>_extends$1({},o.typography.body1,{color:(o.vars||o).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled,cursor:"default"}},s.multiline&&_extends$1({padding:"4px 0 5px"},s.size==="small"&&{paddingTop:1}),s.fullWidth&&{width:"100%"})),InputBaseComponent=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:s})=>{const j=o.palette.mode==="light",et=_extends$1({color:"currentColor"},o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:j?.42:.5},{transition:o.transitions.create("opacity",{duration:o.transitions.duration.shorter})}),bt={opacity:"0 !important"},At=o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:j?.42:.5};return _extends$1({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":et,"&::-moz-placeholder":et,"&:-ms-input-placeholder":et,"&::-ms-input-placeholder":et,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":bt,"&::-moz-placeholder":bt,"&:-ms-input-placeholder":bt,"&::-ms-input-placeholder":bt,"&:focus::-webkit-input-placeholder":At,"&:focus::-moz-placeholder":At,"&:focus:-ms-input-placeholder":At,"&:focus::-ms-input-placeholder":At},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:(o.vars||o).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},s.size==="small"&&{paddingTop:1},s.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},s.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsxRuntimeExports.jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(s,j){var et;const bt=useThemeProps({props:s,name:"MuiInputBase"}),{"aria-describedby":At,autoComplete:Et,autoFocus:Ut,className:zt,components:It={},componentsProps:Qt={},defaultValue:Pt,disabled:Yt,disableInjectingGlobalStyles:cr,endAdornment:_r,fullWidth:vr=!1,id:Yr,inputComponent:Kr="input",inputProps:jr={},inputRef:Hn,maxRows:tA,minRows:nA,multiline:aA=!1,name:lA,onBlur:hA,onChange:pA,onClick:wA,onFocus:NA,onKeyDown:cA,onKeyUp:CA,placeholder:sA,readOnly:UA,renderSuffix:LA,rows:RA,slotProps:kA={},slots:OA={},startAdornment:KA,type:yA="text",value:TA}=bt,r0=_objectWithoutPropertiesLoose(bt,_excluded$o),qA=jr.value!=null?jr.value:TA,{current:XA}=reactExports.useRef(qA!=null),S0=reactExports.useRef(),U0=reactExports.useCallback($0=>{},[]),C0=useForkRef(S0,Hn,jr.ref,U0),[B0,Q0]=reactExports.useState(!1),T0=useFormControl(),F0=formControlState({props:bt,muiFormControl:T0,states:["color","disabled","error","hiddenLabel","size","required","filled"]});F0.focused=T0?T0.focused:B0,reactExports.useEffect(()=>{!T0&&Yt&&B0&&(Q0(!1),hA&&hA())},[T0,Yt,B0,hA]);const k0=T0&&T0.onFilled,uA=T0&&T0.onEmpty,ZA=reactExports.useCallback($0=>{isFilled($0)?k0&&k0():uA&&uA()},[k0,uA]);useEnhancedEffect(()=>{XA&&ZA({value:qA})},[qA,ZA,XA]);const jA=$0=>{if(F0.disabled){$0.stopPropagation();return}NA&&NA($0),jr.onFocus&&jr.onFocus($0),T0&&T0.onFocus?T0.onFocus($0):Q0(!0)},IA=$0=>{hA&&hA($0),jr.onBlur&&jr.onBlur($0),T0&&T0.onBlur?T0.onBlur($0):Q0(!1)},$A=($0,...w0)=>{if(!XA){const E0=$0.target||S0.current;if(E0==null)throw new Error(formatMuiErrorMessage$1(1));ZA({value:E0.value})}jr.onChange&&jr.onChange($0,...w0),pA&&pA($0,...w0)};reactExports.useEffect(()=>{ZA(S0.current)},[]);const QA=$0=>{S0.current&&$0.currentTarget===$0.target&&S0.current.focus(),wA&&wA($0)};let n0=Kr,t0=jr;aA&&n0==="input"&&(RA?t0=_extends$1({type:void 0,minRows:RA,maxRows:RA},t0):t0=_extends$1({type:void 0,maxRows:tA,minRows:nA},t0),n0=TextareaAutosize);const GA=$0=>{ZA($0.animationName==="mui-auto-fill-cancel"?S0.current:{value:"x"})};reactExports.useEffect(()=>{T0&&T0.setAdornedStart(!!KA)},[T0,KA]);const A0=_extends$1({},bt,{color:F0.color||"primary",disabled:F0.disabled,endAdornment:_r,error:F0.error,focused:F0.focused,formControl:T0,fullWidth:vr,hiddenLabel:F0.hiddenLabel,multiline:aA,size:F0.size,startAdornment:KA,type:yA}),y0=useUtilityClasses$j(A0),f0=OA.root||It.Root||InputBaseRoot,P0=kA.root||Qt.root||{},K0=OA.input||It.Input||InputBaseComponent;return t0=_extends$1({},t0,(et=kA.input)!=null?et:Qt.input),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!cr&&inputGlobalStyles,jsxRuntimeExports.jsxs(f0,_extends$1({},P0,!isHostComponent(f0)&&{ownerState:_extends$1({},A0,P0.ownerState)},{ref:j,onClick:QA},r0,{className:clsx(y0.root,P0.className,zt,UA&&"MuiInputBase-readOnly"),children:[KA,jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(K0,_extends$1({ownerState:A0,"aria-invalid":F0.error,"aria-describedby":At,autoComplete:Et,autoFocus:Ut,defaultValue:Pt,disabled:F0.disabled,id:Yr,onAnimationStart:GA,name:lA,placeholder:sA,readOnly:UA,required:F0.required,rows:RA,value:qA,onKeyDown:cA,onKeyUp:CA,type:yA},t0,!isHostComponent(K0)&&{as:n0,ownerState:_extends$1({},A0,t0.ownerState)},{ref:C0,className:clsx(y0.input,t0.className,UA&&"MuiInputBase-readOnly"),onBlur:IA,onChange:$A,onFocus:jA}))}),_r,LA?LA(_extends$1({},F0,{startAdornment:KA})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass(o){return generateUtilityClass$1("MuiInput",o)}const inputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses$1("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses;function getOutlinedInputUtilityClass(o){return generateUtilityClass$1("MuiOutlinedInput",o)}const outlinedInputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses$1("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass(o){return generateUtilityClass$1("MuiFilledInput",o)}const filledInputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses$1("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function getAutocompleteUtilityClass(o){return generateUtilityClass$1("MuiAutocomplete",o)}const autocompleteClasses=generateUtilityClasses$1("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),autocompleteClasses$1=autocompleteClasses;var _ClearIcon,_ArrowDropDownIcon;const _excluded$n=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],_excluded2$3=["ref"],useUtilityClasses$i=o=>{const{classes:s,disablePortal:j,expanded:et,focused:bt,fullWidth:At,hasClearIcon:Et,hasPopupIcon:Ut,inputFocused:zt,popupOpen:It,size:Qt}=o,Pt={root:["root",et&&"expanded",bt&&"focused",At&&"fullWidth",Et&&"hasClearIcon",Ut&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",zt&&"inputFocused"],tag:["tag",`tagSize${capitalize$2(Qt)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",It&&"popupIndicatorOpen"],popper:["popper",j&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return composeClasses(Pt,getAutocompleteUtilityClass,s)},AutocompleteRoot=styled("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o,{fullWidth:et,hasClearIcon:bt,hasPopupIcon:At,inputFocused:Et,size:Ut}=j;return[{[`& .${autocompleteClasses$1.tag}`]:s.tag},{[`& .${autocompleteClasses$1.tag}`]:s[`tagSize${capitalize$2(Ut)}`]},{[`& .${autocompleteClasses$1.inputRoot}`]:s.inputRoot},{[`& .${autocompleteClasses$1.input}`]:s.input},{[`& .${autocompleteClasses$1.input}`]:Et&&s.inputFocused},s.root,et&&s.fullWidth,At&&s.hasPopupIcon,bt&&s.hasClearIcon]}})(({ownerState:o})=>_extends$1({[`&.${autocompleteClasses$1.focused} .${autocompleteClasses$1.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${autocompleteClasses$1.clearIndicator}`]:{visibility:"visible"}}},o.fullWidth&&{width:"100%"},{[`& .${autocompleteClasses$1.tag}`]:_extends$1({margin:3,maxWidth:"calc(100% - 6px)"},o.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${autocompleteClasses$1.inputRoot}`]:{flexWrap:"wrap",[`.${autocompleteClasses$1.hasPopupIcon}&, .${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:30},[`.${autocompleteClasses$1.hasPopupIcon}.${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:56},[`& .${autocompleteClasses$1.input}`]:{width:0,minWidth:30}},[`& .${inputClasses$1.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${inputClasses$1.root}.${inputBaseClasses$1.sizeSmall}`]:{[`& .${inputClasses$1.input}`]:{padding:"2px 4px 3px 0"}},[`& .${outlinedInputClasses$1.root}`]:{padding:9,[`.${autocompleteClasses$1.hasPopupIcon}&, .${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:39},[`.${autocompleteClasses$1.hasPopupIcon}.${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:65},[`& .${autocompleteClasses$1.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${autocompleteClasses$1.endAdornment}`]:{right:9}},[`& .${outlinedInputClasses$1.root}.${inputBaseClasses$1.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${autocompleteClasses$1.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${filledInputClasses$1.root}`]:{paddingTop:19,paddingLeft:8,[`.${autocompleteClasses$1.hasPopupIcon}&, .${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:39},[`.${autocompleteClasses$1.hasPopupIcon}.${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:65},[`& .${filledInputClasses$1.input}`]:{padding:"7px 4px"},[`& .${autocompleteClasses$1.endAdornment}`]:{right:9}},[`& .${filledInputClasses$1.root}.${inputBaseClasses$1.sizeSmall}`]:{paddingBottom:1,[`& .${filledInputClasses$1.input}`]:{padding:"2.5px 4px"}},[`& .${inputBaseClasses$1.hiddenLabel}`]:{paddingTop:8},[`& .${filledInputClasses$1.root}.${inputBaseClasses$1.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${autocompleteClasses$1.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${filledInputClasses$1.root}.${inputBaseClasses$1.hiddenLabel}.${inputBaseClasses$1.sizeSmall}`]:{[`& .${autocompleteClasses$1.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${autocompleteClasses$1.input}`]:_extends$1({flexGrow:1,textOverflow:"ellipsis",opacity:0},o.inputFocused&&{opacity:1})})),AutocompleteEndAdornment=styled("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(o,s)=>s.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),AutocompleteClearIndicator=styled(IconButton$1,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(o,s)=>s.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),AutocompletePopupIndicator=styled(IconButton$1,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:o},s)=>_extends$1({},s.popupIndicator,o.popupOpen&&s.popupIndicatorOpen)})(({ownerState:o})=>_extends$1({padding:2,marginRight:-2},o.popupOpen&&{transform:"rotate(180deg)"})),AutocompletePopper=styled(Popper$1,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[{[`& .${autocompleteClasses$1.option}`]:s.option},s.popper,j.disablePortal&&s.popperDisablePortal]}})(({theme:o,ownerState:s})=>_extends$1({zIndex:(o.vars||o).zIndex.modal},s.disablePortal&&{position:"absolute"})),AutocompletePaper=styled(Paper$1,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(o,s)=>s.paper})(({theme:o})=>_extends$1({},o.typography.body1,{overflow:"auto"})),AutocompleteLoading=styled("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(o,s)=>s.loading})(({theme:o})=>({color:(o.vars||o).palette.text.secondary,padding:"14px 16px"})),AutocompleteNoOptions=styled("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(o,s)=>s.noOptions})(({theme:o})=>({color:(o.vars||o).palette.text.secondary,padding:"14px 16px"})),AutocompleteListbox=styled("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(o,s)=>s.listbox})(({theme:o})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${autocompleteClasses$1.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[o.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${autocompleteClasses$1.focused}`]:{backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(o.vars||o).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${autocompleteClasses$1.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:alpha_1(o.palette.primary.main,o.palette.action.selectedOpacity),[`&.${autocompleteClasses$1.focused}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:alpha_1(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(o.vars||o).palette.action.selected}},[`&.${autocompleteClasses$1.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:alpha_1(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}}}})),AutocompleteGroupLabel=styled(ListSubheader$1,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(o,s)=>s.groupLabel})(({theme:o})=>({backgroundColor:(o.vars||o).palette.background.paper,top:-8})),AutocompleteGroupUl=styled("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(o,s)=>s.groupUl})({padding:0,[`& .${autocompleteClasses$1.option}`]:{paddingLeft:24}}),Autocomplete=reactExports.forwardRef(function(s,j){var et,bt,At,Et;const Ut=useThemeProps({props:s,name:"MuiAutocomplete"}),{autoComplete:zt=!1,autoHighlight:It=!1,autoSelect:Qt=!1,blurOnSelect:Pt=!1,ChipProps:Yt,className:cr,clearIcon:_r=_ClearIcon||(_ClearIcon=jsxRuntimeExports.jsx(ClearIcon,{fontSize:"small"})),clearOnBlur:vr=!Ut.freeSolo,clearOnEscape:Yr=!1,clearText:Kr="Clear",closeText:jr="Close",componentsProps:Hn={},defaultValue:tA=Ut.multiple?[]:null,disableClearable:nA=!1,disableCloseOnSelect:aA=!1,disabled:lA=!1,disabledItemsFocusable:hA=!1,disableListWrap:pA=!1,disablePortal:wA=!1,filterSelectedOptions:NA=!1,forcePopupIcon:cA="auto",freeSolo:CA=!1,fullWidth:sA=!1,getLimitTagsText:UA=e0=>`+${e0}`,getOptionLabel:LA,groupBy:RA,handleHomeEndKeys:kA=!Ut.freeSolo,includeInputInList:OA=!1,limitTags:KA=-1,ListboxComponent:yA="ul",ListboxProps:TA,loading:r0=!1,loadingText:qA="Loading…",multiple:XA=!1,noOptionsText:S0="No options",openOnFocus:U0=!1,openText:C0="Open",PaperComponent:B0=Paper$1,PopperComponent:Q0=Popper$1,popupIcon:T0=_ArrowDropDownIcon||(_ArrowDropDownIcon=jsxRuntimeExports.jsx(ArrowDropDownIcon,{})),readOnly:F0=!1,renderGroup:k0,renderInput:uA,renderOption:ZA,renderTags:jA,selectOnFocus:IA=!Ut.freeSolo,size:$A="medium",slotProps:QA={}}=Ut,n0=_objectWithoutPropertiesLoose(Ut,_excluded$n),{getRootProps:t0,getInputProps:GA,getInputLabelProps:A0,getPopupIndicatorProps:y0,getClearProps:f0,getTagProps:P0,getListboxProps:K0,getOptionProps:$0,value:w0,dirty:E0,expanded:t1,id:O1,popupOpen:v0,focused:X0,focusedTag:r1,anchorEl:L0,setAnchorEl:k1,inputValue:M1,groupedOptions:N1}=useAutocomplete(_extends$1({},Ut,{componentName:"Autocomplete"})),mA=!nA&&!lA&&E0&&!F0,HA=(!CA||cA===!0)&&cA!==!1,{onMouseDown:WA}=GA(),{ref:c0}=TA??{},D0=K0(),{ref:W0}=D0,l1=_objectWithoutPropertiesLoose(D0,_excluded2$3),P1=useForkRef(W0,c0),F1=LA||(e0=>{var R0;return(R0=e0.label)!=null?R0:e0}),m1=_extends$1({},Ut,{disablePortal:wA,expanded:t1,focused:X0,fullWidth:sA,getOptionLabel:F1,hasClearIcon:mA,hasPopupIcon:HA,inputFocused:r1===-1,popupOpen:v0,size:$A}),M0=useUtilityClasses$i(m1);let W1;if(XA&&w0.length>0){const e0=R0=>_extends$1({className:M0.tag,disabled:lA},P0(R0));jA?W1=jA(w0,e0,m1):W1=w0.map((R0,z0)=>jsxRuntimeExports.jsx(Chip$1,_extends$1({label:F1(R0),size:$A},e0({index:z0}),Yt)))}if(KA>-1&&Array.isArray(W1)){const e0=W1.length-KA;!X0&&e0>0&&(W1=W1.splice(0,KA),W1.push(jsxRuntimeExports.jsx("span",{className:M0.tag,children:UA(e0)},W1.length)))}const h1=k0||(e0=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx(AutocompleteGroupLabel,{className:M0.groupLabel,ownerState:m1,component:"div",children:e0.group}),jsxRuntimeExports.jsx(AutocompleteGroupUl,{className:M0.groupUl,ownerState:m1,children:e0.children})]},e0.key)),q1=ZA||((e0,R0)=>reactExports.createElement("li",_extends$1({},e0,{key:e0.key}),F1(R0))),iy=(e0,R0)=>{const z0=$0({option:e0,index:R0});return q1(_extends$1({},z0,{className:M0.option}),e0,{selected:z0["aria-selected"],index:R0,inputValue:M1},m1)},Ay=(et=QA.clearIndicator)!=null?et:Hn.clearIndicator,oy=(bt=QA.paper)!=null?bt:Hn.paper,sy=(At=QA.popper)!=null?At:Hn.popper,d0=(Et=QA.popupIndicator)!=null?Et:Hn.popupIndicator;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(AutocompleteRoot,_extends$1({ref:j,className:clsx(M0.root,cr),ownerState:m1},t0(n0),{children:uA({id:O1,disabled:lA,fullWidth:!0,size:$A==="small"?"small":void 0,InputLabelProps:A0(),InputProps:_extends$1({ref:k1,className:M0.inputRoot,startAdornment:W1,onClick:e0=>{e0.target===e0.currentTarget&&WA(e0)}},(mA||HA)&&{endAdornment:jsxRuntimeExports.jsxs(AutocompleteEndAdornment,{className:M0.endAdornment,ownerState:m1,children:[mA?jsxRuntimeExports.jsx(AutocompleteClearIndicator,_extends$1({},f0(),{"aria-label":Kr,title:Kr,ownerState:m1},Ay,{className:clsx(M0.clearIndicator,Ay==null?void 0:Ay.className),children:_r})):null,HA?jsxRuntimeExports.jsx(AutocompletePopupIndicator,_extends$1({},y0(),{disabled:lA,"aria-label":v0?jr:C0,title:v0?jr:C0,ownerState:m1},d0,{className:clsx(M0.popupIndicator,d0==null?void 0:d0.className),children:T0})):null]})}),inputProps:_extends$1({className:M0.input,disabled:lA,readOnly:F0},GA())})})),L0?jsxRuntimeExports.jsx(AutocompletePopper,_extends$1({as:Q0,disablePortal:wA,style:{width:L0?L0.clientWidth:null},ownerState:m1,role:"presentation",anchorEl:L0,open:v0},sy,{className:clsx(M0.popper,sy==null?void 0:sy.className),children:jsxRuntimeExports.jsxs(AutocompletePaper,_extends$1({ownerState:m1,as:B0},oy,{className:clsx(M0.paper,oy==null?void 0:oy.className),children:[r0&&N1.length===0?jsxRuntimeExports.jsx(AutocompleteLoading,{className:M0.loading,ownerState:m1,children:qA}):null,N1.length===0&&!CA&&!r0?jsxRuntimeExports.jsx(AutocompleteNoOptions,{className:M0.noOptions,ownerState:m1,role:"presentation",onMouseDown:e0=>{e0.preventDefault()},children:S0}):null,N1.length>0?jsxRuntimeExports.jsx(AutocompleteListbox,_extends$1({as:yA,className:M0.listbox,ownerState:m1},l1,TA,{ref:P1,children:N1.map((e0,R0)=>RA?h1({key:e0.key,group:e0.group,children:e0.options.map((z0,g1)=>iy(z0,e0.index+g1))}):iy(e0,R0))})):null]}))})):null]})}),Autocomplete$1=Autocomplete,_excluded$m=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$2={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(s,j){const et=useTheme$1(),bt={enter:et.transitions.duration.enteringScreen,exit:et.transitions.duration.leavingScreen},{addEndListener:At,appear:Et=!0,children:Ut,easing:zt,in:It,onEnter:Qt,onEntered:Pt,onEntering:Yt,onExit:cr,onExited:_r,onExiting:vr,style:Yr,timeout:Kr=bt,TransitionComponent:jr=Transition$1}=s,Hn=_objectWithoutPropertiesLoose(s,_excluded$m),tA=reactExports.useRef(null),nA=useForkRef(tA,Ut.ref,j),aA=sA=>UA=>{if(sA){const LA=tA.current;UA===void 0?sA(LA):sA(LA,UA)}},lA=aA(Yt),hA=aA((sA,UA)=>{reflow(sA);const LA=getTransitionProps({style:Yr,timeout:Kr,easing:zt},{mode:"enter"});sA.style.webkitTransition=et.transitions.create("opacity",LA),sA.style.transition=et.transitions.create("opacity",LA),Qt&&Qt(sA,UA)}),pA=aA(Pt),wA=aA(vr),NA=aA(sA=>{const UA=getTransitionProps({style:Yr,timeout:Kr,easing:zt},{mode:"exit"});sA.style.webkitTransition=et.transitions.create("opacity",UA),sA.style.transition=et.transitions.create("opacity",UA),cr&&cr(sA)}),cA=aA(_r),CA=sA=>{At&&At(tA.current,sA)};return jsxRuntimeExports.jsx(jr,_extends$1({appear:Et,in:It,nodeRef:tA,onEnter:hA,onEntered:pA,onEntering:lA,onExit:NA,onExited:cA,onExiting:wA,addEndListener:CA,timeout:Kr},Hn,{children:(sA,UA)=>reactExports.cloneElement(Ut,_extends$1({style:_extends$1({opacity:0,visibility:sA==="exited"&&!It?"hidden":void 0},styles$2[sA],Yr,Ut.props.style),ref:nA},UA))}))}),Fade$1=Fade;function getBackdropUtilityClass(o){return generateUtilityClass$1("MuiBackdrop",o)}generateUtilityClasses$1("MuiBackdrop",["root","invisible"]);const _excluded$l=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$h=o=>{const{classes:s,invisible:j}=o;return composeClasses({root:["root",j&&"invisible"]},getBackdropUtilityClass,s)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,j.invisible&&s.invisible]}})(({ownerState:o})=>_extends$1({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},o.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(s,j){var et,bt,At;const Et=useThemeProps({props:s,name:"MuiBackdrop"}),{children:Ut,className:zt,component:It="div",components:Qt={},componentsProps:Pt={},invisible:Yt=!1,open:cr,slotProps:_r={},slots:vr={},TransitionComponent:Yr=Fade$1,transitionDuration:Kr}=Et,jr=_objectWithoutPropertiesLoose(Et,_excluded$l),Hn=_extends$1({},Et,{component:It,invisible:Yt}),tA=useUtilityClasses$h(Hn),nA=(et=_r.root)!=null?et:Pt.root;return jsxRuntimeExports.jsx(Yr,_extends$1({in:cr,timeout:Kr},jr,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends$1({"aria-hidden":!0},nA,{as:(bt=(At=vr.root)!=null?At:Qt.Root)!=null?bt:It,className:clsx(tA.root,zt,nA==null?void 0:nA.className),ownerState:_extends$1({},Hn,nA==null?void 0:nA.ownerState),classes:tA,ref:j,children:Ut}))}))}),Backdrop$1=Backdrop,boxClasses=generateUtilityClasses$1("MuiBox",["root"]),boxClasses$1=boxClasses,defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:boxClasses$1.root,generateClassName:ClassNameGenerator$1.generate}),Box$1=Box,MoreHorizIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),_excluded$k=["slots","slotProps"],BreadcrumbCollapsedButton=styled(ButtonBase$1)(({theme:o})=>_extends$1({display:"flex",marginLeft:`calc(${o.spacing(1)} * 0.5)`,marginRight:`calc(${o.spacing(1)} * 0.5)`},o.palette.mode==="light"?{backgroundColor:o.palette.grey[100],color:o.palette.grey[700]}:{backgroundColor:o.palette.grey[700],color:o.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":_extends$1({},o.palette.mode==="light"?{backgroundColor:o.palette.grey[200]}:{backgroundColor:o.palette.grey[600]}),"&:active":_extends$1({boxShadow:o.shadows[0]},o.palette.mode==="light"?{backgroundColor:emphasize_1(o.palette.grey[200],.12)}:{backgroundColor:emphasize_1(o.palette.grey[600],.12)})})),BreadcrumbCollapsedIcon=styled(MoreHorizIcon)({width:24,height:16});function BreadcrumbCollapsed(o){const{slots:s={},slotProps:j={}}=o,et=_objectWithoutPropertiesLoose(o,_excluded$k),bt=o;return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(BreadcrumbCollapsedButton,_extends$1({focusRipple:!0},et,{ownerState:bt,children:jsxRuntimeExports.jsx(BreadcrumbCollapsedIcon,_extends$1({as:s.CollapsedIcon,ownerState:bt},j.collapsedIcon))}))})}function getBreadcrumbsUtilityClass(o){return generateUtilityClass$1("MuiBreadcrumbs",o)}const breadcrumbsClasses=generateUtilityClasses$1("MuiBreadcrumbs",["root","ol","li","separator"]),breadcrumbsClasses$1=breadcrumbsClasses,_excluded$j=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],useUtilityClasses$g=o=>{const{classes:s}=o;return composeClasses({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},getBreadcrumbsUtilityClass,s)},BreadcrumbsRoot=styled(Typography$1,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(o,s)=>[{[`& .${breadcrumbsClasses$1.li}`]:s.li},s.root]})({}),BreadcrumbsOl=styled("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(o,s)=>s.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),BreadcrumbsSeparator=styled("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(o,s)=>s.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function insertSeparators(o,s,j,et){return o.reduce((bt,At,Et)=>(Et<o.length-1?bt=bt.concat(At,jsxRuntimeExports.jsx(BreadcrumbsSeparator,{"aria-hidden":!0,className:s,ownerState:et,children:j},`separator-${Et}`)):bt.push(At),bt),[])}const Breadcrumbs=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiBreadcrumbs"}),{children:bt,className:At,component:Et="nav",slots:Ut={},slotProps:zt={},expandText:It="Show path",itemsAfterCollapse:Qt=1,itemsBeforeCollapse:Pt=1,maxItems:Yt=8,separator:cr="/"}=et,_r=_objectWithoutPropertiesLoose(et,_excluded$j),[vr,Yr]=reactExports.useState(!1),Kr=_extends$1({},et,{component:Et,expanded:vr,expandText:It,itemsAfterCollapse:Qt,itemsBeforeCollapse:Pt,maxItems:Yt,separator:cr}),jr=useUtilityClasses$g(Kr),Hn=useSlotProps({elementType:Ut.CollapsedIcon,externalSlotProps:zt.collapsedIcon,ownerState:Kr}),tA=reactExports.useRef(null),nA=lA=>{const hA=()=>{Yr(!0);const pA=tA.current.querySelector("a[href],button,[tabindex]");pA&&pA.focus()};return Pt+Qt>=lA.length?lA:[...lA.slice(0,Pt),jsxRuntimeExports.jsx(BreadcrumbCollapsed,{"aria-label":It,slots:{CollapsedIcon:Ut.CollapsedIcon},slotProps:{collapsedIcon:Hn},onClick:hA},"ellipsis"),...lA.slice(lA.length-Qt,lA.length)]},aA=reactExports.Children.toArray(bt).filter(lA=>reactExports.isValidElement(lA)).map((lA,hA)=>jsxRuntimeExports.jsx("li",{className:jr.li,children:lA},`child-${hA}`));return jsxRuntimeExports.jsx(BreadcrumbsRoot,_extends$1({ref:j,component:Et,color:"text.secondary",className:clsx(jr.root,At),ownerState:Kr},_r,{children:jsxRuntimeExports.jsx(BreadcrumbsOl,{className:jr.ol,ref:tA,ownerState:Kr,children:insertSeparators(vr||Yt&&aA.length<=Yt?aA:nA(aA),jr.separator,cr,Kr)})}))}),Breadcrumbs$1=Breadcrumbs,Container=createContainer$1({createStyledComponent:styled("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,s[`maxWidth${capitalize$2(String(j.maxWidth))}`],j.fixed&&s.fixed,j.disableGutters&&s.disableGutters]}}),useThemeProps:o=>useThemeProps({props:o,name:"MuiContainer"})}),Container$1=Container,html=(o,s)=>_extends$1({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},s&&!o.vars&&{colorScheme:o.palette.mode}),body=o=>_extends$1({color:(o.vars||o).palette.text.primary},o.typography.body1,{backgroundColor:(o.vars||o).palette.background.default,"@media print":{backgroundColor:(o.vars||o).palette.common.white}}),styles$1=(o,s=!1)=>{var j;const et={};s&&o.colorSchemes&&Object.entries(o.colorSchemes).forEach(([Et,Ut])=>{var zt;et[o.getColorSchemeSelector(Et).replace(/\s*&/,"")]={colorScheme:(zt=Ut.palette)==null?void 0:zt.mode}});let bt=_extends$1({html:html(o,s),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:o.typography.fontWeightBold},body:_extends$1({margin:0},body(o),{"&::backdrop":{backgroundColor:(o.vars||o).palette.background.default}})},et);const At=(j=o.components)==null||(j=j.MuiCssBaseline)==null?void 0:j.styleOverrides;return At&&(bt=[bt,At]),bt};function CssBaseline(o){const s=useThemeProps({props:o,name:"MuiCssBaseline"}),{children:j,enableColorScheme:et=!1}=s;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(GlobalStyles,{styles:bt=>styles$1(bt,et)}),j]})}function getModalUtilityClass(o){return generateUtilityClass$1("MuiModal",o)}generateUtilityClasses$1("MuiModal",["root","hidden","backdrop"]);const _excluded$i=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],useUtilityClasses$f=o=>{const{open:s,exited:j,classes:et}=o;return composeClasses({root:["root",!s&&j&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,et)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,!j.open&&j.exited&&s.hidden]}})(({theme:o,ownerState:s})=>_extends$1({position:"fixed",zIndex:(o.vars||o).zIndex.modal,right:0,bottom:0,top:0,left:0},!s.open&&s.exited&&{visibility:"hidden"})),ModalBackdrop=styled(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(o,s)=>s.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(s,j){var et,bt,At,Et,Ut,zt;const It=useThemeProps({name:"MuiModal",props:s}),{BackdropComponent:Qt=ModalBackdrop,BackdropProps:Pt,className:Yt,closeAfterTransition:cr=!1,children:_r,container:vr,component:Yr,components:Kr={},componentsProps:jr={},disableAutoFocus:Hn=!1,disableEnforceFocus:tA=!1,disableEscapeKeyDown:nA=!1,disablePortal:aA=!1,disableRestoreFocus:lA=!1,disableScrollLock:hA=!1,hideBackdrop:pA=!1,keepMounted:wA=!1,onBackdropClick:NA,open:cA,slotProps:CA,slots:sA}=It,UA=_objectWithoutPropertiesLoose(It,_excluded$i),LA=_extends$1({},It,{closeAfterTransition:cr,disableAutoFocus:Hn,disableEnforceFocus:tA,disableEscapeKeyDown:nA,disablePortal:aA,disableRestoreFocus:lA,disableScrollLock:hA,hideBackdrop:pA,keepMounted:wA}),{getRootProps:RA,getBackdropProps:kA,getTransitionProps:OA,portalRef:KA,isTopModal:yA,exited:TA,hasTransition:r0}=useModal(_extends$1({},LA,{rootRef:j})),qA=_extends$1({},LA,{exited:TA}),XA=useUtilityClasses$f(qA),S0={};if(_r.props.tabIndex===void 0&&(S0.tabIndex="-1"),r0){const{onEnter:k0,onExited:uA}=OA();S0.onEnter=k0,S0.onExited=uA}const U0=(et=(bt=sA==null?void 0:sA.root)!=null?bt:Kr.Root)!=null?et:ModalRoot,C0=(At=(Et=sA==null?void 0:sA.backdrop)!=null?Et:Kr.Backdrop)!=null?At:Qt,B0=(Ut=CA==null?void 0:CA.root)!=null?Ut:jr.root,Q0=(zt=CA==null?void 0:CA.backdrop)!=null?zt:jr.backdrop,T0=useSlotProps({elementType:U0,externalSlotProps:B0,externalForwardedProps:UA,getSlotProps:RA,additionalProps:{ref:j,as:Yr},ownerState:qA,className:clsx(Yt,B0==null?void 0:B0.className,XA==null?void 0:XA.root,!qA.open&&qA.exited&&(XA==null?void 0:XA.hidden))}),F0=useSlotProps({elementType:C0,externalSlotProps:Q0,additionalProps:Pt,getSlotProps:k0=>kA(_extends$1({},k0,{onClick:uA=>{NA&&NA(uA),k0!=null&&k0.onClick&&k0.onClick(uA)}})),className:clsx(Q0==null?void 0:Q0.className,Pt==null?void 0:Pt.className,XA==null?void 0:XA.backdrop),ownerState:qA});return!wA&&!cA&&(!r0||TA)?null:jsxRuntimeExports.jsx(Portal,{ref:KA,container:vr,disablePortal:aA,children:jsxRuntimeExports.jsxs(U0,_extends$1({},T0,{children:[!pA&&Qt?jsxRuntimeExports.jsx(C0,_extends$1({},F0)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:tA,disableAutoFocus:Hn,disableRestoreFocus:lA,isEnabled:yA,open:cA,children:reactExports.cloneElement(_r,S0)})]}))})}),Modal$1=Modal,_excluded$h=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$e=o=>{const{classes:s,disableUnderline:j}=o,bt=composeClasses({root:["root",!j&&"underline"],input:["input"]},getFilledInputUtilityClass,s);return _extends$1({},s,bt)},FilledInputRoot=styled(InputBaseRoot,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[...rootOverridesResolver(o,s),!j.disableUnderline&&s.underline]}})(({theme:o,ownerState:s})=>{var j;const et=o.palette.mode==="light",bt=et?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",At=et?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",Et=et?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",Ut=et?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends$1({position:"relative",backgroundColor:o.vars?o.vars.palette.FilledInput.bg:At,borderTopLeftRadius:(o.vars||o).shape.borderRadius,borderTopRightRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),"&:hover":{backgroundColor:o.vars?o.vars.palette.FilledInput.hoverBg:Et,"@media (hover: none)":{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:At}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:At},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.disabledBg:Ut}},!s.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(j=(o.vars||o).palette[s.color||"primary"])==null?void 0:j.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}`]:{"&::before, &::after":{borderBottomColor:(o.vars||o).palette.error.main}},"&::before":{borderBottom:`1px solid ${o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`:bt}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}, .${filledInputClasses$1.error}):before`]:{borderBottom:`1px solid ${(o.vars||o).palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},s.startAdornment&&{paddingLeft:12},s.endAdornment&&{paddingRight:12},s.multiline&&_extends$1({padding:"25px 12px 8px"},s.size==="small"&&{paddingTop:21,paddingBottom:4},s.hiddenLabel&&{paddingTop:16,paddingBottom:17},s.hiddenLabel&&s.size==="small"&&{paddingTop:8,paddingBottom:9}))}),FilledInputInput=styled(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:s})=>_extends$1({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},o.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},s.size==="small"&&{paddingTop:21,paddingBottom:4},s.hiddenLabel&&{paddingTop:16,paddingBottom:17},s.startAdornment&&{paddingLeft:0},s.endAdornment&&{paddingRight:0},s.hiddenLabel&&s.size==="small"&&{paddingTop:8,paddingBottom:9},s.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),FilledInput=reactExports.forwardRef(function(s,j){var et,bt,At,Et;const Ut=useThemeProps({props:s,name:"MuiFilledInput"}),{components:zt={},componentsProps:It,fullWidth:Qt=!1,inputComponent:Pt="input",multiline:Yt=!1,slotProps:cr,slots:_r={},type:vr="text"}=Ut,Yr=_objectWithoutPropertiesLoose(Ut,_excluded$h),Kr=_extends$1({},Ut,{fullWidth:Qt,inputComponent:Pt,multiline:Yt,type:vr}),jr=useUtilityClasses$e(Ut),Hn={root:{ownerState:Kr},input:{ownerState:Kr}},tA=cr??It?deepmerge$1(Hn,cr??It):Hn,nA=(et=(bt=_r.root)!=null?bt:zt.Root)!=null?et:FilledInputRoot,aA=(At=(Et=_r.input)!=null?Et:zt.Input)!=null?At:FilledInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$1({slots:{root:nA,input:aA},componentsProps:tA,fullWidth:Qt,inputComponent:Pt,multiline:Yt,ref:j,type:vr},Yr,{classes:jr}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses(o){return generateUtilityClass$1("MuiFormControl",o)}generateUtilityClasses$1("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$g=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$d=o=>{const{classes:s,margin:j,fullWidth:et}=o,bt={root:["root",j!=="none"&&`margin${capitalize$2(j)}`,et&&"fullWidth"]};return composeClasses(bt,getFormControlUtilityClasses,s)},FormControlRoot=styled("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:o},s)=>_extends$1({},s.root,s[`margin${capitalize$2(o.margin)}`],o.fullWidth&&s.fullWidth)})(({ownerState:o})=>_extends$1({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},o.margin==="normal"&&{marginTop:16,marginBottom:8},o.margin==="dense"&&{marginTop:8,marginBottom:4},o.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiFormControl"}),{children:bt,className:At,color:Et="primary",component:Ut="div",disabled:zt=!1,error:It=!1,focused:Qt,fullWidth:Pt=!1,hiddenLabel:Yt=!1,margin:cr="none",required:_r=!1,size:vr="medium",variant:Yr="outlined"}=et,Kr=_objectWithoutPropertiesLoose(et,_excluded$g),jr=_extends$1({},et,{color:Et,component:Ut,disabled:zt,error:It,fullWidth:Pt,hiddenLabel:Yt,margin:cr,required:_r,size:vr,variant:Yr}),Hn=useUtilityClasses$d(jr),[tA,nA]=reactExports.useState(()=>{let CA=!1;return bt&&reactExports.Children.forEach(bt,sA=>{if(!isMuiElement(sA,["Input","Select"]))return;const UA=isMuiElement(sA,["Select"])?sA.props.input:sA;UA&&isAdornedStart(UA.props)&&(CA=!0)}),CA}),[aA,lA]=reactExports.useState(()=>{let CA=!1;return bt&&reactExports.Children.forEach(bt,sA=>{isMuiElement(sA,["Input","Select"])&&(isFilled(sA.props,!0)||isFilled(sA.props.inputProps,!0))&&(CA=!0)}),CA}),[hA,pA]=reactExports.useState(!1);zt&&hA&&pA(!1);const wA=Qt!==void 0&&!zt?Qt:hA;let NA;const cA=reactExports.useMemo(()=>({adornedStart:tA,setAdornedStart:nA,color:Et,disabled:zt,error:It,filled:aA,focused:wA,fullWidth:Pt,hiddenLabel:Yt,size:vr,onBlur:()=>{pA(!1)},onEmpty:()=>{lA(!1)},onFilled:()=>{lA(!0)},onFocus:()=>{pA(!0)},registerEffect:NA,required:_r,variant:Yr}),[tA,Et,zt,It,aA,wA,Pt,Yt,NA,_r,vr,Yr]);return jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:cA,children:jsxRuntimeExports.jsx(FormControlRoot,_extends$1({as:Ut,ownerState:jr,className:clsx(Hn.root,At),ref:j},Kr,{children:bt}))})}),FormControl$1=FormControl;function getFormHelperTextUtilityClasses(o){return generateUtilityClass$1("MuiFormHelperText",o)}const formHelperTextClasses=generateUtilityClasses$1("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$2;const _excluded$f=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$c=o=>{const{classes:s,contained:j,size:et,disabled:bt,error:At,filled:Et,focused:Ut,required:zt}=o,It={root:["root",bt&&"disabled",At&&"error",et&&`size${capitalize$2(et)}`,j&&"contained",Ut&&"focused",Et&&"filled",zt&&"required"]};return composeClasses(It,getFormHelperTextUtilityClasses,s)},FormHelperTextRoot=styled("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,j.size&&s[`size${capitalize$2(j.size)}`],j.contained&&s.contained,j.filled&&s.filled]}})(({theme:o,ownerState:s})=>_extends$1({color:(o.vars||o).palette.text.secondary},o.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:(o.vars||o).palette.error.main}},s.size==="small"&&{marginTop:4},s.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiFormHelperText"}),{children:bt,className:At,component:Et="p"}=et,Ut=_objectWithoutPropertiesLoose(et,_excluded$f),zt=useFormControl(),It=formControlState({props:et,muiFormControl:zt,states:["variant","size","disabled","error","filled","focused","required"]}),Qt=_extends$1({},et,{component:Et,contained:It.variant==="filled"||It.variant==="outlined",variant:It.variant,size:It.size,disabled:It.disabled,error:It.error,filled:It.filled,focused:It.focused,required:It.required}),Pt=useUtilityClasses$c(Qt);return jsxRuntimeExports.jsx(FormHelperTextRoot,_extends$1({as:Et,ownerState:Qt,className:clsx(Pt.root,At),ref:j},Ut,{children:bt===" "?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):bt}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses(o){return generateUtilityClass$1("MuiFormLabel",o)}const formLabelClasses=generateUtilityClasses$1("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$e=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$b=o=>{const{classes:s,color:j,focused:et,disabled:bt,error:At,filled:Et,required:Ut}=o,zt={root:["root",`color${capitalize$2(j)}`,bt&&"disabled",At&&"error",Et&&"filled",et&&"focused",Ut&&"required"],asterisk:["asterisk",At&&"error"]};return composeClasses(zt,getFormLabelUtilityClasses,s)},FormLabelRoot=styled("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:o},s)=>_extends$1({},s.root,o.color==="secondary"&&s.colorSecondary,o.filled&&s.filled)})(({theme:o,ownerState:s})=>_extends$1({color:(o.vars||o).palette.text.secondary},o.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:(o.vars||o).palette[s.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:(o.vars||o).palette.error.main}})),AsteriskComponent=styled("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(o,s)=>s.asterisk})(({theme:o})=>({[`&.${formLabelClasses$1.error}`]:{color:(o.vars||o).palette.error.main}})),FormLabel=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiFormLabel"}),{children:bt,className:At,component:Et="label"}=et,Ut=_objectWithoutPropertiesLoose(et,_excluded$e),zt=useFormControl(),It=formControlState({props:et,muiFormControl:zt,states:["color","required","focused","disabled","error","filled"]}),Qt=_extends$1({},et,{color:It.color||"primary",component:Et,disabled:It.disabled,error:It.error,filled:It.filled,focused:It.focused,required:It.required}),Pt=useUtilityClasses$b(Qt);return jsxRuntimeExports.jsxs(FormLabelRoot,_extends$1({as:Et,ownerState:Qt,className:clsx(Pt.root,At),ref:j},Ut,{children:[bt,It.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:Qt,"aria-hidden":!0,className:Pt.asterisk,children:[" ","*"]})]}))}),FormLabel$1=FormLabel,GridContext=reactExports.createContext(),GridContext$1=GridContext;function getGridUtilityClass(o){return generateUtilityClass$1("MuiGrid",o)}const SPACINGS=[0,1,2,3,4,5,6,7,8,9,10],DIRECTIONS=["column-reverse","column","row-reverse","row"],WRAPS=["nowrap","wrap-reverse","wrap"],GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses=generateUtilityClasses$1("MuiGrid",["root","container","item","zeroMinWidth",...SPACINGS.map(o=>`spacing-xs-${o}`),...DIRECTIONS.map(o=>`direction-xs-${o}`),...WRAPS.map(o=>`wrap-xs-${o}`),...GRID_SIZES.map(o=>`grid-xs-${o}`),...GRID_SIZES.map(o=>`grid-sm-${o}`),...GRID_SIZES.map(o=>`grid-md-${o}`),...GRID_SIZES.map(o=>`grid-lg-${o}`),...GRID_SIZES.map(o=>`grid-xl-${o}`)]),_excluded$d=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function getOffset(o){const s=parseFloat(o);return`${s}${String(o).replace(String(s),"")||"px"}`}function generateGrid({theme:o,ownerState:s}){let j;return o.breakpoints.keys.reduce((et,bt)=>{let At={};if(s[bt]&&(j=s[bt]),!j)return et;if(j===!0)At={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(j==="auto")At={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const Et=resolveBreakpointValues({values:s.columns,breakpoints:o.breakpoints.values}),Ut=typeof Et=="object"?Et[bt]:Et;if(Ut==null)return et;const zt=`${Math.round(j/Ut*1e8)/1e6}%`;let It={};if(s.container&&s.item&&s.columnSpacing!==0){const Qt=o.spacing(s.columnSpacing);if(Qt!=="0px"){const Pt=`calc(${zt} + ${getOffset(Qt)})`;It={flexBasis:Pt,maxWidth:Pt}}}At=_extends$1({flexBasis:zt,flexGrow:0,maxWidth:zt},It)}return o.breakpoints.values[bt]===0?Object.assign(et,At):et[o.breakpoints.up(bt)]=At,et},{})}function generateDirection({theme:o,ownerState:s}){const j=resolveBreakpointValues({values:s.direction,breakpoints:o.breakpoints.values});return handleBreakpoints({theme:o},j,et=>{const bt={flexDirection:et};return et.indexOf("column")===0&&(bt[`& > .${gridClasses.item}`]={maxWidth:"none"}),bt})}function extractZeroValueBreakpointKeys({breakpoints:o,values:s}){let j="";Object.keys(s).forEach(bt=>{j===""&&s[bt]!==0&&(j=bt)});const et=Object.keys(o).sort((bt,At)=>o[bt]-o[At]);return et.slice(0,et.indexOf(j))}function generateRowGap({theme:o,ownerState:s}){const{container:j,rowSpacing:et}=s;let bt={};if(j&&et!==0){const At=resolveBreakpointValues({values:et,breakpoints:o.breakpoints.values});let Et;typeof At=="object"&&(Et=extractZeroValueBreakpointKeys({breakpoints:o.breakpoints.values,values:At})),bt=handleBreakpoints({theme:o},At,(Ut,zt)=>{var It;const Qt=o.spacing(Ut);return Qt!=="0px"?{marginTop:`-${getOffset(Qt)}`,[`& > .${gridClasses.item}`]:{paddingTop:getOffset(Qt)}}:(It=Et)!=null&&It.includes(zt)?{}:{marginTop:0,[`& > .${gridClasses.item}`]:{paddingTop:0}}})}return bt}function generateColumnGap({theme:o,ownerState:s}){const{container:j,columnSpacing:et}=s;let bt={};if(j&&et!==0){const At=resolveBreakpointValues({values:et,breakpoints:o.breakpoints.values});let Et;typeof At=="object"&&(Et=extractZeroValueBreakpointKeys({breakpoints:o.breakpoints.values,values:At})),bt=handleBreakpoints({theme:o},At,(Ut,zt)=>{var It;const Qt=o.spacing(Ut);return Qt!=="0px"?{width:`calc(100% + ${getOffset(Qt)})`,marginLeft:`-${getOffset(Qt)}`,[`& > .${gridClasses.item}`]:{paddingLeft:getOffset(Qt)}}:(It=Et)!=null&&It.includes(zt)?{}:{width:"100%",marginLeft:0,[`& > .${gridClasses.item}`]:{paddingLeft:0}}})}return bt}function resolveSpacingStyles(o,s,j={}){if(!o||o<=0)return[];if(typeof o=="string"&&!Number.isNaN(Number(o))||typeof o=="number")return[j[`spacing-xs-${String(o)}`]];const et=[];return s.forEach(bt=>{const At=o[bt];Number(At)>0&&et.push(j[`spacing-${bt}-${String(At)}`])}),et}const GridRoot=styled("div",{name:"MuiGrid",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o,{container:et,direction:bt,item:At,spacing:Et,wrap:Ut,zeroMinWidth:zt,breakpoints:It}=j;let Qt=[];et&&(Qt=resolveSpacingStyles(Et,It,s));const Pt=[];return It.forEach(Yt=>{const cr=j[Yt];cr&&Pt.push(s[`grid-${Yt}-${String(cr)}`])}),[s.root,et&&s.container,At&&s.item,zt&&s.zeroMinWidth,...Qt,bt!=="row"&&s[`direction-xs-${String(bt)}`],Ut!=="wrap"&&s[`wrap-xs-${String(Ut)}`],...Pt]}})(({ownerState:o})=>_extends$1({boxSizing:"border-box"},o.container&&{display:"flex",flexWrap:"wrap",width:"100%"},o.item&&{margin:0},o.zeroMinWidth&&{minWidth:0},o.wrap!=="wrap"&&{flexWrap:o.wrap}),generateDirection,generateRowGap,generateColumnGap,generateGrid);function resolveSpacingClasses(o,s){if(!o||o<=0)return[];if(typeof o=="string"&&!Number.isNaN(Number(o))||typeof o=="number")return[`spacing-xs-${String(o)}`];const j=[];return s.forEach(et=>{const bt=o[et];if(Number(bt)>0){const At=`spacing-${et}-${String(bt)}`;j.push(At)}}),j}const useUtilityClasses$a=o=>{const{classes:s,container:j,direction:et,item:bt,spacing:At,wrap:Et,zeroMinWidth:Ut,breakpoints:zt}=o;let It=[];j&&(It=resolveSpacingClasses(At,zt));const Qt=[];zt.forEach(Yt=>{const cr=o[Yt];cr&&Qt.push(`grid-${Yt}-${String(cr)}`)});const Pt={root:["root",j&&"container",bt&&"item",Ut&&"zeroMinWidth",...It,et!=="row"&&`direction-xs-${String(et)}`,Et!=="wrap"&&`wrap-xs-${String(Et)}`,...Qt]};return composeClasses(Pt,getGridUtilityClass,s)},Grid=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiGrid"}),{breakpoints:bt}=useTheme$1(),At=extendSxProp(et),{className:Et,columns:Ut,columnSpacing:zt,component:It="div",container:Qt=!1,direction:Pt="row",item:Yt=!1,rowSpacing:cr,spacing:_r=0,wrap:vr="wrap",zeroMinWidth:Yr=!1}=At,Kr=_objectWithoutPropertiesLoose(At,_excluded$d),jr=cr||_r,Hn=zt||_r,tA=reactExports.useContext(GridContext$1),nA=Qt?Ut||12:tA,aA={},lA=_extends$1({},Kr);bt.keys.forEach(wA=>{Kr[wA]!=null&&(aA[wA]=Kr[wA],delete lA[wA])});const hA=_extends$1({},At,{columns:nA,container:Qt,direction:Pt,item:Yt,rowSpacing:jr,columnSpacing:Hn,wrap:vr,zeroMinWidth:Yr,spacing:_r},aA,{breakpoints:bt.keys}),pA=useUtilityClasses$a(hA);return jsxRuntimeExports.jsx(GridContext$1.Provider,{value:nA,children:jsxRuntimeExports.jsx(GridRoot,_extends$1({ownerState:hA,className:clsx(pA.root,Et),as:It,ref:j},lA))})}),Grid$1=Grid,_excluded$c=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(o){return`scale(${o}, ${o**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(s,j){const{addEndListener:et,appear:bt=!0,children:At,easing:Et,in:Ut,onEnter:zt,onEntered:It,onEntering:Qt,onExit:Pt,onExited:Yt,onExiting:cr,style:_r,timeout:vr="auto",TransitionComponent:Yr=Transition$1}=s,Kr=_objectWithoutPropertiesLoose(s,_excluded$c),jr=useTimeout(),Hn=reactExports.useRef(),tA=useTheme$1(),nA=reactExports.useRef(null),aA=useForkRef(nA,At.ref,j),lA=UA=>LA=>{if(UA){const RA=nA.current;LA===void 0?UA(RA):UA(RA,LA)}},hA=lA(Qt),pA=lA((UA,LA)=>{reflow(UA);const{duration:RA,delay:kA,easing:OA}=getTransitionProps({style:_r,timeout:vr,easing:Et},{mode:"enter"});let KA;vr==="auto"?(KA=tA.transitions.getAutoHeightDuration(UA.clientHeight),Hn.current=KA):KA=RA,UA.style.transition=[tA.transitions.create("opacity",{duration:KA,delay:kA}),tA.transitions.create("transform",{duration:isWebKit154?KA:KA*.666,delay:kA,easing:OA})].join(","),zt&&zt(UA,LA)}),wA=lA(It),NA=lA(cr),cA=lA(UA=>{const{duration:LA,delay:RA,easing:kA}=getTransitionProps({style:_r,timeout:vr,easing:Et},{mode:"exit"});let OA;vr==="auto"?(OA=tA.transitions.getAutoHeightDuration(UA.clientHeight),Hn.current=OA):OA=LA,UA.style.transition=[tA.transitions.create("opacity",{duration:OA,delay:RA}),tA.transitions.create("transform",{duration:isWebKit154?OA:OA*.666,delay:isWebKit154?RA:RA||OA*.333,easing:kA})].join(","),UA.style.opacity=0,UA.style.transform=getScale(.75),Pt&&Pt(UA)}),CA=lA(Yt),sA=UA=>{vr==="auto"&&jr.start(Hn.current||0,UA),et&&et(nA.current,UA)};return jsxRuntimeExports.jsx(Yr,_extends$1({appear:bt,in:Ut,nodeRef:nA,onEnter:pA,onEntered:wA,onEntering:hA,onExit:cA,onExited:CA,onExiting:NA,addEndListener:sA,timeout:vr==="auto"?null:vr},Kr,{children:(UA,LA)=>reactExports.cloneElement(At,_extends$1({style:_extends$1({opacity:0,transform:getScale(.75),visibility:UA==="exited"&&!Ut?"hidden":void 0},styles[UA],_r,At.props.style),ref:aA},LA))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow,_excluded$b=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$9=o=>{const{classes:s,disableUnderline:j}=o,bt=composeClasses({root:["root",!j&&"underline"],input:["input"]},getInputUtilityClass,s);return _extends$1({},s,bt)},InputRoot=styled(InputBaseRoot,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiInput",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[...rootOverridesResolver(o,s),!j.disableUnderline&&s.underline]}})(({theme:o,ownerState:s})=>{let et=o.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return o.vars&&(et=`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`),_extends$1({position:"relative"},s.formControl&&{"label + &":{marginTop:16}},!s.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(o.vars||o).palette[s.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses$1.error}`]:{"&::before, &::after":{borderBottomColor:(o.vars||o).palette.error.main}},"&::before":{borderBottom:`1px solid ${et}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses$1.disabled}, .${inputClasses$1.error}):before`]:{borderBottom:`2px solid ${(o.vars||o).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${et}`}},[`&.${inputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function(s,j){var et,bt,At,Et;const Ut=useThemeProps({props:s,name:"MuiInput"}),{disableUnderline:zt,components:It={},componentsProps:Qt,fullWidth:Pt=!1,inputComponent:Yt="input",multiline:cr=!1,slotProps:_r,slots:vr={},type:Yr="text"}=Ut,Kr=_objectWithoutPropertiesLoose(Ut,_excluded$b),jr=useUtilityClasses$9(Ut),tA={root:{ownerState:{disableUnderline:zt}}},nA=_r??Qt?deepmerge$1(_r??Qt,tA):tA,aA=(et=(bt=vr.root)!=null?bt:It.Root)!=null?et:InputRoot,lA=(At=(Et=vr.input)!=null?Et:It.Input)!=null?At:InputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$1({slots:{root:aA,input:lA},slotProps:nA,fullWidth:Pt,inputComponent:Yt,multiline:cr,ref:j,type:Yr},Kr,{classes:jr}))});Input.muiName="Input";const Input$1=Input;function getInputLabelUtilityClasses(o){return generateUtilityClass$1("MuiInputLabel",o)}generateUtilityClasses$1("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$a=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$8=o=>{const{classes:s,formControl:j,size:et,shrink:bt,disableAnimation:At,variant:Et,required:Ut}=o,zt={root:["root",j&&"formControl",!At&&"animated",bt&&"shrink",et&&et!=="normal"&&`size${capitalize$2(et)}`,Et],asterisk:[Ut&&"asterisk"]},It=composeClasses(zt,getInputLabelUtilityClasses,s);return _extends$1({},s,It)},InputLabelRoot=styled(FormLabel$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[{[`& .${formLabelClasses$1.asterisk}`]:s.asterisk},s.root,j.formControl&&s.formControl,j.size==="small"&&s.sizeSmall,j.shrink&&s.shrink,!j.disableAnimation&&s.animated,j.focused&&s.focused,s[j.variant]]}})(({theme:o,ownerState:s})=>_extends$1({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},s.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},s.size==="small"&&{transform:"translate(0, 17px) scale(1)"},s.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!s.disableAnimation&&{transition:o.transitions.create(["color","transform","max-width"],{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut})},s.variant==="filled"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},s.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},s.shrink&&_extends$1({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},s.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),s.variant==="outlined"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},s.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},s.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(s,j){const et=useThemeProps({name:"MuiInputLabel",props:s}),{disableAnimation:bt=!1,shrink:At,className:Et}=et,Ut=_objectWithoutPropertiesLoose(et,_excluded$a),zt=useFormControl();let It=At;typeof It>"u"&&zt&&(It=zt.filled||zt.focused||zt.adornedStart);const Qt=formControlState({props:et,muiFormControl:zt,states:["size","variant","required","focused"]}),Pt=_extends$1({},et,{disableAnimation:bt,formControl:zt,shrink:It,size:Qt.size,variant:Qt.variant,required:Qt.required,focused:Qt.focused}),Yt=useUtilityClasses$8(Pt);return jsxRuntimeExports.jsx(InputLabelRoot,_extends$1({"data-shrink":It,ownerState:Pt,ref:j,className:clsx(Yt.root,Et)},Ut,{classes:Yt}))}),InputLabel$1=InputLabel,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass(o){return generateUtilityClass$1("MuiList",o)}generateUtilityClasses$1("MuiList",["root","padding","dense","subheader"]);const _excluded$9=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$7=o=>{const{classes:s,disablePadding:j,dense:et,subheader:bt}=o;return composeClasses({root:["root",!j&&"padding",et&&"dense",bt&&"subheader"]},getListUtilityClass,s)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.root,!j.disablePadding&&s.padding,j.dense&&s.dense,j.subheader&&s.subheader]}})(({ownerState:o})=>_extends$1({listStyle:"none",margin:0,padding:0,position:"relative"},!o.disablePadding&&{paddingTop:8,paddingBottom:8},o.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiList"}),{children:bt,className:At,component:Et="ul",dense:Ut=!1,disablePadding:zt=!1,subheader:It}=et,Qt=_objectWithoutPropertiesLoose(et,_excluded$9),Pt=reactExports.useMemo(()=>({dense:Ut}),[Ut]),Yt=_extends$1({},et,{component:Et,dense:Ut,disablePadding:zt}),cr=useUtilityClasses$7(Yt);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:Pt,children:jsxRuntimeExports.jsxs(ListRoot,_extends$1({as:Et,className:clsx(cr.root,At),ref:j,ownerState:Yt},Qt,{children:[It,bt]}))})}),List$1=List,_excluded$8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem(o,s,j){return o===s?o.firstChild:s&&s.nextElementSibling?s.nextElementSibling:j?null:o.firstChild}function previousItem(o,s,j){return o===s?j?o.firstChild:o.lastChild:s&&s.previousElementSibling?s.previousElementSibling:j?null:o.lastChild}function textCriteriaMatches(o,s){if(s===void 0)return!0;let j=o.innerText;return j===void 0&&(j=o.textContent),j=j.trim().toLowerCase(),j.length===0?!1:s.repeating?j[0]===s.keys[0]:j.indexOf(s.keys.join(""))===0}function moveFocus(o,s,j,et,bt,At){let Et=!1,Ut=bt(o,s,s?j:!1);for(;Ut;){if(Ut===o.firstChild){if(Et)return!1;Et=!0}const zt=et?!1:Ut.disabled||Ut.getAttribute("aria-disabled")==="true";if(!Ut.hasAttribute("tabindex")||!textCriteriaMatches(Ut,At)||zt)Ut=bt(o,Ut,j);else return Ut.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(s,j){const{actions:et,autoFocus:bt=!1,autoFocusItem:At=!1,children:Et,className:Ut,disabledItemsFocusable:zt=!1,disableListWrap:It=!1,onKeyDown:Qt,variant:Pt="selectedMenu"}=s,Yt=_objectWithoutPropertiesLoose(s,_excluded$8),cr=reactExports.useRef(null),_r=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{bt&&cr.current.focus()},[bt]),reactExports.useImperativeHandle(et,()=>({adjustStyleForScrollbar:(Hn,tA)=>{const nA=!cr.current.style.width;if(Hn.clientHeight<cr.current.clientHeight&&nA){const aA=`${getScrollbarSize(ownerDocument(Hn))}px`;cr.current.style[tA.direction==="rtl"?"paddingLeft":"paddingRight"]=aA,cr.current.style.width=`calc(100% + ${aA})`}return cr.current}}),[]);const vr=Hn=>{const tA=cr.current,nA=Hn.key,aA=ownerDocument(tA).activeElement;if(nA==="ArrowDown")Hn.preventDefault(),moveFocus(tA,aA,It,zt,nextItem);else if(nA==="ArrowUp")Hn.preventDefault(),moveFocus(tA,aA,It,zt,previousItem);else if(nA==="Home")Hn.preventDefault(),moveFocus(tA,null,It,zt,nextItem);else if(nA==="End")Hn.preventDefault(),moveFocus(tA,null,It,zt,previousItem);else if(nA.length===1){const lA=_r.current,hA=nA.toLowerCase(),pA=performance.now();lA.keys.length>0&&(pA-lA.lastTime>500?(lA.keys=[],lA.repeating=!0,lA.previousKeyMatched=!0):lA.repeating&&hA!==lA.keys[0]&&(lA.repeating=!1)),lA.lastTime=pA,lA.keys.push(hA);const wA=aA&&!lA.repeating&&textCriteriaMatches(aA,lA);lA.previousKeyMatched&&(wA||moveFocus(tA,aA,!1,zt,nextItem,lA))?Hn.preventDefault():lA.previousKeyMatched=!1}Qt&&Qt(Hn)},Yr=useForkRef(cr,j);let Kr=-1;reactExports.Children.forEach(Et,(Hn,tA)=>{if(!reactExports.isValidElement(Hn)){Kr===tA&&(Kr+=1,Kr>=Et.length&&(Kr=-1));return}Hn.props.disabled||(Pt==="selectedMenu"&&Hn.props.selected||Kr===-1)&&(Kr=tA),Kr===tA&&(Hn.props.disabled||Hn.props.muiSkipListHighlight||Hn.type.muiSkipListHighlight)&&(Kr+=1,Kr>=Et.length&&(Kr=-1))});const jr=reactExports.Children.map(Et,(Hn,tA)=>{if(tA===Kr){const nA={};return At&&(nA.autoFocus=!0),Hn.props.tabIndex===void 0&&Pt==="selectedMenu"&&(nA.tabIndex=0),reactExports.cloneElement(Hn,nA)}return Hn});return jsxRuntimeExports.jsx(List$1,_extends$1({role:"menu",ref:Yr,className:Ut,onKeyDown:vr,tabIndex:bt?0:-1},Yt,{children:jr}))}),MenuList$1=MenuList;function getPopoverUtilityClass(o){return generateUtilityClass$1("MuiPopover",o)}generateUtilityClasses$1("MuiPopover",["root","paper"]);const _excluded$7=["onEntering"],_excluded2$2=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_excluded3=["slotProps"];function getOffsetTop(o,s){let j=0;return typeof s=="number"?j=s:s==="center"?j=o.height/2:s==="bottom"&&(j=o.height),j}function getOffsetLeft(o,s){let j=0;return typeof s=="number"?j=s:s==="center"?j=o.width/2:s==="right"&&(j=o.width),j}function getTransformOriginValue(o){return[o.horizontal,o.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function resolveAnchorEl(o){return typeof o=="function"?o():o}const useUtilityClasses$6=o=>{const{classes:s}=o;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,s)},PopoverRoot=styled(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:(o,s)=>s.root})({}),PopoverPaper=styled(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,s)=>s.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(s,j){var et,bt,At;const Et=useThemeProps({props:s,name:"MuiPopover"}),{action:Ut,anchorEl:zt,anchorOrigin:It={vertical:"top",horizontal:"left"},anchorPosition:Qt,anchorReference:Pt="anchorEl",children:Yt,className:cr,container:_r,elevation:vr=8,marginThreshold:Yr=16,open:Kr,PaperProps:jr={},slots:Hn,slotProps:tA,transformOrigin:nA={vertical:"top",horizontal:"left"},TransitionComponent:aA=Grow$1,transitionDuration:lA="auto",TransitionProps:{onEntering:hA}={},disableScrollLock:pA=!1}=Et,wA=_objectWithoutPropertiesLoose(Et.TransitionProps,_excluded$7),NA=_objectWithoutPropertiesLoose(Et,_excluded2$2),cA=(et=tA==null?void 0:tA.paper)!=null?et:jr,CA=reactExports.useRef(),sA=useForkRef(CA,cA.ref),UA=_extends$1({},Et,{anchorOrigin:It,anchorReference:Pt,elevation:vr,marginThreshold:Yr,externalPaperSlotProps:cA,transformOrigin:nA,TransitionComponent:aA,transitionDuration:lA,TransitionProps:wA}),LA=useUtilityClasses$6(UA),RA=reactExports.useCallback(()=>{if(Pt==="anchorPosition")return Qt;const k0=resolveAnchorEl(zt),ZA=(k0&&k0.nodeType===1?k0:ownerDocument(CA.current).body).getBoundingClientRect();return{top:ZA.top+getOffsetTop(ZA,It.vertical),left:ZA.left+getOffsetLeft(ZA,It.horizontal)}},[zt,It.horizontal,It.vertical,Qt,Pt]),kA=reactExports.useCallback(k0=>({vertical:getOffsetTop(k0,nA.vertical),horizontal:getOffsetLeft(k0,nA.horizontal)}),[nA.horizontal,nA.vertical]),OA=reactExports.useCallback(k0=>{const uA={width:k0.offsetWidth,height:k0.offsetHeight},ZA=kA(uA);if(Pt==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(ZA)};const jA=RA();let IA=jA.top-ZA.vertical,$A=jA.left-ZA.horizontal;const QA=IA+uA.height,n0=$A+uA.width,t0=ownerWindow(resolveAnchorEl(zt)),GA=t0.innerHeight-Yr,A0=t0.innerWidth-Yr;if(Yr!==null&&IA<Yr){const y0=IA-Yr;IA-=y0,ZA.vertical+=y0}else if(Yr!==null&&QA>GA){const y0=QA-GA;IA-=y0,ZA.vertical+=y0}if(Yr!==null&&$A<Yr){const y0=$A-Yr;$A-=y0,ZA.horizontal+=y0}else if(n0>A0){const y0=n0-A0;$A-=y0,ZA.horizontal+=y0}return{top:`${Math.round(IA)}px`,left:`${Math.round($A)}px`,transformOrigin:getTransformOriginValue(ZA)}},[zt,Pt,RA,kA,Yr]),[KA,yA]=reactExports.useState(Kr),TA=reactExports.useCallback(()=>{const k0=CA.current;if(!k0)return;const uA=OA(k0);uA.top!==null&&(k0.style.top=uA.top),uA.left!==null&&(k0.style.left=uA.left),k0.style.transformOrigin=uA.transformOrigin,yA(!0)},[OA]);reactExports.useEffect(()=>(pA&&window.addEventListener("scroll",TA),()=>window.removeEventListener("scroll",TA)),[zt,pA,TA]);const r0=(k0,uA)=>{hA&&hA(k0,uA),TA()},qA=()=>{yA(!1)};reactExports.useEffect(()=>{Kr&&TA()}),reactExports.useImperativeHandle(Ut,()=>Kr?{updatePosition:()=>{TA()}}:null,[Kr,TA]),reactExports.useEffect(()=>{if(!Kr)return;const k0=debounce$1(()=>{TA()}),uA=ownerWindow(zt);return uA.addEventListener("resize",k0),()=>{k0.clear(),uA.removeEventListener("resize",k0)}},[zt,Kr,TA]);let XA=lA;lA==="auto"&&!aA.muiSupportAuto&&(XA=void 0);const S0=_r||(zt?ownerDocument(resolveAnchorEl(zt)).body:void 0),U0=(bt=Hn==null?void 0:Hn.root)!=null?bt:PopoverRoot,C0=(At=Hn==null?void 0:Hn.paper)!=null?At:PopoverPaper,B0=useSlotProps({elementType:C0,externalSlotProps:_extends$1({},cA,{style:KA?cA.style:_extends$1({},cA.style,{opacity:0})}),additionalProps:{elevation:vr,ref:sA},ownerState:UA,className:clsx(LA.paper,cA==null?void 0:cA.className)}),Q0=useSlotProps({elementType:U0,externalSlotProps:(tA==null?void 0:tA.root)||{},externalForwardedProps:NA,additionalProps:{ref:j,slotProps:{backdrop:{invisible:!0}},container:S0,open:Kr},ownerState:UA,className:clsx(LA.root,cr)}),{slotProps:T0}=Q0,F0=_objectWithoutPropertiesLoose(Q0,_excluded3);return jsxRuntimeExports.jsx(U0,_extends$1({},F0,!isHostComponent(U0)&&{slotProps:T0,disableScrollLock:pA},{children:jsxRuntimeExports.jsx(aA,_extends$1({appear:!0,in:Kr,onEntering:r0,onExited:qA,timeout:XA},wA,{children:jsxRuntimeExports.jsx(C0,_extends$1({},B0,{children:Yt}))}))}))}),Popover$1=Popover;function getMenuUtilityClass(o){return generateUtilityClass$1("MuiMenu",o)}generateUtilityClasses$1("MuiMenu",["root","paper","list"]);const _excluded$6=["onEntering"],_excluded2$1=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$5=o=>{const{classes:s}=o;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,s)},MenuRoot=styled(Popover$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(o,s)=>s.root})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(o,s)=>s.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(o,s)=>s.list})({outline:0}),Menu=reactExports.forwardRef(function(s,j){var et,bt;const At=useThemeProps({props:s,name:"MuiMenu"}),{autoFocus:Et=!0,children:Ut,className:zt,disableAutoFocusItem:It=!1,MenuListProps:Qt={},onClose:Pt,open:Yt,PaperProps:cr={},PopoverClasses:_r,transitionDuration:vr="auto",TransitionProps:{onEntering:Yr}={},variant:Kr="selectedMenu",slots:jr={},slotProps:Hn={}}=At,tA=_objectWithoutPropertiesLoose(At.TransitionProps,_excluded$6),nA=_objectWithoutPropertiesLoose(At,_excluded2$1),aA=useTheme$1(),lA=aA.direction==="rtl",hA=_extends$1({},At,{autoFocus:Et,disableAutoFocusItem:It,MenuListProps:Qt,onEntering:Yr,PaperProps:cr,transitionDuration:vr,TransitionProps:tA,variant:Kr}),pA=useUtilityClasses$5(hA),wA=Et&&!It&&Yt,NA=reactExports.useRef(null),cA=(OA,KA)=>{NA.current&&NA.current.adjustStyleForScrollbar(OA,aA),Yr&&Yr(OA,KA)},CA=OA=>{OA.key==="Tab"&&(OA.preventDefault(),Pt&&Pt(OA,"tabKeyDown"))};let sA=-1;reactExports.Children.map(Ut,(OA,KA)=>{reactExports.isValidElement(OA)&&(OA.props.disabled||(Kr==="selectedMenu"&&OA.props.selected||sA===-1)&&(sA=KA))});const UA=(et=jr.paper)!=null?et:MenuPaper,LA=(bt=Hn.paper)!=null?bt:cr,RA=useSlotProps({elementType:jr.root,externalSlotProps:Hn.root,ownerState:hA,className:[pA.root,zt]}),kA=useSlotProps({elementType:UA,externalSlotProps:LA,ownerState:hA,className:pA.paper});return jsxRuntimeExports.jsx(MenuRoot,_extends$1({onClose:Pt,anchorOrigin:{vertical:"bottom",horizontal:lA?"right":"left"},transformOrigin:lA?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:UA,root:jr.root},slotProps:{root:RA,paper:kA},open:Yt,ref:j,transitionDuration:vr,TransitionProps:_extends$1({onEntering:cA},tA),ownerState:hA},nA,{classes:_r,children:jsxRuntimeExports.jsx(MenuMenuList,_extends$1({onKeyDown:CA,actions:NA,autoFocus:Et&&(sA===-1||It),autoFocusItem:wA,variant:Kr},Qt,{className:clsx(pA.list,Qt.className),children:Ut}))}))}),Menu$1=Menu;function getNativeSelectUtilityClasses(o){return generateUtilityClass$1("MuiNativeSelect",o)}const nativeSelectClasses=generateUtilityClasses$1("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$5=["className","disabled","error","IconComponent","inputRef","variant"],useUtilityClasses$4=o=>{const{classes:s,variant:j,disabled:et,multiple:bt,open:At,error:Et}=o,Ut={select:["select",j,et&&"disabled",bt&&"multiple",Et&&"error"],icon:["icon",`icon${capitalize$2(j)}`,At&&"iconOpen",et&&"disabled"]};return composeClasses(Ut,getNativeSelectUtilityClasses,s)},nativeSelectSelectStyles=({ownerState:o,theme:s})=>_extends$1({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends$1({},s.vars?{backgroundColor:`rgba(${s.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:s.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(s.vars||s).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},o.variant==="filled"&&{"&&&":{paddingRight:32}},o.variant==="outlined"&&{borderRadius:(s.vars||s).shape.borderRadius,"&:focus":{borderRadius:(s.vars||s).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.select,s[j.variant],j.error&&s.error,{[`&.${nativeSelectClasses$1.multiple}`]:s.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:o,theme:s})=>_extends$1({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(s.vars||s).palette.action.active,[`&.${nativeSelectClasses$1.disabled}`]:{color:(s.vars||s).palette.action.disabled}},o.open&&{transform:"rotate(180deg)"},o.variant==="filled"&&{right:7},o.variant==="outlined"&&{right:7}),NativeSelectIcon=styled("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.icon,j.variant&&s[`icon${capitalize$2(j.variant)}`],j.open&&s.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(s,j){const{className:et,disabled:bt,error:At,IconComponent:Et,inputRef:Ut,variant:zt="standard"}=s,It=_objectWithoutPropertiesLoose(s,_excluded$5),Qt=_extends$1({},s,{disabled:bt,variant:zt,error:At}),Pt=useUtilityClasses$4(Qt);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,_extends$1({ownerState:Qt,className:clsx(Pt.select,et),disabled:bt,ref:Ut||j},It)),s.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:Et,ownerState:Qt,className:Pt.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$4=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled("fieldset",{shouldForwardProp:rootShouldForwardProp})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled("legend",{shouldForwardProp:rootShouldForwardProp})(({ownerState:o,theme:s})=>_extends$1({float:"unset",width:"auto",overflow:"hidden"},!o.withLabel&&{padding:0,lineHeight:"11px",transition:s.transitions.create("width",{duration:150,easing:s.transitions.easing.easeOut})},o.withLabel&&_extends$1({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:s.transitions.create("max-width",{duration:50,easing:s.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},o.notched&&{maxWidth:"100%",transition:s.transitions.create("max-width",{duration:100,easing:s.transitions.easing.easeOut,delay:50})})));function NotchedOutline(o){const{className:s,label:j,notched:et}=o,bt=_objectWithoutPropertiesLoose(o,_excluded$4),At=j!=null&&j!=="",Et=_extends$1({},o,{notched:et,withLabel:At});return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,_extends$1({"aria-hidden":!0,className:s,ownerState:Et},bt,{children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:Et,children:At?jsxRuntimeExports.jsx("span",{children:j}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"}))})}))}const _excluded$3=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$3=o=>{const{classes:s}=o,et=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,s);return _extends$1({},s,et)},OutlinedInputRoot=styled(InputBaseRoot,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:o,ownerState:s})=>{const j=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$1({position:"relative",borderRadius:(o.vars||o).shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:j}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette[s.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette.action.disabled}},s.startAdornment&&{paddingLeft:14},s.endAdornment&&{paddingRight:14},s.multiline&&_extends$1({padding:"16.5px 14px"},s.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(o,s)=>s.notchedOutline})(({theme:o})=>{const s=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:s}}),OutlinedInputInput=styled(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:s})=>_extends$1({padding:"16.5px 14px"},!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},o.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},s.size==="small"&&{padding:"8.5px 14px"},s.multiline&&{padding:0},s.startAdornment&&{paddingLeft:0},s.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(s,j){var et,bt,At,Et,Ut;const zt=useThemeProps({props:s,name:"MuiOutlinedInput"}),{components:It={},fullWidth:Qt=!1,inputComponent:Pt="input",label:Yt,multiline:cr=!1,notched:_r,slots:vr={},type:Yr="text"}=zt,Kr=_objectWithoutPropertiesLoose(zt,_excluded$3),jr=useUtilityClasses$3(zt),Hn=useFormControl(),tA=formControlState({props:zt,muiFormControl:Hn,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),nA=_extends$1({},zt,{color:tA.color||"primary",disabled:tA.disabled,error:tA.error,focused:tA.focused,formControl:Hn,fullWidth:Qt,hiddenLabel:tA.hiddenLabel,multiline:cr,size:tA.size,type:Yr}),aA=(et=(bt=vr.root)!=null?bt:It.Root)!=null?et:OutlinedInputRoot,lA=(At=(Et=vr.input)!=null?Et:It.Input)!=null?At:OutlinedInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$1({slots:{root:aA,input:lA},renderSuffix:hA=>jsxRuntimeExports.jsx(NotchedOutlineRoot,{ownerState:nA,className:jr.notchedOutline,label:Yt!=null&&Yt!==""&&tA.required?Ut||(Ut=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Yt," ","*"]})):Yt,notched:typeof _r<"u"?_r:!!(hA.startAdornment||hA.filled||hA.focused)}),fullWidth:Qt,inputComponent:Pt,multiline:cr,ref:j,type:Yr},Kr,{classes:_extends$1({},jr,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput;function getSelectUtilityClasses(o){return generateUtilityClass$1("MuiSelect",o)}const selectClasses=generateUtilityClasses$1("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _span;const _excluded$2=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled("div",{name:"MuiSelect",slot:"Select",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[{[`&.${selectClasses.select}`]:s.select},{[`&.${selectClasses.select}`]:s[j.variant]},{[`&.${selectClasses.error}`]:s.error},{[`&.${selectClasses.multiple}`]:s.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(o,s)=>{const{ownerState:j}=o;return[s.icon,j.variant&&s[`icon${capitalize$2(j.variant)}`],j.open&&s.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled("input",{shouldForwardProp:o=>slotShouldForwardProp(o)&&o!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(o,s)=>s.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(o,s){return typeof s=="object"&&s!==null?o===s:String(o)===String(s)}function isEmpty(o){return o==null||typeof o=="string"&&!o.trim()}const useUtilityClasses$2=o=>{const{classes:s,variant:j,disabled:et,multiple:bt,open:At,error:Et}=o,Ut={select:["select",j,et&&"disabled",bt&&"multiple",Et&&"error"],icon:["icon",`icon${capitalize$2(j)}`,At&&"iconOpen",et&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(Ut,getSelectUtilityClasses,s)},SelectInput=reactExports.forwardRef(function(s,j){var et;const{"aria-describedby":bt,"aria-label":At,autoFocus:Et,autoWidth:Ut,children:zt,className:It,defaultOpen:Qt,defaultValue:Pt,disabled:Yt,displayEmpty:cr,error:_r=!1,IconComponent:vr,inputRef:Yr,labelId:Kr,MenuProps:jr={},multiple:Hn,name:tA,onBlur:nA,onChange:aA,onClose:lA,onFocus:hA,onOpen:pA,open:wA,readOnly:NA,renderValue:cA,SelectDisplayProps:CA={},tabIndex:sA,value:UA,variant:LA="standard"}=s,RA=_objectWithoutPropertiesLoose(s,_excluded$2),[kA,OA]=useControlled({controlled:UA,default:Pt,name:"Select"}),[KA,yA]=useControlled({controlled:wA,default:Qt,name:"Select"}),TA=reactExports.useRef(null),r0=reactExports.useRef(null),[qA,XA]=reactExports.useState(null),{current:S0}=reactExports.useRef(wA!=null),[U0,C0]=reactExports.useState(),B0=useForkRef(j,Yr),Q0=reactExports.useCallback(v0=>{r0.current=v0,v0&&XA(v0)},[]),T0=qA==null?void 0:qA.parentNode;reactExports.useImperativeHandle(B0,()=>({focus:()=>{r0.current.focus()},node:TA.current,value:kA}),[kA]),reactExports.useEffect(()=>{Qt&&KA&&qA&&!S0&&(C0(Ut?null:T0.clientWidth),r0.current.focus())},[qA,Ut]),reactExports.useEffect(()=>{Et&&r0.current.focus()},[Et]),reactExports.useEffect(()=>{if(!Kr)return;const v0=ownerDocument(r0.current).getElementById(Kr);if(v0){const X0=()=>{getSelection().isCollapsed&&r0.current.focus()};return v0.addEventListener("click",X0),()=>{v0.removeEventListener("click",X0)}}},[Kr]);const F0=(v0,X0)=>{v0?pA&&pA(X0):lA&&lA(X0),S0||(C0(Ut?null:T0.clientWidth),yA(v0))},k0=v0=>{v0.button===0&&(v0.preventDefault(),r0.current.focus(),F0(!0,v0))},uA=v0=>{F0(!1,v0)},ZA=reactExports.Children.toArray(zt),jA=v0=>{const X0=ZA.find(r1=>r1.props.value===v0.target.value);X0!==void 0&&(OA(X0.props.value),aA&&aA(v0,X0))},IA=v0=>X0=>{let r1;if(X0.currentTarget.hasAttribute("tabindex")){if(Hn){r1=Array.isArray(kA)?kA.slice():[];const L0=kA.indexOf(v0.props.value);L0===-1?r1.push(v0.props.value):r1.splice(L0,1)}else r1=v0.props.value;if(v0.props.onClick&&v0.props.onClick(X0),kA!==r1&&(OA(r1),aA)){const L0=X0.nativeEvent||X0,k1=new L0.constructor(L0.type,L0);Object.defineProperty(k1,"target",{writable:!0,value:{value:r1,name:tA}}),aA(k1,v0)}Hn||F0(!1,X0)}},$A=v0=>{NA||[" ","ArrowUp","ArrowDown","Enter"].indexOf(v0.key)!==-1&&(v0.preventDefault(),F0(!0,v0))},QA=qA!==null&&KA,n0=v0=>{!QA&&nA&&(Object.defineProperty(v0,"target",{writable:!0,value:{value:kA,name:tA}}),nA(v0))};delete RA["aria-invalid"];let t0,GA;const A0=[];let y0=!1;(isFilled({value:kA})||cr)&&(cA?t0=cA(kA):y0=!0);const f0=ZA.map(v0=>{if(!reactExports.isValidElement(v0))return null;let X0;if(Hn){if(!Array.isArray(kA))throw new Error(formatMuiErrorMessage$1(2));X0=kA.some(r1=>areEqualValues(r1,v0.props.value)),X0&&y0&&A0.push(v0.props.children)}else X0=areEqualValues(kA,v0.props.value),X0&&y0&&(GA=v0.props.children);return reactExports.cloneElement(v0,{"aria-selected":X0?"true":"false",onClick:IA(v0),onKeyUp:r1=>{r1.key===" "&&r1.preventDefault(),v0.props.onKeyUp&&v0.props.onKeyUp(r1)},role:"option",selected:X0,value:void 0,"data-value":v0.props.value})});y0&&(Hn?A0.length===0?t0=null:t0=A0.reduce((v0,X0,r1)=>(v0.push(X0),r1<A0.length-1&&v0.push(", "),v0),[]):t0=GA);let P0=U0;!Ut&&S0&&qA&&(P0=T0.clientWidth);let K0;typeof sA<"u"?K0=sA:K0=Yt?null:0;const $0=CA.id||(tA?`mui-component-select-${tA}`:void 0),w0=_extends$1({},s,{variant:LA,value:kA,open:QA,error:_r}),E0=useUtilityClasses$2(w0),t1=_extends$1({},jr.PaperProps,(et=jr.slotProps)==null?void 0:et.paper),O1=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,_extends$1({ref:Q0,tabIndex:K0,role:"combobox","aria-controls":O1,"aria-disabled":Yt?"true":void 0,"aria-expanded":QA?"true":"false","aria-haspopup":"listbox","aria-label":At,"aria-labelledby":[Kr,$0].filter(Boolean).join(" ")||void 0,"aria-describedby":bt,onKeyDown:$A,onMouseDown:Yt||NA?null:k0,onBlur:n0,onFocus:hA},CA,{ownerState:w0,className:clsx(CA.className,E0.select,It),id:$0,children:isEmpty(t0)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):t0})),jsxRuntimeExports.jsx(SelectNativeInput,_extends$1({"aria-invalid":_r,value:Array.isArray(kA)?kA.join(","):kA,name:tA,ref:TA,"aria-hidden":!0,onChange:jA,tabIndex:-1,disabled:Yt,className:E0.nativeInput,autoFocus:Et,ownerState:w0},RA)),jsxRuntimeExports.jsx(SelectIcon,{as:vr,className:E0.icon,ownerState:w0}),jsxRuntimeExports.jsx(Menu$1,_extends$1({id:`menu-${tA||""}`,anchorEl:T0,open:QA,onClose:uA,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},jr,{MenuListProps:_extends$1({"aria-labelledby":Kr,role:"listbox","aria-multiselectable":Hn?"true":void 0,disableListWrap:!0,id:O1},jr.MenuListProps),slotProps:_extends$1({},jr.slotProps,{paper:_extends$1({},t1,{style:_extends$1({minWidth:P0},t1!=null?t1.style:null)})}),children:f0}))]})}),SelectInput$1=SelectInput,_excluded$1=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_excluded2=["root"],useUtilityClasses$1=o=>{const{classes:s}=o;return s},styledRootConfig={name:"MuiSelect",overridesResolver:(o,s)=>s.root,shouldForwardProp:o=>rootShouldForwardProp(o)&&o!=="variant",slot:"Root"},StyledInput=styled(Input$1,styledRootConfig)(""),StyledOutlinedInput=styled(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled(FilledInput$1,styledRootConfig)(""),Select=reactExports.forwardRef(function(s,j){const et=useThemeProps({name:"MuiSelect",props:s}),{autoWidth:bt=!1,children:At,classes:Et={},className:Ut,defaultOpen:zt=!1,displayEmpty:It=!1,IconComponent:Qt=ArrowDropDownIcon,id:Pt,input:Yt,inputProps:cr,label:_r,labelId:vr,MenuProps:Yr,multiple:Kr=!1,native:jr=!1,onClose:Hn,onOpen:tA,open:nA,renderValue:aA,SelectDisplayProps:lA,variant:hA="outlined"}=et,pA=_objectWithoutPropertiesLoose(et,_excluded$1),wA=jr?NativeSelectInput$1:SelectInput$1,NA=useFormControl(),cA=formControlState({props:et,muiFormControl:NA,states:["variant","error"]}),CA=cA.variant||hA,sA=_extends$1({},et,{variant:CA,classes:Et}),UA=useUtilityClasses$1(sA),LA=_objectWithoutPropertiesLoose(UA,_excluded2),RA=Yt||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:sA}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:_r,ownerState:sA}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:sA})}[CA],kA=useForkRef(j,RA.ref);return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(RA,_extends$1({inputComponent:wA,inputProps:_extends$1({children:At,error:cA.error,IconComponent:Qt,variant:CA,type:void 0,multiple:Kr},jr?{id:Pt}:{autoWidth:bt,defaultOpen:zt,displayEmpty:It,labelId:vr,MenuProps:Yr,onClose:Hn,onOpen:tA,open:nA,renderValue:aA,SelectDisplayProps:_extends$1({id:Pt},lA)},cr,{classes:cr?deepmerge$1(LA,cr.classes):LA},Yt?Yt.props.inputProps:{})},(Kr&&jr||It)&&CA==="outlined"?{notched:!0}:{},{ref:kA,className:clsx(RA.props.className,Ut,UA.root)},!Yt&&{variant:CA},pA))})});Select.muiName="Select";const Select$1=Select;function getTextFieldUtilityClass(o){return generateUtilityClass$1("MuiTextField",o)}generateUtilityClasses$1("MuiTextField",["root"]);const _excluded=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$1,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses=o=>{const{classes:s}=o;return composeClasses({root:["root"]},getTextFieldUtilityClass,s)},TextFieldRoot=styled(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(o,s)=>s.root})({}),TextField=reactExports.forwardRef(function(s,j){const et=useThemeProps({props:s,name:"MuiTextField"}),{autoComplete:bt,autoFocus:At=!1,children:Et,className:Ut,color:zt="primary",defaultValue:It,disabled:Qt=!1,error:Pt=!1,FormHelperTextProps:Yt,fullWidth:cr=!1,helperText:_r,id:vr,InputLabelProps:Yr,inputProps:Kr,InputProps:jr,inputRef:Hn,label:tA,maxRows:nA,minRows:aA,multiline:lA=!1,name:hA,onBlur:pA,onChange:wA,onFocus:NA,placeholder:cA,required:CA=!1,rows:sA,select:UA=!1,SelectProps:LA,type:RA,value:kA,variant:OA="outlined"}=et,KA=_objectWithoutPropertiesLoose(et,_excluded),yA=_extends$1({},et,{autoFocus:At,color:zt,disabled:Qt,error:Pt,fullWidth:cr,multiline:lA,required:CA,select:UA,variant:OA}),TA=useUtilityClasses(yA),r0={};OA==="outlined"&&(Yr&&typeof Yr.shrink<"u"&&(r0.notched=Yr.shrink),r0.label=tA),UA&&((!LA||!LA.native)&&(r0.id=void 0),r0["aria-describedby"]=void 0);const qA=useId(vr),XA=_r&&qA?`${qA}-helper-text`:void 0,S0=tA&&qA?`${qA}-label`:void 0,U0=variantComponent[OA],C0=jsxRuntimeExports.jsx(U0,_extends$1({"aria-describedby":XA,autoComplete:bt,autoFocus:At,defaultValue:It,fullWidth:cr,multiline:lA,name:hA,rows:sA,maxRows:nA,minRows:aA,type:RA,value:kA,id:qA,inputRef:Hn,onBlur:pA,onChange:wA,onFocus:NA,placeholder:cA,inputProps:Kr},r0,jr));return jsxRuntimeExports.jsxs(TextFieldRoot,_extends$1({className:clsx(TA.root,Ut),disabled:Qt,error:Pt,fullWidth:cr,ref:j,required:CA,color:zt,variant:OA,ownerState:yA},KA,{children:[tA!=null&&tA!==""&&jsxRuntimeExports.jsx(InputLabel$1,_extends$1({htmlFor:qA,id:S0},Yr,{children:tA})),UA?jsxRuntimeExports.jsx(Select$1,_extends$1({"aria-describedby":XA,id:qA,labelId:S0,value:kA,input:C0},LA,{children:Et})):C0,_r&&jsxRuntimeExports.jsx(FormHelperText$1,_extends$1({id:XA},Yt,{children:_r}))]}))}),TextField$1=TextField,Header=()=>{const o=useNavigate();return jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsx(Typography$1,{variant:"h4",onClick:()=>o("/"),sx:linkSx$1,children:"Sticker Packer"})})},linkSx$1={cursor:"pointer"},Footer=()=>jsxRuntimeExports.jsxs(Box$1,{sx:rootSx$2,children:[jsxRuntimeExports.jsx(Box$1,{width:120,height:40,sx:{backgroundImage:"url(/assets/app-store-badge.svg)",backgroundSize:"contain",backgroundRepeat:"no-repeat",cursor:"pointer"},onClick:()=>{window.open("https://apps.apple.com/app/sigstick-signal-sticker-maker/id1550509104","_blank")}}),jsxRuntimeExports.jsx(Box$1,{width:140,height:40,sx:{backgroundImage:"url(/assets/google-play-badge.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",cursor:"pointer"},onClick:()=>{window.open("https://play.google.com/store/apps/details?id=com.sigstick.myapp","_blank")}})]}),rootSx$2={display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:1};let db$1,version=1;const storeName="sticker-packer";var Stores=(o=>(o.Packs="packs",o.Stickers="stickers",o))(Stores||{});const initDB=()=>new Promise(o=>{const s=indexedDB.open(storeName);s.onupgradeneeded=()=>{db$1=s.result,db$1.objectStoreNames.contains("packs")||(console.log("Creating packs store"),db$1.createObjectStore("packs",{keyPath:"id"})),db$1.objectStoreNames.contains("stickers")||(console.log("Creating stickers store"),db$1.createObjectStore("stickers",{keyPath:"id"}))},s.onsuccess=()=>{db$1=s.result,version=db$1.version,o(!0)},s.onerror=()=>{o(!1)}}),saveData=(o,s)=>new Promise(j=>{const et=indexedDB.open(storeName,version);et.onsuccess=()=>{db$1=et.result,db$1.transaction(o,"readwrite").objectStore(o).put(s),j(s)},et.onerror=()=>{var At;const bt=(At=et.error)==null?void 0:At.message;j(bt||"Unknown error")}}),getStoreData=(o,s)=>new Promise((j,et)=>{const bt=indexedDB.open(storeName);bt.onsuccess=()=>{db$1=bt.result;const Ut=db$1.transaction(o,"readonly").objectStore(o).get(s);Ut.onsuccess=()=>{Ut.result===void 0&&et(),j(Ut.result)},Ut.onerror=()=>{et()}}}),getStore=o=>new Promise(s=>{const j=indexedDB.open(storeName);j.onsuccess=()=>{db$1=j.result;const At=db$1.transaction(o,"readonly").objectStore(o).getAll();At.onsuccess=()=>{s(At.result)}}}),removeStoreData=(o,s)=>new Promise((j,et)=>{const bt=indexedDB.open(storeName);bt.onsuccess=()=>{db$1=bt.result;const Ut=db$1.transaction(o,"readonly").objectStore(o).delete(s);Ut.onsuccess=()=>{Ut.result===void 0&&j(),et()},Ut.onerror=()=>{et()}}});function iota$1(o){for(var s=new Array(o),j=0;j<o;++j)s[j]=j;return s}var iota_1=iota$1;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer_1=function(o){return o!=null&&(isBuffer$1(o)||isSlowBuffer(o)||!!o._isBuffer)};function isBuffer$1(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function isSlowBuffer(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&isBuffer$1(o.slice(0,0))}var iota=iota_1,isBuffer=isBuffer_1,hasTypedArrays=typeof Float64Array<"u";function compare1st(o,s){return o[0]-s[0]}function order(){var o=this.stride,s=new Array(o.length),j;for(j=0;j<s.length;++j)s[j]=[Math.abs(o[j]),j];s.sort(compare1st);var et=new Array(s.length);for(j=0;j<et.length;++j)et[j]=s[j][1];return et}function compileConstructor(o,s){var j=["View",s,"d",o].join("");s<0&&(j="View_Nil"+o);var et=o==="generic";if(s===-1){var bt="function "+j+"(a){this.data=a;};var proto="+j+".prototype;proto.dtype='"+o+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+j+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+j+"(a){return new "+j+"(a);}",vr=new Function(bt);return vr()}else if(s===0){var bt="function "+j+"(a,d) {this.data = a;this.offset = d};var proto="+j+".prototype;proto.dtype='"+o+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+j+"_copy() {return new "+j+"(this.data,this.offset)};proto.pick=function "+j+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+j+"_get(){return "+(et?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+j+"_set(v){return "+(et?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+j+"(a,b,c,d){return new "+j+"(a,d)}",vr=new Function("TrivialArray",bt);return vr(CACHED_CONSTRUCTORS[o][0])}var bt=["'use strict'"],At=iota(s),Et=At.map(function(Yr){return"i"+Yr}),Ut="this.offset+"+At.map(function(Yr){return"this.stride["+Yr+"]*i"+Yr}).join("+"),zt=At.map(function(Yr){return"b"+Yr}).join(","),It=At.map(function(Yr){return"c"+Yr}).join(",");bt.push("function "+j+"(a,"+zt+","+It+",d){this.data=a","this.shape=["+zt+"]","this.stride=["+It+"]","this.offset=d|0}","var proto="+j+".prototype","proto.dtype='"+o+"'","proto.dimension="+s),bt.push("Object.defineProperty(proto,'size',{get:function "+j+"_size(){return "+At.map(function(Yr){return"this.shape["+Yr+"]"}).join("*"),"}})"),s===1?bt.push("proto.order=[0]"):(bt.push("Object.defineProperty(proto,'order',{get:"),s<4?(bt.push("function "+j+"_order(){"),s===2?bt.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):s===3&&bt.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):bt.push("ORDER})")),bt.push("proto.set=function "+j+"_set("+Et.join(",")+",v){"),et?bt.push("return this.data.set("+Ut+",v)}"):bt.push("return this.data["+Ut+"]=v}"),bt.push("proto.get=function "+j+"_get("+Et.join(",")+"){"),et?bt.push("return this.data.get("+Ut+")}"):bt.push("return this.data["+Ut+"]}"),bt.push("proto.index=function "+j+"_index(",Et.join(),"){return "+Ut+"}"),bt.push("proto.hi=function "+j+"_hi("+Et.join(",")+"){return new "+j+"(this.data,"+At.map(function(Yr){return["(typeof i",Yr,"!=='number'||i",Yr,"<0)?this.shape[",Yr,"]:i",Yr,"|0"].join("")}).join(",")+","+At.map(function(Yr){return"this.stride["+Yr+"]"}).join(",")+",this.offset)}");var Qt=At.map(function(Yr){return"a"+Yr+"=this.shape["+Yr+"]"}),Pt=At.map(function(Yr){return"c"+Yr+"=this.stride["+Yr+"]"});bt.push("proto.lo=function "+j+"_lo("+Et.join(",")+"){var b=this.offset,d=0,"+Qt.join(",")+","+Pt.join(","));for(var Yt=0;Yt<s;++Yt)bt.push("if(typeof i"+Yt+"==='number'&&i"+Yt+">=0){d=i"+Yt+"|0;b+=c"+Yt+"*d;a"+Yt+"-=d}");bt.push("return new "+j+"(this.data,"+At.map(function(Yr){return"a"+Yr}).join(",")+","+At.map(function(Yr){return"c"+Yr}).join(",")+",b)}"),bt.push("proto.step=function "+j+"_step("+Et.join(",")+"){var "+At.map(function(Yr){return"a"+Yr+"=this.shape["+Yr+"]"}).join(",")+","+At.map(function(Yr){return"b"+Yr+"=this.stride["+Yr+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var Yt=0;Yt<s;++Yt)bt.push("if(typeof i"+Yt+"==='number'){d=i"+Yt+"|0;if(d<0){c+=b"+Yt+"*(a"+Yt+"-1);a"+Yt+"=ceil(-a"+Yt+"/d)}else{a"+Yt+"=ceil(a"+Yt+"/d)}b"+Yt+"*=d}");bt.push("return new "+j+"(this.data,"+At.map(function(Yr){return"a"+Yr}).join(",")+","+At.map(function(Yr){return"b"+Yr}).join(",")+",c)}");for(var cr=new Array(s),_r=new Array(s),Yt=0;Yt<s;++Yt)cr[Yt]="a[i"+Yt+"]",_r[Yt]="b[i"+Yt+"]";bt.push("proto.transpose=function "+j+"_transpose("+Et+"){"+Et.map(function(Yr,Kr){return Yr+"=("+Yr+"===undefined?"+Kr+":"+Yr+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+j+"(this.data,"+cr.join(",")+","+_r.join(",")+",this.offset)}"),bt.push("proto.pick=function "+j+"_pick("+Et+"){var a=[],b=[],c=this.offset");for(var Yt=0;Yt<s;++Yt)bt.push("if(typeof i"+Yt+"==='number'&&i"+Yt+">=0){c=(c+this.stride["+Yt+"]*i"+Yt+")|0}else{a.push(this.shape["+Yt+"]);b.push(this.stride["+Yt+"])}");bt.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),bt.push("return function construct_"+j+"(data,shape,stride,offset){return new "+j+"(data,"+At.map(function(Yr){return"shape["+Yr+"]"}).join(",")+","+At.map(function(Yr){return"stride["+Yr+"]"}).join(",")+",offset)}");var vr=new Function("CTOR_LIST","ORDER",bt.join(`
`));return vr(CACHED_CONSTRUCTORS[o],order)}function arrayDType(o){if(isBuffer(o))return"buffer";if(hasTypedArrays)switch(Object.prototype.toString.call(o)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(o)?"array":"generic"}var CACHED_CONSTRUCTORS={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function wrappedNDArrayCtor(o,s,j,et){if(o===void 0){var It=CACHED_CONSTRUCTORS.array[0];return It([])}else typeof o=="number"&&(o=[o]);s===void 0&&(s=[o.length]);var bt=s.length;if(j===void 0){j=new Array(bt);for(var At=bt-1,Et=1;At>=0;--At)j[At]=Et,Et*=s[At]}if(et===void 0){et=0;for(var At=0;At<bt;++At)j[At]<0&&(et-=(s[At]-1)*j[At])}for(var Ut=arrayDType(o),zt=CACHED_CONSTRUCTORS[Ut];zt.length<=bt+1;)zt.push(compileConstructor(Ut,zt.length-1));var It=zt[bt+1];return It(o,s,j,et)}var ndarray=wrappedNDArrayCtor;const ndarray4=getDefaultExportFromCjs(ndarray);/*!
 * ONNX Runtime Web v1.17.3
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */var Od$1=Object.create,Dn$1=Object.defineProperty,Id$1=Object.getOwnPropertyDescriptor,Sd$1=Object.getOwnPropertyNames,Ad$1=Object.getPrototypeOf,Pd$1=Object.prototype.hasOwnProperty,E$1=(o,s)=>()=>(o&&(s=o(o=0)),s),me=(o,s)=>()=>(s||o((s={exports:{}}).exports,s),s.exports),Pr$1=(o,s)=>{for(var j in s)Dn$1(o,j,{get:s[j],enumerable:!0})},Ha=(o,s,j,et)=>{if(s&&typeof s=="object"||typeof s=="function")for(let bt of Sd$1(s))!Pd$1.call(o,bt)&&bt!==j&&Dn$1(o,bt,{get:()=>s[bt],enumerable:!(et=Id$1(s,bt))||et.enumerable});return o},Er$1=(o,s,j)=>(j=o!=null?Od$1(Ad$1(o)):{},Ha(s||!o||!o.__esModule?Dn$1(j,"default",{value:o,enumerable:!0}):j,o)),or$1=o=>Ha(Dn$1({},"__esModule",{value:!0}),o),Ln,ir$1,Dr,Ed$1,Fn$1,Cn$1=E$1(()=>{Ln=new Map,ir$1=[],Dr=(o,s,j)=>{if(s&&typeof s.init=="function"&&typeof s.createInferenceSessionHandler=="function"){let et=Ln.get(o);if(et===void 0)Ln.set(o,{backend:s,priority:j});else{if(et.priority>j)return;if(et.priority===j&&et.backend!==s)throw new Error(`cannot register backend "${o}" using priority ${j}`)}if(j>=0){let bt=ir$1.indexOf(o);bt!==-1&&ir$1.splice(bt,1);for(let At=0;At<ir$1.length;At++)if(Ln.get(ir$1[At]).priority<=j){ir$1.splice(At,0,o);return}ir$1.push(o)}return}throw new TypeError("not a valid backend")},Ed$1=async o=>{let s=Ln.get(o);if(!s)return"backend not found.";if(s.initialized)return s.backend;if(s.aborted)return s.error;{let j=!!s.initPromise;try{return j||(s.initPromise=s.backend.init(o)),await s.initPromise,s.initialized=!0,s.backend}catch(et){return j||(s.error=`${et}`,s.aborted=!0),s.error}finally{delete s.initPromise}}},Fn$1=async o=>{let s=o.executionProviders||[],j=s.map(zt=>typeof zt=="string"?zt:zt.name),et=j.length===0?ir$1:j,bt,At=[],Et=new Set;for(let zt of et){let It=await Ed$1(zt);typeof It=="string"?At.push({name:zt,err:It}):(bt||(bt=It),bt===It&&Et.add(zt))}if(!bt)throw new Error(`no available backend found. ERR: ${At.map(zt=>`[${zt.name}] ${zt.err}`).join(", ")}`);for(let{name:zt,err:It}of At)j.includes(zt)&&console.warn(`removing requested execution provider "${zt}" from session options because it is not available: ${It}`);let Ut=s.filter(zt=>Et.has(typeof zt=="string"?zt:zt.name));return[bt,new Proxy(o,{get:(zt,It)=>It==="executionProviders"?Ut:Reflect.get(zt,It)})]}}),qa=E$1(()=>{Cn$1()}),ja,Ya=E$1(()=>{ja="1.17.3"}),Xa,it$1,Ho$1=E$1(()=>{Ya(),Xa="warning",it$1={wasm:{},webgl:{},webgpu:{},versions:{common:ja},set logLevel(o){if(o!==void 0){if(typeof o!="string"||["verbose","info","warning","error","fatal"].indexOf(o)===-1)throw new Error(`Unsupported logging level: ${o}`);Xa=o}},get logLevel(){return Xa}},Object.defineProperty(it$1,"logLevel",{enumerable:!0})}),Z$1,Ka=E$1(()=>{Ho$1(),Z$1=it$1}),Ja,Za,Qa=E$1(()=>{Ja=(o,s)=>{let j=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);j.width=o.dims[3],j.height=o.dims[2];let et=j.getContext("2d");if(et!=null){let bt,At;(s==null?void 0:s.tensorLayout)!==void 0&&s.tensorLayout==="NHWC"?(bt=o.dims[2],At=o.dims[3]):(bt=o.dims[3],At=o.dims[2]);let Et=(s==null?void 0:s.format)!==void 0?s.format:"RGB",Ut=s==null?void 0:s.norm,zt,It;Ut===void 0||Ut.mean===void 0?zt=[255,255,255,255]:typeof Ut.mean=="number"?zt=[Ut.mean,Ut.mean,Ut.mean,Ut.mean]:(zt=[Ut.mean[0],Ut.mean[1],Ut.mean[2],0],Ut.mean[3]!==void 0&&(zt[3]=Ut.mean[3])),Ut===void 0||Ut.bias===void 0?It=[0,0,0,0]:typeof Ut.bias=="number"?It=[Ut.bias,Ut.bias,Ut.bias,Ut.bias]:(It=[Ut.bias[0],Ut.bias[1],Ut.bias[2],0],Ut.bias[3]!==void 0&&(It[3]=Ut.bias[3]));let Qt=At*bt,Pt=0,Yt=Qt,cr=Qt*2,_r=-1;Et==="RGBA"?(Pt=0,Yt=Qt,cr=Qt*2,_r=Qt*3):Et==="RGB"?(Pt=0,Yt=Qt,cr=Qt*2):Et==="RBG"&&(Pt=0,cr=Qt,Yt=Qt*2);for(let vr=0;vr<At;vr++)for(let Yr=0;Yr<bt;Yr++){let Kr=(o.data[Pt++]-It[0])*zt[0],jr=(o.data[Yt++]-It[1])*zt[1],Hn=(o.data[cr++]-It[2])*zt[2],tA=_r===-1?255:(o.data[_r++]-It[3])*zt[3];et.fillStyle="rgba("+Kr+","+jr+","+Hn+","+tA+")",et.fillRect(Yr,vr,1,1)}if("toDataURL"in j)return j.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},Za=(o,s)=>{let j=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),et;if(j!=null){let bt,At,Et;(s==null?void 0:s.tensorLayout)!==void 0&&s.tensorLayout==="NHWC"?(bt=o.dims[2],At=o.dims[1],Et=o.dims[3]):(bt=o.dims[3],At=o.dims[2],Et=o.dims[1]);let Ut=s!==void 0&&s.format!==void 0?s.format:"RGB",zt=s==null?void 0:s.norm,It,Qt;zt===void 0||zt.mean===void 0?It=[255,255,255,255]:typeof zt.mean=="number"?It=[zt.mean,zt.mean,zt.mean,zt.mean]:(It=[zt.mean[0],zt.mean[1],zt.mean[2],255],zt.mean[3]!==void 0&&(It[3]=zt.mean[3])),zt===void 0||zt.bias===void 0?Qt=[0,0,0,0]:typeof zt.bias=="number"?Qt=[zt.bias,zt.bias,zt.bias,zt.bias]:(Qt=[zt.bias[0],zt.bias[1],zt.bias[2],0],zt.bias[3]!==void 0&&(Qt[3]=zt.bias[3]));let Pt=At*bt;if(s!==void 0&&(s.format!==void 0&&Et===4&&s.format!=="RGBA"||Et===3&&s.format!=="RGB"&&s.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let Yt=4,cr=0,_r=1,vr=2,Yr=3,Kr=0,jr=Pt,Hn=Pt*2,tA=-1;Ut==="RGBA"?(Kr=0,jr=Pt,Hn=Pt*2,tA=Pt*3):Ut==="RGB"?(Kr=0,jr=Pt,Hn=Pt*2):Ut==="RBG"&&(Kr=0,Hn=Pt,jr=Pt*2),et=j.createImageData(bt,At);for(let nA=0;nA<At*bt;cr+=Yt,_r+=Yt,vr+=Yt,Yr+=Yt,nA++)et.data[cr]=(o.data[Kr++]-Qt[0])*It[0],et.data[_r]=(o.data[jr++]-Qt[1])*It[1],et.data[vr]=(o.data[Hn++]-Qt[2])*It[2],et.data[Yr]=tA===-1?255:(o.data[tA++]-Qt[3])*It[3]}else throw new Error("Can not access image data");return et}}),qo$1,es$1,ts$1,rs$1,ns$1,os$1=E$1(()=>{$n$1(),qo$1=(o,s)=>{if(o===void 0)throw new Error("Image buffer must be defined");if(s.height===void 0||s.width===void 0)throw new Error("Image height and width must be defined");if(s.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:j,width:et}=s,bt=s.norm??{mean:255,bias:0},At,Et;typeof bt.mean=="number"?At=[bt.mean,bt.mean,bt.mean,bt.mean]:At=[bt.mean[0],bt.mean[1],bt.mean[2],bt.mean[3]??255],typeof bt.bias=="number"?Et=[bt.bias,bt.bias,bt.bias,bt.bias]:Et=[bt.bias[0],bt.bias[1],bt.bias[2],bt.bias[3]??0];let Ut=s.format!==void 0?s.format:"RGBA",zt=s.tensorFormat!==void 0&&s.tensorFormat!==void 0?s.tensorFormat:"RGB",It=j*et,Qt=zt==="RGBA"?new Float32Array(It*4):new Float32Array(It*3),Pt=4,Yt=0,cr=1,_r=2,vr=3,Yr=0,Kr=It,jr=It*2,Hn=-1;Ut==="RGB"&&(Pt=3,Yt=0,cr=1,_r=2,vr=-1),zt==="RGBA"?Hn=It*3:zt==="RBG"?(Yr=0,jr=It,Kr=It*2):zt==="BGR"&&(jr=0,Kr=It,Yr=It*2);for(let tA=0;tA<It;tA++,Yt+=Pt,_r+=Pt,cr+=Pt,vr+=Pt)Qt[Yr++]=(o[Yt]+Et[0])/At[0],Qt[Kr++]=(o[cr]+Et[1])/At[1],Qt[jr++]=(o[_r]+Et[2])/At[2],Hn!==-1&&vr!==-1&&(Qt[Hn++]=(o[vr]+Et[3])/At[3]);return zt==="RGBA"?new Xe$1("float32",Qt,[1,4,j,et]):new Xe$1("float32",Qt,[1,3,j,et])},es$1=async(o,s)=>{let j=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,et=typeof ImageData<"u"&&o instanceof ImageData,bt=typeof ImageBitmap<"u"&&o instanceof ImageBitmap,At=typeof o=="string",Et,Ut=s??{},zt=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},It=Qt=>Qt instanceof HTMLCanvasElement||Qt instanceof OffscreenCanvas?Qt.getContext("2d"):null;if(j){let Qt=zt();Qt.width=o.width,Qt.height=o.height;let Pt=It(Qt);if(Pt!=null){let Yt=o.height,cr=o.width;if(s!==void 0&&s.resizedHeight!==void 0&&s.resizedWidth!==void 0&&(Yt=s.resizedHeight,cr=s.resizedWidth),s!==void 0){if(Ut=s,s.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");Ut.tensorFormat="RGBA",Ut.height=Yt,Ut.width=cr}else Ut.tensorFormat="RGBA",Ut.height=Yt,Ut.width=cr;Pt.drawImage(o,0,0),Et=Pt.getImageData(0,0,cr,Yt).data}else throw new Error("Can not access image data")}else if(et){let Qt,Pt;if(s!==void 0&&s.resizedWidth!==void 0&&s.resizedHeight!==void 0?(Qt=s.resizedHeight,Pt=s.resizedWidth):(Qt=o.height,Pt=o.width),s!==void 0&&(Ut=s),Ut.format="RGBA",Ut.height=Qt,Ut.width=Pt,s!==void 0){let Yt=zt();Yt.width=Pt,Yt.height=Qt;let cr=It(Yt);if(cr!=null)cr.putImageData(o,0,0),Et=cr.getImageData(0,0,Pt,Qt).data;else throw new Error("Can not access image data")}else Et=o.data}else if(bt){if(s===void 0)throw new Error("Please provide image config with format for Imagebitmap");let Qt=zt();Qt.width=o.width,Qt.height=o.height;let Pt=It(Qt);if(Pt!=null){let Yt=o.height,cr=o.width;return Pt.drawImage(o,0,0,cr,Yt),Et=Pt.getImageData(0,0,cr,Yt).data,Ut.height=Yt,Ut.width=cr,qo$1(Et,Ut)}else throw new Error("Can not access image data")}else{if(At)return new Promise((Qt,Pt)=>{let Yt=zt(),cr=It(Yt);if(!o||!cr)return Pt();let _r=new Image;_r.crossOrigin="Anonymous",_r.src=o,_r.onload=()=>{Yt.width=_r.width,Yt.height=_r.height,cr.drawImage(_r,0,0,Yt.width,Yt.height);let vr=cr.getImageData(0,0,Yt.width,Yt.height);Ut.height=Yt.height,Ut.width=Yt.width,Qt(qo$1(vr.data,Ut))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(Et!==void 0)return qo$1(Et,Ut);throw new Error("Input data provided is not supported - aborted tensor creation")},ts$1=(o,s)=>{let{width:j,height:et,download:bt,dispose:At}=s,Et=[1,et,j,4];return new Xe$1({location:"texture",type:"float32",texture:o,dims:Et,download:bt,dispose:At})},rs$1=(o,s)=>{let{dataType:j,dims:et,download:bt,dispose:At}=s;return new Xe$1({location:"gpu-buffer",type:j??"float32",gpuBuffer:o,dims:et,download:bt,dispose:At})},ns$1=(o,s,j)=>new Xe$1({location:"cpu-pinned",type:o,data:s,dims:j??[s.length]})}),ar$1,tn$1,is$1,as$1,ss$1=E$1(()=>{ar$1=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),tn$1=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),is$1=!1,as$1=()=>{if(!is$1){is$1=!0;let o=typeof BigInt64Array<"u"&&BigInt64Array.from,s=typeof BigUint64Array<"u"&&BigUint64Array.from,j=typeof Float16Array<"u"&&Float16Array.from;o&&(ar$1.set("int64",BigInt64Array),tn$1.set(BigInt64Array,"int64")),s&&(ar$1.set("uint64",BigUint64Array),tn$1.set(BigUint64Array,"uint64")),j?(ar$1.set("float16",Float16Array),tn$1.set(Float16Array,"float16")):ar$1.set("float16",Uint16Array)}}}),us$1,ls$1,fs$1=E$1(()=>{$n$1(),us$1=o=>{let s=1;for(let j=0;j<o.length;j++){let et=o[j];if(typeof et!="number"||!Number.isSafeInteger(et))throw new TypeError(`dims[${j}] must be an integer, got: ${et}`);if(et<0)throw new RangeError(`dims[${j}] must be a non-negative integer, got: ${et}`);s*=et}return s},ls$1=(o,s)=>{switch(o.location){case"cpu":return new Xe$1(o.type,o.data,s);case"cpu-pinned":return new Xe$1({location:"cpu-pinned",data:o.data,type:o.type,dims:s});case"texture":return new Xe$1({location:"texture",texture:o.texture,type:o.type,dims:s});case"gpu-buffer":return new Xe$1({location:"gpu-buffer",gpuBuffer:o.gpuBuffer,type:o.type,dims:s});default:throw new Error(`tensorReshape: tensor location ${o.location} is not supported`)}}}),Xe$1,$n$1=E$1(()=>{Qa(),os$1(),ss$1(),fs$1(),Xe$1=class{constructor(o,s,j){as$1();let et,bt;if(typeof o=="object"&&"location"in o)switch(this.dataLocation=o.location,et=o.type,bt=o.dims,o.location){case"cpu-pinned":{let Et=ar$1.get(et);if(!Et)throw new TypeError(`unsupported type "${et}" to create tensor from pinned buffer`);if(!(o.data instanceof Et))throw new TypeError(`buffer should be of type ${Et.name}`);this.cpuData=o.data;break}case"texture":{if(et!=="float32")throw new TypeError(`unsupported type "${et}" to create tensor from texture`);this.gpuTextureData=o.texture,this.downloader=o.download,this.disposer=o.dispose;break}case"gpu-buffer":{if(et!=="float32"&&et!=="float16"&&et!=="int32"&&et!=="int64"&&et!=="uint32"&&et!=="uint8"&&et!=="bool")throw new TypeError(`unsupported type "${et}" to create tensor from gpu buffer`);this.gpuBufferData=o.gpuBuffer,this.downloader=o.download,this.disposer=o.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let Et,Ut;if(typeof o=="string")if(et=o,Ut=j,o==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");Et=s}else{let zt=ar$1.get(o);if(zt===void 0)throw new TypeError(`Unsupported tensor type: ${o}.`);if(Array.isArray(s)){if(o==="float16"&&zt===Uint16Array)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");o==="uint64"||o==="int64"?Et=zt.from(s,BigInt):Et=zt.from(s)}else if(s instanceof zt)Et=s;else throw new TypeError(`A ${et} tensor's data must be type of ${zt}`)}else if(Ut=s,Array.isArray(o)){if(o.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let zt=typeof o[0];if(zt==="string")et="string",Et=o;else if(zt==="boolean")et="bool",Et=Uint8Array.from(o);else throw new TypeError(`Invalid element type of data array: ${zt}.`)}else{let zt=tn$1.get(o.constructor);if(zt===void 0)throw new TypeError(`Unsupported type for tensor data: ${o.constructor}.`);et=zt,Et=o}if(Ut===void 0)Ut=[Et.length];else if(!Array.isArray(Ut))throw new TypeError("A tensor's dims must be a number array");bt=Ut,this.cpuData=Et,this.dataLocation="cpu"}let At=us$1(bt);if(this.cpuData&&At!==this.cpuData.length)throw new Error(`Tensor's size(${At}) does not match data length(${this.cpuData.length}).`);this.type=et,this.dims=bt,this.size=At}static async fromImage(o,s){return es$1(o,s)}static fromTexture(o,s){return ts$1(o,s)}static fromGpuBuffer(o,s){return rs$1(o,s)}static fromPinnedBuffer(o,s,j){return ns$1(o,s,j)}toDataURL(o){return Ja(this,o)}toImageData(o){return Za(this,o)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(o){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let s=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=s,o&&this.disposer&&(this.disposer(),this.disposer=void 0),s}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(o){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return ls$1(this,o)}}}),Re,kn$1=E$1(()=>{$n$1(),Re=Xe$1}),cs$1,ps$1,sr$1,ur,jo$1=E$1(()=>{Ho$1(),cs$1=(o,s)=>{(typeof it$1.trace>"u"?!it$1.wasm.trace:!it$1.trace)||console.timeStamp(`${o}::ORT::${s}`)},ps$1=(o,s)=>{var bt;let j=((bt=new Error().stack)==null?void 0:bt.split(/\r\n|\r|\n/g))||[],et=!1;for(let At=0;At<j.length;At++){if(et&&!j[At].includes("TRACE_FUNC")){let Et=`FUNC_${o}::${j[At].trim().split(" ")[1]}`;s&&(Et+=`::${s}`),cs$1("CPU",Et);return}j[At].includes("TRACE_FUNC")&&(et=!0)}},sr$1=o=>{(typeof it$1.trace>"u"?!it$1.wasm.trace:!it$1.trace)||ps$1("BEGIN",o)},ur=o=>{(typeof it$1.trace>"u"?!it$1.wasm.trace:!it$1.trace)||ps$1("END",o)}}),Bn$1,ds$1=E$1(()=>{Cn$1(),kn$1(),jo$1(),Bn$1=class gx{constructor(s){this.handler=s}async run(s,j,et){sr$1();let bt={},At={};if(typeof s!="object"||s===null||s instanceof Re||Array.isArray(s))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let Et=!0;if(typeof j=="object"){if(j===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(j instanceof Re)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(j)){if(j.length===0)throw new TypeError("'fetches' cannot be an empty array.");Et=!1;for(let It of j){if(typeof It!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(It)===-1)throw new RangeError(`'fetches' contains invalid output name: ${It}.`);bt[It]=null}if(typeof et=="object"&&et!==null)At=et;else if(typeof et<"u")throw new TypeError("'options' must be an object.")}else{let It=!1,Qt=Object.getOwnPropertyNames(j);for(let Pt of this.outputNames)if(Qt.indexOf(Pt)!==-1){let Yt=j[Pt];(Yt===null||Yt instanceof Re)&&(It=!0,Et=!1,bt[Pt]=Yt)}if(It){if(typeof et=="object"&&et!==null)At=et;else if(typeof et<"u")throw new TypeError("'options' must be an object.")}else At=j}}else if(typeof j<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let It of this.inputNames)if(typeof s[It]>"u")throw new Error(`input '${It}' is missing in 'feeds'.`);if(Et)for(let It of this.outputNames)bt[It]=null;let Ut=await this.handler.run(s,bt,At),zt={};for(let It in Ut)if(Object.hasOwnProperty.call(Ut,It)){let Qt=Ut[It];Qt instanceof Re?zt[It]=Qt:zt[It]=new Re(Qt.type,Qt.data,Qt.dims)}return ur(),zt}async release(){return this.handler.dispose()}static async create(s,j,et,bt){sr$1();let At,Et={};if(typeof s=="string"){if(At=s,typeof j=="object"&&j!==null)Et=j;else if(typeof j<"u")throw new TypeError("'options' must be an object.")}else if(s instanceof Uint8Array){if(At=s,typeof j=="object"&&j!==null)Et=j;else if(typeof j<"u")throw new TypeError("'options' must be an object.")}else if(s instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&s instanceof SharedArrayBuffer){let Qt=s,Pt=0,Yt=s.byteLength;if(typeof j=="object"&&j!==null)Et=j;else if(typeof j=="number"){if(Pt=j,!Number.isSafeInteger(Pt))throw new RangeError("'byteOffset' must be an integer.");if(Pt<0||Pt>=Qt.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${Qt.byteLength}).`);if(Yt=s.byteLength-Pt,typeof et=="number"){if(Yt=et,!Number.isSafeInteger(Yt))throw new RangeError("'byteLength' must be an integer.");if(Yt<=0||Pt+Yt>Qt.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${Qt.byteLength-Pt}].`);if(typeof bt=="object"&&bt!==null)Et=bt;else if(typeof bt<"u")throw new TypeError("'options' must be an object.")}else if(typeof et<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof j<"u")throw new TypeError("'options' must be an object.");At=new Uint8Array(Qt,Pt,Yt)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let[Ut,zt]=await Fn$1(Et),It=await Ut.createInferenceSessionHandler(At,zt);return ur(),new gx(It)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}}),Dd$1,hs$1=E$1(()=>{ds$1(),Dd$1=Bn$1}),ms$1=E$1(()=>{}),bs$1=E$1(()=>{}),gs$1=E$1(()=>{}),ys$1=E$1(()=>{}),Ld$1,Nn,Ts$1=E$1(()=>{Cn$1(),kn$1(),Ld$1="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Nn=class mx{constructor(s,j,et){this.handler=s,this.hasOptimizerModel=j,this.hasEvalModel=et}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(s,j){let et=s.evalModel||"",bt=s.optimizerModel||"",At=j||{},[Et,Ut]=await Fn$1(At);if(Et.createTrainingSessionHandler){let zt=await Et.createTrainingSessionHandler(s.checkpointState,s.trainModel,et,bt,Ut);return new mx(zt,!!s.optimizerModel,!!s.evalModel)}else throw new Error(Ld$1)}typeNarrowingForRunStep(s,j,et,bt,At){let Et={},Ut={};if(typeof et!="object"||et===null||et instanceof Re||Array.isArray(et))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let zt=!0;if(typeof bt=="object"){if(bt===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(bt instanceof Re)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(bt)){if(bt.length===0)throw new TypeError("'fetches' cannot be an empty array.");zt=!1;for(let It of bt){if(typeof It!="string")throw new TypeError("'fetches' must be a string array or an object.");if(j.indexOf(It)===-1)throw new RangeError(`'fetches' contains invalid output name: ${It}.`);Et[It]=null}if(typeof At=="object"&&At!==null)Ut=At;else if(typeof At<"u")throw new TypeError("'options' must be an object.")}else{let It=!1,Qt=Object.getOwnPropertyNames(bt);for(let Pt of j)if(Qt.indexOf(Pt)!==-1){let Yt=bt[Pt];(Yt===null||Yt instanceof Re)&&(It=!0,zt=!1,Et[Pt]=Yt)}if(It){if(typeof At=="object"&&At!==null)Ut=At;else if(typeof At<"u")throw new TypeError("'options' must be an object.")}else Ut=bt}}else if(typeof bt<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let It of s)if(typeof et[It]>"u")throw new Error(`input '${It}' is missing in 'feeds'.`);if(zt)for(let It of j)Et[It]=null;return[Et,Ut]}convertHandlerReturnTypeToMapOfTensors(s){let j={};for(let et in s)if(Object.hasOwnProperty.call(s,et)){let bt=s[et];bt instanceof Re?j[et]=bt:j[et]=new Re(bt.type,bt.data,bt.dims)}return j}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(s,j,et){let[bt,At]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,s,j,et),Et=await this.handler.runTrainStep(s,bt,At);return this.convertHandlerReturnTypeToMapOfTensors(Et)}async runOptimizerStep(s){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(s||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(s,j,et){if(this.hasEvalModel){let[bt,At]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,s,j,et),Et=await this.handler.runEvalStep(s,bt,At);return this.convertHandlerReturnTypeToMapOfTensors(Et)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(s=!0){return this.handler.getParametersSize(s)}async loadParametersBuffer(s,j=!0){let et=await this.getParametersSize(j);if(s.length!==4*et)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(s,j)}async getContiguousParameters(s=!0){return this.handler.getContiguousParameters(s)}async release(){return this.handler.dispose()}}}),Fd$1,xs$1=E$1(()=>{Ts$1(),Fd$1=Nn}),Yo$1={};Pr$1(Yo$1,{InferenceSession:()=>Dd$1,TRACE:()=>cs$1,TRACE_FUNC_BEGIN:()=>sr$1,TRACE_FUNC_END:()=>ur,Tensor:()=>Re,TrainingSession:()=>Fd$1,env:()=>Z$1,registerBackend:()=>Dr});var Tt=E$1(()=>{qa(),Ka(),hs$1(),kn$1(),ms$1(),bs$1(),jo$1(),gs$1(),ys$1(),xs$1()});function jt$1(o,s,j,et){if(s===void 0)return $d(o);if(j===void 0)Rn$1(o,s);else if(typeof j=="number"&&et===void 0)Rn$1(o,s);else if(typeof j=="string"&&et===void 0)Rn$1(o,j,1,s);else if(typeof j=="string"&&typeof et=="number")Rn$1(o,j,et,s);else throw new TypeError("input is valid")}function $d(o){return{verbose:jt$1.verbose.bind(null,o),info:jt$1.info.bind(null,o),warning:jt$1.warning.bind(null,o),error:jt$1.error.bind(null,o),fatal:jt$1.fatal.bind(null,o)}}function Rn$1(o,s,j,et){let bt=rn$1[et||""]||rn$1[""];vs$1[o]<vs$1[bt.minimalSeverity]||(bt.logDateTime&&(s=`${new Date().toISOString()}|${s}`),bt.logSourceLocation,Cd$1[bt.provider].log(o,s,et))}var Xo$1,Ko$1,vs$1,Cd$1,_s$1,rn$1,ce,Gn,Un,zn$1,Mn$1,at$1=E$1(()=>{Xo$1=class{log(o,s,j){}},Ko$1=class{log(o,s,j){console.log(`${this.color(o)} ${j?"\x1B[35m"+j+"\x1B[0m ":""}${s}`)}color(o){switch(o){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${o}`)}}},vs$1={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},Cd$1={none:new Xo$1,console:new Ko$1},_s$1={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},rn$1={"":_s$1},(o=>{function s(It,Qt){o("verbose",It,Qt)}o.verbose=s;function j(It,Qt){o("info",It,Qt)}o.info=j;function et(It,Qt){o("warning",It,Qt)}o.warning=et;function bt(It,Qt){o("error",It,Qt)}o.error=bt;function At(It,Qt){o("fatal",It,Qt)}o.fatal=At;function Et(It){rn$1={},Ut("",It||{})}o.reset=Et;function Ut(It,Qt){if(It==="*")Et(Qt);else{let Pt=rn$1[It]||_s$1;rn$1[It]={provider:Qt.provider||Pt.provider,minimalSeverity:Qt.minimalSeverity||Pt.minimalSeverity,logDateTime:Qt.logDateTime===void 0?Pt.logDateTime:Qt.logDateTime,logSourceLocation:Qt.logSourceLocation===void 0?Pt.logSourceLocation:Qt.logSourceLocation}}}o.set=Ut;function zt(It){let Qt={};It.logLevel&&(Qt.minimalSeverity=It.logLevel),Ut("",Qt)}o.setWithEnv=zt})(jt$1||(jt$1={})),ce=jt$1,Gn=class{constructor(o,s,j,et,bt,At){this.category=o,this.name=s,this.startTime=j,this.endCallback=et,this.timer=bt,this.ctx=At}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}},Un=class{constructor(o,s,j,et){this.category=o,this.name=s,this.startTime=j,this.endTime=et}},zn$1=class{constructor(o,s,j){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=o===void 0?1e4:o,this._flushBatchSize=s===void 0?10:s,this._flushIntervalInMilliseconds=j===void 0?5e3:j}static create(o){return o===void 0?new this:new this(o.maxNumberEvents,o.flushBatchSize,o.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=Mn$1(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(o,s,j,et){let bt=this._started?this.begin(o,s,et):void 0,At=!1,Et=j();if(Et&&typeof Et.then=="function")return At=!0,new Promise((Ut,zt)=>{Et.then(async It=>{bt&&await bt.end(),Ut(It)},async It=>{bt&&await bt.end(),zt(It)})});if(!At&&bt){let Ut=bt.end();if(Ut&&typeof Ut.then=="function")return new Promise((zt,It)=>{Ut.then(()=>{zt(Et)},Qt=>{It(Qt)})})}return Et}begin(o,s,j){if(!this._started)throw new Error("profiler is not started yet");if(j===void 0){let et=Mn$1();return this.flush(et),new Gn(o,s,et,bt=>this.endSync(bt))}else{let et=j.beginTimer();return new Gn(o,s,0,async bt=>this.end(bt),et,j)}}async end(o){let s=await o.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Un(o.category,o.name,o.startTime,s)),this.flush(s))}endSync(o){let s=Mn$1();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Un(o.category,o.name,o.startTime,s)),this.flush(s))}logOneEvent(o){ce.verbose(`Profiler.${o.category}`,`${(o.endTime-o.startTime).toFixed(2)}ms on event '${o.name}' at ${o.endTime.toFixed(2)}`)}flush(o){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||o-this._flushTime>=this._flushIntervalInMilliseconds){for(let s=this._flushPointer;this._flushPointer<s+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=Mn$1()}}get started(){return this._started}},Mn$1=typeof performance<"u"&&performance.now?()=>performance.now():Date.now});function Os$1(o,s,j){for(let et of j){let bt=et[0],At=et[1],Et=et[2],Ut=et[3],zt=et[4];if(o.opType===bt){for(let It of s)if((It.domain===At||It.domain==="ai.onnx"&&At==="")&&kd$1(It.version,Et))return{opImpl:Ut,opInit:zt}}}throw new TypeError(`cannot resolve operator '${o.opType}' with opsets: ${s.map(et=>`${et.domain||"ai.onnx"} v${et.version}`).join(", ")}`)}function kd$1(o,s){if(s.endsWith("+")){let j=Number.parseInt(s.substring(0,s.length-1),10);return!isNaN(j)&&j<=o}else if(s.split("-").length===2){let j=s.split("-"),et=Number.parseInt(j[0],10),bt=Number.parseInt(j[1],10);return!isNaN(et)&&!isNaN(bt)&&et<=o&&o<=bt}else return Number.parseInt(s,10)===o}var Is$1=E$1(()=>{}),Ss=me(o=>{o.__esModule=!0;var s=function(){function j(et){if(!et)throw new TypeError("Invalid argument; `value` has no value.");this.value=j.EMPTY,et&&j.isGuid(et)&&(this.value=et)}return j.isGuid=function(et){var bt=et.toString();return et&&(et instanceof j||j.validator.test(bt))},j.create=function(){return new j([j.gen(2),j.gen(1),j.gen(1),j.gen(1),j.gen(3)].join("-"))},j.createEmpty=function(){return new j("emptyguid")},j.parse=function(et){return new j(et)},j.raw=function(){return[j.gen(2),j.gen(1),j.gen(1),j.gen(1),j.gen(3)].join("-")},j.gen=function(et){for(var bt="",At=0;At<et;At++)bt+=((1+Math.random())*65536|0).toString(16).substring(1);return bt},j.prototype.equals=function(et){return j.isGuid(et)&&this.value===et.toString()},j.prototype.isEmpty=function(){return this.value===j.EMPTY},j.prototype.toString=function(){return this.value},j.prototype.toJSON=function(){return{value:this.value}},j.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),j.EMPTY="00000000-0000-0000-0000-000000000000",j}();o.Guid=s});function be$1(o,s,j){this.low=o|0,this.high=s|0,this.unsigned=!!j}function je(o){return(o&&o.__isLong__)===!0}function As$1(o){var s=Math.clz32(o&-o);return o?31-s:s}function lr(o,s){var j,et,bt;return s?(o>>>=0,(bt=0<=o&&o<256)&&(et=Es$1[o],et)?et:(j=le(o,0,!0),bt&&(Es$1[o]=j),j)):(o|=0,(bt=-128<=o&&o<128)&&(et=Ps$1[o],et)?et:(j=le(o,o<0?-1:0,!1),bt&&(Ps$1[o]=j),j))}function ut(o,s){if(isNaN(o))return s?Vt:xt$1;if(s){if(o<0)return Vt;if(o>=Cs$1)return Bs$1}else{if(o<=-Ls$1)return tt;if(o+1>=Ls$1)return ks$1}return o<0?ut(-o,s).neg():le(o%Fr|0,o/Fr|0,s)}function le(o,s,j){return new be$1(o,s,j)}function Qo$1(o,s,j){if(o.length===0)throw Error("empty string");if(typeof s=="number"?(j=s,s=!1):s=!!s,o==="NaN"||o==="Infinity"||o==="+Infinity"||o==="-Infinity")return s?Vt:xt$1;if(j=j||10,j<2||36<j)throw RangeError("radix");var et;if((et=o.indexOf("-"))>0)throw Error("interior hyphen");if(et===0)return Qo$1(o.substring(1),s,j).neg();for(var bt=ut(Vn(j,8)),At=xt$1,Et=0;Et<o.length;Et+=8){var Ut=Math.min(8,o.length-Et),zt=parseInt(o.substring(Et,Et+Ut),j);if(Ut<8){var It=ut(Vn(j,Ut));At=At.mul(It).add(ut(zt))}else At=At.mul(bt),At=At.add(ut(zt))}return At.unsigned=s,At}function wt(o,s){return typeof o=="number"?ut(o,s):typeof o=="string"?Qo$1(o,s):le(o.low,o.high,typeof s=="boolean"?s:o.unsigned)}var st$1,Ps$1,Es$1,Vn,Ds$1,Nd$1,Fr,Cs$1,Ls$1,Fs$1,xt$1,Vt,Lr,$s$1,Zo$1,ks$1,Bs$1,tt,$,Wt,ei=E$1(()=>{st$1=null;try{st$1=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}be$1.prototype.__isLong__,Object.defineProperty(be$1.prototype,"__isLong__",{value:!0}),be$1.isLong=je,Ps$1={},Es$1={},be$1.fromInt=lr,be$1.fromNumber=ut,be$1.fromBits=le,Vn=Math.pow,be$1.fromString=Qo$1,be$1.fromValue=wt,Ds$1=65536,Nd$1=1<<24,Fr=Ds$1*Ds$1,Cs$1=Fr*Fr,Ls$1=Cs$1/2,Fs$1=lr(Nd$1),xt$1=lr(0),be$1.ZERO=xt$1,Vt=lr(0,!0),be$1.UZERO=Vt,Lr=lr(1),be$1.ONE=Lr,$s$1=lr(1,!0),be$1.UONE=$s$1,Zo$1=lr(-1),be$1.NEG_ONE=Zo$1,ks$1=le(-1,2147483647,!1),be$1.MAX_VALUE=ks$1,Bs$1=le(-1,-1,!0),be$1.MAX_UNSIGNED_VALUE=Bs$1,tt=le(0,-2147483648,!1),be$1.MIN_VALUE=tt,$=be$1.prototype,$.toInt=function(){return this.unsigned?this.low>>>0:this.low},$.toNumber=function(){return this.unsigned?(this.high>>>0)*Fr+(this.low>>>0):this.high*Fr+(this.low>>>0)},$.toString=function(o){if(o=o||10,o<2||36<o)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(tt)){var s=ut(o),j=this.div(s),et=j.mul(s).sub(this);return j.toString(o)+et.toInt().toString(o)}else return"-"+this.neg().toString(o);for(var bt=ut(Vn(o,6),this.unsigned),At=this,Et="";;){var Ut=At.div(bt),zt=At.sub(Ut.mul(bt)).toInt()>>>0,It=zt.toString(o);if(At=Ut,At.isZero())return It+Et;for(;It.length<6;)It="0"+It;Et=""+It+Et}},$.getHighBits=function(){return this.high},$.getHighBitsUnsigned=function(){return this.high>>>0},$.getLowBits=function(){return this.low},$.getLowBitsUnsigned=function(){return this.low>>>0},$.getNumBitsAbs=function(){if(this.isNegative())return this.eq(tt)?64:this.neg().getNumBitsAbs();for(var o=this.high!=0?this.high:this.low,s=31;s>0&&!(o&1<<s);s--);return this.high!=0?s+33:s+1},$.isZero=function(){return this.high===0&&this.low===0},$.eqz=$.isZero,$.isNegative=function(){return!this.unsigned&&this.high<0},$.isPositive=function(){return this.unsigned||this.high>=0},$.isOdd=function(){return(this.low&1)===1},$.isEven=function(){return(this.low&1)===0},$.equals=function(o){return je(o)||(o=wt(o)),this.unsigned!==o.unsigned&&this.high>>>31===1&&o.high>>>31===1?!1:this.high===o.high&&this.low===o.low},$.eq=$.equals,$.notEquals=function(o){return!this.eq(o)},$.neq=$.notEquals,$.ne=$.notEquals,$.lessThan=function(o){return this.comp(o)<0},$.lt=$.lessThan,$.lessThanOrEqual=function(o){return this.comp(o)<=0},$.lte=$.lessThanOrEqual,$.le=$.lessThanOrEqual,$.greaterThan=function(o){return this.comp(o)>0},$.gt=$.greaterThan,$.greaterThanOrEqual=function(o){return this.comp(o)>=0},$.gte=$.greaterThanOrEqual,$.ge=$.greaterThanOrEqual,$.compare=function(o){if(je(o)||(o=wt(o)),this.eq(o))return 0;var s=this.isNegative(),j=o.isNegative();return s&&!j?-1:!s&&j?1:this.unsigned?o.high>>>0>this.high>>>0||o.high===this.high&&o.low>>>0>this.low>>>0?-1:1:this.sub(o).isNegative()?-1:1},$.comp=$.compare,$.negate=function(){return!this.unsigned&&this.eq(tt)?tt:this.not().add(Lr)},$.neg=$.negate,$.add=function(o){je(o)||(o=wt(o));var s=this.high>>>16,j=this.high&65535,et=this.low>>>16,bt=this.low&65535,At=o.high>>>16,Et=o.high&65535,Ut=o.low>>>16,zt=o.low&65535,It=0,Qt=0,Pt=0,Yt=0;return Yt+=bt+zt,Pt+=Yt>>>16,Yt&=65535,Pt+=et+Ut,Qt+=Pt>>>16,Pt&=65535,Qt+=j+Et,It+=Qt>>>16,Qt&=65535,It+=s+At,It&=65535,le(Pt<<16|Yt,It<<16|Qt,this.unsigned)},$.subtract=function(o){return je(o)||(o=wt(o)),this.add(o.neg())},$.sub=$.subtract,$.multiply=function(o){if(this.isZero())return this;if(je(o)||(o=wt(o)),st$1){var s=st$1.mul(this.low,this.high,o.low,o.high);return le(s,st$1.get_high(),this.unsigned)}if(o.isZero())return this.unsigned?Vt:xt$1;if(this.eq(tt))return o.isOdd()?tt:xt$1;if(o.eq(tt))return this.isOdd()?tt:xt$1;if(this.isNegative())return o.isNegative()?this.neg().mul(o.neg()):this.neg().mul(o).neg();if(o.isNegative())return this.mul(o.neg()).neg();if(this.lt(Fs$1)&&o.lt(Fs$1))return ut(this.toNumber()*o.toNumber(),this.unsigned);var j=this.high>>>16,et=this.high&65535,bt=this.low>>>16,At=this.low&65535,Et=o.high>>>16,Ut=o.high&65535,zt=o.low>>>16,It=o.low&65535,Qt=0,Pt=0,Yt=0,cr=0;return cr+=At*It,Yt+=cr>>>16,cr&=65535,Yt+=bt*It,Pt+=Yt>>>16,Yt&=65535,Yt+=At*zt,Pt+=Yt>>>16,Yt&=65535,Pt+=et*It,Qt+=Pt>>>16,Pt&=65535,Pt+=bt*zt,Qt+=Pt>>>16,Pt&=65535,Pt+=At*Ut,Qt+=Pt>>>16,Pt&=65535,Qt+=j*It+et*zt+bt*Ut+At*Et,Qt&=65535,le(Yt<<16|cr,Qt<<16|Pt,this.unsigned)},$.mul=$.multiply,$.divide=function(o){if(je(o)||(o=wt(o)),o.isZero())throw Error("division by zero");if(st$1){if(!this.unsigned&&this.high===-2147483648&&o.low===-1&&o.high===-1)return this;var s=(this.unsigned?st$1.div_u:st$1.div_s)(this.low,this.high,o.low,o.high);return le(s,st$1.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Vt:xt$1;var j,et,bt;if(this.unsigned){if(o.unsigned||(o=o.toUnsigned()),o.gt(this))return Vt;if(o.gt(this.shru(1)))return $s$1;bt=Vt}else{if(this.eq(tt)){if(o.eq(Lr)||o.eq(Zo$1))return tt;if(o.eq(tt))return Lr;var At=this.shr(1);return j=At.div(o).shl(1),j.eq(xt$1)?o.isNegative()?Lr:Zo$1:(et=this.sub(o.mul(j)),bt=j.add(et.div(o)),bt)}else if(o.eq(tt))return this.unsigned?Vt:xt$1;if(this.isNegative())return o.isNegative()?this.neg().div(o.neg()):this.neg().div(o).neg();if(o.isNegative())return this.div(o.neg()).neg();bt=xt$1}for(et=this;et.gte(o);){j=Math.max(1,Math.floor(et.toNumber()/o.toNumber()));for(var Et=Math.ceil(Math.log(j)/Math.LN2),Ut=Et<=48?1:Vn(2,Et-48),zt=ut(j),It=zt.mul(o);It.isNegative()||It.gt(et);)j-=Ut,zt=ut(j,this.unsigned),It=zt.mul(o);zt.isZero()&&(zt=Lr),bt=bt.add(zt),et=et.sub(It)}return bt},$.div=$.divide,$.modulo=function(o){if(je(o)||(o=wt(o)),st$1){var s=(this.unsigned?st$1.rem_u:st$1.rem_s)(this.low,this.high,o.low,o.high);return le(s,st$1.get_high(),this.unsigned)}return this.sub(this.div(o).mul(o))},$.mod=$.modulo,$.rem=$.modulo,$.not=function(){return le(~this.low,~this.high,this.unsigned)},$.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},$.clz=$.countLeadingZeros,$.countTrailingZeros=function(){return this.low?As$1(this.low):As$1(this.high)+32},$.ctz=$.countTrailingZeros,$.and=function(o){return je(o)||(o=wt(o)),le(this.low&o.low,this.high&o.high,this.unsigned)},$.or=function(o){return je(o)||(o=wt(o)),le(this.low|o.low,this.high|o.high,this.unsigned)},$.xor=function(o){return je(o)||(o=wt(o)),le(this.low^o.low,this.high^o.high,this.unsigned)},$.shiftLeft=function(o){return je(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?le(this.low<<o,this.high<<o|this.low>>>32-o,this.unsigned):le(0,this.low<<o-32,this.unsigned)},$.shl=$.shiftLeft,$.shiftRight=function(o){return je(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?le(this.low>>>o|this.high<<32-o,this.high>>o,this.unsigned):le(this.high>>o-32,this.high>=0?0:-1,this.unsigned)},$.shr=$.shiftRight,$.shiftRightUnsigned=function(o){return je(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?le(this.low>>>o|this.high<<32-o,this.high>>>o,this.unsigned):o===32?le(this.high,0,this.unsigned):le(this.high>>>o-32,0,this.unsigned)},$.shru=$.shiftRightUnsigned,$.shr_u=$.shiftRightUnsigned,$.rotateLeft=function(o){var s;return je(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?le(this.high,this.low,this.unsigned):o<32?(s=32-o,le(this.low<<o|this.high>>>s,this.high<<o|this.low>>>s,this.unsigned)):(o-=32,s=32-o,le(this.high<<o|this.low>>>s,this.low<<o|this.high>>>s,this.unsigned))},$.rotl=$.rotateLeft,$.rotateRight=function(o){var s;return je(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?le(this.high,this.low,this.unsigned):o<32?(s=32-o,le(this.high<<s|this.low>>>o,this.low<<s|this.high>>>o,this.unsigned)):(o-=32,s=32-o,le(this.low<<s|this.high>>>o,this.high<<s|this.low>>>o,this.unsigned))},$.rotr=$.rotateRight,$.toSigned=function(){return this.unsigned?le(this.low,this.high,!1):this},$.toUnsigned=function(){return this.unsigned?this:le(this.low,this.high,!0)},$.toBytes=function(o){return o?this.toBytesLE():this.toBytesBE()},$.toBytesLE=function(){var o=this.high,s=this.low;return[s&255,s>>>8&255,s>>>16&255,s>>>24,o&255,o>>>8&255,o>>>16&255,o>>>24]},$.toBytesBE=function(){var o=this.high,s=this.low;return[o>>>24,o>>>16&255,o>>>8&255,o&255,s>>>24,s>>>16&255,s>>>8&255,s&255]},be$1.fromBytes=function(o,s,j){return j?be$1.fromBytesLE(o,s):be$1.fromBytesBE(o,s)},be$1.fromBytesLE=function(o,s){return new be$1(o[0]|o[1]<<8|o[2]<<16|o[3]<<24,o[4]|o[5]<<8|o[6]<<16|o[7]<<24,s)},be$1.fromBytesBE=function(o,s){return new be$1(o[4]<<24|o[5]<<16|o[6]<<8|o[7],o[0]<<24|o[1]<<16|o[2]<<8|o[3],s)},Wt=be$1}),O,Wn=E$1(()=>{O={},O.Offset,O.Table,O.SIZEOF_SHORT=2,O.SIZEOF_INT=4,O.FILE_IDENTIFIER_LENGTH=4,O.SIZE_PREFIX_LENGTH=4,O.Encoding={UTF8_BYTES:1,UTF16_STRING:2},O.int32=new Int32Array(2),O.float32=new Float32Array(O.int32.buffer),O.float64=new Float64Array(O.int32.buffer),O.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,O.Long=function(o,s){this.low=o|0,this.high=s|0},O.Long.create=function(o,s){return o==0&&s==0?O.Long.ZERO:new O.Long(o,s)},O.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296},O.Long.prototype.equals=function(o){return this.low==o.low&&this.high==o.high},O.Long.ZERO=new O.Long(0,0),O.Builder=function(o){if(o)var s=o;else var s=1024;this.bb=O.ByteBuffer.allocate(s),this.space=s,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},O.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},O.Builder.prototype.forceDefaults=function(o){this.force_defaults=o},O.Builder.prototype.dataBuffer=function(){return this.bb},O.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},O.Builder.prototype.prep=function(o,s){o>this.minalign&&(this.minalign=o);for(var j=~(this.bb.capacity()-this.space+s)+1&o-1;this.space<j+o+s;){var et=this.bb.capacity();this.bb=O.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-et}this.pad(j)},O.Builder.prototype.pad=function(o){for(var s=0;s<o;s++)this.bb.writeInt8(--this.space,0)},O.Builder.prototype.writeInt8=function(o){this.bb.writeInt8(this.space-=1,o)},O.Builder.prototype.writeInt16=function(o){this.bb.writeInt16(this.space-=2,o)},O.Builder.prototype.writeInt32=function(o){this.bb.writeInt32(this.space-=4,o)},O.Builder.prototype.writeInt64=function(o){this.bb.writeInt64(this.space-=8,o)},O.Builder.prototype.writeFloat32=function(o){this.bb.writeFloat32(this.space-=4,o)},O.Builder.prototype.writeFloat64=function(o){this.bb.writeFloat64(this.space-=8,o)},O.Builder.prototype.addInt8=function(o){this.prep(1,0),this.writeInt8(o)},O.Builder.prototype.addInt16=function(o){this.prep(2,0),this.writeInt16(o)},O.Builder.prototype.addInt32=function(o){this.prep(4,0),this.writeInt32(o)},O.Builder.prototype.addInt64=function(o){this.prep(8,0),this.writeInt64(o)},O.Builder.prototype.addFloat32=function(o){this.prep(4,0),this.writeFloat32(o)},O.Builder.prototype.addFloat64=function(o){this.prep(8,0),this.writeFloat64(o)},O.Builder.prototype.addFieldInt8=function(o,s,j){(this.force_defaults||s!=j)&&(this.addInt8(s),this.slot(o))},O.Builder.prototype.addFieldInt16=function(o,s,j){(this.force_defaults||s!=j)&&(this.addInt16(s),this.slot(o))},O.Builder.prototype.addFieldInt32=function(o,s,j){(this.force_defaults||s!=j)&&(this.addInt32(s),this.slot(o))},O.Builder.prototype.addFieldInt64=function(o,s,j){(this.force_defaults||!s.equals(j))&&(this.addInt64(s),this.slot(o))},O.Builder.prototype.addFieldFloat32=function(o,s,j){(this.force_defaults||s!=j)&&(this.addFloat32(s),this.slot(o))},O.Builder.prototype.addFieldFloat64=function(o,s,j){(this.force_defaults||s!=j)&&(this.addFloat64(s),this.slot(o))},O.Builder.prototype.addFieldOffset=function(o,s,j){(this.force_defaults||s!=j)&&(this.addOffset(s),this.slot(o))},O.Builder.prototype.addFieldStruct=function(o,s,j){s!=j&&(this.nested(s),this.slot(o))},O.Builder.prototype.nested=function(o){if(o!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},O.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},O.Builder.prototype.slot=function(o){this.vtable[o]=this.offset()},O.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},O.Builder.growByteBuffer=function(o){var s=o.capacity();if(s&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var j=s<<1,et=O.ByteBuffer.allocate(j);return et.setPosition(j-s),et.bytes().set(o.bytes(),j-s),et},O.Builder.prototype.addOffset=function(o){this.prep(O.SIZEOF_INT,0),this.writeInt32(this.offset()-o+O.SIZEOF_INT)},O.Builder.prototype.startObject=function(o){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=o;for(var s=0;s<o;s++)this.vtable[s]=0;this.isNested=!0,this.object_start=this.offset()},O.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var o=this.offset(),s=this.vtable_in_use-1;s>=0&&this.vtable[s]==0;s--);for(var j=s+1;s>=0;s--)this.addInt16(this.vtable[s]!=0?o-this.vtable[s]:0);var et=2;this.addInt16(o-this.object_start);var bt=(j+et)*O.SIZEOF_SHORT;this.addInt16(bt);var At=0,Et=this.space;e:for(s=0;s<this.vtables.length;s++){var Ut=this.bb.capacity()-this.vtables[s];if(bt==this.bb.readInt16(Ut)){for(var zt=O.SIZEOF_SHORT;zt<bt;zt+=O.SIZEOF_SHORT)if(this.bb.readInt16(Et+zt)!=this.bb.readInt16(Ut+zt))continue e;At=this.vtables[s];break}}return At?(this.space=this.bb.capacity()-o,this.bb.writeInt32(this.space,At-o)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-o,this.offset()-o)),this.isNested=!1,o},O.Builder.prototype.finish=function(o,s,j){var et=j?O.SIZE_PREFIX_LENGTH:0;if(s){var bt=s;if(this.prep(this.minalign,O.SIZEOF_INT+O.FILE_IDENTIFIER_LENGTH+et),bt.length!=O.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+O.FILE_IDENTIFIER_LENGTH);for(var At=O.FILE_IDENTIFIER_LENGTH-1;At>=0;At--)this.writeInt8(bt.charCodeAt(At))}this.prep(this.minalign,O.SIZEOF_INT+et),this.addOffset(o),et&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},O.Builder.prototype.finishSizePrefixed=function(o,s){this.finish(o,s,!0)},O.Builder.prototype.requiredField=function(o,s){var j=this.bb.capacity()-o,et=j-this.bb.readInt32(j),bt=this.bb.readInt16(et+s)!=0;if(!bt)throw new Error("FlatBuffers: field "+s+" must be set")},O.Builder.prototype.startVector=function(o,s,j){this.notNested(),this.vector_num_elems=s,this.prep(O.SIZEOF_INT,o*s),this.prep(j,o*s)},O.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},O.Builder.prototype.createString=function(o){if(o instanceof Uint8Array)var s=o;else for(var s=[],j=0;j<o.length;){var et,bt=o.charCodeAt(j++);if(bt<55296||bt>=56320)et=bt;else{var At=o.charCodeAt(j++);et=(bt<<10)+At+-56613888}et<128?s.push(et):(et<2048?s.push(et>>6&31|192):(et<65536?s.push(et>>12&15|224):s.push(et>>18&7|240,et>>12&63|128),s.push(et>>6&63|128)),s.push(et&63|128))}this.addInt8(0),this.startVector(1,s.length,1),this.bb.setPosition(this.space-=s.length);for(var j=0,Et=this.space,Ut=this.bb.bytes();j<s.length;j++)Ut[Et++]=s[j];return this.endVector()},O.Builder.prototype.createLong=function(o,s){return O.Long.create(o,s)},O.ByteBuffer=function(o){this.bytes_=o,this.position_=0},O.ByteBuffer.allocate=function(o){return new O.ByteBuffer(new Uint8Array(o))},O.ByteBuffer.prototype.clear=function(){this.position_=0},O.ByteBuffer.prototype.bytes=function(){return this.bytes_},O.ByteBuffer.prototype.position=function(){return this.position_},O.ByteBuffer.prototype.setPosition=function(o){this.position_=o},O.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},O.ByteBuffer.prototype.readInt8=function(o){return this.readUint8(o)<<24>>24},O.ByteBuffer.prototype.readUint8=function(o){return this.bytes_[o]},O.ByteBuffer.prototype.readInt16=function(o){return this.readUint16(o)<<16>>16},O.ByteBuffer.prototype.readUint16=function(o){return this.bytes_[o]|this.bytes_[o+1]<<8},O.ByteBuffer.prototype.readInt32=function(o){return this.bytes_[o]|this.bytes_[o+1]<<8|this.bytes_[o+2]<<16|this.bytes_[o+3]<<24},O.ByteBuffer.prototype.readUint32=function(o){return this.readInt32(o)>>>0},O.ByteBuffer.prototype.readInt64=function(o){return new O.Long(this.readInt32(o),this.readInt32(o+4))},O.ByteBuffer.prototype.readUint64=function(o){return new O.Long(this.readUint32(o),this.readUint32(o+4))},O.ByteBuffer.prototype.readFloat32=function(o){return O.int32[0]=this.readInt32(o),O.float32[0]},O.ByteBuffer.prototype.readFloat64=function(o){return O.int32[O.isLittleEndian?0:1]=this.readInt32(o),O.int32[O.isLittleEndian?1:0]=this.readInt32(o+4),O.float64[0]},O.ByteBuffer.prototype.writeInt8=function(o,s){this.bytes_[o]=s},O.ByteBuffer.prototype.writeUint8=function(o,s){this.bytes_[o]=s},O.ByteBuffer.prototype.writeInt16=function(o,s){this.bytes_[o]=s,this.bytes_[o+1]=s>>8},O.ByteBuffer.prototype.writeUint16=function(o,s){this.bytes_[o]=s,this.bytes_[o+1]=s>>8},O.ByteBuffer.prototype.writeInt32=function(o,s){this.bytes_[o]=s,this.bytes_[o+1]=s>>8,this.bytes_[o+2]=s>>16,this.bytes_[o+3]=s>>24},O.ByteBuffer.prototype.writeUint32=function(o,s){this.bytes_[o]=s,this.bytes_[o+1]=s>>8,this.bytes_[o+2]=s>>16,this.bytes_[o+3]=s>>24},O.ByteBuffer.prototype.writeInt64=function(o,s){this.writeInt32(o,s.low),this.writeInt32(o+4,s.high)},O.ByteBuffer.prototype.writeUint64=function(o,s){this.writeUint32(o,s.low),this.writeUint32(o+4,s.high)},O.ByteBuffer.prototype.writeFloat32=function(o,s){O.float32[0]=s,this.writeInt32(o,O.int32[0])},O.ByteBuffer.prototype.writeFloat64=function(o,s){O.float64[0]=s,this.writeInt32(o,O.int32[O.isLittleEndian?0:1]),this.writeInt32(o+4,O.int32[O.isLittleEndian?1:0])},O.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+O.SIZEOF_INT+O.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var o="",s=0;s<O.FILE_IDENTIFIER_LENGTH;s++)o+=String.fromCharCode(this.readInt8(this.position_+O.SIZEOF_INT+s));return o},O.ByteBuffer.prototype.__offset=function(o,s){var j=o-this.readInt32(o);return s<this.readInt16(j)?this.readInt16(j+s):0},O.ByteBuffer.prototype.__union=function(o,s){return o.bb_pos=s+this.readInt32(s),o.bb=this,o},O.ByteBuffer.prototype.__string=function(o,s){o+=this.readInt32(o);var j=this.readInt32(o),et="",bt=0;if(o+=O.SIZEOF_INT,s===O.Encoding.UTF8_BYTES)return this.bytes_.subarray(o,o+j);for(;bt<j;){var At,Et=this.readUint8(o+bt++);if(Et<192)At=Et;else{var Ut=this.readUint8(o+bt++);if(Et<224)At=(Et&31)<<6|Ut&63;else{var zt=this.readUint8(o+bt++);if(Et<240)At=(Et&15)<<12|(Ut&63)<<6|zt&63;else{var It=this.readUint8(o+bt++);At=(Et&7)<<18|(Ut&63)<<12|(zt&63)<<6|It&63}}}At<65536?et+=String.fromCharCode(At):(At-=65536,et+=String.fromCharCode((At>>10)+55296,(At&1023)+56320))}return et},O.ByteBuffer.prototype.__indirect=function(o){return o+this.readInt32(o)},O.ByteBuffer.prototype.__vector=function(o){return o+this.readInt32(o)+O.SIZEOF_INT},O.ByteBuffer.prototype.__vector_len=function(o){return this.readInt32(o+this.readInt32(o))},O.ByteBuffer.prototype.__has_identifier=function(o){if(o.length!=O.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+O.FILE_IDENTIFIER_LENGTH);for(var s=0;s<O.FILE_IDENTIFIER_LENGTH;s++)if(o.charCodeAt(s)!=this.readInt8(this.position_+O.SIZEOF_INT+s))return!1;return!0},O.ByteBuffer.prototype.createLong=function(o,s){return O.Long.create(o,s)}}),W,nn$1=E$1(()=>{Wn(),(o=>{(s=>{(j=>{(et=>(et[et.UNDEFINED=0]="UNDEFINED",et[et.FLOAT=1]="FLOAT",et[et.INT=2]="INT",et[et.STRING=3]="STRING",et[et.TENSOR=4]="TENSOR",et[et.GRAPH=5]="GRAPH",et[et.FLOATS=6]="FLOATS",et[et.INTS=7]="INTS",et[et.STRINGS=8]="STRINGS",et[et.TENSORS=9]="TENSORS",et[et.GRAPHS=10]="GRAPHS",et[et.SPARSE_TENSOR=11]="SPARSE_TENSOR",et[et.SPARSE_TENSORS=12]="SPARSE_TENSORS"))(j.AttributeType||(j.AttributeType={}))})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{(et=>(et[et.UNKNOWN=0]="UNKNOWN",et[et.VALUE=1]="VALUE",et[et.PARAM=2]="PARAM"))(j.DimensionValueType||(j.DimensionValueType={}))})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{(et=>(et[et.UNDEFINED=0]="UNDEFINED",et[et.FLOAT=1]="FLOAT",et[et.UINT8=2]="UINT8",et[et.INT8=3]="INT8",et[et.UINT16=4]="UINT16",et[et.INT16=5]="INT16",et[et.INT32=6]="INT32",et[et.INT64=7]="INT64",et[et.STRING=8]="STRING",et[et.BOOL=9]="BOOL",et[et.FLOAT16=10]="FLOAT16",et[et.DOUBLE=11]="DOUBLE",et[et.UINT32=12]="UINT32",et[et.UINT64=13]="UINT64",et[et.COMPLEX64=14]="COMPLEX64",et[et.COMPLEX128=15]="COMPLEX128",et[et.BFLOAT16=16]="BFLOAT16",et[et.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",et[et.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",et[et.FLOAT8E5M2=19]="FLOAT8E5M2",et[et.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"))(j.TensorDataType||(j.TensorDataType={}))})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{(et=>(et[et.Primitive=0]="Primitive",et[et.Fused=1]="Fused"))(j.NodeType||(j.NodeType={}))})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{(et=>(et[et.NONE=0]="NONE",et[et.tensor_type=1]="tensor_type",et[et.sequence_type=2]="sequence_type",et[et.map_type=3]="map_type"))(j.TypeInfoValue||(j.TypeInfoValue={}))})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsShape(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsShape(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}dim(At,Et){let Ut=this.bb.__offset(this.bb_pos,4);return Ut?(Et||new o.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}dimLength(){let At=this.bb.__offset(this.bb_pos,4);return At?this.bb.__vector_len(this.bb_pos+At):0}static startShape(At){At.startObject(1)}static addDim(At,Et){At.addFieldOffset(0,Et,0)}static createDimVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startDimVector(At,Et){At.startVector(4,Et,4)}static endShape(At){return At.endObject()}static createShape(At,Et){return et.startShape(At),et.addDim(At,Et),et.endShape(At)}}j.Shape=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsDimension(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsDimension(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}value(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?(At||new o.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}denotation(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?this.bb.__string(this.bb_pos+Et,At):null}static startDimension(At){At.startObject(2)}static addValue(At,Et){At.addFieldOffset(0,Et,0)}static addDenotation(At,Et){At.addFieldOffset(1,Et,0)}static endDimension(At){return At.endObject()}static createDimension(At,Et,Ut){return et.startDimension(At),et.addValue(At,Et),et.addDenotation(At,Ut),et.endDimension(At)}}j.Dimension=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsDimensionValue(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsDimensionValue(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}dimType(){let At=this.bb.__offset(this.bb_pos,4);return At?this.bb.readInt8(this.bb_pos+At):0}dimValue(){let At=this.bb.__offset(this.bb_pos,6);return At?this.bb.readInt64(this.bb_pos+At):this.bb.createLong(0,0)}dimParam(At){let Et=this.bb.__offset(this.bb_pos,8);return Et?this.bb.__string(this.bb_pos+Et,At):null}static startDimensionValue(At){At.startObject(3)}static addDimType(At,Et){At.addFieldInt8(0,Et,0)}static addDimValue(At,Et){At.addFieldInt64(1,Et,At.createLong(0,0))}static addDimParam(At,Et){At.addFieldOffset(2,Et,0)}static endDimensionValue(At){return At.endObject()}static createDimensionValue(At,Et,Ut,zt){return et.startDimensionValue(At),et.addDimType(At,Et),et.addDimValue(At,Ut),et.addDimParam(At,zt),et.endDimensionValue(At)}}j.DimensionValue=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsTensorTypeAndShape(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsTensorTypeAndShape(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}elemType(){let At=this.bb.__offset(this.bb_pos,4);return At?this.bb.readInt32(this.bb_pos+At):0}shape(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?(At||new o.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}static startTensorTypeAndShape(At){At.startObject(2)}static addElemType(At,Et){At.addFieldInt32(0,Et,0)}static addShape(At,Et){At.addFieldOffset(1,Et,0)}static endTensorTypeAndShape(At){return At.endObject()}static createTensorTypeAndShape(At,Et,Ut){return et.startTensorTypeAndShape(At),et.addElemType(At,Et),et.addShape(At,Ut),et.endTensorTypeAndShape(At)}}j.TensorTypeAndShape=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsMapType(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsMapType(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}keyType(){let At=this.bb.__offset(this.bb_pos,4);return At?this.bb.readInt32(this.bb_pos+At):0}valueType(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?(At||new o.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}static startMapType(At){At.startObject(2)}static addKeyType(At,Et){At.addFieldInt32(0,Et,0)}static addValueType(At,Et){At.addFieldOffset(1,Et,0)}static endMapType(At){return At.endObject()}static createMapType(At,Et,Ut){return et.startMapType(At),et.addKeyType(At,Et),et.addValueType(At,Ut),et.endMapType(At)}}j.MapType=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsSequenceType(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsSequenceType(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}elemType(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?(At||new o.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}static startSequenceType(At){At.startObject(1)}static addElemType(At,Et){At.addFieldOffset(0,Et,0)}static endSequenceType(At){return At.endObject()}static createSequenceType(At,Et){return et.startSequenceType(At),et.addElemType(At,Et),et.endSequenceType(At)}}j.SequenceType=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(At,Et,Ut,zt){return At.prep(4,12),At.writeInt32(zt),At.writeInt32(Ut),At.writeInt32(Et),At.offset()}}j.EdgeEnd=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsNodeEdge(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsNodeEdge(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}nodeIndex(){let At=this.bb.__offset(this.bb_pos,4);return At?this.bb.readUint32(this.bb_pos+At):0}inputEdges(At,Et){let Ut=this.bb.__offset(this.bb_pos,6);return Ut?(Et||new o.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+Ut)+At*12,this.bb):null}inputEdgesLength(){let At=this.bb.__offset(this.bb_pos,6);return At?this.bb.__vector_len(this.bb_pos+At):0}outputEdges(At,Et){let Ut=this.bb.__offset(this.bb_pos,8);return Ut?(Et||new o.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+Ut)+At*12,this.bb):null}outputEdgesLength(){let At=this.bb.__offset(this.bb_pos,8);return At?this.bb.__vector_len(this.bb_pos+At):0}static startNodeEdge(At){At.startObject(3)}static addNodeIndex(At,Et){At.addFieldInt32(0,Et,0)}static addInputEdges(At,Et){At.addFieldOffset(1,Et,0)}static startInputEdgesVector(At,Et){At.startVector(12,Et,4)}static addOutputEdges(At,Et){At.addFieldOffset(2,Et,0)}static startOutputEdgesVector(At,Et){At.startVector(12,Et,4)}static endNodeEdge(At){return At.endObject()}static createNodeEdge(At,Et,Ut,zt){return et.startNodeEdge(At),et.addNodeIndex(At,Et),et.addInputEdges(At,Ut),et.addOutputEdges(At,zt),et.endNodeEdge(At)}}j.NodeEdge=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsNode(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsNode(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}name(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?this.bb.__string(this.bb_pos+Et,At):null}docString(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?this.bb.__string(this.bb_pos+Et,At):null}domain(At){let Et=this.bb.__offset(this.bb_pos,8);return Et?this.bb.__string(this.bb_pos+Et,At):null}sinceVersion(){let At=this.bb.__offset(this.bb_pos,10);return At?this.bb.readInt32(this.bb_pos+At):0}index(){let At=this.bb.__offset(this.bb_pos,12);return At?this.bb.readUint32(this.bb_pos+At):0}opType(At){let Et=this.bb.__offset(this.bb_pos,14);return Et?this.bb.__string(this.bb_pos+Et,At):null}type(){let At=this.bb.__offset(this.bb_pos,16);return At?this.bb.readInt32(this.bb_pos+At):0}executionProviderType(At){let Et=this.bb.__offset(this.bb_pos,18);return Et?this.bb.__string(this.bb_pos+Et,At):null}inputs(At,Et){let Ut=this.bb.__offset(this.bb_pos,20);return Ut?this.bb.__string(this.bb.__vector(this.bb_pos+Ut)+At*4,Et):null}inputsLength(){let At=this.bb.__offset(this.bb_pos,20);return At?this.bb.__vector_len(this.bb_pos+At):0}outputs(At,Et){let Ut=this.bb.__offset(this.bb_pos,22);return Ut?this.bb.__string(this.bb.__vector(this.bb_pos+Ut)+At*4,Et):null}outputsLength(){let At=this.bb.__offset(this.bb_pos,22);return At?this.bb.__vector_len(this.bb_pos+At):0}attributes(At,Et){let Ut=this.bb.__offset(this.bb_pos,24);return Ut?(Et||new o.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}attributesLength(){let At=this.bb.__offset(this.bb_pos,24);return At?this.bb.__vector_len(this.bb_pos+At):0}inputArgCounts(At){let Et=this.bb.__offset(this.bb_pos,26);return Et?this.bb.readInt32(this.bb.__vector(this.bb_pos+Et)+At*4):0}inputArgCountsLength(){let At=this.bb.__offset(this.bb_pos,26);return At?this.bb.__vector_len(this.bb_pos+At):0}inputArgCountsArray(){let At=this.bb.__offset(this.bb_pos,26);return At?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+At),this.bb.__vector_len(this.bb_pos+At)):null}implicitInputs(At,Et){let Ut=this.bb.__offset(this.bb_pos,28);return Ut?this.bb.__string(this.bb.__vector(this.bb_pos+Ut)+At*4,Et):null}implicitInputsLength(){let At=this.bb.__offset(this.bb_pos,28);return At?this.bb.__vector_len(this.bb_pos+At):0}static startNode(At){At.startObject(13)}static addName(At,Et){At.addFieldOffset(0,Et,0)}static addDocString(At,Et){At.addFieldOffset(1,Et,0)}static addDomain(At,Et){At.addFieldOffset(2,Et,0)}static addSinceVersion(At,Et){At.addFieldInt32(3,Et,0)}static addIndex(At,Et){At.addFieldInt32(4,Et,0)}static addOpType(At,Et){At.addFieldOffset(5,Et,0)}static addType(At,Et){At.addFieldInt32(6,Et,0)}static addExecutionProviderType(At,Et){At.addFieldOffset(7,Et,0)}static addInputs(At,Et){At.addFieldOffset(8,Et,0)}static createInputsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startInputsVector(At,Et){At.startVector(4,Et,4)}static addOutputs(At,Et){At.addFieldOffset(9,Et,0)}static createOutputsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startOutputsVector(At,Et){At.startVector(4,Et,4)}static addAttributes(At,Et){At.addFieldOffset(10,Et,0)}static createAttributesVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startAttributesVector(At,Et){At.startVector(4,Et,4)}static addInputArgCounts(At,Et){At.addFieldOffset(11,Et,0)}static createInputArgCountsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addInt32(Et[Ut]);return At.endVector()}static startInputArgCountsVector(At,Et){At.startVector(4,Et,4)}static addImplicitInputs(At,Et){At.addFieldOffset(12,Et,0)}static createImplicitInputsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startImplicitInputsVector(At,Et){At.startVector(4,Et,4)}static endNode(At){return At.endObject()}static createNode(At,Et,Ut,zt,It,Qt,Pt,Yt,cr,_r,vr,Yr,Kr,jr){return et.startNode(At),et.addName(At,Et),et.addDocString(At,Ut),et.addDomain(At,zt),et.addSinceVersion(At,It),et.addIndex(At,Qt),et.addOpType(At,Pt),et.addType(At,Yt),et.addExecutionProviderType(At,cr),et.addInputs(At,_r),et.addOutputs(At,vr),et.addAttributes(At,Yr),et.addInputArgCounts(At,Kr),et.addImplicitInputs(At,jr),et.endNode(At)}}j.Node=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsValueInfo(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsValueInfo(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}name(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?this.bb.__string(this.bb_pos+Et,At):null}docString(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?this.bb.__string(this.bb_pos+Et,At):null}type(At){let Et=this.bb.__offset(this.bb_pos,8);return Et?(At||new o.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}static startValueInfo(At){At.startObject(3)}static addName(At,Et){At.addFieldOffset(0,Et,0)}static addDocString(At,Et){At.addFieldOffset(1,Et,0)}static addType(At,Et){At.addFieldOffset(2,Et,0)}static endValueInfo(At){return At.endObject()}static createValueInfo(At,Et,Ut,zt){return et.startValueInfo(At),et.addName(At,Et),et.addDocString(At,Ut),et.addType(At,zt),et.endValueInfo(At)}}j.ValueInfo=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsTypeInfo(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsTypeInfo(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}denotation(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?this.bb.__string(this.bb_pos+Et,At):null}valueType(){let At=this.bb.__offset(this.bb_pos,6);return At?this.bb.readUint8(this.bb_pos+At):0}value(At){let Et=this.bb.__offset(this.bb_pos,8);return Et?this.bb.__union(At,this.bb_pos+Et):null}static startTypeInfo(At){At.startObject(3)}static addDenotation(At,Et){At.addFieldOffset(0,Et,0)}static addValueType(At,Et){At.addFieldInt8(1,Et,0)}static addValue(At,Et){At.addFieldOffset(2,Et,0)}static endTypeInfo(At){return At.endObject()}static createTypeInfo(At,Et,Ut,zt){return et.startTypeInfo(At),et.addDenotation(At,Et),et.addValueType(At,Ut),et.addValue(At,zt),et.endTypeInfo(At)}}j.TypeInfo=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsOperatorSetId(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsOperatorSetId(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}domain(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?this.bb.__string(this.bb_pos+Et,At):null}version(){let At=this.bb.__offset(this.bb_pos,6);return At?this.bb.readInt64(this.bb_pos+At):this.bb.createLong(0,0)}static startOperatorSetId(At){At.startObject(2)}static addDomain(At,Et){At.addFieldOffset(0,Et,0)}static addVersion(At,Et){At.addFieldInt64(1,Et,At.createLong(0,0))}static endOperatorSetId(At){return At.endObject()}static createOperatorSetId(At,Et,Ut){return et.startOperatorSetId(At),et.addDomain(At,Et),et.addVersion(At,Ut),et.endOperatorSetId(At)}}j.OperatorSetId=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsTensor(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsTensor(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}name(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?this.bb.__string(this.bb_pos+Et,At):null}docString(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?this.bb.__string(this.bb_pos+Et,At):null}dims(At){let Et=this.bb.__offset(this.bb_pos,8);return Et?this.bb.readInt64(this.bb.__vector(this.bb_pos+Et)+At*8):this.bb.createLong(0,0)}dimsLength(){let At=this.bb.__offset(this.bb_pos,8);return At?this.bb.__vector_len(this.bb_pos+At):0}dataType(){let At=this.bb.__offset(this.bb_pos,10);return At?this.bb.readInt32(this.bb_pos+At):0}rawData(At){let Et=this.bb.__offset(this.bb_pos,12);return Et?this.bb.readUint8(this.bb.__vector(this.bb_pos+Et)+At):0}rawDataLength(){let At=this.bb.__offset(this.bb_pos,12);return At?this.bb.__vector_len(this.bb_pos+At):0}rawDataArray(){let At=this.bb.__offset(this.bb_pos,12);return At?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+At),this.bb.__vector_len(this.bb_pos+At)):null}stringData(At,Et){let Ut=this.bb.__offset(this.bb_pos,14);return Ut?this.bb.__string(this.bb.__vector(this.bb_pos+Ut)+At*4,Et):null}stringDataLength(){let At=this.bb.__offset(this.bb_pos,14);return At?this.bb.__vector_len(this.bb_pos+At):0}static startTensor(At){At.startObject(6)}static addName(At,Et){At.addFieldOffset(0,Et,0)}static addDocString(At,Et){At.addFieldOffset(1,Et,0)}static addDims(At,Et){At.addFieldOffset(2,Et,0)}static createDimsVector(At,Et){At.startVector(8,Et.length,8);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addInt64(Et[Ut]);return At.endVector()}static startDimsVector(At,Et){At.startVector(8,Et,8)}static addDataType(At,Et){At.addFieldInt32(3,Et,0)}static addRawData(At,Et){At.addFieldOffset(4,Et,0)}static createRawDataVector(At,Et){At.startVector(1,Et.length,1);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addInt8(Et[Ut]);return At.endVector()}static startRawDataVector(At,Et){At.startVector(1,Et,1)}static addStringData(At,Et){At.addFieldOffset(5,Et,0)}static createStringDataVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startStringDataVector(At,Et){At.startVector(4,Et,4)}static endTensor(At){return At.endObject()}static createTensor(At,Et,Ut,zt,It,Qt,Pt){return et.startTensor(At),et.addName(At,Et),et.addDocString(At,Ut),et.addDims(At,zt),et.addDataType(At,It),et.addRawData(At,Qt),et.addStringData(At,Pt),et.endTensor(At)}}j.Tensor=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsSparseTensor(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsSparseTensor(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}values(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?(At||new o.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}indices(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?(At||new o.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}dims(At){let Et=this.bb.__offset(this.bb_pos,8);return Et?this.bb.readInt64(this.bb.__vector(this.bb_pos+Et)+At*8):this.bb.createLong(0,0)}dimsLength(){let At=this.bb.__offset(this.bb_pos,8);return At?this.bb.__vector_len(this.bb_pos+At):0}static startSparseTensor(At){At.startObject(3)}static addValues(At,Et){At.addFieldOffset(0,Et,0)}static addIndices(At,Et){At.addFieldOffset(1,Et,0)}static addDims(At,Et){At.addFieldOffset(2,Et,0)}static createDimsVector(At,Et){At.startVector(8,Et.length,8);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addInt64(Et[Ut]);return At.endVector()}static startDimsVector(At,Et){At.startVector(8,Et,8)}static endSparseTensor(At){return At.endObject()}static createSparseTensor(At,Et,Ut,zt){return et.startSparseTensor(At),et.addValues(At,Et),et.addIndices(At,Ut),et.addDims(At,zt),et.endSparseTensor(At)}}j.SparseTensor=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsAttribute(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsAttribute(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}name(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?this.bb.__string(this.bb_pos+Et,At):null}docString(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?this.bb.__string(this.bb_pos+Et,At):null}type(){let At=this.bb.__offset(this.bb_pos,8);return At?this.bb.readInt32(this.bb_pos+At):0}f(){let At=this.bb.__offset(this.bb_pos,10);return At?this.bb.readFloat32(this.bb_pos+At):0}i(){let At=this.bb.__offset(this.bb_pos,12);return At?this.bb.readInt64(this.bb_pos+At):this.bb.createLong(0,0)}s(At){let Et=this.bb.__offset(this.bb_pos,14);return Et?this.bb.__string(this.bb_pos+Et,At):null}t(At){let Et=this.bb.__offset(this.bb_pos,16);return Et?(At||new o.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}g(At){let Et=this.bb.__offset(this.bb_pos,18);return Et?(At||new o.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}floats(At){let Et=this.bb.__offset(this.bb_pos,20);return Et?this.bb.readFloat32(this.bb.__vector(this.bb_pos+Et)+At*4):0}floatsLength(){let At=this.bb.__offset(this.bb_pos,20);return At?this.bb.__vector_len(this.bb_pos+At):0}floatsArray(){let At=this.bb.__offset(this.bb_pos,20);return At?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+At),this.bb.__vector_len(this.bb_pos+At)):null}ints(At){let Et=this.bb.__offset(this.bb_pos,22);return Et?this.bb.readInt64(this.bb.__vector(this.bb_pos+Et)+At*8):this.bb.createLong(0,0)}intsLength(){let At=this.bb.__offset(this.bb_pos,22);return At?this.bb.__vector_len(this.bb_pos+At):0}strings(At,Et){let Ut=this.bb.__offset(this.bb_pos,24);return Ut?this.bb.__string(this.bb.__vector(this.bb_pos+Ut)+At*4,Et):null}stringsLength(){let At=this.bb.__offset(this.bb_pos,24);return At?this.bb.__vector_len(this.bb_pos+At):0}tensors(At,Et){let Ut=this.bb.__offset(this.bb_pos,26);return Ut?(Et||new o.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}tensorsLength(){let At=this.bb.__offset(this.bb_pos,26);return At?this.bb.__vector_len(this.bb_pos+At):0}graphs(At,Et){let Ut=this.bb.__offset(this.bb_pos,28);return Ut?(Et||new o.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}graphsLength(){let At=this.bb.__offset(this.bb_pos,28);return At?this.bb.__vector_len(this.bb_pos+At):0}static startAttribute(At){At.startObject(13)}static addName(At,Et){At.addFieldOffset(0,Et,0)}static addDocString(At,Et){At.addFieldOffset(1,Et,0)}static addType(At,Et){At.addFieldInt32(2,Et,0)}static addF(At,Et){At.addFieldFloat32(3,Et,0)}static addI(At,Et){At.addFieldInt64(4,Et,At.createLong(0,0))}static addS(At,Et){At.addFieldOffset(5,Et,0)}static addT(At,Et){At.addFieldOffset(6,Et,0)}static addG(At,Et){At.addFieldOffset(7,Et,0)}static addFloats(At,Et){At.addFieldOffset(8,Et,0)}static createFloatsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addFloat32(Et[Ut]);return At.endVector()}static startFloatsVector(At,Et){At.startVector(4,Et,4)}static addInts(At,Et){At.addFieldOffset(9,Et,0)}static createIntsVector(At,Et){At.startVector(8,Et.length,8);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addInt64(Et[Ut]);return At.endVector()}static startIntsVector(At,Et){At.startVector(8,Et,8)}static addStrings(At,Et){At.addFieldOffset(10,Et,0)}static createStringsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startStringsVector(At,Et){At.startVector(4,Et,4)}static addTensors(At,Et){At.addFieldOffset(11,Et,0)}static createTensorsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startTensorsVector(At,Et){At.startVector(4,Et,4)}static addGraphs(At,Et){At.addFieldOffset(12,Et,0)}static createGraphsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startGraphsVector(At,Et){At.startVector(4,Et,4)}static endAttribute(At){return At.endObject()}static createAttribute(At,Et,Ut,zt,It,Qt,Pt,Yt,cr,_r,vr,Yr,Kr,jr){return et.startAttribute(At),et.addName(At,Et),et.addDocString(At,Ut),et.addType(At,zt),et.addF(At,It),et.addI(At,Qt),et.addS(At,Pt),et.addT(At,Yt),et.addG(At,cr),et.addFloats(At,_r),et.addInts(At,vr),et.addStrings(At,Yr),et.addTensors(At,Kr),et.addGraphs(At,jr),et.endAttribute(At)}}j.Attribute=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsGraph(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsGraph(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}initializers(At,Et){let Ut=this.bb.__offset(this.bb_pos,4);return Ut?(Et||new o.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}initializersLength(){let At=this.bb.__offset(this.bb_pos,4);return At?this.bb.__vector_len(this.bb_pos+At):0}nodeArgs(At,Et){let Ut=this.bb.__offset(this.bb_pos,6);return Ut?(Et||new o.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}nodeArgsLength(){let At=this.bb.__offset(this.bb_pos,6);return At?this.bb.__vector_len(this.bb_pos+At):0}nodes(At,Et){let Ut=this.bb.__offset(this.bb_pos,8);return Ut?(Et||new o.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}nodesLength(){let At=this.bb.__offset(this.bb_pos,8);return At?this.bb.__vector_len(this.bb_pos+At):0}maxNodeIndex(){let At=this.bb.__offset(this.bb_pos,10);return At?this.bb.readUint32(this.bb_pos+At):0}nodeEdges(At,Et){let Ut=this.bb.__offset(this.bb_pos,12);return Ut?(Et||new o.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}nodeEdgesLength(){let At=this.bb.__offset(this.bb_pos,12);return At?this.bb.__vector_len(this.bb_pos+At):0}inputs(At,Et){let Ut=this.bb.__offset(this.bb_pos,14);return Ut?this.bb.__string(this.bb.__vector(this.bb_pos+Ut)+At*4,Et):null}inputsLength(){let At=this.bb.__offset(this.bb_pos,14);return At?this.bb.__vector_len(this.bb_pos+At):0}outputs(At,Et){let Ut=this.bb.__offset(this.bb_pos,16);return Ut?this.bb.__string(this.bb.__vector(this.bb_pos+Ut)+At*4,Et):null}outputsLength(){let At=this.bb.__offset(this.bb_pos,16);return At?this.bb.__vector_len(this.bb_pos+At):0}sparseInitializers(At,Et){let Ut=this.bb.__offset(this.bb_pos,18);return Ut?(Et||new o.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}sparseInitializersLength(){let At=this.bb.__offset(this.bb_pos,18);return At?this.bb.__vector_len(this.bb_pos+At):0}static startGraph(At){At.startObject(8)}static addInitializers(At,Et){At.addFieldOffset(0,Et,0)}static createInitializersVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startInitializersVector(At,Et){At.startVector(4,Et,4)}static addNodeArgs(At,Et){At.addFieldOffset(1,Et,0)}static createNodeArgsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startNodeArgsVector(At,Et){At.startVector(4,Et,4)}static addNodes(At,Et){At.addFieldOffset(2,Et,0)}static createNodesVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startNodesVector(At,Et){At.startVector(4,Et,4)}static addMaxNodeIndex(At,Et){At.addFieldInt32(3,Et,0)}static addNodeEdges(At,Et){At.addFieldOffset(4,Et,0)}static createNodeEdgesVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startNodeEdgesVector(At,Et){At.startVector(4,Et,4)}static addInputs(At,Et){At.addFieldOffset(5,Et,0)}static createInputsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startInputsVector(At,Et){At.startVector(4,Et,4)}static addOutputs(At,Et){At.addFieldOffset(6,Et,0)}static createOutputsVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startOutputsVector(At,Et){At.startVector(4,Et,4)}static addSparseInitializers(At,Et){At.addFieldOffset(7,Et,0)}static createSparseInitializersVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startSparseInitializersVector(At,Et){At.startVector(4,Et,4)}static endGraph(At){return At.endObject()}static createGraph(At,Et,Ut,zt,It,Qt,Pt,Yt,cr){return et.startGraph(At),et.addInitializers(At,Et),et.addNodeArgs(At,Ut),et.addNodes(At,zt),et.addMaxNodeIndex(At,It),et.addNodeEdges(At,Qt),et.addInputs(At,Pt),et.addOutputs(At,Yt),et.addSparseInitializers(At,cr),et.endGraph(At)}}j.Graph=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsModel(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsModel(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}irVersion(){let At=this.bb.__offset(this.bb_pos,4);return At?this.bb.readInt64(this.bb_pos+At):this.bb.createLong(0,0)}opsetImport(At,Et){let Ut=this.bb.__offset(this.bb_pos,6);return Ut?(Et||new o.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}opsetImportLength(){let At=this.bb.__offset(this.bb_pos,6);return At?this.bb.__vector_len(this.bb_pos+At):0}producerName(At){let Et=this.bb.__offset(this.bb_pos,8);return Et?this.bb.__string(this.bb_pos+Et,At):null}producerVersion(At){let Et=this.bb.__offset(this.bb_pos,10);return Et?this.bb.__string(this.bb_pos+Et,At):null}domain(At){let Et=this.bb.__offset(this.bb_pos,12);return Et?this.bb.__string(this.bb_pos+Et,At):null}modelVersion(){let At=this.bb.__offset(this.bb_pos,14);return At?this.bb.readInt64(this.bb_pos+At):this.bb.createLong(0,0)}docString(At){let Et=this.bb.__offset(this.bb_pos,16);return Et?this.bb.__string(this.bb_pos+Et,At):null}graph(At){let Et=this.bb.__offset(this.bb_pos,18);return Et?(At||new o.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}graphDocString(At){let Et=this.bb.__offset(this.bb_pos,20);return Et?this.bb.__string(this.bb_pos+Et,At):null}static startModel(At){At.startObject(9)}static addIrVersion(At,Et){At.addFieldInt64(0,Et,At.createLong(0,0))}static addOpsetImport(At,Et){At.addFieldOffset(1,Et,0)}static createOpsetImportVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startOpsetImportVector(At,Et){At.startVector(4,Et,4)}static addProducerName(At,Et){At.addFieldOffset(2,Et,0)}static addProducerVersion(At,Et){At.addFieldOffset(3,Et,0)}static addDomain(At,Et){At.addFieldOffset(4,Et,0)}static addModelVersion(At,Et){At.addFieldInt64(5,Et,At.createLong(0,0))}static addDocString(At,Et){At.addFieldOffset(6,Et,0)}static addGraph(At,Et){At.addFieldOffset(7,Et,0)}static addGraphDocString(At,Et){At.addFieldOffset(8,Et,0)}static endModel(At){return At.endObject()}static createModel(At,Et,Ut,zt,It,Qt,Pt,Yt,cr,_r){return et.startModel(At),et.addIrVersion(At,Et),et.addOpsetImport(At,Ut),et.addProducerName(At,zt),et.addProducerVersion(At,It),et.addDomain(At,Qt),et.addModelVersion(At,Pt),et.addDocString(At,Yt),et.addGraph(At,cr),et.addGraphDocString(At,_r),et.endModel(At)}}j.Model=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsKernelCreateInfos(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsKernelCreateInfos(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}nodeIndices(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?this.bb.readUint32(this.bb.__vector(this.bb_pos+Et)+At*4):0}nodeIndicesLength(){let At=this.bb.__offset(this.bb_pos,4);return At?this.bb.__vector_len(this.bb_pos+At):0}nodeIndicesArray(){let At=this.bb.__offset(this.bb_pos,4);return At?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+At),this.bb.__vector_len(this.bb_pos+At)):null}kernelDefHashes(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?this.bb.readUint64(this.bb.__vector(this.bb_pos+Et)+At*8):this.bb.createLong(0,0)}kernelDefHashesLength(){let At=this.bb.__offset(this.bb_pos,6);return At?this.bb.__vector_len(this.bb_pos+At):0}static startKernelCreateInfos(At){At.startObject(2)}static addNodeIndices(At,Et){At.addFieldOffset(0,Et,0)}static createNodeIndicesVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addInt32(Et[Ut]);return At.endVector()}static startNodeIndicesVector(At,Et){At.startVector(4,Et,4)}static addKernelDefHashes(At,Et){At.addFieldOffset(1,Et,0)}static createKernelDefHashesVector(At,Et){At.startVector(8,Et.length,8);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addInt64(Et[Ut]);return At.endVector()}static startKernelDefHashesVector(At,Et){At.startVector(8,Et,8)}static endKernelCreateInfos(At){return At.endObject()}static createKernelCreateInfos(At,Et,Ut){return et.startKernelCreateInfos(At),et.addNodeIndices(At,Et),et.addKernelDefHashes(At,Ut),et.endKernelCreateInfos(At)}}j.KernelCreateInfos=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsSubGraphSessionState(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsSubGraphSessionState(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}graphId(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?this.bb.__string(this.bb_pos+Et,At):null}sessionState(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?(At||new o.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}static startSubGraphSessionState(At){At.startObject(2)}static addGraphId(At,Et){At.addFieldOffset(0,Et,0)}static addSessionState(At,Et){At.addFieldOffset(1,Et,0)}static endSubGraphSessionState(At){let Et=At.endObject();return At.requiredField(Et,4),Et}static createSubGraphSessionState(At,Et,Ut){return et.startSubGraphSessionState(At),et.addGraphId(At,Et),et.addSessionState(At,Ut),et.endSubGraphSessionState(At)}}j.SubGraphSessionState=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsSessionState(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsSessionState(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}kernels(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?(At||new o.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}subGraphSessionStates(At,Et){let Ut=this.bb.__offset(this.bb_pos,6);return Ut?(Et||new o.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+Ut)+At*4),this.bb):null}subGraphSessionStatesLength(){let At=this.bb.__offset(this.bb_pos,6);return At?this.bb.__vector_len(this.bb_pos+At):0}static startSessionState(At){At.startObject(2)}static addKernels(At,Et){At.addFieldOffset(0,Et,0)}static addSubGraphSessionStates(At,Et){At.addFieldOffset(1,Et,0)}static createSubGraphSessionStatesVector(At,Et){At.startVector(4,Et.length,4);for(let Ut=Et.length-1;Ut>=0;Ut--)At.addOffset(Et[Ut]);return At.endVector()}static startSubGraphSessionStatesVector(At,Et){At.startVector(4,Et,4)}static endSessionState(At){return At.endObject()}static createSessionState(At,Et,Ut){return et.startSessionState(At),et.addKernels(At,Et),et.addSubGraphSessionStates(At,Ut),et.endSessionState(At)}}j.SessionState=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={})),(o=>{(s=>{(j=>{class et{constructor(){this.bb=null,this.bb_pos=0}__init(At,Et){return this.bb_pos=At,this.bb=Et,this}static getRootAsInferenceSession(At,Et){return(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static getSizePrefixedRootAsInferenceSession(At,Et){return At.setPosition(At.position()+O.SIZE_PREFIX_LENGTH),(Et||new et).__init(At.readInt32(At.position())+At.position(),At)}static bufferHasIdentifier(At){return At.__has_identifier("ORTM")}ortVersion(At){let Et=this.bb.__offset(this.bb_pos,4);return Et?this.bb.__string(this.bb_pos+Et,At):null}model(At){let Et=this.bb.__offset(this.bb_pos,6);return Et?(At||new o.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}sessionState(At){let Et=this.bb.__offset(this.bb_pos,8);return Et?(At||new o.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+Et),this.bb):null}static startInferenceSession(At){At.startObject(3)}static addOrtVersion(At,Et){At.addFieldOffset(0,Et,0)}static addModel(At,Et){At.addFieldOffset(1,Et,0)}static addSessionState(At,Et){At.addFieldOffset(2,Et,0)}static endInferenceSession(At){return At.endObject()}static finishInferenceSessionBuffer(At,Et){At.finish(Et,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(At,Et){At.finish(Et,"ORTM",!0)}static createInferenceSession(At,Et,Ut,zt){return et.startInferenceSession(At),et.addOrtVersion(At,Et),et.addModel(At,Ut),et.addSessionState(At,zt),et.endInferenceSession(At)}}j.InferenceSession=et})(s.fbs||(s.fbs={}))})(o.experimental||(o.experimental={}))})(W||(W={}))}),Rs$1=me((o,s)=>{s.exports=j;function j(et,bt){for(var At=new Array(arguments.length-1),Et=0,Ut=2,zt=!0;Ut<arguments.length;)At[Et++]=arguments[Ut++];return new Promise(function(It,Qt){At[Et]=function(Pt){if(zt)if(zt=!1,Pt)Qt(Pt);else{for(var Yt=new Array(arguments.length-1),cr=0;cr<Yt.length;)Yt[cr++]=arguments[cr];It.apply(null,Yt)}};try{et.apply(bt||null,At)}catch(Pt){zt&&(zt=!1,Qt(Pt))}})}}),zs$1=me(o=>{var s=o;s.length=function(Et){var Ut=Et.length;if(!Ut)return 0;for(var zt=0;--Ut%4>1&&Et.charAt(Ut)==="=";)++zt;return Math.ceil(Et.length*3)/4-zt};var j=new Array(64),et=new Array(123);for(bt=0;bt<64;)et[j[bt]=bt<26?bt+65:bt<52?bt+71:bt<62?bt-4:bt-59|43]=bt++;var bt;s.encode=function(Et,Ut,zt){for(var It=null,Qt=[],Pt=0,Yt=0,cr;Ut<zt;){var _r=Et[Ut++];switch(Yt){case 0:Qt[Pt++]=j[_r>>2],cr=(_r&3)<<4,Yt=1;break;case 1:Qt[Pt++]=j[cr|_r>>4],cr=(_r&15)<<2,Yt=2;break;case 2:Qt[Pt++]=j[cr|_r>>6],Qt[Pt++]=j[_r&63],Yt=0;break}Pt>8191&&((It||(It=[])).push(String.fromCharCode.apply(String,Qt)),Pt=0)}return Yt&&(Qt[Pt++]=j[cr],Qt[Pt++]=61,Yt===1&&(Qt[Pt++]=61)),It?(Pt&&It.push(String.fromCharCode.apply(String,Qt.slice(0,Pt))),It.join("")):String.fromCharCode.apply(String,Qt.slice(0,Pt))};var At="invalid encoding";s.decode=function(Et,Ut,zt){for(var It=zt,Qt=0,Pt,Yt=0;Yt<Et.length;){var cr=Et.charCodeAt(Yt++);if(cr===61&&Qt>1)break;if((cr=et[cr])===void 0)throw Error(At);switch(Qt){case 0:Pt=cr,Qt=1;break;case 1:Ut[zt++]=Pt<<2|(cr&48)>>4,Pt=cr,Qt=2;break;case 2:Ut[zt++]=(Pt&15)<<4|(cr&60)>>2,Pt=cr,Qt=3;break;case 3:Ut[zt++]=(Pt&3)<<6|cr,Qt=0;break}}if(Qt===1)throw Error(At);return zt-It},s.test=function(Et){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(Et)}}),Ws$1=me((o,s)=>{s.exports=j;function j(){this._listeners={}}j.prototype.on=function(et,bt,At){return(this._listeners[et]||(this._listeners[et]=[])).push({fn:bt,ctx:At||this}),this},j.prototype.off=function(et,bt){if(et===void 0)this._listeners={};else if(bt===void 0)this._listeners[et]=[];else for(var At=this._listeners[et],Et=0;Et<At.length;)At[Et].fn===bt?At.splice(Et,1):++Et;return this},j.prototype.emit=function(et){var bt=this._listeners[et];if(bt){for(var At=[],Et=1;Et<arguments.length;)At.push(arguments[Et++]);for(Et=0;Et<bt.length;)bt[Et].fn.apply(bt[Et++].ctx,At)}return this}}),Js$1=me((o,s)=>{s.exports=j(j);function j(Ut){return typeof Float32Array<"u"?function(){var zt=new Float32Array([-0]),It=new Uint8Array(zt.buffer),Qt=It[3]===128;function Pt(vr,Yr,Kr){zt[0]=vr,Yr[Kr]=It[0],Yr[Kr+1]=It[1],Yr[Kr+2]=It[2],Yr[Kr+3]=It[3]}function Yt(vr,Yr,Kr){zt[0]=vr,Yr[Kr]=It[3],Yr[Kr+1]=It[2],Yr[Kr+2]=It[1],Yr[Kr+3]=It[0]}Ut.writeFloatLE=Qt?Pt:Yt,Ut.writeFloatBE=Qt?Yt:Pt;function cr(vr,Yr){return It[0]=vr[Yr],It[1]=vr[Yr+1],It[2]=vr[Yr+2],It[3]=vr[Yr+3],zt[0]}function _r(vr,Yr){return It[3]=vr[Yr],It[2]=vr[Yr+1],It[1]=vr[Yr+2],It[0]=vr[Yr+3],zt[0]}Ut.readFloatLE=Qt?cr:_r,Ut.readFloatBE=Qt?_r:cr}():function(){function zt(Qt,Pt,Yt,cr){var _r=Pt<0?1:0;if(_r&&(Pt=-Pt),Pt===0)Qt(1/Pt>0?0:2147483648,Yt,cr);else if(isNaN(Pt))Qt(2143289344,Yt,cr);else if(Pt>34028234663852886e22)Qt((_r<<31|2139095040)>>>0,Yt,cr);else if(Pt<11754943508222875e-54)Qt((_r<<31|Math.round(Pt/1401298464324817e-60))>>>0,Yt,cr);else{var vr=Math.floor(Math.log(Pt)/Math.LN2),Yr=Math.round(Pt*Math.pow(2,-vr)*8388608)&8388607;Qt((_r<<31|vr+127<<23|Yr)>>>0,Yt,cr)}}Ut.writeFloatLE=zt.bind(null,et),Ut.writeFloatBE=zt.bind(null,bt);function It(Qt,Pt,Yt){var cr=Qt(Pt,Yt),_r=(cr>>31)*2+1,vr=cr>>>23&255,Yr=cr&8388607;return vr===255?Yr?NaN:_r*(1/0):vr===0?_r*1401298464324817e-60*Yr:_r*Math.pow(2,vr-150)*(Yr+8388608)}Ut.readFloatLE=It.bind(null,At),Ut.readFloatBE=It.bind(null,Et)}(),typeof Float64Array<"u"?function(){var zt=new Float64Array([-0]),It=new Uint8Array(zt.buffer),Qt=It[7]===128;function Pt(vr,Yr,Kr){zt[0]=vr,Yr[Kr]=It[0],Yr[Kr+1]=It[1],Yr[Kr+2]=It[2],Yr[Kr+3]=It[3],Yr[Kr+4]=It[4],Yr[Kr+5]=It[5],Yr[Kr+6]=It[6],Yr[Kr+7]=It[7]}function Yt(vr,Yr,Kr){zt[0]=vr,Yr[Kr]=It[7],Yr[Kr+1]=It[6],Yr[Kr+2]=It[5],Yr[Kr+3]=It[4],Yr[Kr+4]=It[3],Yr[Kr+5]=It[2],Yr[Kr+6]=It[1],Yr[Kr+7]=It[0]}Ut.writeDoubleLE=Qt?Pt:Yt,Ut.writeDoubleBE=Qt?Yt:Pt;function cr(vr,Yr){return It[0]=vr[Yr],It[1]=vr[Yr+1],It[2]=vr[Yr+2],It[3]=vr[Yr+3],It[4]=vr[Yr+4],It[5]=vr[Yr+5],It[6]=vr[Yr+6],It[7]=vr[Yr+7],zt[0]}function _r(vr,Yr){return It[7]=vr[Yr],It[6]=vr[Yr+1],It[5]=vr[Yr+2],It[4]=vr[Yr+3],It[3]=vr[Yr+4],It[2]=vr[Yr+5],It[1]=vr[Yr+6],It[0]=vr[Yr+7],zt[0]}Ut.readDoubleLE=Qt?cr:_r,Ut.readDoubleBE=Qt?_r:cr}():function(){function zt(Qt,Pt,Yt,cr,_r,vr){var Yr=cr<0?1:0;if(Yr&&(cr=-cr),cr===0)Qt(0,_r,vr+Pt),Qt(1/cr>0?0:2147483648,_r,vr+Yt);else if(isNaN(cr))Qt(0,_r,vr+Pt),Qt(2146959360,_r,vr+Yt);else if(cr>17976931348623157e292)Qt(0,_r,vr+Pt),Qt((Yr<<31|2146435072)>>>0,_r,vr+Yt);else{var Kr;if(cr<22250738585072014e-324)Kr=cr/5e-324,Qt(Kr>>>0,_r,vr+Pt),Qt((Yr<<31|Kr/4294967296)>>>0,_r,vr+Yt);else{var jr=Math.floor(Math.log(cr)/Math.LN2);jr===1024&&(jr=1023),Kr=cr*Math.pow(2,-jr),Qt(Kr*4503599627370496>>>0,_r,vr+Pt),Qt((Yr<<31|jr+1023<<20|Kr*1048576&1048575)>>>0,_r,vr+Yt)}}}Ut.writeDoubleLE=zt.bind(null,et,0,4),Ut.writeDoubleBE=zt.bind(null,bt,4,0);function It(Qt,Pt,Yt,cr,_r){var vr=Qt(cr,_r+Pt),Yr=Qt(cr,_r+Yt),Kr=(Yr>>31)*2+1,jr=Yr>>>20&2047,Hn=4294967296*(Yr&1048575)+vr;return jr===2047?Hn?NaN:Kr*(1/0):jr===0?Kr*5e-324*Hn:Kr*Math.pow(2,jr-1075)*(Hn+4503599627370496)}Ut.readDoubleLE=It.bind(null,At,0,4),Ut.readDoubleBE=It.bind(null,Et,4,0)}(),Ut}function et(Ut,zt,It){zt[It]=Ut&255,zt[It+1]=Ut>>>8&255,zt[It+2]=Ut>>>16&255,zt[It+3]=Ut>>>24}function bt(Ut,zt,It){zt[It]=Ut>>>24,zt[It+1]=Ut>>>16&255,zt[It+2]=Ut>>>8&255,zt[It+3]=Ut&255}function At(Ut,zt){return(Ut[zt]|Ut[zt+1]<<8|Ut[zt+2]<<16|Ut[zt+3]<<24)>>>0}function Et(Ut,zt){return(Ut[zt]<<24|Ut[zt+1]<<16|Ut[zt+2]<<8|Ut[zt+3])>>>0}}),Zs$1=me((exports,module)=>{module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}}),eu$1=me(o=>{var s=o;s.length=function(j){for(var et=0,bt=0,At=0;At<j.length;++At)bt=j.charCodeAt(At),bt<128?et+=1:bt<2048?et+=2:(bt&64512)===55296&&(j.charCodeAt(At+1)&64512)===56320?(++At,et+=4):et+=3;return et},s.read=function(j,et,bt){var At=bt-et;if(At<1)return"";for(var Et=null,Ut=[],zt=0,It;et<bt;)It=j[et++],It<128?Ut[zt++]=It:It>191&&It<224?Ut[zt++]=(It&31)<<6|j[et++]&63:It>239&&It<365?(It=((It&7)<<18|(j[et++]&63)<<12|(j[et++]&63)<<6|j[et++]&63)-65536,Ut[zt++]=55296+(It>>10),Ut[zt++]=56320+(It&1023)):Ut[zt++]=(It&15)<<12|(j[et++]&63)<<6|j[et++]&63,zt>8191&&((Et||(Et=[])).push(String.fromCharCode.apply(String,Ut)),zt=0);return Et?(zt&&Et.push(String.fromCharCode.apply(String,Ut.slice(0,zt))),Et.join("")):String.fromCharCode.apply(String,Ut.slice(0,zt))},s.write=function(j,et,bt){for(var At=bt,Et,Ut,zt=0;zt<j.length;++zt)Et=j.charCodeAt(zt),Et<128?et[bt++]=Et:Et<2048?(et[bt++]=Et>>6|192,et[bt++]=Et&63|128):(Et&64512)===55296&&((Ut=j.charCodeAt(zt+1))&64512)===56320?(Et=65536+((Et&1023)<<10)+(Ut&1023),++zt,et[bt++]=Et>>18|240,et[bt++]=Et>>12&63|128,et[bt++]=Et>>6&63|128,et[bt++]=Et&63|128):(et[bt++]=Et>>12|224,et[bt++]=Et>>6&63|128,et[bt++]=Et&63|128);return bt-At}}),ru$1=me((o,s)=>{s.exports=j;function j(et,bt,At){var Et=At||8192,Ut=Et>>>1,zt=null,It=Et;return function(Qt){if(Qt<1||Qt>Ut)return et(Qt);It+Qt>Et&&(zt=et(Et),It=0);var Pt=bt.call(zt,It,It+=Qt);return It&7&&(It=(It|7)+1),Pt}}}),ou$1=me((o,s)=>{s.exports=et;var j=Xt();function et(Ut,zt){this.lo=Ut>>>0,this.hi=zt>>>0}var bt=et.zero=new et(0,0);bt.toNumber=function(){return 0},bt.zzEncode=bt.zzDecode=function(){return this},bt.length=function(){return 1};var At=et.zeroHash="\0\0\0\0\0\0\0\0";et.fromNumber=function(Ut){if(Ut===0)return bt;var zt=Ut<0;zt&&(Ut=-Ut);var It=Ut>>>0,Qt=(Ut-It)/4294967296>>>0;return zt&&(Qt=~Qt>>>0,It=~It>>>0,++It>4294967295&&(It=0,++Qt>4294967295&&(Qt=0))),new et(It,Qt)},et.from=function(Ut){if(typeof Ut=="number")return et.fromNumber(Ut);if(j.isString(Ut))if(j.Long)Ut=j.Long.fromString(Ut);else return et.fromNumber(parseInt(Ut,10));return Ut.low||Ut.high?new et(Ut.low>>>0,Ut.high>>>0):bt},et.prototype.toNumber=function(Ut){if(!Ut&&this.hi>>>31){var zt=~this.lo+1>>>0,It=~this.hi>>>0;return zt||(It=It+1>>>0),-(zt+It*4294967296)}return this.lo+this.hi*4294967296},et.prototype.toLong=function(Ut){return j.Long?new j.Long(this.lo|0,this.hi|0,!!Ut):{low:this.lo|0,high:this.hi|0,unsigned:!!Ut}};var Et=String.prototype.charCodeAt;et.fromHash=function(Ut){return Ut===At?bt:new et((Et.call(Ut,0)|Et.call(Ut,1)<<8|Et.call(Ut,2)<<16|Et.call(Ut,3)<<24)>>>0,(Et.call(Ut,4)|Et.call(Ut,5)<<8|Et.call(Ut,6)<<16|Et.call(Ut,7)<<24)>>>0)},et.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},et.prototype.zzEncode=function(){var Ut=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^Ut)>>>0,this.lo=(this.lo<<1^Ut)>>>0,this},et.prototype.zzDecode=function(){var Ut=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^Ut)>>>0,this.hi=(this.hi>>>1^Ut)>>>0,this},et.prototype.length=function(){var Ut=this.lo,zt=(this.lo>>>28|this.hi<<4)>>>0,It=this.hi>>>24;return It===0?zt===0?Ut<16384?Ut<128?1:2:Ut<2097152?3:4:zt<16384?zt<128?5:6:zt<2097152?7:8:It<128?9:10}}),Xt=me(o=>{var s=o;s.asPromise=Rs$1(),s.base64=zs$1(),s.EventEmitter=Ws$1(),s.float=Js$1(),s.inquire=Zs$1(),s.utf8=eu$1(),s.pool=ru$1(),s.LongBits=ou$1(),s.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node),s.global=s.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||o,s.emptyArray=Object.freeze?Object.freeze([]):[],s.emptyObject=Object.freeze?Object.freeze({}):{},s.isInteger=Number.isInteger||function(bt){return typeof bt=="number"&&isFinite(bt)&&Math.floor(bt)===bt},s.isString=function(bt){return typeof bt=="string"||bt instanceof String},s.isObject=function(bt){return bt&&typeof bt=="object"},s.isset=s.isSet=function(bt,At){var Et=bt[At];return Et!=null&&bt.hasOwnProperty(At)?typeof Et!="object"||(Array.isArray(Et)?Et.length:Object.keys(Et).length)>0:!1},s.Buffer=function(){try{var bt=s.inquire("buffer").Buffer;return bt.prototype.utf8Write?bt:null}catch{return null}}(),s._Buffer_from=null,s._Buffer_allocUnsafe=null,s.newBuffer=function(bt){return typeof bt=="number"?s.Buffer?s._Buffer_allocUnsafe(bt):new s.Array(bt):s.Buffer?s._Buffer_from(bt):typeof Uint8Array>"u"?bt:new Uint8Array(bt)},s.Array=typeof Uint8Array<"u"?Uint8Array:Array,s.Long=s.global.dcodeIO&&s.global.dcodeIO.Long||s.global.Long||s.inquire("long"),s.key2Re=/^true|false|0|1$/,s.key32Re=/^-?(?:0|[1-9][0-9]*)$/,s.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,s.longToHash=function(bt){return bt?s.LongBits.from(bt).toHash():s.LongBits.zeroHash},s.longFromHash=function(bt,At){var Et=s.LongBits.fromHash(bt);return s.Long?s.Long.fromBits(Et.lo,Et.hi,At):Et.toNumber(!!At)};function j(bt,At,Et){for(var Ut=Object.keys(At),zt=0;zt<Ut.length;++zt)(bt[Ut[zt]]===void 0||!Et)&&(bt[Ut[zt]]=At[Ut[zt]]);return bt}s.merge=j,s.lcFirst=function(bt){return bt.charAt(0).toLowerCase()+bt.substring(1)};function et(bt){function At(Et,Ut){if(!(this instanceof At))return new At(Et,Ut);Object.defineProperty(this,"message",{get:function(){return Et}}),Error.captureStackTrace?Error.captureStackTrace(this,At):Object.defineProperty(this,"stack",{value:new Error().stack||""}),Ut&&j(this,Ut)}return At.prototype=Object.create(Error.prototype,{constructor:{value:At,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return bt},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),At}s.newError=et,s.ProtocolError=et("ProtocolError"),s.oneOfGetter=function(bt){for(var At={},Et=0;Et<bt.length;++Et)At[bt[Et]]=1;return function(){for(var Ut=Object.keys(this),zt=Ut.length-1;zt>-1;--zt)if(At[Ut[zt]]===1&&this[Ut[zt]]!==void 0&&this[Ut[zt]]!==null)return Ut[zt]}},s.oneOfSetter=function(bt){return function(At){for(var Et=0;Et<bt.length;++Et)bt[Et]!==At&&delete this[bt[Et]]}},s.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},s._configure=function(){var bt=s.Buffer;if(!bt){s._Buffer_from=s._Buffer_allocUnsafe=null;return}s._Buffer_from=bt.from!==Uint8Array.from&&bt.from||function(At,Et){return new bt(At,Et)},s._Buffer_allocUnsafe=bt.allocUnsafe||function(At){return new bt(At)}}}),li$1=me((o,s)=>{s.exports=Qt;var j=Xt(),et,bt=j.LongBits,At=j.base64,Et=j.utf8;function Ut(jr,Hn,tA){this.fn=jr,this.len=Hn,this.next=void 0,this.val=tA}function zt(){}function It(jr){this.head=jr.head,this.tail=jr.tail,this.len=jr.len,this.next=jr.states}function Qt(){this.len=0,this.head=new Ut(zt,0,0),this.tail=this.head,this.states=null}var Pt=function(){return j.Buffer?function(){return(Qt.create=function(){return new et})()}:function(){return new Qt}};Qt.create=Pt(),Qt.alloc=function(jr){return new j.Array(jr)},j.Array!==Array&&(Qt.alloc=j.pool(Qt.alloc,j.Array.prototype.subarray)),Qt.prototype._push=function(jr,Hn,tA){return this.tail=this.tail.next=new Ut(jr,Hn,tA),this.len+=Hn,this};function Yt(jr,Hn,tA){Hn[tA]=jr&255}function cr(jr,Hn,tA){for(;jr>127;)Hn[tA++]=jr&127|128,jr>>>=7;Hn[tA]=jr}function _r(jr,Hn){this.len=jr,this.next=void 0,this.val=Hn}_r.prototype=Object.create(Ut.prototype),_r.prototype.fn=cr,Qt.prototype.uint32=function(jr){return this.len+=(this.tail=this.tail.next=new _r((jr=jr>>>0)<128?1:jr<16384?2:jr<2097152?3:jr<268435456?4:5,jr)).len,this},Qt.prototype.int32=function(jr){return jr<0?this._push(vr,10,bt.fromNumber(jr)):this.uint32(jr)},Qt.prototype.sint32=function(jr){return this.uint32((jr<<1^jr>>31)>>>0)};function vr(jr,Hn,tA){for(;jr.hi;)Hn[tA++]=jr.lo&127|128,jr.lo=(jr.lo>>>7|jr.hi<<25)>>>0,jr.hi>>>=7;for(;jr.lo>127;)Hn[tA++]=jr.lo&127|128,jr.lo=jr.lo>>>7;Hn[tA++]=jr.lo}Qt.prototype.uint64=function(jr){var Hn=bt.from(jr);return this._push(vr,Hn.length(),Hn)},Qt.prototype.int64=Qt.prototype.uint64,Qt.prototype.sint64=function(jr){var Hn=bt.from(jr).zzEncode();return this._push(vr,Hn.length(),Hn)},Qt.prototype.bool=function(jr){return this._push(Yt,1,jr?1:0)};function Yr(jr,Hn,tA){Hn[tA]=jr&255,Hn[tA+1]=jr>>>8&255,Hn[tA+2]=jr>>>16&255,Hn[tA+3]=jr>>>24}Qt.prototype.fixed32=function(jr){return this._push(Yr,4,jr>>>0)},Qt.prototype.sfixed32=Qt.prototype.fixed32,Qt.prototype.fixed64=function(jr){var Hn=bt.from(jr);return this._push(Yr,4,Hn.lo)._push(Yr,4,Hn.hi)},Qt.prototype.sfixed64=Qt.prototype.fixed64,Qt.prototype.float=function(jr){return this._push(j.float.writeFloatLE,4,jr)},Qt.prototype.double=function(jr){return this._push(j.float.writeDoubleLE,8,jr)};var Kr=j.Array.prototype.set?function(jr,Hn,tA){Hn.set(jr,tA)}:function(jr,Hn,tA){for(var nA=0;nA<jr.length;++nA)Hn[tA+nA]=jr[nA]};Qt.prototype.bytes=function(jr){var Hn=jr.length>>>0;if(!Hn)return this._push(Yt,1,0);if(j.isString(jr)){var tA=Qt.alloc(Hn=At.length(jr));At.decode(jr,tA,0),jr=tA}return this.uint32(Hn)._push(Kr,Hn,jr)},Qt.prototype.string=function(jr){var Hn=Et.length(jr);return Hn?this.uint32(Hn)._push(Et.write,Hn,jr):this._push(Yt,1,0)},Qt.prototype.fork=function(){return this.states=new It(this),this.head=this.tail=new Ut(zt,0,0),this.len=0,this},Qt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ut(zt,0,0),this.len=0),this},Qt.prototype.ldelim=function(){var jr=this.head,Hn=this.tail,tA=this.len;return this.reset().uint32(tA),tA&&(this.tail.next=jr.next,this.tail=Hn,this.len+=tA),this},Qt.prototype.finish=function(){for(var jr=this.head.next,Hn=this.constructor.alloc(this.len),tA=0;jr;)jr.fn(jr.val,Hn,tA),tA+=jr.len,jr=jr.next;return Hn},Qt._configure=function(jr){et=jr,Qt.create=Pt(),et._configure()}}),du$1=me((o,s)=>{s.exports=bt;var j=li$1();(bt.prototype=Object.create(j.prototype)).constructor=bt;var et=Xt();function bt(){j.call(this)}bt._configure=function(){bt.alloc=et._Buffer_allocUnsafe,bt.writeBytesBuffer=et.Buffer&&et.Buffer.prototype instanceof Uint8Array&&et.Buffer.prototype.set.name==="set"?function(Et,Ut,zt){Ut.set(Et,zt)}:function(Et,Ut,zt){if(Et.copy)Et.copy(Ut,zt,0,Et.length);else for(var It=0;It<Et.length;)Ut[zt++]=Et[It++]}},bt.prototype.bytes=function(Et){et.isString(Et)&&(Et=et._Buffer_from(Et,"base64"));var Ut=Et.length>>>0;return this.uint32(Ut),Ut&&this._push(bt.writeBytesBuffer,Ut,Et),this};function At(Et,Ut,zt){Et.length<40?et.utf8.write(Et,Ut,zt):Ut.utf8Write?Ut.utf8Write(Et,zt):Ut.write(Et,zt)}bt.prototype.string=function(Et){var Ut=et.Buffer.byteLength(Et);return this.uint32(Ut),Ut&&this._push(At,Ut,Et),this},bt._configure()}),pi$1=me((o,s)=>{s.exports=Ut;var j=Xt(),et,bt=j.LongBits,At=j.utf8;function Et(cr,_r){return RangeError("index out of range: "+cr.pos+" + "+(_r||1)+" > "+cr.len)}function Ut(cr){this.buf=cr,this.pos=0,this.len=cr.length}var zt=typeof Uint8Array<"u"?function(cr){if(cr instanceof Uint8Array||Array.isArray(cr))return new Ut(cr);throw Error("illegal buffer")}:function(cr){if(Array.isArray(cr))return new Ut(cr);throw Error("illegal buffer")},It=function(){return j.Buffer?function(cr){return(Ut.create=function(_r){return j.Buffer.isBuffer(_r)?new et(_r):zt(_r)})(cr)}:zt};Ut.create=It(),Ut.prototype._slice=j.Array.prototype.subarray||j.Array.prototype.slice,Ut.prototype.uint32=function(){var cr=4294967295;return function(){if(cr=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(cr=(cr|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(cr=(cr|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(cr=(cr|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(cr=(cr|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return cr;if((this.pos+=5)>this.len)throw this.pos=this.len,Et(this,10);return cr}}(),Ut.prototype.int32=function(){return this.uint32()|0},Ut.prototype.sint32=function(){var cr=this.uint32();return cr>>>1^-(cr&1)|0};function Qt(){var cr=new bt(0,0),_r=0;if(this.len-this.pos>4){for(;_r<4;++_r)if(cr.lo=(cr.lo|(this.buf[this.pos]&127)<<_r*7)>>>0,this.buf[this.pos++]<128)return cr;if(cr.lo=(cr.lo|(this.buf[this.pos]&127)<<28)>>>0,cr.hi=(cr.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return cr;_r=0}else{for(;_r<3;++_r){if(this.pos>=this.len)throw Et(this);if(cr.lo=(cr.lo|(this.buf[this.pos]&127)<<_r*7)>>>0,this.buf[this.pos++]<128)return cr}return cr.lo=(cr.lo|(this.buf[this.pos++]&127)<<_r*7)>>>0,cr}if(this.len-this.pos>4){for(;_r<5;++_r)if(cr.hi=(cr.hi|(this.buf[this.pos]&127)<<_r*7+3)>>>0,this.buf[this.pos++]<128)return cr}else for(;_r<5;++_r){if(this.pos>=this.len)throw Et(this);if(cr.hi=(cr.hi|(this.buf[this.pos]&127)<<_r*7+3)>>>0,this.buf[this.pos++]<128)return cr}throw Error("invalid varint encoding")}Ut.prototype.bool=function(){return this.uint32()!==0};function Pt(cr,_r){return(cr[_r-4]|cr[_r-3]<<8|cr[_r-2]<<16|cr[_r-1]<<24)>>>0}Ut.prototype.fixed32=function(){if(this.pos+4>this.len)throw Et(this,4);return Pt(this.buf,this.pos+=4)},Ut.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Et(this,4);return Pt(this.buf,this.pos+=4)|0};function Yt(){if(this.pos+8>this.len)throw Et(this,8);return new bt(Pt(this.buf,this.pos+=4),Pt(this.buf,this.pos+=4))}Ut.prototype.float=function(){if(this.pos+4>this.len)throw Et(this,4);var cr=j.float.readFloatLE(this.buf,this.pos);return this.pos+=4,cr},Ut.prototype.double=function(){if(this.pos+8>this.len)throw Et(this,4);var cr=j.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,cr},Ut.prototype.bytes=function(){var cr=this.uint32(),_r=this.pos,vr=this.pos+cr;if(vr>this.len)throw Et(this,cr);return this.pos+=cr,Array.isArray(this.buf)?this.buf.slice(_r,vr):_r===vr?new this.buf.constructor(0):this._slice.call(this.buf,_r,vr)},Ut.prototype.string=function(){var cr=this.bytes();return At.read(cr,0,cr.length)},Ut.prototype.skip=function(cr){if(typeof cr=="number"){if(this.pos+cr>this.len)throw Et(this,cr);this.pos+=cr}else do if(this.pos>=this.len)throw Et(this);while(this.buf[this.pos++]&128);return this},Ut.prototype.skipType=function(cr){switch(cr){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(cr=this.uint32()&7)!==4;)this.skipType(cr);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+cr+" at offset "+this.pos)}return this},Ut._configure=function(cr){et=cr,Ut.create=It(),et._configure();var _r=j.Long?"toLong":"toNumber";j.merge(Ut.prototype,{int64:function(){return Qt.call(this)[_r](!1)},uint64:function(){return Qt.call(this)[_r](!0)},sint64:function(){return Qt.call(this).zzDecode()[_r](!1)},fixed64:function(){return Yt.call(this)[_r](!0)},sfixed64:function(){return Yt.call(this)[_r](!1)}})}}),vu$1=me((o,s)=>{s.exports=bt;var j=pi$1();(bt.prototype=Object.create(j.prototype)).constructor=bt;var et=Xt();function bt(At){j.call(this,At)}bt._configure=function(){et.Buffer&&(bt.prototype._slice=et.Buffer.prototype.slice)},bt.prototype.string=function(){var At=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+At,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+At,this.len))},bt._configure()}),Ou$1=me((o,s)=>{s.exports=et;var j=Xt();(et.prototype=Object.create(j.EventEmitter.prototype)).constructor=et;function et(bt,At,Et){if(typeof bt!="function")throw TypeError("rpcImpl must be a function");j.EventEmitter.call(this),this.rpcImpl=bt,this.requestDelimited=!!At,this.responseDelimited=!!Et}et.prototype.rpcCall=function bt(At,Et,Ut,zt,It){if(!zt)throw TypeError("request must be specified");var Qt=this;if(!It)return j.asPromise(bt,Qt,At,Et,Ut,zt);if(!Qt.rpcImpl){setTimeout(function(){It(Error("already ended"))},0);return}try{return Qt.rpcImpl(At,Et[Qt.requestDelimited?"encodeDelimited":"encode"](zt).finish(),function(Pt,Yt){if(Pt)return Qt.emit("error",Pt,At),It(Pt);if(Yt===null){Qt.end(!0);return}if(!(Yt instanceof Ut))try{Yt=Ut[Qt.responseDelimited?"decodeDelimited":"decode"](Yt)}catch(cr){return Qt.emit("error",cr,At),It(cr)}return Qt.emit("data",Yt,At),It(null,Yt)})}catch(Pt){Qt.emit("error",Pt,At),setTimeout(function(){It(Pt)},0);return}},et.prototype.end=function(bt){return this.rpcImpl&&(bt||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}),Su$1=me(o=>{var s=o;s.Service=Ou$1()}),Pu$1=me((o,s)=>{s.exports={}}),Lu$1=me(o=>{var s=o;s.build="minimal",s.Writer=li$1(),s.BufferWriter=du$1(),s.Reader=pi$1(),s.BufferReader=vu$1(),s.util=Xt(),s.rpc=Su$1(),s.roots=Pu$1(),s.configure=j;function j(){s.util._configure(),s.Writer._configure(s.BufferWriter),s.Reader._configure(s.BufferReader)}j()}),Cu$1=me((o,s)=>{s.exports=Lu$1()}),$r=me((o,s)=>{var j=Cu$1(),et=j.Reader,bt=j.Writer,At=j.util,Et=j.roots.default||(j.roots.default={});Et.onnx=function(){var Ut={};return Ut.Version=function(){var zt={},It=Object.create(zt);return It[zt[0]="_START_VERSION"]=0,It[zt[1]="IR_VERSION_2017_10_10"]=1,It[zt[2]="IR_VERSION_2017_10_30"]=2,It[zt[3]="IR_VERSION_2017_11_3"]=3,It[zt[4]="IR_VERSION_2019_1_22"]=4,It[zt[5]="IR_VERSION_2019_3_18"]=5,It[zt[6]="IR_VERSION_2019_9_19"]=6,It[zt[7]="IR_VERSION_2020_5_8"]=7,It[zt[8]="IR_VERSION_2021_7_30"]=8,It[zt[9]="IR_VERSION"]=9,It}(),Ut.AttributeProto=function(){function zt(It){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.name="",zt.prototype.refAttrName="",zt.prototype.docString="",zt.prototype.type=0,zt.prototype.f=0,zt.prototype.i=At.Long?At.Long.fromBits(0,0,!1):0,zt.prototype.s=At.newBuffer([]),zt.prototype.t=null,zt.prototype.g=null,zt.prototype.sparseTensor=null,zt.prototype.tp=null,zt.prototype.floats=At.emptyArray,zt.prototype.ints=At.emptyArray,zt.prototype.strings=At.emptyArray,zt.prototype.tensors=At.emptyArray,zt.prototype.graphs=At.emptyArray,zt.prototype.sparseTensors=At.emptyArray,zt.prototype.typeProtos=At.emptyArray,zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.name!=null&&Object.hasOwnProperty.call(It,"name")&&Qt.uint32(10).string(It.name),It.f!=null&&Object.hasOwnProperty.call(It,"f")&&Qt.uint32(21).float(It.f),It.i!=null&&Object.hasOwnProperty.call(It,"i")&&Qt.uint32(24).int64(It.i),It.s!=null&&Object.hasOwnProperty.call(It,"s")&&Qt.uint32(34).bytes(It.s),It.t!=null&&Object.hasOwnProperty.call(It,"t")&&Et.onnx.TensorProto.encode(It.t,Qt.uint32(42).fork()).ldelim(),It.g!=null&&Object.hasOwnProperty.call(It,"g")&&Et.onnx.GraphProto.encode(It.g,Qt.uint32(50).fork()).ldelim(),It.floats!=null&&It.floats.length){Qt.uint32(58).fork();for(var Pt=0;Pt<It.floats.length;++Pt)Qt.float(It.floats[Pt]);Qt.ldelim()}if(It.ints!=null&&It.ints.length){Qt.uint32(66).fork();for(var Pt=0;Pt<It.ints.length;++Pt)Qt.int64(It.ints[Pt]);Qt.ldelim()}if(It.strings!=null&&It.strings.length)for(var Pt=0;Pt<It.strings.length;++Pt)Qt.uint32(74).bytes(It.strings[Pt]);if(It.tensors!=null&&It.tensors.length)for(var Pt=0;Pt<It.tensors.length;++Pt)Et.onnx.TensorProto.encode(It.tensors[Pt],Qt.uint32(82).fork()).ldelim();if(It.graphs!=null&&It.graphs.length)for(var Pt=0;Pt<It.graphs.length;++Pt)Et.onnx.GraphProto.encode(It.graphs[Pt],Qt.uint32(90).fork()).ldelim();if(It.docString!=null&&Object.hasOwnProperty.call(It,"docString")&&Qt.uint32(106).string(It.docString),It.tp!=null&&Object.hasOwnProperty.call(It,"tp")&&Et.onnx.TypeProto.encode(It.tp,Qt.uint32(114).fork()).ldelim(),It.typeProtos!=null&&It.typeProtos.length)for(var Pt=0;Pt<It.typeProtos.length;++Pt)Et.onnx.TypeProto.encode(It.typeProtos[Pt],Qt.uint32(122).fork()).ldelim();if(It.type!=null&&Object.hasOwnProperty.call(It,"type")&&Qt.uint32(160).int32(It.type),It.refAttrName!=null&&Object.hasOwnProperty.call(It,"refAttrName")&&Qt.uint32(170).string(It.refAttrName),It.sparseTensor!=null&&Object.hasOwnProperty.call(It,"sparseTensor")&&Et.onnx.SparseTensorProto.encode(It.sparseTensor,Qt.uint32(178).fork()).ldelim(),It.sparseTensors!=null&&It.sparseTensors.length)for(var Pt=0;Pt<It.sparseTensors.length;++Pt)Et.onnx.SparseTensorProto.encode(It.sparseTensors[Pt],Qt.uint32(186).fork()).ldelim();return Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.AttributeProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.name=It.string();break}case 21:{Yt.refAttrName=It.string();break}case 13:{Yt.docString=It.string();break}case 20:{Yt.type=It.int32();break}case 2:{Yt.f=It.float();break}case 3:{Yt.i=It.int64();break}case 4:{Yt.s=It.bytes();break}case 5:{Yt.t=Et.onnx.TensorProto.decode(It,It.uint32());break}case 6:{Yt.g=Et.onnx.GraphProto.decode(It,It.uint32());break}case 22:{Yt.sparseTensor=Et.onnx.SparseTensorProto.decode(It,It.uint32());break}case 14:{Yt.tp=Et.onnx.TypeProto.decode(It,It.uint32());break}case 7:{if(Yt.floats&&Yt.floats.length||(Yt.floats=[]),(cr&7)===2)for(var _r=It.uint32()+It.pos;It.pos<_r;)Yt.floats.push(It.float());else Yt.floats.push(It.float());break}case 8:{if(Yt.ints&&Yt.ints.length||(Yt.ints=[]),(cr&7)===2)for(var _r=It.uint32()+It.pos;It.pos<_r;)Yt.ints.push(It.int64());else Yt.ints.push(It.int64());break}case 9:{Yt.strings&&Yt.strings.length||(Yt.strings=[]),Yt.strings.push(It.bytes());break}case 10:{Yt.tensors&&Yt.tensors.length||(Yt.tensors=[]),Yt.tensors.push(Et.onnx.TensorProto.decode(It,It.uint32()));break}case 11:{Yt.graphs&&Yt.graphs.length||(Yt.graphs=[]),Yt.graphs.push(Et.onnx.GraphProto.decode(It,It.uint32()));break}case 23:{Yt.sparseTensors&&Yt.sparseTensors.length||(Yt.sparseTensors=[]),Yt.sparseTensors.push(Et.onnx.SparseTensorProto.decode(It,It.uint32()));break}case 15:{Yt.typeProtos&&Yt.typeProtos.length||(Yt.typeProtos=[]),Yt.typeProtos.push(Et.onnx.TypeProto.decode(It,It.uint32()));break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.name!=null&&It.hasOwnProperty("name")&&!At.isString(It.name))return"name: string expected";if(It.refAttrName!=null&&It.hasOwnProperty("refAttrName")&&!At.isString(It.refAttrName))return"refAttrName: string expected";if(It.docString!=null&&It.hasOwnProperty("docString")&&!At.isString(It.docString))return"docString: string expected";if(It.type!=null&&It.hasOwnProperty("type"))switch(It.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:break}if(It.f!=null&&It.hasOwnProperty("f")&&typeof It.f!="number")return"f: number expected";if(It.i!=null&&It.hasOwnProperty("i")&&!At.isInteger(It.i)&&!(It.i&&At.isInteger(It.i.low)&&At.isInteger(It.i.high)))return"i: integer|Long expected";if(It.s!=null&&It.hasOwnProperty("s")&&!(It.s&&typeof It.s.length=="number"||At.isString(It.s)))return"s: buffer expected";if(It.t!=null&&It.hasOwnProperty("t")){var Qt=Et.onnx.TensorProto.verify(It.t);if(Qt)return"t."+Qt}if(It.g!=null&&It.hasOwnProperty("g")){var Qt=Et.onnx.GraphProto.verify(It.g);if(Qt)return"g."+Qt}if(It.sparseTensor!=null&&It.hasOwnProperty("sparseTensor")){var Qt=Et.onnx.SparseTensorProto.verify(It.sparseTensor);if(Qt)return"sparseTensor."+Qt}if(It.tp!=null&&It.hasOwnProperty("tp")){var Qt=Et.onnx.TypeProto.verify(It.tp);if(Qt)return"tp."+Qt}if(It.floats!=null&&It.hasOwnProperty("floats")){if(!Array.isArray(It.floats))return"floats: array expected";for(var Pt=0;Pt<It.floats.length;++Pt)if(typeof It.floats[Pt]!="number")return"floats: number[] expected"}if(It.ints!=null&&It.hasOwnProperty("ints")){if(!Array.isArray(It.ints))return"ints: array expected";for(var Pt=0;Pt<It.ints.length;++Pt)if(!At.isInteger(It.ints[Pt])&&!(It.ints[Pt]&&At.isInteger(It.ints[Pt].low)&&At.isInteger(It.ints[Pt].high)))return"ints: integer|Long[] expected"}if(It.strings!=null&&It.hasOwnProperty("strings")){if(!Array.isArray(It.strings))return"strings: array expected";for(var Pt=0;Pt<It.strings.length;++Pt)if(!(It.strings[Pt]&&typeof It.strings[Pt].length=="number"||At.isString(It.strings[Pt])))return"strings: buffer[] expected"}if(It.tensors!=null&&It.hasOwnProperty("tensors")){if(!Array.isArray(It.tensors))return"tensors: array expected";for(var Pt=0;Pt<It.tensors.length;++Pt){var Qt=Et.onnx.TensorProto.verify(It.tensors[Pt]);if(Qt)return"tensors."+Qt}}if(It.graphs!=null&&It.hasOwnProperty("graphs")){if(!Array.isArray(It.graphs))return"graphs: array expected";for(var Pt=0;Pt<It.graphs.length;++Pt){var Qt=Et.onnx.GraphProto.verify(It.graphs[Pt]);if(Qt)return"graphs."+Qt}}if(It.sparseTensors!=null&&It.hasOwnProperty("sparseTensors")){if(!Array.isArray(It.sparseTensors))return"sparseTensors: array expected";for(var Pt=0;Pt<It.sparseTensors.length;++Pt){var Qt=Et.onnx.SparseTensorProto.verify(It.sparseTensors[Pt]);if(Qt)return"sparseTensors."+Qt}}if(It.typeProtos!=null&&It.hasOwnProperty("typeProtos")){if(!Array.isArray(It.typeProtos))return"typeProtos: array expected";for(var Pt=0;Pt<It.typeProtos.length;++Pt){var Qt=Et.onnx.TypeProto.verify(It.typeProtos[Pt]);if(Qt)return"typeProtos."+Qt}}return null},zt.fromObject=function(It){if(It instanceof Et.onnx.AttributeProto)return It;var Qt=new Et.onnx.AttributeProto;switch(It.name!=null&&(Qt.name=String(It.name)),It.refAttrName!=null&&(Qt.refAttrName=String(It.refAttrName)),It.docString!=null&&(Qt.docString=String(It.docString)),It.type){default:if(typeof It.type=="number"){Qt.type=It.type;break}break;case"UNDEFINED":case 0:Qt.type=0;break;case"FLOAT":case 1:Qt.type=1;break;case"INT":case 2:Qt.type=2;break;case"STRING":case 3:Qt.type=3;break;case"TENSOR":case 4:Qt.type=4;break;case"GRAPH":case 5:Qt.type=5;break;case"SPARSE_TENSOR":case 11:Qt.type=11;break;case"TYPE_PROTO":case 13:Qt.type=13;break;case"FLOATS":case 6:Qt.type=6;break;case"INTS":case 7:Qt.type=7;break;case"STRINGS":case 8:Qt.type=8;break;case"TENSORS":case 9:Qt.type=9;break;case"GRAPHS":case 10:Qt.type=10;break;case"SPARSE_TENSORS":case 12:Qt.type=12;break;case"TYPE_PROTOS":case 14:Qt.type=14;break}if(It.f!=null&&(Qt.f=Number(It.f)),It.i!=null&&(At.Long?(Qt.i=At.Long.fromValue(It.i)).unsigned=!1:typeof It.i=="string"?Qt.i=parseInt(It.i,10):typeof It.i=="number"?Qt.i=It.i:typeof It.i=="object"&&(Qt.i=new At.LongBits(It.i.low>>>0,It.i.high>>>0).toNumber())),It.s!=null&&(typeof It.s=="string"?At.base64.decode(It.s,Qt.s=At.newBuffer(At.base64.length(It.s)),0):It.s.length>=0&&(Qt.s=It.s)),It.t!=null){if(typeof It.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");Qt.t=Et.onnx.TensorProto.fromObject(It.t)}if(It.g!=null){if(typeof It.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");Qt.g=Et.onnx.GraphProto.fromObject(It.g)}if(It.sparseTensor!=null){if(typeof It.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");Qt.sparseTensor=Et.onnx.SparseTensorProto.fromObject(It.sparseTensor)}if(It.tp!=null){if(typeof It.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");Qt.tp=Et.onnx.TypeProto.fromObject(It.tp)}if(It.floats){if(!Array.isArray(It.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");Qt.floats=[];for(var Pt=0;Pt<It.floats.length;++Pt)Qt.floats[Pt]=Number(It.floats[Pt])}if(It.ints){if(!Array.isArray(It.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");Qt.ints=[];for(var Pt=0;Pt<It.ints.length;++Pt)At.Long?(Qt.ints[Pt]=At.Long.fromValue(It.ints[Pt])).unsigned=!1:typeof It.ints[Pt]=="string"?Qt.ints[Pt]=parseInt(It.ints[Pt],10):typeof It.ints[Pt]=="number"?Qt.ints[Pt]=It.ints[Pt]:typeof It.ints[Pt]=="object"&&(Qt.ints[Pt]=new At.LongBits(It.ints[Pt].low>>>0,It.ints[Pt].high>>>0).toNumber())}if(It.strings){if(!Array.isArray(It.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");Qt.strings=[];for(var Pt=0;Pt<It.strings.length;++Pt)typeof It.strings[Pt]=="string"?At.base64.decode(It.strings[Pt],Qt.strings[Pt]=At.newBuffer(At.base64.length(It.strings[Pt])),0):It.strings[Pt].length>=0&&(Qt.strings[Pt]=It.strings[Pt])}if(It.tensors){if(!Array.isArray(It.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");Qt.tensors=[];for(var Pt=0;Pt<It.tensors.length;++Pt){if(typeof It.tensors[Pt]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");Qt.tensors[Pt]=Et.onnx.TensorProto.fromObject(It.tensors[Pt])}}if(It.graphs){if(!Array.isArray(It.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");Qt.graphs=[];for(var Pt=0;Pt<It.graphs.length;++Pt){if(typeof It.graphs[Pt]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");Qt.graphs[Pt]=Et.onnx.GraphProto.fromObject(It.graphs[Pt])}}if(It.sparseTensors){if(!Array.isArray(It.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");Qt.sparseTensors=[];for(var Pt=0;Pt<It.sparseTensors.length;++Pt){if(typeof It.sparseTensors[Pt]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");Qt.sparseTensors[Pt]=Et.onnx.SparseTensorProto.fromObject(It.sparseTensors[Pt])}}if(It.typeProtos){if(!Array.isArray(It.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");Qt.typeProtos=[];for(var Pt=0;Pt<It.typeProtos.length;++Pt){if(typeof It.typeProtos[Pt]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");Qt.typeProtos[Pt]=Et.onnx.TypeProto.fromObject(It.typeProtos[Pt])}}return Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.floats=[],Pt.ints=[],Pt.strings=[],Pt.tensors=[],Pt.graphs=[],Pt.typeProtos=[],Pt.sparseTensors=[]),Qt.defaults){if(Pt.name="",Pt.f=0,At.Long){var Yt=new At.Long(0,0,!1);Pt.i=Qt.longs===String?Yt.toString():Qt.longs===Number?Yt.toNumber():Yt}else Pt.i=Qt.longs===String?"0":0;Qt.bytes===String?Pt.s="":(Pt.s=[],Qt.bytes!==Array&&(Pt.s=At.newBuffer(Pt.s))),Pt.t=null,Pt.g=null,Pt.docString="",Pt.tp=null,Pt.type=Qt.enums===String?"UNDEFINED":0,Pt.refAttrName="",Pt.sparseTensor=null}if(It.name!=null&&It.hasOwnProperty("name")&&(Pt.name=It.name),It.f!=null&&It.hasOwnProperty("f")&&(Pt.f=Qt.json&&!isFinite(It.f)?String(It.f):It.f),It.i!=null&&It.hasOwnProperty("i")&&(typeof It.i=="number"?Pt.i=Qt.longs===String?String(It.i):It.i:Pt.i=Qt.longs===String?At.Long.prototype.toString.call(It.i):Qt.longs===Number?new At.LongBits(It.i.low>>>0,It.i.high>>>0).toNumber():It.i),It.s!=null&&It.hasOwnProperty("s")&&(Pt.s=Qt.bytes===String?At.base64.encode(It.s,0,It.s.length):Qt.bytes===Array?Array.prototype.slice.call(It.s):It.s),It.t!=null&&It.hasOwnProperty("t")&&(Pt.t=Et.onnx.TensorProto.toObject(It.t,Qt)),It.g!=null&&It.hasOwnProperty("g")&&(Pt.g=Et.onnx.GraphProto.toObject(It.g,Qt)),It.floats&&It.floats.length){Pt.floats=[];for(var cr=0;cr<It.floats.length;++cr)Pt.floats[cr]=Qt.json&&!isFinite(It.floats[cr])?String(It.floats[cr]):It.floats[cr]}if(It.ints&&It.ints.length){Pt.ints=[];for(var cr=0;cr<It.ints.length;++cr)typeof It.ints[cr]=="number"?Pt.ints[cr]=Qt.longs===String?String(It.ints[cr]):It.ints[cr]:Pt.ints[cr]=Qt.longs===String?At.Long.prototype.toString.call(It.ints[cr]):Qt.longs===Number?new At.LongBits(It.ints[cr].low>>>0,It.ints[cr].high>>>0).toNumber():It.ints[cr]}if(It.strings&&It.strings.length){Pt.strings=[];for(var cr=0;cr<It.strings.length;++cr)Pt.strings[cr]=Qt.bytes===String?At.base64.encode(It.strings[cr],0,It.strings[cr].length):Qt.bytes===Array?Array.prototype.slice.call(It.strings[cr]):It.strings[cr]}if(It.tensors&&It.tensors.length){Pt.tensors=[];for(var cr=0;cr<It.tensors.length;++cr)Pt.tensors[cr]=Et.onnx.TensorProto.toObject(It.tensors[cr],Qt)}if(It.graphs&&It.graphs.length){Pt.graphs=[];for(var cr=0;cr<It.graphs.length;++cr)Pt.graphs[cr]=Et.onnx.GraphProto.toObject(It.graphs[cr],Qt)}if(It.docString!=null&&It.hasOwnProperty("docString")&&(Pt.docString=It.docString),It.tp!=null&&It.hasOwnProperty("tp")&&(Pt.tp=Et.onnx.TypeProto.toObject(It.tp,Qt)),It.typeProtos&&It.typeProtos.length){Pt.typeProtos=[];for(var cr=0;cr<It.typeProtos.length;++cr)Pt.typeProtos[cr]=Et.onnx.TypeProto.toObject(It.typeProtos[cr],Qt)}if(It.type!=null&&It.hasOwnProperty("type")&&(Pt.type=Qt.enums===String?Et.onnx.AttributeProto.AttributeType[It.type]===void 0?It.type:Et.onnx.AttributeProto.AttributeType[It.type]:It.type),It.refAttrName!=null&&It.hasOwnProperty("refAttrName")&&(Pt.refAttrName=It.refAttrName),It.sparseTensor!=null&&It.hasOwnProperty("sparseTensor")&&(Pt.sparseTensor=Et.onnx.SparseTensorProto.toObject(It.sparseTensor,Qt)),It.sparseTensors&&It.sparseTensors.length){Pt.sparseTensors=[];for(var cr=0;cr<It.sparseTensors.length;++cr)Pt.sparseTensors[cr]=Et.onnx.SparseTensorProto.toObject(It.sparseTensors[cr],Qt)}return Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.AttributeProto"},zt.AttributeType=function(){var It={},Qt=Object.create(It);return Qt[It[0]="UNDEFINED"]=0,Qt[It[1]="FLOAT"]=1,Qt[It[2]="INT"]=2,Qt[It[3]="STRING"]=3,Qt[It[4]="TENSOR"]=4,Qt[It[5]="GRAPH"]=5,Qt[It[11]="SPARSE_TENSOR"]=11,Qt[It[13]="TYPE_PROTO"]=13,Qt[It[6]="FLOATS"]=6,Qt[It[7]="INTS"]=7,Qt[It[8]="STRINGS"]=8,Qt[It[9]="TENSORS"]=9,Qt[It[10]="GRAPHS"]=10,Qt[It[12]="SPARSE_TENSORS"]=12,Qt[It[14]="TYPE_PROTOS"]=14,Qt}(),zt}(),Ut.ValueInfoProto=function(){function zt(It){if(It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.name="",zt.prototype.type=null,zt.prototype.docString="",zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){return Qt||(Qt=bt.create()),It.name!=null&&Object.hasOwnProperty.call(It,"name")&&Qt.uint32(10).string(It.name),It.type!=null&&Object.hasOwnProperty.call(It,"type")&&Et.onnx.TypeProto.encode(It.type,Qt.uint32(18).fork()).ldelim(),It.docString!=null&&Object.hasOwnProperty.call(It,"docString")&&Qt.uint32(26).string(It.docString),Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.ValueInfoProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.name=It.string();break}case 2:{Yt.type=Et.onnx.TypeProto.decode(It,It.uint32());break}case 3:{Yt.docString=It.string();break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.name!=null&&It.hasOwnProperty("name")&&!At.isString(It.name))return"name: string expected";if(It.type!=null&&It.hasOwnProperty("type")){var Qt=Et.onnx.TypeProto.verify(It.type);if(Qt)return"type."+Qt}return It.docString!=null&&It.hasOwnProperty("docString")&&!At.isString(It.docString)?"docString: string expected":null},zt.fromObject=function(It){if(It instanceof Et.onnx.ValueInfoProto)return It;var Qt=new Et.onnx.ValueInfoProto;if(It.name!=null&&(Qt.name=String(It.name)),It.type!=null){if(typeof It.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");Qt.type=Et.onnx.TypeProto.fromObject(It.type)}return It.docString!=null&&(Qt.docString=String(It.docString)),Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};return Qt.defaults&&(Pt.name="",Pt.type=null,Pt.docString=""),It.name!=null&&It.hasOwnProperty("name")&&(Pt.name=It.name),It.type!=null&&It.hasOwnProperty("type")&&(Pt.type=Et.onnx.TypeProto.toObject(It.type,Qt)),It.docString!=null&&It.hasOwnProperty("docString")&&(Pt.docString=It.docString),Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.ValueInfoProto"},zt}(),Ut.NodeProto=function(){function zt(It){if(this.input=[],this.output=[],this.attribute=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.input=At.emptyArray,zt.prototype.output=At.emptyArray,zt.prototype.name="",zt.prototype.opType="",zt.prototype.domain="",zt.prototype.attribute=At.emptyArray,zt.prototype.docString="",zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.input!=null&&It.input.length)for(var Pt=0;Pt<It.input.length;++Pt)Qt.uint32(10).string(It.input[Pt]);if(It.output!=null&&It.output.length)for(var Pt=0;Pt<It.output.length;++Pt)Qt.uint32(18).string(It.output[Pt]);if(It.name!=null&&Object.hasOwnProperty.call(It,"name")&&Qt.uint32(26).string(It.name),It.opType!=null&&Object.hasOwnProperty.call(It,"opType")&&Qt.uint32(34).string(It.opType),It.attribute!=null&&It.attribute.length)for(var Pt=0;Pt<It.attribute.length;++Pt)Et.onnx.AttributeProto.encode(It.attribute[Pt],Qt.uint32(42).fork()).ldelim();return It.docString!=null&&Object.hasOwnProperty.call(It,"docString")&&Qt.uint32(50).string(It.docString),It.domain!=null&&Object.hasOwnProperty.call(It,"domain")&&Qt.uint32(58).string(It.domain),Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.NodeProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.input&&Yt.input.length||(Yt.input=[]),Yt.input.push(It.string());break}case 2:{Yt.output&&Yt.output.length||(Yt.output=[]),Yt.output.push(It.string());break}case 3:{Yt.name=It.string();break}case 4:{Yt.opType=It.string();break}case 7:{Yt.domain=It.string();break}case 5:{Yt.attribute&&Yt.attribute.length||(Yt.attribute=[]),Yt.attribute.push(Et.onnx.AttributeProto.decode(It,It.uint32()));break}case 6:{Yt.docString=It.string();break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.input!=null&&It.hasOwnProperty("input")){if(!Array.isArray(It.input))return"input: array expected";for(var Qt=0;Qt<It.input.length;++Qt)if(!At.isString(It.input[Qt]))return"input: string[] expected"}if(It.output!=null&&It.hasOwnProperty("output")){if(!Array.isArray(It.output))return"output: array expected";for(var Qt=0;Qt<It.output.length;++Qt)if(!At.isString(It.output[Qt]))return"output: string[] expected"}if(It.name!=null&&It.hasOwnProperty("name")&&!At.isString(It.name))return"name: string expected";if(It.opType!=null&&It.hasOwnProperty("opType")&&!At.isString(It.opType))return"opType: string expected";if(It.domain!=null&&It.hasOwnProperty("domain")&&!At.isString(It.domain))return"domain: string expected";if(It.attribute!=null&&It.hasOwnProperty("attribute")){if(!Array.isArray(It.attribute))return"attribute: array expected";for(var Qt=0;Qt<It.attribute.length;++Qt){var Pt=Et.onnx.AttributeProto.verify(It.attribute[Qt]);if(Pt)return"attribute."+Pt}}return It.docString!=null&&It.hasOwnProperty("docString")&&!At.isString(It.docString)?"docString: string expected":null},zt.fromObject=function(It){if(It instanceof Et.onnx.NodeProto)return It;var Qt=new Et.onnx.NodeProto;if(It.input){if(!Array.isArray(It.input))throw TypeError(".onnx.NodeProto.input: array expected");Qt.input=[];for(var Pt=0;Pt<It.input.length;++Pt)Qt.input[Pt]=String(It.input[Pt])}if(It.output){if(!Array.isArray(It.output))throw TypeError(".onnx.NodeProto.output: array expected");Qt.output=[];for(var Pt=0;Pt<It.output.length;++Pt)Qt.output[Pt]=String(It.output[Pt])}if(It.name!=null&&(Qt.name=String(It.name)),It.opType!=null&&(Qt.opType=String(It.opType)),It.domain!=null&&(Qt.domain=String(It.domain)),It.attribute){if(!Array.isArray(It.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");Qt.attribute=[];for(var Pt=0;Pt<It.attribute.length;++Pt){if(typeof It.attribute[Pt]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");Qt.attribute[Pt]=Et.onnx.AttributeProto.fromObject(It.attribute[Pt])}}return It.docString!=null&&(Qt.docString=String(It.docString)),Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.input=[],Pt.output=[],Pt.attribute=[]),Qt.defaults&&(Pt.name="",Pt.opType="",Pt.docString="",Pt.domain=""),It.input&&It.input.length){Pt.input=[];for(var Yt=0;Yt<It.input.length;++Yt)Pt.input[Yt]=It.input[Yt]}if(It.output&&It.output.length){Pt.output=[];for(var Yt=0;Yt<It.output.length;++Yt)Pt.output[Yt]=It.output[Yt]}if(It.name!=null&&It.hasOwnProperty("name")&&(Pt.name=It.name),It.opType!=null&&It.hasOwnProperty("opType")&&(Pt.opType=It.opType),It.attribute&&It.attribute.length){Pt.attribute=[];for(var Yt=0;Yt<It.attribute.length;++Yt)Pt.attribute[Yt]=Et.onnx.AttributeProto.toObject(It.attribute[Yt],Qt)}return It.docString!=null&&It.hasOwnProperty("docString")&&(Pt.docString=It.docString),It.domain!=null&&It.hasOwnProperty("domain")&&(Pt.domain=It.domain),Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.NodeProto"},zt}(),Ut.TrainingInfoProto=function(){function zt(It){if(this.initializationBinding=[],this.updateBinding=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.initialization=null,zt.prototype.algorithm=null,zt.prototype.initializationBinding=At.emptyArray,zt.prototype.updateBinding=At.emptyArray,zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.initialization!=null&&Object.hasOwnProperty.call(It,"initialization")&&Et.onnx.GraphProto.encode(It.initialization,Qt.uint32(10).fork()).ldelim(),It.algorithm!=null&&Object.hasOwnProperty.call(It,"algorithm")&&Et.onnx.GraphProto.encode(It.algorithm,Qt.uint32(18).fork()).ldelim(),It.initializationBinding!=null&&It.initializationBinding.length)for(var Pt=0;Pt<It.initializationBinding.length;++Pt)Et.onnx.StringStringEntryProto.encode(It.initializationBinding[Pt],Qt.uint32(26).fork()).ldelim();if(It.updateBinding!=null&&It.updateBinding.length)for(var Pt=0;Pt<It.updateBinding.length;++Pt)Et.onnx.StringStringEntryProto.encode(It.updateBinding[Pt],Qt.uint32(34).fork()).ldelim();return Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.TrainingInfoProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.initialization=Et.onnx.GraphProto.decode(It,It.uint32());break}case 2:{Yt.algorithm=Et.onnx.GraphProto.decode(It,It.uint32());break}case 3:{Yt.initializationBinding&&Yt.initializationBinding.length||(Yt.initializationBinding=[]),Yt.initializationBinding.push(Et.onnx.StringStringEntryProto.decode(It,It.uint32()));break}case 4:{Yt.updateBinding&&Yt.updateBinding.length||(Yt.updateBinding=[]),Yt.updateBinding.push(Et.onnx.StringStringEntryProto.decode(It,It.uint32()));break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.initialization!=null&&It.hasOwnProperty("initialization")){var Qt=Et.onnx.GraphProto.verify(It.initialization);if(Qt)return"initialization."+Qt}if(It.algorithm!=null&&It.hasOwnProperty("algorithm")){var Qt=Et.onnx.GraphProto.verify(It.algorithm);if(Qt)return"algorithm."+Qt}if(It.initializationBinding!=null&&It.hasOwnProperty("initializationBinding")){if(!Array.isArray(It.initializationBinding))return"initializationBinding: array expected";for(var Pt=0;Pt<It.initializationBinding.length;++Pt){var Qt=Et.onnx.StringStringEntryProto.verify(It.initializationBinding[Pt]);if(Qt)return"initializationBinding."+Qt}}if(It.updateBinding!=null&&It.hasOwnProperty("updateBinding")){if(!Array.isArray(It.updateBinding))return"updateBinding: array expected";for(var Pt=0;Pt<It.updateBinding.length;++Pt){var Qt=Et.onnx.StringStringEntryProto.verify(It.updateBinding[Pt]);if(Qt)return"updateBinding."+Qt}}return null},zt.fromObject=function(It){if(It instanceof Et.onnx.TrainingInfoProto)return It;var Qt=new Et.onnx.TrainingInfoProto;if(It.initialization!=null){if(typeof It.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");Qt.initialization=Et.onnx.GraphProto.fromObject(It.initialization)}if(It.algorithm!=null){if(typeof It.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");Qt.algorithm=Et.onnx.GraphProto.fromObject(It.algorithm)}if(It.initializationBinding){if(!Array.isArray(It.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");Qt.initializationBinding=[];for(var Pt=0;Pt<It.initializationBinding.length;++Pt){if(typeof It.initializationBinding[Pt]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");Qt.initializationBinding[Pt]=Et.onnx.StringStringEntryProto.fromObject(It.initializationBinding[Pt])}}if(It.updateBinding){if(!Array.isArray(It.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");Qt.updateBinding=[];for(var Pt=0;Pt<It.updateBinding.length;++Pt){if(typeof It.updateBinding[Pt]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");Qt.updateBinding[Pt]=Et.onnx.StringStringEntryProto.fromObject(It.updateBinding[Pt])}}return Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.initializationBinding=[],Pt.updateBinding=[]),Qt.defaults&&(Pt.initialization=null,Pt.algorithm=null),It.initialization!=null&&It.hasOwnProperty("initialization")&&(Pt.initialization=Et.onnx.GraphProto.toObject(It.initialization,Qt)),It.algorithm!=null&&It.hasOwnProperty("algorithm")&&(Pt.algorithm=Et.onnx.GraphProto.toObject(It.algorithm,Qt)),It.initializationBinding&&It.initializationBinding.length){Pt.initializationBinding=[];for(var Yt=0;Yt<It.initializationBinding.length;++Yt)Pt.initializationBinding[Yt]=Et.onnx.StringStringEntryProto.toObject(It.initializationBinding[Yt],Qt)}if(It.updateBinding&&It.updateBinding.length){Pt.updateBinding=[];for(var Yt=0;Yt<It.updateBinding.length;++Yt)Pt.updateBinding[Yt]=Et.onnx.StringStringEntryProto.toObject(It.updateBinding[Yt],Qt)}return Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.TrainingInfoProto"},zt}(),Ut.ModelProto=function(){function zt(It){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.irVersion=At.Long?At.Long.fromBits(0,0,!1):0,zt.prototype.opsetImport=At.emptyArray,zt.prototype.producerName="",zt.prototype.producerVersion="",zt.prototype.domain="",zt.prototype.modelVersion=At.Long?At.Long.fromBits(0,0,!1):0,zt.prototype.docString="",zt.prototype.graph=null,zt.prototype.metadataProps=At.emptyArray,zt.prototype.trainingInfo=At.emptyArray,zt.prototype.functions=At.emptyArray,zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.irVersion!=null&&Object.hasOwnProperty.call(It,"irVersion")&&Qt.uint32(8).int64(It.irVersion),It.producerName!=null&&Object.hasOwnProperty.call(It,"producerName")&&Qt.uint32(18).string(It.producerName),It.producerVersion!=null&&Object.hasOwnProperty.call(It,"producerVersion")&&Qt.uint32(26).string(It.producerVersion),It.domain!=null&&Object.hasOwnProperty.call(It,"domain")&&Qt.uint32(34).string(It.domain),It.modelVersion!=null&&Object.hasOwnProperty.call(It,"modelVersion")&&Qt.uint32(40).int64(It.modelVersion),It.docString!=null&&Object.hasOwnProperty.call(It,"docString")&&Qt.uint32(50).string(It.docString),It.graph!=null&&Object.hasOwnProperty.call(It,"graph")&&Et.onnx.GraphProto.encode(It.graph,Qt.uint32(58).fork()).ldelim(),It.opsetImport!=null&&It.opsetImport.length)for(var Pt=0;Pt<It.opsetImport.length;++Pt)Et.onnx.OperatorSetIdProto.encode(It.opsetImport[Pt],Qt.uint32(66).fork()).ldelim();if(It.metadataProps!=null&&It.metadataProps.length)for(var Pt=0;Pt<It.metadataProps.length;++Pt)Et.onnx.StringStringEntryProto.encode(It.metadataProps[Pt],Qt.uint32(114).fork()).ldelim();if(It.trainingInfo!=null&&It.trainingInfo.length)for(var Pt=0;Pt<It.trainingInfo.length;++Pt)Et.onnx.TrainingInfoProto.encode(It.trainingInfo[Pt],Qt.uint32(162).fork()).ldelim();if(It.functions!=null&&It.functions.length)for(var Pt=0;Pt<It.functions.length;++Pt)Et.onnx.FunctionProto.encode(It.functions[Pt],Qt.uint32(202).fork()).ldelim();return Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.ModelProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.irVersion=It.int64();break}case 8:{Yt.opsetImport&&Yt.opsetImport.length||(Yt.opsetImport=[]),Yt.opsetImport.push(Et.onnx.OperatorSetIdProto.decode(It,It.uint32()));break}case 2:{Yt.producerName=It.string();break}case 3:{Yt.producerVersion=It.string();break}case 4:{Yt.domain=It.string();break}case 5:{Yt.modelVersion=It.int64();break}case 6:{Yt.docString=It.string();break}case 7:{Yt.graph=Et.onnx.GraphProto.decode(It,It.uint32());break}case 14:{Yt.metadataProps&&Yt.metadataProps.length||(Yt.metadataProps=[]),Yt.metadataProps.push(Et.onnx.StringStringEntryProto.decode(It,It.uint32()));break}case 20:{Yt.trainingInfo&&Yt.trainingInfo.length||(Yt.trainingInfo=[]),Yt.trainingInfo.push(Et.onnx.TrainingInfoProto.decode(It,It.uint32()));break}case 25:{Yt.functions&&Yt.functions.length||(Yt.functions=[]),Yt.functions.push(Et.onnx.FunctionProto.decode(It,It.uint32()));break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.irVersion!=null&&It.hasOwnProperty("irVersion")&&!At.isInteger(It.irVersion)&&!(It.irVersion&&At.isInteger(It.irVersion.low)&&At.isInteger(It.irVersion.high)))return"irVersion: integer|Long expected";if(It.opsetImport!=null&&It.hasOwnProperty("opsetImport")){if(!Array.isArray(It.opsetImport))return"opsetImport: array expected";for(var Qt=0;Qt<It.opsetImport.length;++Qt){var Pt=Et.onnx.OperatorSetIdProto.verify(It.opsetImport[Qt]);if(Pt)return"opsetImport."+Pt}}if(It.producerName!=null&&It.hasOwnProperty("producerName")&&!At.isString(It.producerName))return"producerName: string expected";if(It.producerVersion!=null&&It.hasOwnProperty("producerVersion")&&!At.isString(It.producerVersion))return"producerVersion: string expected";if(It.domain!=null&&It.hasOwnProperty("domain")&&!At.isString(It.domain))return"domain: string expected";if(It.modelVersion!=null&&It.hasOwnProperty("modelVersion")&&!At.isInteger(It.modelVersion)&&!(It.modelVersion&&At.isInteger(It.modelVersion.low)&&At.isInteger(It.modelVersion.high)))return"modelVersion: integer|Long expected";if(It.docString!=null&&It.hasOwnProperty("docString")&&!At.isString(It.docString))return"docString: string expected";if(It.graph!=null&&It.hasOwnProperty("graph")){var Pt=Et.onnx.GraphProto.verify(It.graph);if(Pt)return"graph."+Pt}if(It.metadataProps!=null&&It.hasOwnProperty("metadataProps")){if(!Array.isArray(It.metadataProps))return"metadataProps: array expected";for(var Qt=0;Qt<It.metadataProps.length;++Qt){var Pt=Et.onnx.StringStringEntryProto.verify(It.metadataProps[Qt]);if(Pt)return"metadataProps."+Pt}}if(It.trainingInfo!=null&&It.hasOwnProperty("trainingInfo")){if(!Array.isArray(It.trainingInfo))return"trainingInfo: array expected";for(var Qt=0;Qt<It.trainingInfo.length;++Qt){var Pt=Et.onnx.TrainingInfoProto.verify(It.trainingInfo[Qt]);if(Pt)return"trainingInfo."+Pt}}if(It.functions!=null&&It.hasOwnProperty("functions")){if(!Array.isArray(It.functions))return"functions: array expected";for(var Qt=0;Qt<It.functions.length;++Qt){var Pt=Et.onnx.FunctionProto.verify(It.functions[Qt]);if(Pt)return"functions."+Pt}}return null},zt.fromObject=function(It){if(It instanceof Et.onnx.ModelProto)return It;var Qt=new Et.onnx.ModelProto;if(It.irVersion!=null&&(At.Long?(Qt.irVersion=At.Long.fromValue(It.irVersion)).unsigned=!1:typeof It.irVersion=="string"?Qt.irVersion=parseInt(It.irVersion,10):typeof It.irVersion=="number"?Qt.irVersion=It.irVersion:typeof It.irVersion=="object"&&(Qt.irVersion=new At.LongBits(It.irVersion.low>>>0,It.irVersion.high>>>0).toNumber())),It.opsetImport){if(!Array.isArray(It.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");Qt.opsetImport=[];for(var Pt=0;Pt<It.opsetImport.length;++Pt){if(typeof It.opsetImport[Pt]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");Qt.opsetImport[Pt]=Et.onnx.OperatorSetIdProto.fromObject(It.opsetImport[Pt])}}if(It.producerName!=null&&(Qt.producerName=String(It.producerName)),It.producerVersion!=null&&(Qt.producerVersion=String(It.producerVersion)),It.domain!=null&&(Qt.domain=String(It.domain)),It.modelVersion!=null&&(At.Long?(Qt.modelVersion=At.Long.fromValue(It.modelVersion)).unsigned=!1:typeof It.modelVersion=="string"?Qt.modelVersion=parseInt(It.modelVersion,10):typeof It.modelVersion=="number"?Qt.modelVersion=It.modelVersion:typeof It.modelVersion=="object"&&(Qt.modelVersion=new At.LongBits(It.modelVersion.low>>>0,It.modelVersion.high>>>0).toNumber())),It.docString!=null&&(Qt.docString=String(It.docString)),It.graph!=null){if(typeof It.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");Qt.graph=Et.onnx.GraphProto.fromObject(It.graph)}if(It.metadataProps){if(!Array.isArray(It.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");Qt.metadataProps=[];for(var Pt=0;Pt<It.metadataProps.length;++Pt){if(typeof It.metadataProps[Pt]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");Qt.metadataProps[Pt]=Et.onnx.StringStringEntryProto.fromObject(It.metadataProps[Pt])}}if(It.trainingInfo){if(!Array.isArray(It.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");Qt.trainingInfo=[];for(var Pt=0;Pt<It.trainingInfo.length;++Pt){if(typeof It.trainingInfo[Pt]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");Qt.trainingInfo[Pt]=Et.onnx.TrainingInfoProto.fromObject(It.trainingInfo[Pt])}}if(It.functions){if(!Array.isArray(It.functions))throw TypeError(".onnx.ModelProto.functions: array expected");Qt.functions=[];for(var Pt=0;Pt<It.functions.length;++Pt){if(typeof It.functions[Pt]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");Qt.functions[Pt]=Et.onnx.FunctionProto.fromObject(It.functions[Pt])}}return Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.opsetImport=[],Pt.metadataProps=[],Pt.trainingInfo=[],Pt.functions=[]),Qt.defaults){if(At.Long){var Yt=new At.Long(0,0,!1);Pt.irVersion=Qt.longs===String?Yt.toString():Qt.longs===Number?Yt.toNumber():Yt}else Pt.irVersion=Qt.longs===String?"0":0;if(Pt.producerName="",Pt.producerVersion="",Pt.domain="",At.Long){var Yt=new At.Long(0,0,!1);Pt.modelVersion=Qt.longs===String?Yt.toString():Qt.longs===Number?Yt.toNumber():Yt}else Pt.modelVersion=Qt.longs===String?"0":0;Pt.docString="",Pt.graph=null}if(It.irVersion!=null&&It.hasOwnProperty("irVersion")&&(typeof It.irVersion=="number"?Pt.irVersion=Qt.longs===String?String(It.irVersion):It.irVersion:Pt.irVersion=Qt.longs===String?At.Long.prototype.toString.call(It.irVersion):Qt.longs===Number?new At.LongBits(It.irVersion.low>>>0,It.irVersion.high>>>0).toNumber():It.irVersion),It.producerName!=null&&It.hasOwnProperty("producerName")&&(Pt.producerName=It.producerName),It.producerVersion!=null&&It.hasOwnProperty("producerVersion")&&(Pt.producerVersion=It.producerVersion),It.domain!=null&&It.hasOwnProperty("domain")&&(Pt.domain=It.domain),It.modelVersion!=null&&It.hasOwnProperty("modelVersion")&&(typeof It.modelVersion=="number"?Pt.modelVersion=Qt.longs===String?String(It.modelVersion):It.modelVersion:Pt.modelVersion=Qt.longs===String?At.Long.prototype.toString.call(It.modelVersion):Qt.longs===Number?new At.LongBits(It.modelVersion.low>>>0,It.modelVersion.high>>>0).toNumber():It.modelVersion),It.docString!=null&&It.hasOwnProperty("docString")&&(Pt.docString=It.docString),It.graph!=null&&It.hasOwnProperty("graph")&&(Pt.graph=Et.onnx.GraphProto.toObject(It.graph,Qt)),It.opsetImport&&It.opsetImport.length){Pt.opsetImport=[];for(var cr=0;cr<It.opsetImport.length;++cr)Pt.opsetImport[cr]=Et.onnx.OperatorSetIdProto.toObject(It.opsetImport[cr],Qt)}if(It.metadataProps&&It.metadataProps.length){Pt.metadataProps=[];for(var cr=0;cr<It.metadataProps.length;++cr)Pt.metadataProps[cr]=Et.onnx.StringStringEntryProto.toObject(It.metadataProps[cr],Qt)}if(It.trainingInfo&&It.trainingInfo.length){Pt.trainingInfo=[];for(var cr=0;cr<It.trainingInfo.length;++cr)Pt.trainingInfo[cr]=Et.onnx.TrainingInfoProto.toObject(It.trainingInfo[cr],Qt)}if(It.functions&&It.functions.length){Pt.functions=[];for(var cr=0;cr<It.functions.length;++cr)Pt.functions[cr]=Et.onnx.FunctionProto.toObject(It.functions[cr],Qt)}return Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.ModelProto"},zt}(),Ut.StringStringEntryProto=function(){function zt(It){if(It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.key="",zt.prototype.value="",zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){return Qt||(Qt=bt.create()),It.key!=null&&Object.hasOwnProperty.call(It,"key")&&Qt.uint32(10).string(It.key),It.value!=null&&Object.hasOwnProperty.call(It,"value")&&Qt.uint32(18).string(It.value),Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.StringStringEntryProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.key=It.string();break}case 2:{Yt.value=It.string();break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){return typeof It!="object"||It===null?"object expected":It.key!=null&&It.hasOwnProperty("key")&&!At.isString(It.key)?"key: string expected":It.value!=null&&It.hasOwnProperty("value")&&!At.isString(It.value)?"value: string expected":null},zt.fromObject=function(It){if(It instanceof Et.onnx.StringStringEntryProto)return It;var Qt=new Et.onnx.StringStringEntryProto;return It.key!=null&&(Qt.key=String(It.key)),It.value!=null&&(Qt.value=String(It.value)),Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};return Qt.defaults&&(Pt.key="",Pt.value=""),It.key!=null&&It.hasOwnProperty("key")&&(Pt.key=It.key),It.value!=null&&It.hasOwnProperty("value")&&(Pt.value=It.value),Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.StringStringEntryProto"},zt}(),Ut.TensorAnnotation=function(){function zt(It){if(this.quantParameterTensorNames=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.tensorName="",zt.prototype.quantParameterTensorNames=At.emptyArray,zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.tensorName!=null&&Object.hasOwnProperty.call(It,"tensorName")&&Qt.uint32(10).string(It.tensorName),It.quantParameterTensorNames!=null&&It.quantParameterTensorNames.length)for(var Pt=0;Pt<It.quantParameterTensorNames.length;++Pt)Et.onnx.StringStringEntryProto.encode(It.quantParameterTensorNames[Pt],Qt.uint32(18).fork()).ldelim();return Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.TensorAnnotation;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.tensorName=It.string();break}case 2:{Yt.quantParameterTensorNames&&Yt.quantParameterTensorNames.length||(Yt.quantParameterTensorNames=[]),Yt.quantParameterTensorNames.push(Et.onnx.StringStringEntryProto.decode(It,It.uint32()));break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.tensorName!=null&&It.hasOwnProperty("tensorName")&&!At.isString(It.tensorName))return"tensorName: string expected";if(It.quantParameterTensorNames!=null&&It.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(It.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var Qt=0;Qt<It.quantParameterTensorNames.length;++Qt){var Pt=Et.onnx.StringStringEntryProto.verify(It.quantParameterTensorNames[Qt]);if(Pt)return"quantParameterTensorNames."+Pt}}return null},zt.fromObject=function(It){if(It instanceof Et.onnx.TensorAnnotation)return It;var Qt=new Et.onnx.TensorAnnotation;if(It.tensorName!=null&&(Qt.tensorName=String(It.tensorName)),It.quantParameterTensorNames){if(!Array.isArray(It.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");Qt.quantParameterTensorNames=[];for(var Pt=0;Pt<It.quantParameterTensorNames.length;++Pt){if(typeof It.quantParameterTensorNames[Pt]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");Qt.quantParameterTensorNames[Pt]=Et.onnx.StringStringEntryProto.fromObject(It.quantParameterTensorNames[Pt])}}return Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.quantParameterTensorNames=[]),Qt.defaults&&(Pt.tensorName=""),It.tensorName!=null&&It.hasOwnProperty("tensorName")&&(Pt.tensorName=It.tensorName),It.quantParameterTensorNames&&It.quantParameterTensorNames.length){Pt.quantParameterTensorNames=[];for(var Yt=0;Yt<It.quantParameterTensorNames.length;++Yt)Pt.quantParameterTensorNames[Yt]=Et.onnx.StringStringEntryProto.toObject(It.quantParameterTensorNames[Yt],Qt)}return Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.TensorAnnotation"},zt}(),Ut.GraphProto=function(){function zt(It){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.node=At.emptyArray,zt.prototype.name="",zt.prototype.initializer=At.emptyArray,zt.prototype.sparseInitializer=At.emptyArray,zt.prototype.docString="",zt.prototype.input=At.emptyArray,zt.prototype.output=At.emptyArray,zt.prototype.valueInfo=At.emptyArray,zt.prototype.quantizationAnnotation=At.emptyArray,zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.node!=null&&It.node.length)for(var Pt=0;Pt<It.node.length;++Pt)Et.onnx.NodeProto.encode(It.node[Pt],Qt.uint32(10).fork()).ldelim();if(It.name!=null&&Object.hasOwnProperty.call(It,"name")&&Qt.uint32(18).string(It.name),It.initializer!=null&&It.initializer.length)for(var Pt=0;Pt<It.initializer.length;++Pt)Et.onnx.TensorProto.encode(It.initializer[Pt],Qt.uint32(42).fork()).ldelim();if(It.docString!=null&&Object.hasOwnProperty.call(It,"docString")&&Qt.uint32(82).string(It.docString),It.input!=null&&It.input.length)for(var Pt=0;Pt<It.input.length;++Pt)Et.onnx.ValueInfoProto.encode(It.input[Pt],Qt.uint32(90).fork()).ldelim();if(It.output!=null&&It.output.length)for(var Pt=0;Pt<It.output.length;++Pt)Et.onnx.ValueInfoProto.encode(It.output[Pt],Qt.uint32(98).fork()).ldelim();if(It.valueInfo!=null&&It.valueInfo.length)for(var Pt=0;Pt<It.valueInfo.length;++Pt)Et.onnx.ValueInfoProto.encode(It.valueInfo[Pt],Qt.uint32(106).fork()).ldelim();if(It.quantizationAnnotation!=null&&It.quantizationAnnotation.length)for(var Pt=0;Pt<It.quantizationAnnotation.length;++Pt)Et.onnx.TensorAnnotation.encode(It.quantizationAnnotation[Pt],Qt.uint32(114).fork()).ldelim();if(It.sparseInitializer!=null&&It.sparseInitializer.length)for(var Pt=0;Pt<It.sparseInitializer.length;++Pt)Et.onnx.SparseTensorProto.encode(It.sparseInitializer[Pt],Qt.uint32(122).fork()).ldelim();return Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.GraphProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.node&&Yt.node.length||(Yt.node=[]),Yt.node.push(Et.onnx.NodeProto.decode(It,It.uint32()));break}case 2:{Yt.name=It.string();break}case 5:{Yt.initializer&&Yt.initializer.length||(Yt.initializer=[]),Yt.initializer.push(Et.onnx.TensorProto.decode(It,It.uint32()));break}case 15:{Yt.sparseInitializer&&Yt.sparseInitializer.length||(Yt.sparseInitializer=[]),Yt.sparseInitializer.push(Et.onnx.SparseTensorProto.decode(It,It.uint32()));break}case 10:{Yt.docString=It.string();break}case 11:{Yt.input&&Yt.input.length||(Yt.input=[]),Yt.input.push(Et.onnx.ValueInfoProto.decode(It,It.uint32()));break}case 12:{Yt.output&&Yt.output.length||(Yt.output=[]),Yt.output.push(Et.onnx.ValueInfoProto.decode(It,It.uint32()));break}case 13:{Yt.valueInfo&&Yt.valueInfo.length||(Yt.valueInfo=[]),Yt.valueInfo.push(Et.onnx.ValueInfoProto.decode(It,It.uint32()));break}case 14:{Yt.quantizationAnnotation&&Yt.quantizationAnnotation.length||(Yt.quantizationAnnotation=[]),Yt.quantizationAnnotation.push(Et.onnx.TensorAnnotation.decode(It,It.uint32()));break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.node!=null&&It.hasOwnProperty("node")){if(!Array.isArray(It.node))return"node: array expected";for(var Qt=0;Qt<It.node.length;++Qt){var Pt=Et.onnx.NodeProto.verify(It.node[Qt]);if(Pt)return"node."+Pt}}if(It.name!=null&&It.hasOwnProperty("name")&&!At.isString(It.name))return"name: string expected";if(It.initializer!=null&&It.hasOwnProperty("initializer")){if(!Array.isArray(It.initializer))return"initializer: array expected";for(var Qt=0;Qt<It.initializer.length;++Qt){var Pt=Et.onnx.TensorProto.verify(It.initializer[Qt]);if(Pt)return"initializer."+Pt}}if(It.sparseInitializer!=null&&It.hasOwnProperty("sparseInitializer")){if(!Array.isArray(It.sparseInitializer))return"sparseInitializer: array expected";for(var Qt=0;Qt<It.sparseInitializer.length;++Qt){var Pt=Et.onnx.SparseTensorProto.verify(It.sparseInitializer[Qt]);if(Pt)return"sparseInitializer."+Pt}}if(It.docString!=null&&It.hasOwnProperty("docString")&&!At.isString(It.docString))return"docString: string expected";if(It.input!=null&&It.hasOwnProperty("input")){if(!Array.isArray(It.input))return"input: array expected";for(var Qt=0;Qt<It.input.length;++Qt){var Pt=Et.onnx.ValueInfoProto.verify(It.input[Qt]);if(Pt)return"input."+Pt}}if(It.output!=null&&It.hasOwnProperty("output")){if(!Array.isArray(It.output))return"output: array expected";for(var Qt=0;Qt<It.output.length;++Qt){var Pt=Et.onnx.ValueInfoProto.verify(It.output[Qt]);if(Pt)return"output."+Pt}}if(It.valueInfo!=null&&It.hasOwnProperty("valueInfo")){if(!Array.isArray(It.valueInfo))return"valueInfo: array expected";for(var Qt=0;Qt<It.valueInfo.length;++Qt){var Pt=Et.onnx.ValueInfoProto.verify(It.valueInfo[Qt]);if(Pt)return"valueInfo."+Pt}}if(It.quantizationAnnotation!=null&&It.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(It.quantizationAnnotation))return"quantizationAnnotation: array expected";for(var Qt=0;Qt<It.quantizationAnnotation.length;++Qt){var Pt=Et.onnx.TensorAnnotation.verify(It.quantizationAnnotation[Qt]);if(Pt)return"quantizationAnnotation."+Pt}}return null},zt.fromObject=function(It){if(It instanceof Et.onnx.GraphProto)return It;var Qt=new Et.onnx.GraphProto;if(It.node){if(!Array.isArray(It.node))throw TypeError(".onnx.GraphProto.node: array expected");Qt.node=[];for(var Pt=0;Pt<It.node.length;++Pt){if(typeof It.node[Pt]!="object")throw TypeError(".onnx.GraphProto.node: object expected");Qt.node[Pt]=Et.onnx.NodeProto.fromObject(It.node[Pt])}}if(It.name!=null&&(Qt.name=String(It.name)),It.initializer){if(!Array.isArray(It.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");Qt.initializer=[];for(var Pt=0;Pt<It.initializer.length;++Pt){if(typeof It.initializer[Pt]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");Qt.initializer[Pt]=Et.onnx.TensorProto.fromObject(It.initializer[Pt])}}if(It.sparseInitializer){if(!Array.isArray(It.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");Qt.sparseInitializer=[];for(var Pt=0;Pt<It.sparseInitializer.length;++Pt){if(typeof It.sparseInitializer[Pt]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");Qt.sparseInitializer[Pt]=Et.onnx.SparseTensorProto.fromObject(It.sparseInitializer[Pt])}}if(It.docString!=null&&(Qt.docString=String(It.docString)),It.input){if(!Array.isArray(It.input))throw TypeError(".onnx.GraphProto.input: array expected");Qt.input=[];for(var Pt=0;Pt<It.input.length;++Pt){if(typeof It.input[Pt]!="object")throw TypeError(".onnx.GraphProto.input: object expected");Qt.input[Pt]=Et.onnx.ValueInfoProto.fromObject(It.input[Pt])}}if(It.output){if(!Array.isArray(It.output))throw TypeError(".onnx.GraphProto.output: array expected");Qt.output=[];for(var Pt=0;Pt<It.output.length;++Pt){if(typeof It.output[Pt]!="object")throw TypeError(".onnx.GraphProto.output: object expected");Qt.output[Pt]=Et.onnx.ValueInfoProto.fromObject(It.output[Pt])}}if(It.valueInfo){if(!Array.isArray(It.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");Qt.valueInfo=[];for(var Pt=0;Pt<It.valueInfo.length;++Pt){if(typeof It.valueInfo[Pt]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");Qt.valueInfo[Pt]=Et.onnx.ValueInfoProto.fromObject(It.valueInfo[Pt])}}if(It.quantizationAnnotation){if(!Array.isArray(It.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");Qt.quantizationAnnotation=[];for(var Pt=0;Pt<It.quantizationAnnotation.length;++Pt){if(typeof It.quantizationAnnotation[Pt]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");Qt.quantizationAnnotation[Pt]=Et.onnx.TensorAnnotation.fromObject(It.quantizationAnnotation[Pt])}}return Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.node=[],Pt.initializer=[],Pt.input=[],Pt.output=[],Pt.valueInfo=[],Pt.quantizationAnnotation=[],Pt.sparseInitializer=[]),Qt.defaults&&(Pt.name="",Pt.docString=""),It.node&&It.node.length){Pt.node=[];for(var Yt=0;Yt<It.node.length;++Yt)Pt.node[Yt]=Et.onnx.NodeProto.toObject(It.node[Yt],Qt)}if(It.name!=null&&It.hasOwnProperty("name")&&(Pt.name=It.name),It.initializer&&It.initializer.length){Pt.initializer=[];for(var Yt=0;Yt<It.initializer.length;++Yt)Pt.initializer[Yt]=Et.onnx.TensorProto.toObject(It.initializer[Yt],Qt)}if(It.docString!=null&&It.hasOwnProperty("docString")&&(Pt.docString=It.docString),It.input&&It.input.length){Pt.input=[];for(var Yt=0;Yt<It.input.length;++Yt)Pt.input[Yt]=Et.onnx.ValueInfoProto.toObject(It.input[Yt],Qt)}if(It.output&&It.output.length){Pt.output=[];for(var Yt=0;Yt<It.output.length;++Yt)Pt.output[Yt]=Et.onnx.ValueInfoProto.toObject(It.output[Yt],Qt)}if(It.valueInfo&&It.valueInfo.length){Pt.valueInfo=[];for(var Yt=0;Yt<It.valueInfo.length;++Yt)Pt.valueInfo[Yt]=Et.onnx.ValueInfoProto.toObject(It.valueInfo[Yt],Qt)}if(It.quantizationAnnotation&&It.quantizationAnnotation.length){Pt.quantizationAnnotation=[];for(var Yt=0;Yt<It.quantizationAnnotation.length;++Yt)Pt.quantizationAnnotation[Yt]=Et.onnx.TensorAnnotation.toObject(It.quantizationAnnotation[Yt],Qt)}if(It.sparseInitializer&&It.sparseInitializer.length){Pt.sparseInitializer=[];for(var Yt=0;Yt<It.sparseInitializer.length;++Yt)Pt.sparseInitializer[Yt]=Et.onnx.SparseTensorProto.toObject(It.sparseInitializer[Yt],Qt)}return Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.GraphProto"},zt}(),Ut.TensorProto=function(){function zt(It){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.dims=At.emptyArray,zt.prototype.dataType=0,zt.prototype.segment=null,zt.prototype.floatData=At.emptyArray,zt.prototype.int32Data=At.emptyArray,zt.prototype.stringData=At.emptyArray,zt.prototype.int64Data=At.emptyArray,zt.prototype.name="",zt.prototype.docString="",zt.prototype.rawData=At.newBuffer([]),zt.prototype.externalData=At.emptyArray,zt.prototype.dataLocation=0,zt.prototype.doubleData=At.emptyArray,zt.prototype.uint64Data=At.emptyArray,zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.dims!=null&&It.dims.length){Qt.uint32(10).fork();for(var Pt=0;Pt<It.dims.length;++Pt)Qt.int64(It.dims[Pt]);Qt.ldelim()}if(It.dataType!=null&&Object.hasOwnProperty.call(It,"dataType")&&Qt.uint32(16).int32(It.dataType),It.segment!=null&&Object.hasOwnProperty.call(It,"segment")&&Et.onnx.TensorProto.Segment.encode(It.segment,Qt.uint32(26).fork()).ldelim(),It.floatData!=null&&It.floatData.length){Qt.uint32(34).fork();for(var Pt=0;Pt<It.floatData.length;++Pt)Qt.float(It.floatData[Pt]);Qt.ldelim()}if(It.int32Data!=null&&It.int32Data.length){Qt.uint32(42).fork();for(var Pt=0;Pt<It.int32Data.length;++Pt)Qt.int32(It.int32Data[Pt]);Qt.ldelim()}if(It.stringData!=null&&It.stringData.length)for(var Pt=0;Pt<It.stringData.length;++Pt)Qt.uint32(50).bytes(It.stringData[Pt]);if(It.int64Data!=null&&It.int64Data.length){Qt.uint32(58).fork();for(var Pt=0;Pt<It.int64Data.length;++Pt)Qt.int64(It.int64Data[Pt]);Qt.ldelim()}if(It.name!=null&&Object.hasOwnProperty.call(It,"name")&&Qt.uint32(66).string(It.name),It.rawData!=null&&Object.hasOwnProperty.call(It,"rawData")&&Qt.uint32(74).bytes(It.rawData),It.doubleData!=null&&It.doubleData.length){Qt.uint32(82).fork();for(var Pt=0;Pt<It.doubleData.length;++Pt)Qt.double(It.doubleData[Pt]);Qt.ldelim()}if(It.uint64Data!=null&&It.uint64Data.length){Qt.uint32(90).fork();for(var Pt=0;Pt<It.uint64Data.length;++Pt)Qt.uint64(It.uint64Data[Pt]);Qt.ldelim()}if(It.docString!=null&&Object.hasOwnProperty.call(It,"docString")&&Qt.uint32(98).string(It.docString),It.externalData!=null&&It.externalData.length)for(var Pt=0;Pt<It.externalData.length;++Pt)Et.onnx.StringStringEntryProto.encode(It.externalData[Pt],Qt.uint32(106).fork()).ldelim();return It.dataLocation!=null&&Object.hasOwnProperty.call(It,"dataLocation")&&Qt.uint32(112).int32(It.dataLocation),Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.TensorProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{if(Yt.dims&&Yt.dims.length||(Yt.dims=[]),(cr&7)===2)for(var _r=It.uint32()+It.pos;It.pos<_r;)Yt.dims.push(It.int64());else Yt.dims.push(It.int64());break}case 2:{Yt.dataType=It.int32();break}case 3:{Yt.segment=Et.onnx.TensorProto.Segment.decode(It,It.uint32());break}case 4:{if(Yt.floatData&&Yt.floatData.length||(Yt.floatData=[]),(cr&7)===2)for(var _r=It.uint32()+It.pos;It.pos<_r;)Yt.floatData.push(It.float());else Yt.floatData.push(It.float());break}case 5:{if(Yt.int32Data&&Yt.int32Data.length||(Yt.int32Data=[]),(cr&7)===2)for(var _r=It.uint32()+It.pos;It.pos<_r;)Yt.int32Data.push(It.int32());else Yt.int32Data.push(It.int32());break}case 6:{Yt.stringData&&Yt.stringData.length||(Yt.stringData=[]),Yt.stringData.push(It.bytes());break}case 7:{if(Yt.int64Data&&Yt.int64Data.length||(Yt.int64Data=[]),(cr&7)===2)for(var _r=It.uint32()+It.pos;It.pos<_r;)Yt.int64Data.push(It.int64());else Yt.int64Data.push(It.int64());break}case 8:{Yt.name=It.string();break}case 12:{Yt.docString=It.string();break}case 9:{Yt.rawData=It.bytes();break}case 13:{Yt.externalData&&Yt.externalData.length||(Yt.externalData=[]),Yt.externalData.push(Et.onnx.StringStringEntryProto.decode(It,It.uint32()));break}case 14:{Yt.dataLocation=It.int32();break}case 10:{if(Yt.doubleData&&Yt.doubleData.length||(Yt.doubleData=[]),(cr&7)===2)for(var _r=It.uint32()+It.pos;It.pos<_r;)Yt.doubleData.push(It.double());else Yt.doubleData.push(It.double());break}case 11:{if(Yt.uint64Data&&Yt.uint64Data.length||(Yt.uint64Data=[]),(cr&7)===2)for(var _r=It.uint32()+It.pos;It.pos<_r;)Yt.uint64Data.push(It.uint64());else Yt.uint64Data.push(It.uint64());break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.dims!=null&&It.hasOwnProperty("dims")){if(!Array.isArray(It.dims))return"dims: array expected";for(var Qt=0;Qt<It.dims.length;++Qt)if(!At.isInteger(It.dims[Qt])&&!(It.dims[Qt]&&At.isInteger(It.dims[Qt].low)&&At.isInteger(It.dims[Qt].high)))return"dims: integer|Long[] expected"}if(It.dataType!=null&&It.hasOwnProperty("dataType")&&!At.isInteger(It.dataType))return"dataType: integer expected";if(It.segment!=null&&It.hasOwnProperty("segment")){var Pt=Et.onnx.TensorProto.Segment.verify(It.segment);if(Pt)return"segment."+Pt}if(It.floatData!=null&&It.hasOwnProperty("floatData")){if(!Array.isArray(It.floatData))return"floatData: array expected";for(var Qt=0;Qt<It.floatData.length;++Qt)if(typeof It.floatData[Qt]!="number")return"floatData: number[] expected"}if(It.int32Data!=null&&It.hasOwnProperty("int32Data")){if(!Array.isArray(It.int32Data))return"int32Data: array expected";for(var Qt=0;Qt<It.int32Data.length;++Qt)if(!At.isInteger(It.int32Data[Qt]))return"int32Data: integer[] expected"}if(It.stringData!=null&&It.hasOwnProperty("stringData")){if(!Array.isArray(It.stringData))return"stringData: array expected";for(var Qt=0;Qt<It.stringData.length;++Qt)if(!(It.stringData[Qt]&&typeof It.stringData[Qt].length=="number"||At.isString(It.stringData[Qt])))return"stringData: buffer[] expected"}if(It.int64Data!=null&&It.hasOwnProperty("int64Data")){if(!Array.isArray(It.int64Data))return"int64Data: array expected";for(var Qt=0;Qt<It.int64Data.length;++Qt)if(!At.isInteger(It.int64Data[Qt])&&!(It.int64Data[Qt]&&At.isInteger(It.int64Data[Qt].low)&&At.isInteger(It.int64Data[Qt].high)))return"int64Data: integer|Long[] expected"}if(It.name!=null&&It.hasOwnProperty("name")&&!At.isString(It.name))return"name: string expected";if(It.docString!=null&&It.hasOwnProperty("docString")&&!At.isString(It.docString))return"docString: string expected";if(It.rawData!=null&&It.hasOwnProperty("rawData")&&!(It.rawData&&typeof It.rawData.length=="number"||At.isString(It.rawData)))return"rawData: buffer expected";if(It.externalData!=null&&It.hasOwnProperty("externalData")){if(!Array.isArray(It.externalData))return"externalData: array expected";for(var Qt=0;Qt<It.externalData.length;++Qt){var Pt=Et.onnx.StringStringEntryProto.verify(It.externalData[Qt]);if(Pt)return"externalData."+Pt}}if(It.dataLocation!=null&&It.hasOwnProperty("dataLocation"))switch(It.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:break}if(It.doubleData!=null&&It.hasOwnProperty("doubleData")){if(!Array.isArray(It.doubleData))return"doubleData: array expected";for(var Qt=0;Qt<It.doubleData.length;++Qt)if(typeof It.doubleData[Qt]!="number")return"doubleData: number[] expected"}if(It.uint64Data!=null&&It.hasOwnProperty("uint64Data")){if(!Array.isArray(It.uint64Data))return"uint64Data: array expected";for(var Qt=0;Qt<It.uint64Data.length;++Qt)if(!At.isInteger(It.uint64Data[Qt])&&!(It.uint64Data[Qt]&&At.isInteger(It.uint64Data[Qt].low)&&At.isInteger(It.uint64Data[Qt].high)))return"uint64Data: integer|Long[] expected"}return null},zt.fromObject=function(It){if(It instanceof Et.onnx.TensorProto)return It;var Qt=new Et.onnx.TensorProto;if(It.dims){if(!Array.isArray(It.dims))throw TypeError(".onnx.TensorProto.dims: array expected");Qt.dims=[];for(var Pt=0;Pt<It.dims.length;++Pt)At.Long?(Qt.dims[Pt]=At.Long.fromValue(It.dims[Pt])).unsigned=!1:typeof It.dims[Pt]=="string"?Qt.dims[Pt]=parseInt(It.dims[Pt],10):typeof It.dims[Pt]=="number"?Qt.dims[Pt]=It.dims[Pt]:typeof It.dims[Pt]=="object"&&(Qt.dims[Pt]=new At.LongBits(It.dims[Pt].low>>>0,It.dims[Pt].high>>>0).toNumber())}if(It.dataType!=null&&(Qt.dataType=It.dataType|0),It.segment!=null){if(typeof It.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");Qt.segment=Et.onnx.TensorProto.Segment.fromObject(It.segment)}if(It.floatData){if(!Array.isArray(It.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");Qt.floatData=[];for(var Pt=0;Pt<It.floatData.length;++Pt)Qt.floatData[Pt]=Number(It.floatData[Pt])}if(It.int32Data){if(!Array.isArray(It.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");Qt.int32Data=[];for(var Pt=0;Pt<It.int32Data.length;++Pt)Qt.int32Data[Pt]=It.int32Data[Pt]|0}if(It.stringData){if(!Array.isArray(It.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");Qt.stringData=[];for(var Pt=0;Pt<It.stringData.length;++Pt)typeof It.stringData[Pt]=="string"?At.base64.decode(It.stringData[Pt],Qt.stringData[Pt]=At.newBuffer(At.base64.length(It.stringData[Pt])),0):It.stringData[Pt].length>=0&&(Qt.stringData[Pt]=It.stringData[Pt])}if(It.int64Data){if(!Array.isArray(It.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");Qt.int64Data=[];for(var Pt=0;Pt<It.int64Data.length;++Pt)At.Long?(Qt.int64Data[Pt]=At.Long.fromValue(It.int64Data[Pt])).unsigned=!1:typeof It.int64Data[Pt]=="string"?Qt.int64Data[Pt]=parseInt(It.int64Data[Pt],10):typeof It.int64Data[Pt]=="number"?Qt.int64Data[Pt]=It.int64Data[Pt]:typeof It.int64Data[Pt]=="object"&&(Qt.int64Data[Pt]=new At.LongBits(It.int64Data[Pt].low>>>0,It.int64Data[Pt].high>>>0).toNumber())}if(It.name!=null&&(Qt.name=String(It.name)),It.docString!=null&&(Qt.docString=String(It.docString)),It.rawData!=null&&(typeof It.rawData=="string"?At.base64.decode(It.rawData,Qt.rawData=At.newBuffer(At.base64.length(It.rawData)),0):It.rawData.length>=0&&(Qt.rawData=It.rawData)),It.externalData){if(!Array.isArray(It.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");Qt.externalData=[];for(var Pt=0;Pt<It.externalData.length;++Pt){if(typeof It.externalData[Pt]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");Qt.externalData[Pt]=Et.onnx.StringStringEntryProto.fromObject(It.externalData[Pt])}}switch(It.dataLocation){default:if(typeof It.dataLocation=="number"){Qt.dataLocation=It.dataLocation;break}break;case"DEFAULT":case 0:Qt.dataLocation=0;break;case"EXTERNAL":case 1:Qt.dataLocation=1;break}if(It.doubleData){if(!Array.isArray(It.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");Qt.doubleData=[];for(var Pt=0;Pt<It.doubleData.length;++Pt)Qt.doubleData[Pt]=Number(It.doubleData[Pt])}if(It.uint64Data){if(!Array.isArray(It.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");Qt.uint64Data=[];for(var Pt=0;Pt<It.uint64Data.length;++Pt)At.Long?(Qt.uint64Data[Pt]=At.Long.fromValue(It.uint64Data[Pt])).unsigned=!0:typeof It.uint64Data[Pt]=="string"?Qt.uint64Data[Pt]=parseInt(It.uint64Data[Pt],10):typeof It.uint64Data[Pt]=="number"?Qt.uint64Data[Pt]=It.uint64Data[Pt]:typeof It.uint64Data[Pt]=="object"&&(Qt.uint64Data[Pt]=new At.LongBits(It.uint64Data[Pt].low>>>0,It.uint64Data[Pt].high>>>0).toNumber(!0))}return Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.dims=[],Pt.floatData=[],Pt.int32Data=[],Pt.stringData=[],Pt.int64Data=[],Pt.doubleData=[],Pt.uint64Data=[],Pt.externalData=[]),Qt.defaults&&(Pt.dataType=0,Pt.segment=null,Pt.name="",Qt.bytes===String?Pt.rawData="":(Pt.rawData=[],Qt.bytes!==Array&&(Pt.rawData=At.newBuffer(Pt.rawData))),Pt.docString="",Pt.dataLocation=Qt.enums===String?"DEFAULT":0),It.dims&&It.dims.length){Pt.dims=[];for(var Yt=0;Yt<It.dims.length;++Yt)typeof It.dims[Yt]=="number"?Pt.dims[Yt]=Qt.longs===String?String(It.dims[Yt]):It.dims[Yt]:Pt.dims[Yt]=Qt.longs===String?At.Long.prototype.toString.call(It.dims[Yt]):Qt.longs===Number?new At.LongBits(It.dims[Yt].low>>>0,It.dims[Yt].high>>>0).toNumber():It.dims[Yt]}if(It.dataType!=null&&It.hasOwnProperty("dataType")&&(Pt.dataType=It.dataType),It.segment!=null&&It.hasOwnProperty("segment")&&(Pt.segment=Et.onnx.TensorProto.Segment.toObject(It.segment,Qt)),It.floatData&&It.floatData.length){Pt.floatData=[];for(var Yt=0;Yt<It.floatData.length;++Yt)Pt.floatData[Yt]=Qt.json&&!isFinite(It.floatData[Yt])?String(It.floatData[Yt]):It.floatData[Yt]}if(It.int32Data&&It.int32Data.length){Pt.int32Data=[];for(var Yt=0;Yt<It.int32Data.length;++Yt)Pt.int32Data[Yt]=It.int32Data[Yt]}if(It.stringData&&It.stringData.length){Pt.stringData=[];for(var Yt=0;Yt<It.stringData.length;++Yt)Pt.stringData[Yt]=Qt.bytes===String?At.base64.encode(It.stringData[Yt],0,It.stringData[Yt].length):Qt.bytes===Array?Array.prototype.slice.call(It.stringData[Yt]):It.stringData[Yt]}if(It.int64Data&&It.int64Data.length){Pt.int64Data=[];for(var Yt=0;Yt<It.int64Data.length;++Yt)typeof It.int64Data[Yt]=="number"?Pt.int64Data[Yt]=Qt.longs===String?String(It.int64Data[Yt]):It.int64Data[Yt]:Pt.int64Data[Yt]=Qt.longs===String?At.Long.prototype.toString.call(It.int64Data[Yt]):Qt.longs===Number?new At.LongBits(It.int64Data[Yt].low>>>0,It.int64Data[Yt].high>>>0).toNumber():It.int64Data[Yt]}if(It.name!=null&&It.hasOwnProperty("name")&&(Pt.name=It.name),It.rawData!=null&&It.hasOwnProperty("rawData")&&(Pt.rawData=Qt.bytes===String?At.base64.encode(It.rawData,0,It.rawData.length):Qt.bytes===Array?Array.prototype.slice.call(It.rawData):It.rawData),It.doubleData&&It.doubleData.length){Pt.doubleData=[];for(var Yt=0;Yt<It.doubleData.length;++Yt)Pt.doubleData[Yt]=Qt.json&&!isFinite(It.doubleData[Yt])?String(It.doubleData[Yt]):It.doubleData[Yt]}if(It.uint64Data&&It.uint64Data.length){Pt.uint64Data=[];for(var Yt=0;Yt<It.uint64Data.length;++Yt)typeof It.uint64Data[Yt]=="number"?Pt.uint64Data[Yt]=Qt.longs===String?String(It.uint64Data[Yt]):It.uint64Data[Yt]:Pt.uint64Data[Yt]=Qt.longs===String?At.Long.prototype.toString.call(It.uint64Data[Yt]):Qt.longs===Number?new At.LongBits(It.uint64Data[Yt].low>>>0,It.uint64Data[Yt].high>>>0).toNumber(!0):It.uint64Data[Yt]}if(It.docString!=null&&It.hasOwnProperty("docString")&&(Pt.docString=It.docString),It.externalData&&It.externalData.length){Pt.externalData=[];for(var Yt=0;Yt<It.externalData.length;++Yt)Pt.externalData[Yt]=Et.onnx.StringStringEntryProto.toObject(It.externalData[Yt],Qt)}return It.dataLocation!=null&&It.hasOwnProperty("dataLocation")&&(Pt.dataLocation=Qt.enums===String?Et.onnx.TensorProto.DataLocation[It.dataLocation]===void 0?It.dataLocation:Et.onnx.TensorProto.DataLocation[It.dataLocation]:It.dataLocation),Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.TensorProto"},zt.DataType=function(){var It={},Qt=Object.create(It);return Qt[It[0]="UNDEFINED"]=0,Qt[It[1]="FLOAT"]=1,Qt[It[2]="UINT8"]=2,Qt[It[3]="INT8"]=3,Qt[It[4]="UINT16"]=4,Qt[It[5]="INT16"]=5,Qt[It[6]="INT32"]=6,Qt[It[7]="INT64"]=7,Qt[It[8]="STRING"]=8,Qt[It[9]="BOOL"]=9,Qt[It[10]="FLOAT16"]=10,Qt[It[11]="DOUBLE"]=11,Qt[It[12]="UINT32"]=12,Qt[It[13]="UINT64"]=13,Qt[It[14]="COMPLEX64"]=14,Qt[It[15]="COMPLEX128"]=15,Qt[It[16]="BFLOAT16"]=16,Qt[It[17]="FLOAT8E4M3FN"]=17,Qt[It[18]="FLOAT8E4M3FNUZ"]=18,Qt[It[19]="FLOAT8E5M2"]=19,Qt[It[20]="FLOAT8E5M2FNUZ"]=20,Qt}(),zt.Segment=function(){function It(Qt){if(Qt)for(var Pt=Object.keys(Qt),Yt=0;Yt<Pt.length;++Yt)Qt[Pt[Yt]]!=null&&(this[Pt[Yt]]=Qt[Pt[Yt]])}return It.prototype.begin=At.Long?At.Long.fromBits(0,0,!1):0,It.prototype.end=At.Long?At.Long.fromBits(0,0,!1):0,It.create=function(Qt){return new It(Qt)},It.encode=function(Qt,Pt){return Pt||(Pt=bt.create()),Qt.begin!=null&&Object.hasOwnProperty.call(Qt,"begin")&&Pt.uint32(8).int64(Qt.begin),Qt.end!=null&&Object.hasOwnProperty.call(Qt,"end")&&Pt.uint32(16).int64(Qt.end),Pt},It.encodeDelimited=function(Qt,Pt){return this.encode(Qt,Pt).ldelim()},It.decode=function(Qt,Pt){Qt instanceof et||(Qt=et.create(Qt));for(var Yt=Pt===void 0?Qt.len:Qt.pos+Pt,cr=new Et.onnx.TensorProto.Segment;Qt.pos<Yt;){var _r=Qt.uint32();switch(_r>>>3){case 1:{cr.begin=Qt.int64();break}case 2:{cr.end=Qt.int64();break}default:Qt.skipType(_r&7);break}}return cr},It.decodeDelimited=function(Qt){return Qt instanceof et||(Qt=new et(Qt)),this.decode(Qt,Qt.uint32())},It.verify=function(Qt){return typeof Qt!="object"||Qt===null?"object expected":Qt.begin!=null&&Qt.hasOwnProperty("begin")&&!At.isInteger(Qt.begin)&&!(Qt.begin&&At.isInteger(Qt.begin.low)&&At.isInteger(Qt.begin.high))?"begin: integer|Long expected":Qt.end!=null&&Qt.hasOwnProperty("end")&&!At.isInteger(Qt.end)&&!(Qt.end&&At.isInteger(Qt.end.low)&&At.isInteger(Qt.end.high))?"end: integer|Long expected":null},It.fromObject=function(Qt){if(Qt instanceof Et.onnx.TensorProto.Segment)return Qt;var Pt=new Et.onnx.TensorProto.Segment;return Qt.begin!=null&&(At.Long?(Pt.begin=At.Long.fromValue(Qt.begin)).unsigned=!1:typeof Qt.begin=="string"?Pt.begin=parseInt(Qt.begin,10):typeof Qt.begin=="number"?Pt.begin=Qt.begin:typeof Qt.begin=="object"&&(Pt.begin=new At.LongBits(Qt.begin.low>>>0,Qt.begin.high>>>0).toNumber())),Qt.end!=null&&(At.Long?(Pt.end=At.Long.fromValue(Qt.end)).unsigned=!1:typeof Qt.end=="string"?Pt.end=parseInt(Qt.end,10):typeof Qt.end=="number"?Pt.end=Qt.end:typeof Qt.end=="object"&&(Pt.end=new At.LongBits(Qt.end.low>>>0,Qt.end.high>>>0).toNumber())),Pt},It.toObject=function(Qt,Pt){Pt||(Pt={});var Yt={};if(Pt.defaults){if(At.Long){var cr=new At.Long(0,0,!1);Yt.begin=Pt.longs===String?cr.toString():Pt.longs===Number?cr.toNumber():cr}else Yt.begin=Pt.longs===String?"0":0;if(At.Long){var cr=new At.Long(0,0,!1);Yt.end=Pt.longs===String?cr.toString():Pt.longs===Number?cr.toNumber():cr}else Yt.end=Pt.longs===String?"0":0}return Qt.begin!=null&&Qt.hasOwnProperty("begin")&&(typeof Qt.begin=="number"?Yt.begin=Pt.longs===String?String(Qt.begin):Qt.begin:Yt.begin=Pt.longs===String?At.Long.prototype.toString.call(Qt.begin):Pt.longs===Number?new At.LongBits(Qt.begin.low>>>0,Qt.begin.high>>>0).toNumber():Qt.begin),Qt.end!=null&&Qt.hasOwnProperty("end")&&(typeof Qt.end=="number"?Yt.end=Pt.longs===String?String(Qt.end):Qt.end:Yt.end=Pt.longs===String?At.Long.prototype.toString.call(Qt.end):Pt.longs===Number?new At.LongBits(Qt.end.low>>>0,Qt.end.high>>>0).toNumber():Qt.end),Yt},It.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},It.getTypeUrl=function(Qt){return Qt===void 0&&(Qt="type.googleapis.com"),Qt+"/onnx.TensorProto.Segment"},It}(),zt.DataLocation=function(){var It={},Qt=Object.create(It);return Qt[It[0]="DEFAULT"]=0,Qt[It[1]="EXTERNAL"]=1,Qt}(),zt}(),Ut.SparseTensorProto=function(){function zt(It){if(this.dims=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.values=null,zt.prototype.indices=null,zt.prototype.dims=At.emptyArray,zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.values!=null&&Object.hasOwnProperty.call(It,"values")&&Et.onnx.TensorProto.encode(It.values,Qt.uint32(10).fork()).ldelim(),It.indices!=null&&Object.hasOwnProperty.call(It,"indices")&&Et.onnx.TensorProto.encode(It.indices,Qt.uint32(18).fork()).ldelim(),It.dims!=null&&It.dims.length){Qt.uint32(26).fork();for(var Pt=0;Pt<It.dims.length;++Pt)Qt.int64(It.dims[Pt]);Qt.ldelim()}return Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.SparseTensorProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.values=Et.onnx.TensorProto.decode(It,It.uint32());break}case 2:{Yt.indices=Et.onnx.TensorProto.decode(It,It.uint32());break}case 3:{if(Yt.dims&&Yt.dims.length||(Yt.dims=[]),(cr&7)===2)for(var _r=It.uint32()+It.pos;It.pos<_r;)Yt.dims.push(It.int64());else Yt.dims.push(It.int64());break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.values!=null&&It.hasOwnProperty("values")){var Qt=Et.onnx.TensorProto.verify(It.values);if(Qt)return"values."+Qt}if(It.indices!=null&&It.hasOwnProperty("indices")){var Qt=Et.onnx.TensorProto.verify(It.indices);if(Qt)return"indices."+Qt}if(It.dims!=null&&It.hasOwnProperty("dims")){if(!Array.isArray(It.dims))return"dims: array expected";for(var Pt=0;Pt<It.dims.length;++Pt)if(!At.isInteger(It.dims[Pt])&&!(It.dims[Pt]&&At.isInteger(It.dims[Pt].low)&&At.isInteger(It.dims[Pt].high)))return"dims: integer|Long[] expected"}return null},zt.fromObject=function(It){if(It instanceof Et.onnx.SparseTensorProto)return It;var Qt=new Et.onnx.SparseTensorProto;if(It.values!=null){if(typeof It.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");Qt.values=Et.onnx.TensorProto.fromObject(It.values)}if(It.indices!=null){if(typeof It.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");Qt.indices=Et.onnx.TensorProto.fromObject(It.indices)}if(It.dims){if(!Array.isArray(It.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");Qt.dims=[];for(var Pt=0;Pt<It.dims.length;++Pt)At.Long?(Qt.dims[Pt]=At.Long.fromValue(It.dims[Pt])).unsigned=!1:typeof It.dims[Pt]=="string"?Qt.dims[Pt]=parseInt(It.dims[Pt],10):typeof It.dims[Pt]=="number"?Qt.dims[Pt]=It.dims[Pt]:typeof It.dims[Pt]=="object"&&(Qt.dims[Pt]=new At.LongBits(It.dims[Pt].low>>>0,It.dims[Pt].high>>>0).toNumber())}return Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.dims=[]),Qt.defaults&&(Pt.values=null,Pt.indices=null),It.values!=null&&It.hasOwnProperty("values")&&(Pt.values=Et.onnx.TensorProto.toObject(It.values,Qt)),It.indices!=null&&It.hasOwnProperty("indices")&&(Pt.indices=Et.onnx.TensorProto.toObject(It.indices,Qt)),It.dims&&It.dims.length){Pt.dims=[];for(var Yt=0;Yt<It.dims.length;++Yt)typeof It.dims[Yt]=="number"?Pt.dims[Yt]=Qt.longs===String?String(It.dims[Yt]):It.dims[Yt]:Pt.dims[Yt]=Qt.longs===String?At.Long.prototype.toString.call(It.dims[Yt]):Qt.longs===Number?new At.LongBits(It.dims[Yt].low>>>0,It.dims[Yt].high>>>0).toNumber():It.dims[Yt]}return Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.SparseTensorProto"},zt}(),Ut.TensorShapeProto=function(){function zt(It){if(this.dim=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.dim=At.emptyArray,zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.dim!=null&&It.dim.length)for(var Pt=0;Pt<It.dim.length;++Pt)Et.onnx.TensorShapeProto.Dimension.encode(It.dim[Pt],Qt.uint32(10).fork()).ldelim();return Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.TensorShapeProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.dim&&Yt.dim.length||(Yt.dim=[]),Yt.dim.push(Et.onnx.TensorShapeProto.Dimension.decode(It,It.uint32()));break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.dim!=null&&It.hasOwnProperty("dim")){if(!Array.isArray(It.dim))return"dim: array expected";for(var Qt=0;Qt<It.dim.length;++Qt){var Pt=Et.onnx.TensorShapeProto.Dimension.verify(It.dim[Qt]);if(Pt)return"dim."+Pt}}return null},zt.fromObject=function(It){if(It instanceof Et.onnx.TensorShapeProto)return It;var Qt=new Et.onnx.TensorShapeProto;if(It.dim){if(!Array.isArray(It.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");Qt.dim=[];for(var Pt=0;Pt<It.dim.length;++Pt){if(typeof It.dim[Pt]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");Qt.dim[Pt]=Et.onnx.TensorShapeProto.Dimension.fromObject(It.dim[Pt])}}return Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.dim=[]),It.dim&&It.dim.length){Pt.dim=[];for(var Yt=0;Yt<It.dim.length;++Yt)Pt.dim[Yt]=Et.onnx.TensorShapeProto.Dimension.toObject(It.dim[Yt],Qt)}return Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.TensorShapeProto"},zt.Dimension=function(){function It(Pt){if(Pt)for(var Yt=Object.keys(Pt),cr=0;cr<Yt.length;++cr)Pt[Yt[cr]]!=null&&(this[Yt[cr]]=Pt[Yt[cr]])}It.prototype.dimValue=null,It.prototype.dimParam=null,It.prototype.denotation="";var Qt;return Object.defineProperty(It.prototype,"value",{get:At.oneOfGetter(Qt=["dimValue","dimParam"]),set:At.oneOfSetter(Qt)}),It.create=function(Pt){return new It(Pt)},It.encode=function(Pt,Yt){return Yt||(Yt=bt.create()),Pt.dimValue!=null&&Object.hasOwnProperty.call(Pt,"dimValue")&&Yt.uint32(8).int64(Pt.dimValue),Pt.dimParam!=null&&Object.hasOwnProperty.call(Pt,"dimParam")&&Yt.uint32(18).string(Pt.dimParam),Pt.denotation!=null&&Object.hasOwnProperty.call(Pt,"denotation")&&Yt.uint32(26).string(Pt.denotation),Yt},It.encodeDelimited=function(Pt,Yt){return this.encode(Pt,Yt).ldelim()},It.decode=function(Pt,Yt){Pt instanceof et||(Pt=et.create(Pt));for(var cr=Yt===void 0?Pt.len:Pt.pos+Yt,_r=new Et.onnx.TensorShapeProto.Dimension;Pt.pos<cr;){var vr=Pt.uint32();switch(vr>>>3){case 1:{_r.dimValue=Pt.int64();break}case 2:{_r.dimParam=Pt.string();break}case 3:{_r.denotation=Pt.string();break}default:Pt.skipType(vr&7);break}}return _r},It.decodeDelimited=function(Pt){return Pt instanceof et||(Pt=new et(Pt)),this.decode(Pt,Pt.uint32())},It.verify=function(Pt){if(typeof Pt!="object"||Pt===null)return"object expected";var Yt={};if(Pt.dimValue!=null&&Pt.hasOwnProperty("dimValue")&&(Yt.value=1,!At.isInteger(Pt.dimValue)&&!(Pt.dimValue&&At.isInteger(Pt.dimValue.low)&&At.isInteger(Pt.dimValue.high))))return"dimValue: integer|Long expected";if(Pt.dimParam!=null&&Pt.hasOwnProperty("dimParam")){if(Yt.value===1)return"value: multiple values";if(Yt.value=1,!At.isString(Pt.dimParam))return"dimParam: string expected"}return Pt.denotation!=null&&Pt.hasOwnProperty("denotation")&&!At.isString(Pt.denotation)?"denotation: string expected":null},It.fromObject=function(Pt){if(Pt instanceof Et.onnx.TensorShapeProto.Dimension)return Pt;var Yt=new Et.onnx.TensorShapeProto.Dimension;return Pt.dimValue!=null&&(At.Long?(Yt.dimValue=At.Long.fromValue(Pt.dimValue)).unsigned=!1:typeof Pt.dimValue=="string"?Yt.dimValue=parseInt(Pt.dimValue,10):typeof Pt.dimValue=="number"?Yt.dimValue=Pt.dimValue:typeof Pt.dimValue=="object"&&(Yt.dimValue=new At.LongBits(Pt.dimValue.low>>>0,Pt.dimValue.high>>>0).toNumber())),Pt.dimParam!=null&&(Yt.dimParam=String(Pt.dimParam)),Pt.denotation!=null&&(Yt.denotation=String(Pt.denotation)),Yt},It.toObject=function(Pt,Yt){Yt||(Yt={});var cr={};return Yt.defaults&&(cr.denotation=""),Pt.dimValue!=null&&Pt.hasOwnProperty("dimValue")&&(typeof Pt.dimValue=="number"?cr.dimValue=Yt.longs===String?String(Pt.dimValue):Pt.dimValue:cr.dimValue=Yt.longs===String?At.Long.prototype.toString.call(Pt.dimValue):Yt.longs===Number?new At.LongBits(Pt.dimValue.low>>>0,Pt.dimValue.high>>>0).toNumber():Pt.dimValue,Yt.oneofs&&(cr.value="dimValue")),Pt.dimParam!=null&&Pt.hasOwnProperty("dimParam")&&(cr.dimParam=Pt.dimParam,Yt.oneofs&&(cr.value="dimParam")),Pt.denotation!=null&&Pt.hasOwnProperty("denotation")&&(cr.denotation=Pt.denotation),cr},It.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},It.getTypeUrl=function(Pt){return Pt===void 0&&(Pt="type.googleapis.com"),Pt+"/onnx.TensorShapeProto.Dimension"},It}(),zt}(),Ut.TypeProto=function(){function zt(Qt){if(Qt)for(var Pt=Object.keys(Qt),Yt=0;Yt<Pt.length;++Yt)Qt[Pt[Yt]]!=null&&(this[Pt[Yt]]=Qt[Pt[Yt]])}zt.prototype.tensorType=null,zt.prototype.sequenceType=null,zt.prototype.mapType=null,zt.prototype.optionalType=null,zt.prototype.sparseTensorType=null,zt.prototype.denotation="";var It;return Object.defineProperty(zt.prototype,"value",{get:At.oneOfGetter(It=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:At.oneOfSetter(It)}),zt.create=function(Qt){return new zt(Qt)},zt.encode=function(Qt,Pt){return Pt||(Pt=bt.create()),Qt.tensorType!=null&&Object.hasOwnProperty.call(Qt,"tensorType")&&Et.onnx.TypeProto.Tensor.encode(Qt.tensorType,Pt.uint32(10).fork()).ldelim(),Qt.sequenceType!=null&&Object.hasOwnProperty.call(Qt,"sequenceType")&&Et.onnx.TypeProto.Sequence.encode(Qt.sequenceType,Pt.uint32(34).fork()).ldelim(),Qt.mapType!=null&&Object.hasOwnProperty.call(Qt,"mapType")&&Et.onnx.TypeProto.Map.encode(Qt.mapType,Pt.uint32(42).fork()).ldelim(),Qt.denotation!=null&&Object.hasOwnProperty.call(Qt,"denotation")&&Pt.uint32(50).string(Qt.denotation),Qt.sparseTensorType!=null&&Object.hasOwnProperty.call(Qt,"sparseTensorType")&&Et.onnx.TypeProto.SparseTensor.encode(Qt.sparseTensorType,Pt.uint32(66).fork()).ldelim(),Qt.optionalType!=null&&Object.hasOwnProperty.call(Qt,"optionalType")&&Et.onnx.TypeProto.Optional.encode(Qt.optionalType,Pt.uint32(74).fork()).ldelim(),Pt},zt.encodeDelimited=function(Qt,Pt){return this.encode(Qt,Pt).ldelim()},zt.decode=function(Qt,Pt){Qt instanceof et||(Qt=et.create(Qt));for(var Yt=Pt===void 0?Qt.len:Qt.pos+Pt,cr=new Et.onnx.TypeProto;Qt.pos<Yt;){var _r=Qt.uint32();switch(_r>>>3){case 1:{cr.tensorType=Et.onnx.TypeProto.Tensor.decode(Qt,Qt.uint32());break}case 4:{cr.sequenceType=Et.onnx.TypeProto.Sequence.decode(Qt,Qt.uint32());break}case 5:{cr.mapType=Et.onnx.TypeProto.Map.decode(Qt,Qt.uint32());break}case 9:{cr.optionalType=Et.onnx.TypeProto.Optional.decode(Qt,Qt.uint32());break}case 8:{cr.sparseTensorType=Et.onnx.TypeProto.SparseTensor.decode(Qt,Qt.uint32());break}case 6:{cr.denotation=Qt.string();break}default:Qt.skipType(_r&7);break}}return cr},zt.decodeDelimited=function(Qt){return Qt instanceof et||(Qt=new et(Qt)),this.decode(Qt,Qt.uint32())},zt.verify=function(Qt){if(typeof Qt!="object"||Qt===null)return"object expected";var Pt={};if(Qt.tensorType!=null&&Qt.hasOwnProperty("tensorType")){Pt.value=1;{var Yt=Et.onnx.TypeProto.Tensor.verify(Qt.tensorType);if(Yt)return"tensorType."+Yt}}if(Qt.sequenceType!=null&&Qt.hasOwnProperty("sequenceType")){if(Pt.value===1)return"value: multiple values";Pt.value=1;{var Yt=Et.onnx.TypeProto.Sequence.verify(Qt.sequenceType);if(Yt)return"sequenceType."+Yt}}if(Qt.mapType!=null&&Qt.hasOwnProperty("mapType")){if(Pt.value===1)return"value: multiple values";Pt.value=1;{var Yt=Et.onnx.TypeProto.Map.verify(Qt.mapType);if(Yt)return"mapType."+Yt}}if(Qt.optionalType!=null&&Qt.hasOwnProperty("optionalType")){if(Pt.value===1)return"value: multiple values";Pt.value=1;{var Yt=Et.onnx.TypeProto.Optional.verify(Qt.optionalType);if(Yt)return"optionalType."+Yt}}if(Qt.sparseTensorType!=null&&Qt.hasOwnProperty("sparseTensorType")){if(Pt.value===1)return"value: multiple values";Pt.value=1;{var Yt=Et.onnx.TypeProto.SparseTensor.verify(Qt.sparseTensorType);if(Yt)return"sparseTensorType."+Yt}}return Qt.denotation!=null&&Qt.hasOwnProperty("denotation")&&!At.isString(Qt.denotation)?"denotation: string expected":null},zt.fromObject=function(Qt){if(Qt instanceof Et.onnx.TypeProto)return Qt;var Pt=new Et.onnx.TypeProto;if(Qt.tensorType!=null){if(typeof Qt.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");Pt.tensorType=Et.onnx.TypeProto.Tensor.fromObject(Qt.tensorType)}if(Qt.sequenceType!=null){if(typeof Qt.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");Pt.sequenceType=Et.onnx.TypeProto.Sequence.fromObject(Qt.sequenceType)}if(Qt.mapType!=null){if(typeof Qt.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");Pt.mapType=Et.onnx.TypeProto.Map.fromObject(Qt.mapType)}if(Qt.optionalType!=null){if(typeof Qt.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");Pt.optionalType=Et.onnx.TypeProto.Optional.fromObject(Qt.optionalType)}if(Qt.sparseTensorType!=null){if(typeof Qt.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");Pt.sparseTensorType=Et.onnx.TypeProto.SparseTensor.fromObject(Qt.sparseTensorType)}return Qt.denotation!=null&&(Pt.denotation=String(Qt.denotation)),Pt},zt.toObject=function(Qt,Pt){Pt||(Pt={});var Yt={};return Pt.defaults&&(Yt.denotation=""),Qt.tensorType!=null&&Qt.hasOwnProperty("tensorType")&&(Yt.tensorType=Et.onnx.TypeProto.Tensor.toObject(Qt.tensorType,Pt),Pt.oneofs&&(Yt.value="tensorType")),Qt.sequenceType!=null&&Qt.hasOwnProperty("sequenceType")&&(Yt.sequenceType=Et.onnx.TypeProto.Sequence.toObject(Qt.sequenceType,Pt),Pt.oneofs&&(Yt.value="sequenceType")),Qt.mapType!=null&&Qt.hasOwnProperty("mapType")&&(Yt.mapType=Et.onnx.TypeProto.Map.toObject(Qt.mapType,Pt),Pt.oneofs&&(Yt.value="mapType")),Qt.denotation!=null&&Qt.hasOwnProperty("denotation")&&(Yt.denotation=Qt.denotation),Qt.sparseTensorType!=null&&Qt.hasOwnProperty("sparseTensorType")&&(Yt.sparseTensorType=Et.onnx.TypeProto.SparseTensor.toObject(Qt.sparseTensorType,Pt),Pt.oneofs&&(Yt.value="sparseTensorType")),Qt.optionalType!=null&&Qt.hasOwnProperty("optionalType")&&(Yt.optionalType=Et.onnx.TypeProto.Optional.toObject(Qt.optionalType,Pt),Pt.oneofs&&(Yt.value="optionalType")),Yt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(Qt){return Qt===void 0&&(Qt="type.googleapis.com"),Qt+"/onnx.TypeProto"},zt.Tensor=function(){function Qt(Pt){if(Pt)for(var Yt=Object.keys(Pt),cr=0;cr<Yt.length;++cr)Pt[Yt[cr]]!=null&&(this[Yt[cr]]=Pt[Yt[cr]])}return Qt.prototype.elemType=0,Qt.prototype.shape=null,Qt.create=function(Pt){return new Qt(Pt)},Qt.encode=function(Pt,Yt){return Yt||(Yt=bt.create()),Pt.elemType!=null&&Object.hasOwnProperty.call(Pt,"elemType")&&Yt.uint32(8).int32(Pt.elemType),Pt.shape!=null&&Object.hasOwnProperty.call(Pt,"shape")&&Et.onnx.TensorShapeProto.encode(Pt.shape,Yt.uint32(18).fork()).ldelim(),Yt},Qt.encodeDelimited=function(Pt,Yt){return this.encode(Pt,Yt).ldelim()},Qt.decode=function(Pt,Yt){Pt instanceof et||(Pt=et.create(Pt));for(var cr=Yt===void 0?Pt.len:Pt.pos+Yt,_r=new Et.onnx.TypeProto.Tensor;Pt.pos<cr;){var vr=Pt.uint32();switch(vr>>>3){case 1:{_r.elemType=Pt.int32();break}case 2:{_r.shape=Et.onnx.TensorShapeProto.decode(Pt,Pt.uint32());break}default:Pt.skipType(vr&7);break}}return _r},Qt.decodeDelimited=function(Pt){return Pt instanceof et||(Pt=new et(Pt)),this.decode(Pt,Pt.uint32())},Qt.verify=function(Pt){if(typeof Pt!="object"||Pt===null)return"object expected";if(Pt.elemType!=null&&Pt.hasOwnProperty("elemType")&&!At.isInteger(Pt.elemType))return"elemType: integer expected";if(Pt.shape!=null&&Pt.hasOwnProperty("shape")){var Yt=Et.onnx.TensorShapeProto.verify(Pt.shape);if(Yt)return"shape."+Yt}return null},Qt.fromObject=function(Pt){if(Pt instanceof Et.onnx.TypeProto.Tensor)return Pt;var Yt=new Et.onnx.TypeProto.Tensor;if(Pt.elemType!=null&&(Yt.elemType=Pt.elemType|0),Pt.shape!=null){if(typeof Pt.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");Yt.shape=Et.onnx.TensorShapeProto.fromObject(Pt.shape)}return Yt},Qt.toObject=function(Pt,Yt){Yt||(Yt={});var cr={};return Yt.defaults&&(cr.elemType=0,cr.shape=null),Pt.elemType!=null&&Pt.hasOwnProperty("elemType")&&(cr.elemType=Pt.elemType),Pt.shape!=null&&Pt.hasOwnProperty("shape")&&(cr.shape=Et.onnx.TensorShapeProto.toObject(Pt.shape,Yt)),cr},Qt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},Qt.getTypeUrl=function(Pt){return Pt===void 0&&(Pt="type.googleapis.com"),Pt+"/onnx.TypeProto.Tensor"},Qt}(),zt.Sequence=function(){function Qt(Pt){if(Pt)for(var Yt=Object.keys(Pt),cr=0;cr<Yt.length;++cr)Pt[Yt[cr]]!=null&&(this[Yt[cr]]=Pt[Yt[cr]])}return Qt.prototype.elemType=null,Qt.create=function(Pt){return new Qt(Pt)},Qt.encode=function(Pt,Yt){return Yt||(Yt=bt.create()),Pt.elemType!=null&&Object.hasOwnProperty.call(Pt,"elemType")&&Et.onnx.TypeProto.encode(Pt.elemType,Yt.uint32(10).fork()).ldelim(),Yt},Qt.encodeDelimited=function(Pt,Yt){return this.encode(Pt,Yt).ldelim()},Qt.decode=function(Pt,Yt){Pt instanceof et||(Pt=et.create(Pt));for(var cr=Yt===void 0?Pt.len:Pt.pos+Yt,_r=new Et.onnx.TypeProto.Sequence;Pt.pos<cr;){var vr=Pt.uint32();switch(vr>>>3){case 1:{_r.elemType=Et.onnx.TypeProto.decode(Pt,Pt.uint32());break}default:Pt.skipType(vr&7);break}}return _r},Qt.decodeDelimited=function(Pt){return Pt instanceof et||(Pt=new et(Pt)),this.decode(Pt,Pt.uint32())},Qt.verify=function(Pt){if(typeof Pt!="object"||Pt===null)return"object expected";if(Pt.elemType!=null&&Pt.hasOwnProperty("elemType")){var Yt=Et.onnx.TypeProto.verify(Pt.elemType);if(Yt)return"elemType."+Yt}return null},Qt.fromObject=function(Pt){if(Pt instanceof Et.onnx.TypeProto.Sequence)return Pt;var Yt=new Et.onnx.TypeProto.Sequence;if(Pt.elemType!=null){if(typeof Pt.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");Yt.elemType=Et.onnx.TypeProto.fromObject(Pt.elemType)}return Yt},Qt.toObject=function(Pt,Yt){Yt||(Yt={});var cr={};return Yt.defaults&&(cr.elemType=null),Pt.elemType!=null&&Pt.hasOwnProperty("elemType")&&(cr.elemType=Et.onnx.TypeProto.toObject(Pt.elemType,Yt)),cr},Qt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},Qt.getTypeUrl=function(Pt){return Pt===void 0&&(Pt="type.googleapis.com"),Pt+"/onnx.TypeProto.Sequence"},Qt}(),zt.Map=function(){function Qt(Pt){if(Pt)for(var Yt=Object.keys(Pt),cr=0;cr<Yt.length;++cr)Pt[Yt[cr]]!=null&&(this[Yt[cr]]=Pt[Yt[cr]])}return Qt.prototype.keyType=0,Qt.prototype.valueType=null,Qt.create=function(Pt){return new Qt(Pt)},Qt.encode=function(Pt,Yt){return Yt||(Yt=bt.create()),Pt.keyType!=null&&Object.hasOwnProperty.call(Pt,"keyType")&&Yt.uint32(8).int32(Pt.keyType),Pt.valueType!=null&&Object.hasOwnProperty.call(Pt,"valueType")&&Et.onnx.TypeProto.encode(Pt.valueType,Yt.uint32(18).fork()).ldelim(),Yt},Qt.encodeDelimited=function(Pt,Yt){return this.encode(Pt,Yt).ldelim()},Qt.decode=function(Pt,Yt){Pt instanceof et||(Pt=et.create(Pt));for(var cr=Yt===void 0?Pt.len:Pt.pos+Yt,_r=new Et.onnx.TypeProto.Map;Pt.pos<cr;){var vr=Pt.uint32();switch(vr>>>3){case 1:{_r.keyType=Pt.int32();break}case 2:{_r.valueType=Et.onnx.TypeProto.decode(Pt,Pt.uint32());break}default:Pt.skipType(vr&7);break}}return _r},Qt.decodeDelimited=function(Pt){return Pt instanceof et||(Pt=new et(Pt)),this.decode(Pt,Pt.uint32())},Qt.verify=function(Pt){if(typeof Pt!="object"||Pt===null)return"object expected";if(Pt.keyType!=null&&Pt.hasOwnProperty("keyType")&&!At.isInteger(Pt.keyType))return"keyType: integer expected";if(Pt.valueType!=null&&Pt.hasOwnProperty("valueType")){var Yt=Et.onnx.TypeProto.verify(Pt.valueType);if(Yt)return"valueType."+Yt}return null},Qt.fromObject=function(Pt){if(Pt instanceof Et.onnx.TypeProto.Map)return Pt;var Yt=new Et.onnx.TypeProto.Map;if(Pt.keyType!=null&&(Yt.keyType=Pt.keyType|0),Pt.valueType!=null){if(typeof Pt.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");Yt.valueType=Et.onnx.TypeProto.fromObject(Pt.valueType)}return Yt},Qt.toObject=function(Pt,Yt){Yt||(Yt={});var cr={};return Yt.defaults&&(cr.keyType=0,cr.valueType=null),Pt.keyType!=null&&Pt.hasOwnProperty("keyType")&&(cr.keyType=Pt.keyType),Pt.valueType!=null&&Pt.hasOwnProperty("valueType")&&(cr.valueType=Et.onnx.TypeProto.toObject(Pt.valueType,Yt)),cr},Qt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},Qt.getTypeUrl=function(Pt){return Pt===void 0&&(Pt="type.googleapis.com"),Pt+"/onnx.TypeProto.Map"},Qt}(),zt.Optional=function(){function Qt(Pt){if(Pt)for(var Yt=Object.keys(Pt),cr=0;cr<Yt.length;++cr)Pt[Yt[cr]]!=null&&(this[Yt[cr]]=Pt[Yt[cr]])}return Qt.prototype.elemType=null,Qt.create=function(Pt){return new Qt(Pt)},Qt.encode=function(Pt,Yt){return Yt||(Yt=bt.create()),Pt.elemType!=null&&Object.hasOwnProperty.call(Pt,"elemType")&&Et.onnx.TypeProto.encode(Pt.elemType,Yt.uint32(10).fork()).ldelim(),Yt},Qt.encodeDelimited=function(Pt,Yt){return this.encode(Pt,Yt).ldelim()},Qt.decode=function(Pt,Yt){Pt instanceof et||(Pt=et.create(Pt));for(var cr=Yt===void 0?Pt.len:Pt.pos+Yt,_r=new Et.onnx.TypeProto.Optional;Pt.pos<cr;){var vr=Pt.uint32();switch(vr>>>3){case 1:{_r.elemType=Et.onnx.TypeProto.decode(Pt,Pt.uint32());break}default:Pt.skipType(vr&7);break}}return _r},Qt.decodeDelimited=function(Pt){return Pt instanceof et||(Pt=new et(Pt)),this.decode(Pt,Pt.uint32())},Qt.verify=function(Pt){if(typeof Pt!="object"||Pt===null)return"object expected";if(Pt.elemType!=null&&Pt.hasOwnProperty("elemType")){var Yt=Et.onnx.TypeProto.verify(Pt.elemType);if(Yt)return"elemType."+Yt}return null},Qt.fromObject=function(Pt){if(Pt instanceof Et.onnx.TypeProto.Optional)return Pt;var Yt=new Et.onnx.TypeProto.Optional;if(Pt.elemType!=null){if(typeof Pt.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");Yt.elemType=Et.onnx.TypeProto.fromObject(Pt.elemType)}return Yt},Qt.toObject=function(Pt,Yt){Yt||(Yt={});var cr={};return Yt.defaults&&(cr.elemType=null),Pt.elemType!=null&&Pt.hasOwnProperty("elemType")&&(cr.elemType=Et.onnx.TypeProto.toObject(Pt.elemType,Yt)),cr},Qt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},Qt.getTypeUrl=function(Pt){return Pt===void 0&&(Pt="type.googleapis.com"),Pt+"/onnx.TypeProto.Optional"},Qt}(),zt.SparseTensor=function(){function Qt(Pt){if(Pt)for(var Yt=Object.keys(Pt),cr=0;cr<Yt.length;++cr)Pt[Yt[cr]]!=null&&(this[Yt[cr]]=Pt[Yt[cr]])}return Qt.prototype.elemType=0,Qt.prototype.shape=null,Qt.create=function(Pt){return new Qt(Pt)},Qt.encode=function(Pt,Yt){return Yt||(Yt=bt.create()),Pt.elemType!=null&&Object.hasOwnProperty.call(Pt,"elemType")&&Yt.uint32(8).int32(Pt.elemType),Pt.shape!=null&&Object.hasOwnProperty.call(Pt,"shape")&&Et.onnx.TensorShapeProto.encode(Pt.shape,Yt.uint32(18).fork()).ldelim(),Yt},Qt.encodeDelimited=function(Pt,Yt){return this.encode(Pt,Yt).ldelim()},Qt.decode=function(Pt,Yt){Pt instanceof et||(Pt=et.create(Pt));for(var cr=Yt===void 0?Pt.len:Pt.pos+Yt,_r=new Et.onnx.TypeProto.SparseTensor;Pt.pos<cr;){var vr=Pt.uint32();switch(vr>>>3){case 1:{_r.elemType=Pt.int32();break}case 2:{_r.shape=Et.onnx.TensorShapeProto.decode(Pt,Pt.uint32());break}default:Pt.skipType(vr&7);break}}return _r},Qt.decodeDelimited=function(Pt){return Pt instanceof et||(Pt=new et(Pt)),this.decode(Pt,Pt.uint32())},Qt.verify=function(Pt){if(typeof Pt!="object"||Pt===null)return"object expected";if(Pt.elemType!=null&&Pt.hasOwnProperty("elemType")&&!At.isInteger(Pt.elemType))return"elemType: integer expected";if(Pt.shape!=null&&Pt.hasOwnProperty("shape")){var Yt=Et.onnx.TensorShapeProto.verify(Pt.shape);if(Yt)return"shape."+Yt}return null},Qt.fromObject=function(Pt){if(Pt instanceof Et.onnx.TypeProto.SparseTensor)return Pt;var Yt=new Et.onnx.TypeProto.SparseTensor;if(Pt.elemType!=null&&(Yt.elemType=Pt.elemType|0),Pt.shape!=null){if(typeof Pt.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");Yt.shape=Et.onnx.TensorShapeProto.fromObject(Pt.shape)}return Yt},Qt.toObject=function(Pt,Yt){Yt||(Yt={});var cr={};return Yt.defaults&&(cr.elemType=0,cr.shape=null),Pt.elemType!=null&&Pt.hasOwnProperty("elemType")&&(cr.elemType=Pt.elemType),Pt.shape!=null&&Pt.hasOwnProperty("shape")&&(cr.shape=Et.onnx.TensorShapeProto.toObject(Pt.shape,Yt)),cr},Qt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},Qt.getTypeUrl=function(Pt){return Pt===void 0&&(Pt="type.googleapis.com"),Pt+"/onnx.TypeProto.SparseTensor"},Qt}(),zt}(),Ut.OperatorSetIdProto=function(){function zt(It){if(It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.domain="",zt.prototype.version=At.Long?At.Long.fromBits(0,0,!1):0,zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){return Qt||(Qt=bt.create()),It.domain!=null&&Object.hasOwnProperty.call(It,"domain")&&Qt.uint32(10).string(It.domain),It.version!=null&&Object.hasOwnProperty.call(It,"version")&&Qt.uint32(16).int64(It.version),Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.OperatorSetIdProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.domain=It.string();break}case 2:{Yt.version=It.int64();break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){return typeof It!="object"||It===null?"object expected":It.domain!=null&&It.hasOwnProperty("domain")&&!At.isString(It.domain)?"domain: string expected":It.version!=null&&It.hasOwnProperty("version")&&!At.isInteger(It.version)&&!(It.version&&At.isInteger(It.version.low)&&At.isInteger(It.version.high))?"version: integer|Long expected":null},zt.fromObject=function(It){if(It instanceof Et.onnx.OperatorSetIdProto)return It;var Qt=new Et.onnx.OperatorSetIdProto;return It.domain!=null&&(Qt.domain=String(It.domain)),It.version!=null&&(At.Long?(Qt.version=At.Long.fromValue(It.version)).unsigned=!1:typeof It.version=="string"?Qt.version=parseInt(It.version,10):typeof It.version=="number"?Qt.version=It.version:typeof It.version=="object"&&(Qt.version=new At.LongBits(It.version.low>>>0,It.version.high>>>0).toNumber())),Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if(Qt.defaults)if(Pt.domain="",At.Long){var Yt=new At.Long(0,0,!1);Pt.version=Qt.longs===String?Yt.toString():Qt.longs===Number?Yt.toNumber():Yt}else Pt.version=Qt.longs===String?"0":0;return It.domain!=null&&It.hasOwnProperty("domain")&&(Pt.domain=It.domain),It.version!=null&&It.hasOwnProperty("version")&&(typeof It.version=="number"?Pt.version=Qt.longs===String?String(It.version):It.version:Pt.version=Qt.longs===String?At.Long.prototype.toString.call(It.version):Qt.longs===Number?new At.LongBits(It.version.low>>>0,It.version.high>>>0).toNumber():It.version),Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.OperatorSetIdProto"},zt}(),Ut.OperatorStatus=function(){var zt={},It=Object.create(zt);return It[zt[0]="EXPERIMENTAL"]=0,It[zt[1]="STABLE"]=1,It}(),Ut.FunctionProto=function(){function zt(It){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],It)for(var Qt=Object.keys(It),Pt=0;Pt<Qt.length;++Pt)It[Qt[Pt]]!=null&&(this[Qt[Pt]]=It[Qt[Pt]])}return zt.prototype.name="",zt.prototype.input=At.emptyArray,zt.prototype.output=At.emptyArray,zt.prototype.attribute=At.emptyArray,zt.prototype.attributeProto=At.emptyArray,zt.prototype.node=At.emptyArray,zt.prototype.docString="",zt.prototype.opsetImport=At.emptyArray,zt.prototype.domain="",zt.create=function(It){return new zt(It)},zt.encode=function(It,Qt){if(Qt||(Qt=bt.create()),It.name!=null&&Object.hasOwnProperty.call(It,"name")&&Qt.uint32(10).string(It.name),It.input!=null&&It.input.length)for(var Pt=0;Pt<It.input.length;++Pt)Qt.uint32(34).string(It.input[Pt]);if(It.output!=null&&It.output.length)for(var Pt=0;Pt<It.output.length;++Pt)Qt.uint32(42).string(It.output[Pt]);if(It.attribute!=null&&It.attribute.length)for(var Pt=0;Pt<It.attribute.length;++Pt)Qt.uint32(50).string(It.attribute[Pt]);if(It.node!=null&&It.node.length)for(var Pt=0;Pt<It.node.length;++Pt)Et.onnx.NodeProto.encode(It.node[Pt],Qt.uint32(58).fork()).ldelim();if(It.docString!=null&&Object.hasOwnProperty.call(It,"docString")&&Qt.uint32(66).string(It.docString),It.opsetImport!=null&&It.opsetImport.length)for(var Pt=0;Pt<It.opsetImport.length;++Pt)Et.onnx.OperatorSetIdProto.encode(It.opsetImport[Pt],Qt.uint32(74).fork()).ldelim();if(It.domain!=null&&Object.hasOwnProperty.call(It,"domain")&&Qt.uint32(82).string(It.domain),It.attributeProto!=null&&It.attributeProto.length)for(var Pt=0;Pt<It.attributeProto.length;++Pt)Et.onnx.AttributeProto.encode(It.attributeProto[Pt],Qt.uint32(90).fork()).ldelim();return Qt},zt.encodeDelimited=function(It,Qt){return this.encode(It,Qt).ldelim()},zt.decode=function(It,Qt){It instanceof et||(It=et.create(It));for(var Pt=Qt===void 0?It.len:It.pos+Qt,Yt=new Et.onnx.FunctionProto;It.pos<Pt;){var cr=It.uint32();switch(cr>>>3){case 1:{Yt.name=It.string();break}case 4:{Yt.input&&Yt.input.length||(Yt.input=[]),Yt.input.push(It.string());break}case 5:{Yt.output&&Yt.output.length||(Yt.output=[]),Yt.output.push(It.string());break}case 6:{Yt.attribute&&Yt.attribute.length||(Yt.attribute=[]),Yt.attribute.push(It.string());break}case 11:{Yt.attributeProto&&Yt.attributeProto.length||(Yt.attributeProto=[]),Yt.attributeProto.push(Et.onnx.AttributeProto.decode(It,It.uint32()));break}case 7:{Yt.node&&Yt.node.length||(Yt.node=[]),Yt.node.push(Et.onnx.NodeProto.decode(It,It.uint32()));break}case 8:{Yt.docString=It.string();break}case 9:{Yt.opsetImport&&Yt.opsetImport.length||(Yt.opsetImport=[]),Yt.opsetImport.push(Et.onnx.OperatorSetIdProto.decode(It,It.uint32()));break}case 10:{Yt.domain=It.string();break}default:It.skipType(cr&7);break}}return Yt},zt.decodeDelimited=function(It){return It instanceof et||(It=new et(It)),this.decode(It,It.uint32())},zt.verify=function(It){if(typeof It!="object"||It===null)return"object expected";if(It.name!=null&&It.hasOwnProperty("name")&&!At.isString(It.name))return"name: string expected";if(It.input!=null&&It.hasOwnProperty("input")){if(!Array.isArray(It.input))return"input: array expected";for(var Qt=0;Qt<It.input.length;++Qt)if(!At.isString(It.input[Qt]))return"input: string[] expected"}if(It.output!=null&&It.hasOwnProperty("output")){if(!Array.isArray(It.output))return"output: array expected";for(var Qt=0;Qt<It.output.length;++Qt)if(!At.isString(It.output[Qt]))return"output: string[] expected"}if(It.attribute!=null&&It.hasOwnProperty("attribute")){if(!Array.isArray(It.attribute))return"attribute: array expected";for(var Qt=0;Qt<It.attribute.length;++Qt)if(!At.isString(It.attribute[Qt]))return"attribute: string[] expected"}if(It.attributeProto!=null&&It.hasOwnProperty("attributeProto")){if(!Array.isArray(It.attributeProto))return"attributeProto: array expected";for(var Qt=0;Qt<It.attributeProto.length;++Qt){var Pt=Et.onnx.AttributeProto.verify(It.attributeProto[Qt]);if(Pt)return"attributeProto."+Pt}}if(It.node!=null&&It.hasOwnProperty("node")){if(!Array.isArray(It.node))return"node: array expected";for(var Qt=0;Qt<It.node.length;++Qt){var Pt=Et.onnx.NodeProto.verify(It.node[Qt]);if(Pt)return"node."+Pt}}if(It.docString!=null&&It.hasOwnProperty("docString")&&!At.isString(It.docString))return"docString: string expected";if(It.opsetImport!=null&&It.hasOwnProperty("opsetImport")){if(!Array.isArray(It.opsetImport))return"opsetImport: array expected";for(var Qt=0;Qt<It.opsetImport.length;++Qt){var Pt=Et.onnx.OperatorSetIdProto.verify(It.opsetImport[Qt]);if(Pt)return"opsetImport."+Pt}}return It.domain!=null&&It.hasOwnProperty("domain")&&!At.isString(It.domain)?"domain: string expected":null},zt.fromObject=function(It){if(It instanceof Et.onnx.FunctionProto)return It;var Qt=new Et.onnx.FunctionProto;if(It.name!=null&&(Qt.name=String(It.name)),It.input){if(!Array.isArray(It.input))throw TypeError(".onnx.FunctionProto.input: array expected");Qt.input=[];for(var Pt=0;Pt<It.input.length;++Pt)Qt.input[Pt]=String(It.input[Pt])}if(It.output){if(!Array.isArray(It.output))throw TypeError(".onnx.FunctionProto.output: array expected");Qt.output=[];for(var Pt=0;Pt<It.output.length;++Pt)Qt.output[Pt]=String(It.output[Pt])}if(It.attribute){if(!Array.isArray(It.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");Qt.attribute=[];for(var Pt=0;Pt<It.attribute.length;++Pt)Qt.attribute[Pt]=String(It.attribute[Pt])}if(It.attributeProto){if(!Array.isArray(It.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");Qt.attributeProto=[];for(var Pt=0;Pt<It.attributeProto.length;++Pt){if(typeof It.attributeProto[Pt]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");Qt.attributeProto[Pt]=Et.onnx.AttributeProto.fromObject(It.attributeProto[Pt])}}if(It.node){if(!Array.isArray(It.node))throw TypeError(".onnx.FunctionProto.node: array expected");Qt.node=[];for(var Pt=0;Pt<It.node.length;++Pt){if(typeof It.node[Pt]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");Qt.node[Pt]=Et.onnx.NodeProto.fromObject(It.node[Pt])}}if(It.docString!=null&&(Qt.docString=String(It.docString)),It.opsetImport){if(!Array.isArray(It.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");Qt.opsetImport=[];for(var Pt=0;Pt<It.opsetImport.length;++Pt){if(typeof It.opsetImport[Pt]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");Qt.opsetImport[Pt]=Et.onnx.OperatorSetIdProto.fromObject(It.opsetImport[Pt])}}return It.domain!=null&&(Qt.domain=String(It.domain)),Qt},zt.toObject=function(It,Qt){Qt||(Qt={});var Pt={};if((Qt.arrays||Qt.defaults)&&(Pt.input=[],Pt.output=[],Pt.attribute=[],Pt.node=[],Pt.opsetImport=[],Pt.attributeProto=[]),Qt.defaults&&(Pt.name="",Pt.docString="",Pt.domain=""),It.name!=null&&It.hasOwnProperty("name")&&(Pt.name=It.name),It.input&&It.input.length){Pt.input=[];for(var Yt=0;Yt<It.input.length;++Yt)Pt.input[Yt]=It.input[Yt]}if(It.output&&It.output.length){Pt.output=[];for(var Yt=0;Yt<It.output.length;++Yt)Pt.output[Yt]=It.output[Yt]}if(It.attribute&&It.attribute.length){Pt.attribute=[];for(var Yt=0;Yt<It.attribute.length;++Yt)Pt.attribute[Yt]=It.attribute[Yt]}if(It.node&&It.node.length){Pt.node=[];for(var Yt=0;Yt<It.node.length;++Yt)Pt.node[Yt]=Et.onnx.NodeProto.toObject(It.node[Yt],Qt)}if(It.docString!=null&&It.hasOwnProperty("docString")&&(Pt.docString=It.docString),It.opsetImport&&It.opsetImport.length){Pt.opsetImport=[];for(var Yt=0;Yt<It.opsetImport.length;++Yt)Pt.opsetImport[Yt]=Et.onnx.OperatorSetIdProto.toObject(It.opsetImport[Yt],Qt)}if(It.domain!=null&&It.hasOwnProperty("domain")&&(Pt.domain=It.domain),It.attributeProto&&It.attributeProto.length){Pt.attributeProto=[];for(var Yt=0;Yt<It.attributeProto.length;++Yt)Pt.attributeProto[Yt]=Et.onnx.AttributeProto.toObject(It.attributeProto[Yt],Qt)}return Pt},zt.prototype.toJSON=function(){return this.constructor.toObject(this,j.util.toJSONOptions)},zt.getTypeUrl=function(It){return It===void 0&&(It="type.googleapis.com"),It+"/onnx.FunctionProto"},zt}(),Ut}(),s.exports=Et});function kr$1(o,s){if(!o)throw new Error(typeof s=="string"?s:s())}function ln$1(o){return new TextDecoder().decode(o)}var ye,pr,hi$1,Ke,Xn$1,Ve,nt$1,U$1,un$1,dr,hr,mr,fe=E$1(()=>{Wn(),ei(),ye=Er$1($r()),br(),pr=class{static arraysEqual(o,s){if(o.length!==s.length)return!1;for(let j=0;j<o.length;j++)if(o[j]!==s[j])return!1;return!0}},hi$1=class{static preprocessInputShapes(o,s){let j=o.length===1?[1,o[0]]:o,et=s.length===1?[s[0],1]:s;return[j,et]}static postprocessOutputShape(o,s,j){s===1&&o.splice(o.length-2,1),j===1&&o.pop()}static calcMatMulShape(o,s){return o[1]!==s[0]?void 0:[o[0],s[1]]}},Ke=class p${static calcShape(s,j,et=!1){let bt=s.length,At=j.length;if(bt===0)return j;if(At===0)return s;let Et=Math.max(s.length,j.length),Ut=new Array(Et);if(et){if(bt<2||At<2)return;let zt=hi$1.calcMatMulShape([s[bt-2],s[bt-1]],[j[At-2],j[At-1]]);if(zt===void 0)return;[Ut[Et-2],Ut[Et-1]]=zt}for(let zt=et?3:1;zt<=Et;zt++){let It=bt-zt<0?1:s[bt-zt],Qt=At-zt<0?1:j[At-zt];if(It!==Qt&&It>1&&Qt>1)return;Ut[Et-zt]=Math.max(It,Qt)}return Ut}static index(s,j){let et=new Array(j.length);return p$.fillIndex(s,j,et),et}static fillIndex(s,j,et){let bt=s.length-j.length;for(let At=0;At<j.length;At++)et[At]=s[bt+At]%j[At]}static calc(s,j,et,bt,At){let Et=p$.calcShape(s.dims,j.dims);if(Et){if(bt&&!U$1.areEqual(Et,s.dims))return;let Ut=U$1.size(Et),zt=bt?s:new Ce(Et,At||s.type);if(Et.length===0)zt.set([],et(s.get([]),j.get([])));else{let It=new Array(Et.length),Qt=new Array(s.dims.length),Pt=new Array(j.dims.length),Yt=0,cr=0,_r=!1,vr=!1;s.dims.length===0&&(Yt=s.get([]),_r=!0),j.dims.length===0&&(cr=j.get([]),vr=!0);let Yr;for(let Kr=0;Kr<Ut;Kr++){Yr=Kr;for(let jr=Et.length-1;jr>=0;jr--)It[jr]=Yr%Et[jr],Yr=Math.floor(Yr/Et[jr]);_r||(p$.fillIndex(It,s.dims,Qt),Yt=s.get(Qt)),vr||(p$.fillIndex(It,j.dims,Pt),cr=j.get(Pt)),zt.set(It,et(Yt,cr))}}return zt}}static isValidBroadcast(s,j){let et=s.length,bt=j.length;if(et>bt)return!1;for(let At=1;At<=et;At++)if(s[et-At]!==1&&s[et-At]!==j[bt-At])return!1;return!0}static getBroadcastDims(s,j){let et=s.length,bt=[];for(let At=0;At<et;At++){let Et=et-1-At,Ut=s[Et]||1;(j[j.length-1-At]||1)>1&&Ut===1&&bt.unshift(Et)}return bt}},Xn$1=class{static getShapeOfGemmResult(o,s,j,et,bt){if(o.length!==2||j.length!==2)throw new Error("shape need to be of size 2");let At,Et,Ut;s?(At=o[1],Et=o[0]):(At=o[0],Et=o[1]);let zt=-1;if(et?(Ut=j[0],zt=1):(Ut=j[1],zt=0),j[zt]!==Et)throw new Error("dimension mismatch");if(At<=0||Ut<=0||Et<=0)throw new Error("invalid shape specified");if(bt&&!Ke.isValidBroadcast(bt,[At,Ut]))throw new Error("gemm: invalid bias shape for broadcast");return[At,Ut,Et]}},Ve=class p2{static tensorDataTypeFromProto(s){switch(s){case ye.onnx.TensorProto.DataType.INT8:return"int8";case ye.onnx.TensorProto.DataType.UINT8:return"uint8";case ye.onnx.TensorProto.DataType.BOOL:return"bool";case ye.onnx.TensorProto.DataType.INT16:return"int16";case ye.onnx.TensorProto.DataType.UINT16:return"uint16";case ye.onnx.TensorProto.DataType.INT32:return"int32";case ye.onnx.TensorProto.DataType.UINT32:return"uint32";case ye.onnx.TensorProto.DataType.FLOAT:return"float32";case ye.onnx.TensorProto.DataType.DOUBLE:return"float64";case ye.onnx.TensorProto.DataType.STRING:return"string";case ye.onnx.TensorProto.DataType.INT64:return"int32";case ye.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${ye.onnx.TensorProto.DataType[s]}`)}}static tensorDataTypeStringToEnum(s){switch(s){case"int8":return ye.onnx.TensorProto.DataType.INT8;case"uint8":return ye.onnx.TensorProto.DataType.UINT8;case"bool":return ye.onnx.TensorProto.DataType.BOOL;case"int16":return ye.onnx.TensorProto.DataType.INT16;case"uint16":return ye.onnx.TensorProto.DataType.UINT16;case"int32":return ye.onnx.TensorProto.DataType.INT32;case"uint32":return ye.onnx.TensorProto.DataType.UINT32;case"float32":return ye.onnx.TensorProto.DataType.FLOAT;case"float64":return ye.onnx.TensorProto.DataType.DOUBLE;case"string":return ye.onnx.TensorProto.DataType.STRING;case"int64":return ye.onnx.TensorProto.DataType.INT64;case"uint64":return ye.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${s}`)}}static tensorDimsFromProto(s){return s.map(j=>Wt.isLong(j)?j.toNumber():j)}static tensorValueTypeFromProto(s){return{tensorType:p2.tensorDataTypeFromProto(s.elemType),shape:{dims:p2.tensorDimsFromProto(s.shape.dim.map(j=>j.dimValue))}}}static tensorDimsFromORTFormat(s){let j=[];for(let et=0;et<s.dimsLength();et++)j.push(nt$1.longToNumber(s.dims(et)));return j}static tensorAttributesFromORTFormat(s){let j=[];for(let et=0;et<s.attributesLength();et++)j.push(s.attributes(et));return j}},nt$1=class{static longToNumber(o,s){return Wt.isLong(o)?o.toNumber():o instanceof O.Long?Wt.fromValue({low:o.low,high:o.high,unsigned:s??!1}).toNumber():o}static isLong(o){return Wt.isLong(o)||o instanceof O.Long}},U$1=class bv{static size(s){return bv.getSizeFromDimensionRange(s,0,s.length)}static sizeFromDimension(s,j){if(j<0||j>s.length)throw new Error(`invalid dimension of ${j} for sizeFromDimension as Tensor has ${s.length} dimensions.`);return bv.getSizeFromDimensionRange(s,j,s.length)}static sizeToDimension(s,j){if(j<0||j>s.length)throw new Error(`invalid dimension of ${j} for sizeToDimension as Tensor has ${s.length} dimensions.`);return bv.getSizeFromDimensionRange(s,0,j)}static getSizeFromDimensionRange(s,j,et){let bt=1;for(let At=j;At<et;At++){if(s[At]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");bt*=s[At]}return bt}static computeStrides(s){let j=s.length;if(j===0)return[];if(j===1)return[1];let et=new Array(j);et[j-1]=1,et[j-2]=s[j-1];for(let bt=j-3;bt>=0;--bt)et[bt]=et[bt+1]*s[bt+1];return et}static transpose(s){return s.slice().reverse()}static indicesToOffset(s,j,et){et===void 0&&(et=s.length);let bt=0;for(let At=0;At<et;++At)bt+=j[At]*s[At];return bt}static offsetToIndices(s,j){let et=j.length;if(et===0)return[];if(et===1)return[s*j[0]];let bt=new Array(j.length);for(let At=0;At<bt.length-1;++At)bt[At]=Math.floor(s/j[At]),s-=bt[At]*j[At];return bt[bt.length-1]=s,bt}static normalizeAxis(s,j){if(s<-j&&s>=j)throw new Error("unsupported axis for this operation.");return s<0?s+j:s}static normalizeAxes(s,j){return s.map(et=>this.normalizeAxis(et,j))}static incrementIndex(s,j,et){if(j.length===0||s.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(et===void 0)et=j.length;else if(et<=0||et>j.length)throw new Error("Incorrect axis to increment on");for(let bt=et-1;bt>=0&&(s[bt]++,!(s[bt]<j[bt]));--bt)s[bt]=0}static calculateReshapedDims(s,j){if(j.length===0){if(s.length===0||bv.size(s)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}let et=j.length,bt=new Array(et),At=-1,Et=1;for(let zt=0;zt<et;zt++){if(j[zt]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(j[zt]===-1){if(At!==-1)throw new Error("at most one dimension in shape hints can be -1");At=zt}else{if(j[zt]===0){if(zt>=s.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");bt[zt]=s[zt]}else bt[zt]=j[zt];Et*=bt[zt]}}let Ut=bv.size(s);if(At!==-1){if(Ut%Et!==0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${s}] Output shape: [${j}]`);bt[At]=Ut/Et}else if(Et!==Ut)throw new Error("reshapedDims and originalDims don't have matching sizes");return bt}static sortBasedOnPerm(s,j){return j?j.map(et=>s[et]):s.slice().reverse()}static padShape(s,j){let et=s.length;return s.map((bt,At)=>bt+j[At]+j[At+et])}static areEqual(s,j){return s.length!==j.length?!1:s.every((et,bt)=>et===j[bt])}static validateDimsAndCalcSize(s){if(s.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let j=1;for(let et of s){if(!Number.isInteger(et))throw new TypeError(`Invalid shape: ${et} is not an integer`);if(et<0||et>2147483647)throw new TypeError(`Invalid shape: length ${et} is not allowed`);j*=et}return j}static flattenShape(s,j){j<0&&(j+=s.length);let et=s.reduce((At,Et)=>At*Et,1),bt=s.slice(j).reduce((At,Et)=>At*Et,1);return[et/bt,bt]}static squeezeShape(s,j){let et=new Array;j=bv.normalizeAxes(j,s.length);for(let bt=0;bt<s.length;bt++){let At=j.indexOf(bt)>=0;if(At&&s[bt]!==1)throw new Error("squeeze an axis of size different than 1");(j.length===0&&s[bt]>1||j.length>0&&!At)&&et.push(s[bt])}return et}static unsqueezeShape(s,j){let et=new Array(s.length+j.length);et.fill(0);for(let At=0;At<j.length;At++){let Et=bv.normalizeAxis(j[At],et.length);if(Et>=et.length)throw new Error("'axes' has an out of range axis");if(et[Et]!==0)throw new Error("'axes' has a duplicate axis");et[Et]=1}let bt=0;for(let At=0;At<et.length;At++)et[At]===0&&(et[At]=s[bt++]);if(bt!==s.length)throw new Error("the unsqueezed dimension could not be established");return et}},un$1=class yx{static splitShape(s,j,et,bt){if(et.length===0){if(!bt)throw new Error("need to know number of outputs when the 'split' attribute is not specified");yx.determineSplit(s[j],bt,et)}let At=[],Et=[0];for(let Ut=0;Ut<et.length;++Ut){Ut!==0&&Et.push(Et[Ut-1]+et[Ut-1]);let zt=s.slice();zt[j]=et[Ut],At.push(zt)}return[At,Et]}static determineSplit(s,j,et){if(s%j!==0)throw new Error("cannot split tensor to equal sized parts");for(let bt=0;bt<j;++bt)et.push(s/j)}},dr=class f${static adjustPoolAttributes(s,j,et,bt,At,Et){if(!s&&et.length!==j.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(s)for(let Ut=0;Ut<j.length-2;Ut++)Ut>=et.length?et.push(j[Ut+2]):et[Ut]=j[Ut+2];for(let Ut=0;Ut<et.length;Ut++)if(Ut<bt.length){if(bt[Ut]<0)throw new Error("strides should be greater than or equal to 1")}else bt.push(1);for(let Ut=0;Ut<et.length;Ut++)if(Ut<At.length){if(At[Ut]<0)throw new Error("dilations should be greater than or equal to 1")}else At.push(1);for(let Ut=0;Ut<et.length*2;Ut++)if(Ut<Et.length){if(Et[Ut]<0)throw new Error("pad should be greater than or equal to 1")}else Et.push(0);for(let Ut=0;Ut<et.length;Ut++){if(et[Ut]<=0)throw new Error("kernel shapes need to be greater than 0");if(Et[Ut]>=et[Ut]||Et[Ut+et.length]>=et[Ut])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(s,j,et,bt,At,Et){if(Et){if(At.length!==2*(s.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(j.length!==s.length-2)throw new Error("length of strides should be the length of data dimensions");if(bt.length!==s.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let Ut=0;Ut<s.length-2;Ut++)f$.adjustPadAndReturnShape(s[Ut+2],j[Ut],et[Ut],bt[Ut],At,Ut,Ut+s.length-2,Et)}}static computePoolOutputShape(s,j,et,bt,At,Et,Ut){if(j.length<=0)throw new Error("input shape must be of size greater than 0");let zt=[j[0],j[1]];return f$.computeShapeHelper(s,j,zt,et,bt,At,Et,Ut),zt}static computeConvOutputShape(s,j,et,bt,At,Et,Ut){if(s.length<=0||j.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let zt=[s[0],j[0]];return f$.computeShapeHelper(!1,s,zt,et,bt,At,Et,Ut),zt}static computeShapeHelper(s,j,et,bt,At,Et,Ut,zt){if(s)for(let It=0;It<j.length-2;It++)et.push(1);else for(let It=0;It<j.length-2;It++)et.push(f$.adjustPadAndReturnShape(j[It+2],bt[It],At[It],Et[It],Ut,It,It+j.length-2,zt))}static adjustPadAndReturnShape(s,j,et,bt,At,Et,Ut,zt){let It=et*(bt-1)+1;if(zt&&zt!=="NOTSET")switch(zt){case"VALID":return At[Et]=0,At[Ut]=0,Math.floor((s-It)/j+1);case"SAME_LOWER":case"SAME_UPPER":if(et!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let Qt=((s+j-1)/j-1)*j+bt-s;return At[Et]=Math.floor(zt==="SAME_LOWER"?(Qt+1)/2:Qt/2),At[Ut]=Qt-At[Et],Math.floor((s+Qt-bt)/j+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((s+At[Et]+At[Ut]-It)/j+1)}},hr=-34028234663852886e22,mr=34028234663852886e22});function jd$1(o){switch(o){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${o}`)}}function ku$1(o){switch(o){case re$1.onnx.TensorProto.DataType.UINT8:case re$1.onnx.TensorProto.DataType.INT8:case re$1.onnx.TensorProto.DataType.BOOL:return 1;case re$1.onnx.TensorProto.DataType.UINT16:case re$1.onnx.TensorProto.DataType.INT16:return 2;case re$1.onnx.TensorProto.DataType.FLOAT:case re$1.onnx.TensorProto.DataType.INT32:case re$1.onnx.TensorProto.DataType.UINT32:return 4;case re$1.onnx.TensorProto.DataType.INT64:case re$1.onnx.TensorProto.DataType.DOUBLE:case re$1.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${re$1.onnx.TensorProto.DataType[o]}`)}}function Yd$1(o,s){return new(Ru$1(s))(o)}function Ru$1(o){switch(o){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function bi$1(o,s){if(s===re$1.onnx.TensorProto.DataType.INT64||s===mi$1.TensorDataType.INT64){if(o.greaterThanOrEqual(2147483648)||o.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else if(s===re$1.onnx.TensorProto.DataType.UINT32||s===mi$1.TensorDataType.UINT32||s===re$1.onnx.TensorProto.DataType.UINT64||s===mi$1.TensorDataType.UINT64){if(o.greaterThanOrEqual(4294967296)||o.lessThan(0))throw new TypeError("uint64 is not supported")}else throw new TypeError(`not a LONG type: ${re$1.onnx.TensorProto.DataType[s]}`);return o.toNumber()}function Bu$1(o,s,j){switch(s){case re$1.onnx.TensorProto.DataType.BOOL:case re$1.onnx.TensorProto.DataType.UINT8:return o.getUint8(j);case re$1.onnx.TensorProto.DataType.INT8:return o.getInt8(j);case re$1.onnx.TensorProto.DataType.UINT16:return o.getUint16(j,!0);case re$1.onnx.TensorProto.DataType.INT16:return o.getInt16(j,!0);case re$1.onnx.TensorProto.DataType.FLOAT:return o.getFloat32(j,!0);case re$1.onnx.TensorProto.DataType.INT32:return o.getInt32(j,!0);case re$1.onnx.TensorProto.DataType.UINT32:return o.getUint32(j,!0);case re$1.onnx.TensorProto.DataType.INT64:return bi$1(Wt.fromBits(o.getUint32(j,!0),o.getUint32(j+4,!0),!1),s);case re$1.onnx.TensorProto.DataType.DOUBLE:return o.getFloat64(j,!0);case re$1.onnx.TensorProto.DataType.UINT64:return bi$1(Wt.fromBits(o.getUint32(j,!0),o.getUint32(j+4,!0),!0),s);default:throw new Error(`cannot read from DataView for type ${re$1.onnx.TensorProto.DataType[s]}`)}}var Nu$1,re$1,mi$1,Ce,br=E$1(()=>{Nu$1=Er$1(Ss()),ei(),nn$1(),re$1=Er$1($r()),fe(),mi$1=W.experimental.fbs,Ce=class lw{constructor(s,j,et,bt,At,Et=Nu$1.Guid.create()){this.dims=s,this.type=j,this.dataProvider=et,this.asyncDataProvider=bt,this.cache=At,this.dataId=Et,this.size=U$1.validateDimsAndCalcSize(s);let Ut=this.size,zt=et===void 0&&bt===void 0&&At===void 0;if(At!==void 0&&At.length!==Ut)throw new RangeError("Input dims doesn't match data length.");if(j==="string"){if(At!==void 0&&(!Array.isArray(At)||!At.every(It=>typeof It=="string")))throw new TypeError("cache should be a string array");zt&&(this.cache=new Array(Ut))}else{if(At!==void 0){let It=Ru$1(j);if(!(At instanceof It))throw new TypeError(`cache should be type ${It.name}`)}if(zt){let It=new ArrayBuffer(Ut*jd$1(j));this.cache=Yd$1(It,j)}}}get data(){if(this.cache===void 0){let s=this.dataProvider(this.dataId);if(s.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=s}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(s){return this.data[U$1.indicesToOffset(s,this.strides)]}set(s,j){this.data[U$1.indicesToOffset(s,this.strides)]=j}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=U$1.computeStrides(this.dims)),this._strides}static fromProto(s){if(!s)throw new Error("cannot construct Value from an empty tensor");let j=Ve.tensorDataTypeFromProto(s.dataType),et=Ve.tensorDimsFromProto(s.dims),bt=new lw(et,j);if(j==="string")s.stringData.forEach((At,Et)=>{bt.data[Et]=ln$1(At)});else if(s.rawData&&typeof s.rawData.byteLength=="number"&&s.rawData.byteLength>0){let At=bt.data,Et=new DataView(s.rawData.buffer,s.rawData.byteOffset,s.rawData.byteLength),Ut=ku$1(s.dataType),zt=s.rawData.byteLength/Ut;if(s.rawData.byteLength%Ut!==0)throw new Error("invalid buffer length");if(At.length!==zt)throw new Error("buffer length mismatch");for(let It=0;It<zt;It++){let Qt=Bu$1(Et,s.dataType,It*Ut);At[It]=Qt}}else{let At;switch(s.dataType){case re$1.onnx.TensorProto.DataType.FLOAT:At=s.floatData;break;case re$1.onnx.TensorProto.DataType.INT32:case re$1.onnx.TensorProto.DataType.INT16:case re$1.onnx.TensorProto.DataType.UINT16:case re$1.onnx.TensorProto.DataType.INT8:case re$1.onnx.TensorProto.DataType.UINT8:case re$1.onnx.TensorProto.DataType.BOOL:At=s.int32Data;break;case re$1.onnx.TensorProto.DataType.INT64:At=s.int64Data;break;case re$1.onnx.TensorProto.DataType.DOUBLE:At=s.doubleData;break;case re$1.onnx.TensorProto.DataType.UINT32:case re$1.onnx.TensorProto.DataType.UINT64:At=s.uint64Data;break;default:throw new Error("unspecific error")}if(At==null)throw new Error("failed to populate data from a tensorproto value");let Et=bt.data;if(Et.length!==At.length)throw new Error("array length mismatch");for(let Ut=0;Ut<At.length;Ut++){let zt=At[Ut];Wt.isLong(zt)?Et[Ut]=bi$1(zt,s.dataType):Et[Ut]=zt}}return bt}static fromData(s,j,et){return new lw(j,et,void 0,void 0,s)}static fromOrtTensor(s){if(!s)throw new Error("cannot construct Value from an empty tensor");let j=Ve.tensorDimsFromORTFormat(s),et=Ve.tensorDataTypeFromProto(s.dataType()),bt=new lw(j,et);if(et==="string")for(let At=0;At<s.stringDataLength();At++)bt.data[At]=s.stringData(At);else if(s.rawDataArray()&&typeof s.rawDataLength()=="number"&&s.rawDataLength()>0){let At=bt.data,Et=new DataView(s.rawDataArray().buffer,s.rawDataArray().byteOffset,s.rawDataLength()),Ut=ku$1(s.dataType()),zt=s.rawDataLength()/Ut;if(s.rawDataLength()%Ut!==0)throw new Error("invalid buffer length");if(At.length!==zt)throw new Error("buffer length mismatch");for(let It=0;It<zt;It++){let Qt=Bu$1(Et,s.dataType(),It*Ut);At[It]=Qt}}return bt}}});function q$1(o){return o===1?Xd$1:Kd$1}function Mu$1(o){let s=q$1(o);return`${s.version}
      precision highp float;
      ${s.attribute} vec3 position;
      ${s.attribute} vec2 textureCoord;

      ${s.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`}function Gu$1(o){let s=q$1(o);return`${s.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${s.varyingFrag} vec2 TexCoords;
    ${s.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `}function Uu$1(o,s){let j=q$1(o);return`
  void main() {
    int indices[${s}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${j.output} = result;
  }
  `}var Xd$1,Kd$1,xe=E$1(()=>{Xd$1={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},Kd$1={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"}}),ae=E$1(()=>{});async function gi$1(o,s=et=>0,j){return new Promise((et,bt)=>{let At=0,Et=()=>{if(o()){et();return}At++;let Ut=s(At);if(j!=null&&At>=j){bt();return}setTimeout(Et,Ut)};Et()})}function Kn$1(o){return kr$1(typeof o<"u"&&o.length!==0,()=>"empty string found for sampler name"),"get"+o.charAt(0).toUpperCase()+o.slice(1)}function zu$1(o){return kr$1(typeof o<"u"&&o.length!==0,()=>"empty string found for sampler name"),"get"+o.charAt(0).toUpperCase()+o.slice(1)+"AtOutCoords"}function Br(o,s){let j=JSON.parse(JSON.stringify(o));return j=s,j}function Nr(o,s){return s.map(j=>o[j]).join(", ")}function Je(o){if(o<=1)return"int";if(o===2)return"ivec2";if(o===3)return"ivec3";if(o===4)return"ivec4";if(o===5)return"ivec5";if(o===6)return"ivec6";throw Error(`GPU for rank ${o} is not yet supported`)}function Ot(o=6){return["x","y","z","w","u","v"].slice(0,o)}var kt=E$1(()=>{fe()});function Jd$1(o,s){return Ot(s).map(j=>`${o}.${j}`)}function Rr$1(o,s){return s===1?[o]:Jd$1(o,s)}function Bt$1(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}var gr=E$1(()=>{kt()});function Qd$1(o,s,j){if(o===0)return"false";if(o===1)return`rc > ${s[0]}`;let et="";for(let bt=o-2;bt<o;bt++)et+=`${j[bt]} >= ${s[bt-o+2]}`,bt<o-1&&(et+="||");return et}function eh(o,s){let j=o.length;if(j===0)return"getA(), 0, 0, 0";if(j===1)return`getA(rc),
            rc + 1 >= ${o[0]} ? 0. : getA(rc + 1),
            0, 0`;let et="r, c",bt="r, cp1",At="rp1, c",Et="rp1, cp1",Ut="";if(j>2)for(let zt=0;zt<j-2;++zt)Ut=Ut+`${s[zt]},`;return`getA(${Ut}${et}),
          rEdge ? 0. : getA(${Ut}${At}),
          cEdge ? 0. : getA(${Ut}${bt}),
          rEdge || cEdge ? 0. : getA(${Ut}${Et})`}function th(o,s,j,et){return o===0||o===1?"":`
    int r = ${s[o-2]};
    int c = ${s[o-1]};
    int rp1 = ${s[o-2]} + 1;
    int cp1 = ${s[o-1]} + 1;
    bool rEdge = rp1 >= ${et};
    bool cEdge = cp1 >= ${j};
    `}var Vu$1,Zd$1,Wu$1,Hu$1=E$1(()=>{xe(),ae(),kt(),gr(),Vu$1={name:"pack",inputNames:["A"],inputTypes:[1]},Zd$1=(o,s)=>{let j=q$1(o.session.backend.glContext.version),et=s.dims,bt=et.length,At=s.dims.length,Et=Je(At),Ut=Rr$1("rc",At),zt=th(At,Ut,et[et.length-2],et[et.length-1]),It;bt===0?It=[1,1]:bt===1?It=[et[0],1]:It=[et[At-1],et[At-2]];let Qt=Qd$1(At,It,Ut),Pt=eh(et,Ut),Yt=`
        void main() {
          ${Et} rc = getOutputCoords();

          if(${Qt}) {
            ${j.output} = vec4(0);
          } else {
            ${zt}

            ${j.output} = vec4(${Pt});
          }
        }
      `;return{...Vu$1,hasMain:!0,output:{dims:s.dims,type:s.type,textureType:2},shaderSource:Yt}},Wu$1=(o,s)=>({...Vu$1,get:()=>Zd$1(o,s)})});function yi$1(o){if(o.length===0)return[1,1,1];let s=1;for(let j=0;j<o.length-2;++j)s*=o[j];return[s,o.length>1?o[o.length-2]:1,o[o.length-1]]}function ju$1(o,s){let j=!1;return o.length===0||s.length===0?j=!0:o.length<2||s.length<2?j=o[o.length-1]===s[s.length-1]:j=o[o.length-1]===s[s.length-1]&&o[o.length-2]===s[s.length-2],j}function oh(o){let s=U$1.computeStrides(o),j=["b","r","c"],et="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${s.map((bt,At)=>{let Et=`int ${j[At]} = ${et} / ${bt}`,Ut=At===s.length-1?`int ${j[At+1]} = ${et} - ${j[At]} * ${bt}`:`index -= ${j[At]} * ${bt}`;return`${Et}; ${Ut};`}).join("")}
      return ivec3(b, r, c);
    }
  `}function ih(o){let s=U$1.computeStrides(o);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${s[0]} + coords.z * ${s[1]} + coords.y;
  }
`}var rh,nh,qu$1,Yu$1=E$1(()=>{fe(),xe(),ae(),gr(),rh=o=>({name:"Reshape (packed)",inputTypes:[2],inputNames:["A"],cacheHint:`${o}`}),nh=(o,s,j,et)=>{let bt=s.dims,At=et,Et="";for(let It=0;It<4;It++){let Qt="";switch(It){case 0:Qt="outputCoords = rc;";break;case 1:Qt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:Qt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:Qt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}Et+=`
        ${Qt}
        ${It>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${It}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${It>0?"}":""}
      `}let Ut=q$1(o.session.backend.glContext.version),zt=`
      ${oh(bt)}
      ${ih(At)}
      ${Bt$1()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${At[2]};
        int cols = ${At[1]};

        ${Et}
        ${Ut.output} = result;
      }
    `;return{...j,output:{dims:At,type:s.type,textureType:2},shaderSource:zt,hasMain:!0}},qu$1=(o,s,j)=>{let et=rh(j);return{...et,get:()=>nh(o,s,et,j)}}}),Ti$1,Xu$1=E$1(()=>{xe(),ae(),Ti$1=(o,s)=>{let j=s.shape,et=q$1(o.session.backend.glContext.version),bt=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${et.texture2D}(X,TexCoords).r;
      ${et.output} = encodeAsUint8(value);
    }`,At={name:"Uint8Encode",inputTypes:[0],inputNames:["X"],output:{dims:j,type:s.tensor.type,textureType:3},shaderSource:bt,hasMain:!0};return o.executeProgram(At,[s.tensor])}});function sh(o,s){if(o===1)return"rc";let j="";for(let et=0;et<o;et++)j+=s[et],et<o-1&&(j+=",");return j}var Ku$1,ah,Ju$1,Zu$1=E$1(()=>{xe(),ae(),kt(),gr(),Ku$1={name:"unpack",inputNames:["A"],inputTypes:[2]},ah=(o,s)=>{let j=s.dims.length,et=Rr$1("rc",j),bt=et.slice(-2),At=Je(j),Et=Bt$1(),Ut=s.dims.length===0?"":sh(j,et),zt=j<=1?"rc":`vec2(${bt.join(",")})`,It=q$1(o.session.backend.glContext.version),Qt=`
    ${Et}
    void main() {
      ${At} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${Ut});

       ${It.output} = vec4(getChannel(packedInput, ${zt}), 0, 0, 0);
     }
   `;return{...Ku$1,hasMain:!0,output:{dims:s.dims,type:s.type,textureType:0},shaderSource:Qt}},Ju$1=(o,s)=>({...Ku$1,get:()=>ah(o,s)})}),Jn$1,fn$1,Zn$1,cn$1=E$1(()=>{at$1(),Jn$1=class{constructor(o,s=1){if(s===1)this.internalFormat=o.R32F,this.format=o.RED,this.textureType=o.FLOAT,this.channelSize=s;else if(s===4)this.internalFormat=o.RGBA32F,this.format=o.RGBA,this.textureType=o.FLOAT,this.channelSize=s;else throw new Error(`Invalid number of channels: ${s}`)}encode(o,s){let j,et;return o.constructor!==Float32Array&&(ce.warning("Encoder","data was not of type Float32; creating new Float32Array"),et=new Float32Array(o)),s*this.channelSize>o.length?(ce.warning("Encoder","Source data too small. Allocating larger array"),et=o,j=this.allocate(s*this.channelSize),et.forEach((bt,At)=>j[At]=bt)):(et=o,j=et),j}allocate(o){return new Float32Array(o*4)}decode(o,s){return this.channelSize===1?o.filter((j,et)=>et%4===0).subarray(0,s):o.subarray(0,s)}},fn$1=class{constructor(o,s=1,j){if(s!==1&&s!==4)throw new Error(`Invalid number of channels: ${s}`);this.internalFormat=o.RGBA,this.format=o.RGBA,this.channelSize=s,this.textureType=j||o.FLOAT}encode(o,s){let j=o;return this.channelSize===1&&(ce.verbose("Encoder","Exploding into a larger array"),j=this.allocate(s),o.forEach((et,bt)=>j[bt*4]=et)),j}allocate(o){return new Float32Array(o*4)}decode(o,s){return this.channelSize===1?o.filter((j,et)=>et%4===0).subarray(0,s):o.subarray(0,s)}},Zn$1=class{constructor(o,s=1){if(this.channelSize=4,s===1)this.internalFormat=o.ALPHA,this.format=o.ALPHA,this.textureType=o.UNSIGNED_BYTE,this.channelSize=s;else if(s===4)this.internalFormat=o.RGBA,this.format=o.RGBA,this.textureType=o.UNSIGNED_BYTE,this.channelSize=s;else throw new Error(`Invalid number of channels: ${s}`)}encode(o,s){return new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}allocate(o){return new Uint8Array(o*this.channelSize)}decode(o,s){if(o instanceof Uint8Array)return o.subarray(0,s);throw new Error(`Invalid array type: ${o.constructor}`)}}}),pn$1,Qu$1,xi$1,el$1=E$1(()=>{fe(),ae(),pn$1=(o,s,j)=>{let et=j===0||j===1?1:4,bt=j===2,At=j===1||j===2,Et=j===4?s.length-1:void 0,Ut=j===4?s.map((zt,It)=>It===s.length-1?zt*4:zt):void 0;return xi$1(o,s,et,Ut,{isPacked:bt,reverseWH:At,breakAxis:Et})},Qu$1=(o,s,j)=>{let et=pn$1(o,s,j);return[et.width,et.height]},xi$1=(o,s,j=1,et,bt)=>{let At=!!(bt&&bt.isPacked),[Et,Ut]=o.computeTextureWH(At&&et||s,bt),zt=s.length,It=s.slice(0);if(zt===0&&(It=[1]),j===1)et=s;else if(At){if(j!==4)throw new Error("a packed texture must be 4-channel");et=s,zt>0&&(It[zt-1]=Math.ceil(It[zt-1]/2)),zt>1&&(It[zt-2]=Math.ceil(It[zt-2]/2))}else if(!et)throw new Error("Unpacked shape is needed when using channels > 1");return{width:Et,height:Ut,channels:j,isPacked:At,shape:It,strides:U$1.computeStrides(It),unpackedShape:et,reversedWH:bt&&bt.reverseWH}}}),lh,Qn$1,rl$1=E$1(()=>{at$1(),br(),fe(),Hu$1(),Yu$1(),Xu$1(),Zu$1(),cn$1(),el$1(),ae(),lh=(o,s)=>{let j=s.map(bt=>`${bt.unpackedShape.join(",")};${bt.width}x${bt.height}`).join("_"),et=o.name;return o.cacheHint&&(et+="["+o.cacheHint+"]"),et+=":"+j,et},Qn$1=class{constructor(o){this.session=o,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(o,s){return Qu$1(this.session.layoutStrategy,o,s)}executeProgram(o,s){if(s.length<o.inputNames.length)throw new Error(`Input size mustn't be less than ${o.inputNames.length}.`);if(o.inputNames.length!==o.inputTypes.length)throw new Error("input names size does not match input types");let j=[];for(let zt=0;zt<o.inputNames.length;++zt)j[zt]=this.getOrCreateTextureData(s[zt],o.inputTypes[zt]);let et=lh(o,j),bt=this.session.programManager.getArtifact(et),At=bt?bt.programInfo:typeof o.get=="function"?o.get():o,Et=pn$1(this.session.layoutStrategy,At.output.dims,At.output.textureType),Ut=this.createTextureData(Et,At.output.type);return bt||(bt=this.session.programManager.build(At,j,Ut),this.session.programManager.setArtifact(et,bt)),this.runProgram(bt,j,Ut),Ut}run(o,s){return this.executeProgram(o,s).tensor}runProgram(o,s,j){for(let et=0;et<s.length;++et)if(!!s[et].isPacked!=(o.programInfo.inputTypes[et]===2))throw new Error(`input[${et}] property packed inconsistent`);if(!!j.isPacked!=(o.programInfo.output.textureType===2))throw new Error("output property packed inconsistent");this.session.programManager.run(o,s,j)}getOrCreateTextureData(o,s){let j=this.getTextureData(o.dataId,s===2);if(!j&&(j=this.getTextureData(o.dataId,s!==2),j))return s===2?this.pack(j):this.unpack(j);if(!j){let et=pn$1(this.session.layoutStrategy,o.dims,s);if(s===4){let bt=o.dims;if(bt.length===4){let At=[bt[0],Math.ceil(bt[1]*bt[2]*bt[3]/4)],Et=pn$1(this.session.layoutStrategy,At,s),Ut=o.numberData;if(bt[1]*bt[2]*bt[3]%4!==0){let zt=bt[0],It=bt[1]*bt[2]*bt[3],Qt=Math.ceil(It*1/4)*4,Pt=zt*Qt;Ut=new Float32Array(Pt);for(let Yt=0;Yt<zt;++Yt){let cr=Yt*It,_r=Yt*Qt+Yt%1*It;Ut.set(o.numberData.subarray(cr,cr+It),_r)}}return this.createTextureData(Et,o.type,Ut,o,1)}}if(s===2){let bt=xi$1(this.session.layoutStrategy,o.dims,1,[],{reverseWH:!0}),At=this.createTextureData(bt,o.type,o.numberData,o,1);j=this.pack(At)}else j=this.createTextureData(et,o.type,o.numberData,o,1)}return j}createTextureDataFromLayoutBindTensor(o,s,j,et){return this.createTextureData(o,s,j,et,1)}createTextureData(o,s,j,et,bt){ce.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(o)}]`);let At=this.session.textureManager.createTextureFromLayout(s,o,j,bt);return this.createTextureDataFromTexture(o,s,At,et)}reshapeUnpacked(o,s){let j=this.getOrCreateTextureData(o,0),et={channels:j.channels,height:j.height,width:j.width,shape:s.length!==0?s:[1],strides:U$1.computeStrides(s),unpackedShape:s};return this.createTextureDataFromTexture(et,o.type,j.texture).tensor}reshapePacked(o,s){let j=this.getOrCreateTextureData(o,2);if(ju$1(o.dims,s)){let Ut={channels:j.channels,height:j.height,width:j.width,shape:s.length!==0?s:[1],strides:U$1.computeStrides(s),unpackedShape:s,isPacked:!0};return this.createTextureDataFromTexture(Ut,o.type,j.texture).tensor}let et=yi$1(o.dims),bt=yi$1(s),At=this.reshapePacked(o,et),Et=this.run(qu$1(this,At,bt),[At]);return this.reshapePacked(Et,s)}cast(o,s){let j=this.getOrCreateTextureData(o,0);return this.createTextureDataFromTexture(j,s,j.texture).tensor}createTextureDataFromTexture(o,s,j,et,bt){let At={...o,tensor:et||new Ce(o.unpackedShape,s,Et=>this.readTexture(At),async Et=>this.readTextureAsync(At),void 0,bt),texture:j};return this.setTextureData(At.tensor.dataId,At,o.isPacked),At}getTextureData(o,s=!1){return this.session.isInitializer(o)?this.session.getTextureData(o,s):s?this.packedTextureDataCache.get(o):this.unpackedTextureDataCache.get(o)}setTextureData(o,s,j=!1){this.session.isInitializer(o)?this.session.setTextureData(o,s,j):(j?this.packedTextureDataCache:this.unpackedTextureDataCache).set(o,s)}isTextureLayoutCached(o,s=!1){return!!this.getTextureData(o.dataId,s)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(o=>this.session.textureManager.releaseTexture(o)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(o=>this.session.textureManager.releaseTexture(o)),this.unpackedTextureDataCache=new Map}readTexture(o){return o.isPacked?this.readTexture(this.unpack(o)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(o,o.tensor.type,o.channels):this.session.textureManager.readUint8TextureAsFloat(Ti$1(this,o))}async readTextureAsync(o){return o.isPacked?this.readTextureAsync(this.unpack(o)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(o,o.tensor.type,o.channels):this.session.textureManager.readUint8TextureAsFloat(Ti$1(this,o))}pack(o){return this.executeProgram(Wu$1(this,o.tensor),[o.tensor])}unpack(o){return this.executeProgram(Ju$1(this,o.tensor),[o.tensor])}}}),wi$1,ee,Ge$1=E$1(()=>{wi$1=class{constructor(o){Object.assign(this,o)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(o=>`${this[o]}`).join(";")),this.key}},ee=o=>new wi$1(o)}),nl$1,ol$1,il$1,fh,ch,al$1=E$1(()=>{Ge$1(),xe(),ae(),nl$1={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[0,0,0,0,0]},ol$1=(o,s,j)=>(ch(s),[o.run({...nl$1,cacheHint:j.cacheKey,get:()=>fh(o,s,j)},s)]),il$1=o=>{let s=o.attributes.getFloat("epsilon",1e-5),j=o.attributes.getFloat("momentum",.9),et=o.attributes.getInt("spatial",1);return ee({epsilon:s,momentum:j,spatial:et})},fh=(o,s,j)=>{let et=q$1(o.session.backend.glContext.version),bt=s[0].dims.length,[At,Et]=o.calculateTextureWidthAndHeight(s[1].dims,0),Ut=`
  float process(int[${bt}] indices) {
    vec2 position = offsetToCoords(indices[1], ${At}, ${Et});
    float scale = getColorAsFloat(${et.texture2D}(Scale, position));
    float mean = getColorAsFloat(${et.texture2D}(Mean, position));
    float variance = getColorAsFloat(${et.texture2D}(Variance, position));
    float b = getColorAsFloat(${et.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${j.epsilon})) ) + b;
  }`;return{...nl$1,output:{dims:s[0].dims,type:s[0].type,textureType:0},shaderSource:Ut}},ch=o=>{if(!o||o.length!==5)throw new Error("BatchNormalization requires 5 inputs.");let s=o[0],j=o[1],et=o[2],bt=o[3],At=o[4];if(s.dims.length<3||j.dims.length!==1||et.dims.length!==1||bt.dims.length!==1||At.dims.length!==1)throw new Error("invalid input shape.");if(j.dims[0]!==s.dims[1]||et.dims[0]!==s.dims[1]||bt.dims[0]!==s.dims[1]||At.dims[0]!==s.dims[1])throw new Error("invalid input shape.");if(s.type!=="float32"&&s.type!=="float64"||j.type!=="float32"&&j.type!=="float64"||et.type!=="float32"&&et.type!=="float64"||bt.type!=="float32"&&bt.type!=="float64"||At.type!=="float32"&&At.type!=="float64")throw new Error("invalid input tensor types.")}}),eo$1,ft,R,dn$1,to$1,Ht$1=E$1(()=>{eo$1=class{constructor(o,s,j,et){this.glContext=o,this.programInfo=s,this.inputTextureLayouts=j,this.outputTextureLayout=et}},ft=class{constructor(o){this.context=o}},R=class{constructor(o,s){this.routineBody=o,this.dependencies=s}},dn$1=class{constructor(o,s,j){this.name=o,j?this.dependencies=j:this.dependencies=[],s&&(this.routineBody=s)}addDependency(o){o&&this.dependencies.push(o)}},to$1=class{static returnOrderedNodes(o){if(!o||o.length===0)return[];if(o.length===1)return o;let s=new Set,j=new Set,et=new Array;return this.createOrderedNodes(o,s,j,et),et}static createOrderedNodes(o,s,j,et){for(let bt=0;bt<o.length;++bt)this.dfsTraverse(o[bt],s,j,et)}static dfsTraverse(o,s,j,et){if(!o||j.has(o.name))return;if(s.has(o.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");s.add(o.name);let bt=o.dependencies;if(bt&&bt.length>0)for(let At=0;At<bt.length;++At)this.dfsTraverse(bt[At],s,j,et);et.push(o),j.add(o.name),s.delete(o.name)}}});function dh(){let o="add_";return{body:`
  float ${o}(float a, float b) {
    return a + b;
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:o,type:0}}function hh(){let o="div_";return{body:`
  float ${o}(float a, float b) {
    return a / b;
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:o,type:0}}function mh(){let o="mul_";return{body:`
  float ${o}(float a, float b) {
    return a * b;
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:o,type:0}}function bh(){let o="sub_";return{body:`
  float ${o}(float a, float b) {
    return a - b;
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:o,type:0}}function gh(){let o="equal_";return{body:`
  float ${o}(float a, float b) {
    return float(a == b);
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:o,type:0}}function yh(){let o="greater_";return{body:`
  float ${o}(float a, float b) {
    return float(a > b);
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:o,type:0}}function Th(){let o="less_";return{body:`
  float ${o}(float a, float b) {
    return float(a < b);
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:o,type:0}}function xh(){let o="and_";return{body:`
  float ${o}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:o,type:0}}function wh(){let o="or_";return{body:`
  float ${o}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:o,type:0}}function vh(){let o="xor_";return{body:`
  float ${o}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:o,type:0}}function _h(){return Ih("pow")}function Oh(){let o="prelu_";return{body:`
  float ${o}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${o}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:o,type:0}}function Ih(o){let s=`${o}_`;return{body:`
  float ${s}(float a, float b) {
    return ${o}(a, b);
  }
  vec4 ${s}(vec4 v1, vec4 v2) {
    return ${o}(v1, v2);
  }
  `,name:s,type:0}}var ct$1,Sh,sl$1,ul$1,ll$1,fl$1,cl$1,pl$1,dl$1,hl$1,ml$1,bl$1,gl$1,yl$1,Tl$1=E$1(()=>{fe(),Ht$1(),xe(),ae(),ct$1=(o,s,j,et=s[0].type,bt)=>{let At=o.session.pack?2:0;return{name:j.name,inputNames:["A","B"],inputTypes:[At,At],cacheHint:bt,get:()=>Sh(o,s,j,et)}},Sh=(o,s,j,et=s[0].type)=>{let bt=o.session.pack?2:0,At=!U$1.areEqual(s[0].dims,s[1].dims),Et=s[0].dims,Ut=o.session.pack;if(At){let Qt=Ke.calcShape(s[0].dims,s[1].dims,!1);if(!Qt)throw new Error("Can't perform binary op on the given tensors");Et=Qt;let Pt=Et.length,Yt=s[0].dims.length!==0?s[0].dims.length:1,cr=s[1].dims.length!==0?s[1].dims.length:1,_r=s[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",vr=s[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Yr=q$1(o.session.backend.glContext.version),Kr=Ut?`
      ${j.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${j.name}(a, b);
        ${Yr.output} = result;
      }`:`
      ${j.body}
      float process(int indices[${Pt}]) {
        int aindices[${Yt}];
        int bindices[${cr}];
        ${_r}
        ${vr}
        return ${j.name}(_A(aindices), _B(bindices));
      }`;return{name:j.name,inputNames:["A","B"],inputTypes:[bt,bt],output:{dims:Et,type:et,textureType:bt},shaderSource:Kr,hasMain:Ut}}let zt=q$1(o.session.backend.glContext.version),It=`
    ${j.body}
    void main() {
      vec4 v1 = ${zt.texture2D}(A, TexCoords);
      vec4 v2 = ${zt.texture2D}(B, TexCoords);
      vec4 result = ${j.name}(v1, v2);
      ${zt.output} = result;
    }
    `;return{name:j.name,inputNames:["A","B"],inputTypes:[bt,bt],output:{dims:s[0].dims,type:et,textureType:bt},shaderSource:It,hasMain:!0}},sl$1=(o,s)=>[o.run(ct$1(o,s,dh()),s)],ul$1=(o,s)=>[o.run(ct$1(o,s,xh(),"bool"),s)],ll$1=(o,s)=>[o.run(ct$1(o,s,hh()),s)],fl$1=(o,s)=>[o.run(ct$1(o,s,gh(),"bool"),s)],cl$1=(o,s)=>[o.run(ct$1(o,s,yh(),"bool"),s)],pl$1=(o,s)=>[o.run(ct$1(o,s,Th(),"bool"),s)],dl$1=(o,s)=>[o.run(ct$1(o,s,mh()),s)],hl$1=(o,s)=>[o.run(ct$1(o,s,wh(),"bool"),s)],ml$1=(o,s)=>[o.run(ct$1(o,s,_h()),s)],bl$1=(o,s)=>[o.run(ct$1(o,s,Oh()),s)],gl$1=(o,s)=>[o.run(ct$1(o,s,bh()),s)],yl$1=(o,s)=>[o.run(ct$1(o,s,vh(),"bool"),s)]}),xl$1,wl$1,Ph,vl$1=E$1(()=>{fe(),xl$1=(o,s,j)=>(Ph(s),[o.cast(s[0],j)]),wl$1=o=>Ve.tensorDataTypeFromProto(o.attributes.getInt("to")),Ph=o=>{if(!o||o.length!==1)throw new Error("Cast requires 1 input.");if(o[0].type==="string")throw new Error("Invalid input type.")}}),Eh,Dh,_l$1,ro$1,Ol$1=E$1(()=>{xe(),ae(),kt(),gr(),Eh=(o,s)=>({name:"Concat (packed)",inputNames:Array.from({length:o},(j,et)=>`X${et}`),inputTypes:Array(o).fill(2),cacheHint:s}),Dh=(o,s,j,et)=>{let bt=j[0].dims.slice();if(et>=bt.length||et<-1*bt.length)throw new Error("axis specified for concat doesn't match input dimensionality");et<0&&(et=bt.length+et);let At=bt.slice(0);for(let nA=1;nA<j.length;nA++){let aA=j[nA].dims.slice();for(let lA=0;lA<bt.length;lA++)if(lA===et)At[et]+=aA[lA];else if(bt[lA]!==aA[lA])throw new Error("non concat dimensions must match")}let Et=At.length,Ut=Rr$1("coords",Et),zt=Je(Et),It=Bt$1(),Qt=j.map(nA=>nA.dims),Pt=Ot(Et),Yt=new Array(Qt.length-1);Yt[0]=Qt[0][et];for(let nA=1;nA<Yt.length;nA++)Yt[nA]=Yt[nA-1]+Qt[nA][et];let cr=Pt[et],_r=Pt.slice(-2),vr=Pt.join(),Yr=`if (${cr} < ${Yt[0]}) {
        return getChannel(
            getX0(${vr}), vec2(${_r.join()}));
        }`;for(let nA=1;nA<Yt.length;nA++){let aA=Yt[nA-1];Yr+=`
            if (${cr} < ${Yt[nA]}  && ${cr} >= ${Yt[nA-1]}) {
              return getChannel(
                getX${nA}(${ro$1(Pt,cr,aA)}),
                vec2(${ro$1(_r,cr,aA)}));
            }`}let Kr=Yt.length,jr=Yt[Yt.length-1];Yr+=`
            return getChannel(
              getX${Kr}(${ro$1(Pt,cr,jr)}),
              vec2(${ro$1(_r,cr,jr)}));`;let Hn=q$1(o.session.backend.glContext.version),tA=`
          ${It}
          float getValue(${Pt.map(nA=>"int "+nA)}) {
            ${Yr}
          }

          void main() {
            ${zt} coords = getOutputCoords();
            int lastDim = coords.${Pt[Et-1]};
            coords.${Pt[Et-1]} = coords.${Pt[Et-2]};
            coords.${Pt[Et-2]} = lastDim;

            vec4 result = vec4(getValue(${Ut}), 0., 0., 0.);

            ${Ut[Et-1]} = ${Ut[Et-1]} + 1;
            if (${Ut[Et-1]} < ${At[Et-1]}) {
              result.g = getValue(${Ut});
            }

            ${Ut[Et-2]} = ${Ut[Et-2]} + 1;
            if (${Ut[Et-2]} < ${At[Et-2]}) {
              result.a = getValue(${Ut});
            }

            ${Ut[Et-1]} = ${Ut[Et-1]} - 1;
            if (${Ut[Et-2]} < ${At[Et-2]} &&
                ${Ut[Et-1]} < ${At[Et-1]}) {
              result.b = getValue(${Ut});
            }
            ${Hn.output} = result;
          }
        `;return{...s,output:{dims:At,type:j[0].type,textureType:2},shaderSource:tA,hasMain:!0}},_l$1=(o,s,j)=>{let et=Eh(s.length,j.cacheKey);return{...et,get:()=>Dh(o,et,s,j.axis)}},ro$1=(o,s,j)=>{let et=o.indexOf(s);return o.map((bt,At)=>At===et?`${bt} - ${j}`:bt).join()}}),Il$1,Lh,Fh,Ch,Sl$1,$h,kh,Bh,Al$1,Nh,Pl$1=E$1(()=>{Ge$1(),ae(),Ol$1(),Il$1=(o,s,j)=>(Nh(s),o.session.pack&&s[0].dims.length>1?[o.run(_l$1(o,s,j),s)]:[o.run(Ch(o,s,j),s)]),Lh=(o,s)=>({name:"Concat",inputNames:Array.from({length:o},(j,et)=>`X${et}`),inputTypes:Array(o).fill(0),cacheHint:s}),Fh=(o,s,j,et)=>{let bt=j[0].dims.slice();if(et>=bt.length||et<-1*bt.length)throw new Error("axis specified for concat doesn't match input dimensionality");et<0&&(et=bt.length+et);let At=bt.slice(0);for(let cr=1;cr<j.length;cr++){let _r=j[cr].dims.slice();for(let vr=0;vr<bt.length;vr++)if(vr===et)At[et]+=_r[vr];else if(bt[vr]!==_r[vr])throw new Error("non concat dimensions must match")}let Et=At.length,Ut=new Array(j.length),zt=0;for(let cr=0;cr<Ut.length;++cr)zt+=j[cr].dims[et],Ut[cr]=zt;let It="";j.length<5?It=Sl$1(Ut):It=$h(Ut);let Qt=kh(j.length,Et),Pt=Bh(Ut),Yt=`
        ${Qt}
        ${Pt}
        ${It}
        float process(int indices[${Et}]) {
          int textureIndex = getTextureWhereDataResides (indices[${et}]);

          if(textureIndex != 0) {
            indices[${et}] = indices[${et}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return{...s,output:{dims:At,type:j[0].type,textureType:0},shaderSource:Yt}},Ch=(o,s,j)=>{let et=Lh(s.length,j.cacheKey);return{...et,get:()=>Fh(o,et,s,j.axis)}},Sl$1=o=>`int getTextureWhereDataResides(int index) {
      ${o.map((s,j)=>`if(index<${s}) {return ${j};}
`).join("")}
    }`,$h=o=>Sl$1(o),kh=(o,s)=>{let j=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${s}]) {`];for(let et=0;et<o;++et)et===0?j.push(`	if (textureIndex == ${et}) { return _X${et}(indices); }`):et===o-1?j.push(`	else { return _X${et}(indices); }`):j.push(`	else if (textureIndex == ${et}) { return _X${et}(indices); }`);return j.push("	}"),j.join(`
`)},Bh=o=>{let s=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let j=0;j<o.length;++j)j===0?s.push(`	if (index == ${j}) { return ${o[j]}; }`):j===o.length-1?s.push(`	else { return ${o[j]}; }`):s.push(`	else if (index == ${j}) { return ${o[j]}; }`);return s.push("	}"),s.join(`
`)},Al$1=o=>ee({axis:o.attributes.getInt("axis")}),Nh=o=>{if(!o||o.length<1)throw new Error("too few inputs");let s=o[0].type,j=o[0].dims.length;if(s==="string")throw new Error("string tensor is not supported yet");for(let et of o){if(et.type!==s)throw new Error("input tensors should be one type");if(et.dims.length!==j)throw new Error("input tensors should have the same shape")}}});function Rh(){return pt("abs")}function Mh(){return pt("acos")}function Gh(){return pt("asin")}function Uh(){return pt("atan")}function zh(){return pt("ceil")}function Vh(){return pt("cos")}function Wh(o){let s="elu";return{body:`
  const float alpha = float(${o});

  float ${s}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${s}_(vec4 v) {
    return vec4(${s}_(v.x), ${s}_(v.y), ${s}_(v.z), ${s}_(v.w));
  }
  `,name:s,type:0}}function Hh(){return pt("exp")}function qh(){return pt("floor")}function vi$1(o,s){let j="clip";return{body:`
  const float min = float(${o});
  const float max = float(${s});

  float ${j}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${j}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:j,type:0}}function jh(){let o="indentity";return{body:`
  float ${o}_(float a) {
    return a;
  }
  vec4 ${o}_(vec4 v) {
    return v;
  }
  `,name:o,type:0}}function Yh(o){let s="leakyRelu";return{body:`
  const float alpha = float(${o});

  float ${s}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${s}_(vec4 v) {
    return vec4(${s}_(v.x), ${s}_(v.y), ${s}_(v.z), ${s}_(v.w));
  }
  `,name:s,type:0}}function Xh(){return pt("log")}function Kh(){let o="neg";return{body:`
  float ${o}_(float a) {
    return -a;
  }
  vec4 ${o}_(vec4 v) {
    return -v;
  }
  `,name:o,type:0}}function Jh(){let o="not";return{body:`
  float ${o}_(float a) {
    return float( ! bool(a) );
  }
  bool ${o}_(bool a) {
    return !a;
  }
  vec4 ${o}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${o}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:o,type:0}}function Zh(){return pt("sin")}function _i$1(){let o="relu";return{body:`
  float ${o}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${o}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:o,type:0}}function Oi$1(){let o="sigmoid";return{body:`
  float ${o}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${o}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:o,type:0}}function Qh(){return pt("sqrt")}function em(){return pt("tan")}function tm(){let o="tanh";return{body:`
  float ${o}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${o}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:o,type:0}}function pt(o){return{body:`
  float ${o}_(float a) {
    return ${o}(a);
  }
  vec4 ${o}_(vec4 v) {
    return ${o}(v);
  }
  `,name:o,type:0}}var rm,De$1,El$1,Dl$1,Ll$1,Fl$1,Ii$1,Cl$1,$l$1,nm,kl$1,Bl$1,Nl$1,Rl$1,Ml$1,Gl$1,Si$1,Ul$1,zl$1,Vl$1,Wl$1,Hl$1,ql$1,jl$1,Yl$1,Xl,Kl$1,Jl,Ai$1=E$1(()=>{Ge$1(),fe(),Ht$1(),xe(),ae(),rm=(o,s,j,et)=>{let bt=o.session.pack?2:0,At=q$1(o.session.backend.glContext.version);return{...s,output:{dims:j.dims,type:j.type,textureType:bt},shaderSource:`
     ${et.body}
     void main() {
       vec4 v = ${At.texture2D}(A, TexCoords);
       v = ${et.name}_(v);
       ${At.output} = v;
     }
     `,hasMain:!0}},De$1=(o,s,j,et)=>{let bt=o.session.pack?2:0,At={name:j.name,inputTypes:[bt],inputNames:["A"],cacheHint:et};return{...At,get:()=>rm(o,At,s,j)}},El$1=(o,s)=>[o.run(De$1(o,s[0],Rh()),s)],Dl$1=(o,s)=>[o.run(De$1(o,s[0],Mh()),s)],Ll$1=(o,s)=>[o.run(De$1(o,s[0],Gh()),s)],Fl$1=(o,s)=>[o.run(De$1(o,s[0],Uh()),s)],Ii$1=(o,s,j)=>[o.run(De$1(o,s[0],vi$1(j.min,j.max),j.cacheKey),s)],Cl$1=o=>ee({min:o.attributes.getFloat("min",hr),max:o.attributes.getFloat("max",mr)}),$l$1=(o,s)=>{let j=nm(o,s);return Ii$1(o,[s[0]],j)},nm=(o,s)=>{if(s.length>=3&&(!o.session.isInitializer(s[1].dataId)||!o.session.isInitializer(s[2].dataId)))throw new Error("dynamic clip attributes are not allowed");let j=s.length>=3?s[1].numberData[0]:hr,et=s.length>=3?s[2].numberData[0]:mr;return ee({min:j,max:et})},kl$1=(o,s)=>[o.run(De$1(o,s[0],zh()),s)],Bl$1=(o,s)=>[o.run(De$1(o,s[0],Vh()),s)],Nl$1=(o,s,j)=>[o.run(De$1(o,s[0],Wh(j.alpha),j.cacheKey),s)],Rl$1=o=>ee({alpha:o.attributes.getFloat("alpha",1)}),Ml$1=(o,s)=>[o.run(De$1(o,s[0],Hh()),s)],Gl$1=(o,s)=>[o.run(De$1(o,s[0],qh()),s)],Si$1=(o,s)=>[o.run(De$1(o,s[0],jh()),s)],Ul$1=(o,s,j)=>[o.run(De$1(o,s[0],Yh(j.alpha),j.cacheKey),s)],zl$1=o=>ee({alpha:o.attributes.getFloat("alpha",.01)}),Vl$1=(o,s)=>[o.run(De$1(o,s[0],Xh()),s)],Wl$1=(o,s)=>[o.run(De$1(o,s[0],Kh()),s)],Hl$1=(o,s)=>[o.run(De$1(o,s[0],Jh()),s)],ql$1=(o,s)=>[o.run(De$1(o,s[0],_i$1()),s)],jl$1=(o,s)=>[o.run(De$1(o,s[0],Oi$1()),s)],Yl$1=(o,s)=>[o.run(De$1(o,s[0],Zh()),s)],Xl=(o,s)=>[o.run(De$1(o,s[0],Qh()),s)],Kl$1=(o,s)=>[o.run(De$1(o,s[0],em()),s)],Jl=(o,s)=>[o.run(De$1(o,s[0],tm()),s)]});function Nt(o){let s;switch(o.activation){case"Relu":s=_i$1();break;case"Sigmoid":s=Oi$1();break;case"Clip":s=vi$1(o.clipMin,o.clipMax);break;default:return{activationFunction:"",applyActivation:""}}let j=s.name,et=s.body,bt=`value = ${j}_(value);`;return{activationFunction:et,applyActivation:bt}}var Mr,yr=E$1(()=>{fe(),Ai$1(),Mr=o=>{let s=o.getString("activation","");if(s==="Clip"){let[j,et]=o.getFloats("activation_params",[hr,mr]);return{activation:s,clipMax:et,clipMin:j,activationCacheKey:`${s}:${j},${et}`}}return{activation:s,activationCacheKey:s}}}),im,am,Zl,Ql=E$1(()=>{at$1(),xe(),ae(),no$1(),yr(),im=(o,s)=>({name:"GroupedConv",inputNames:o?["X","W","Bias"]:["X","W"],inputTypes:o?[0,0,0]:[0,0],cacheHint:s}),am=(o,s,j,et)=>{let bt=s.length>2?"value += getBias(output_channel);":"",At=s[0].dims.slice(),Et=s[1].dims.slice(),Ut=Et[0]/et.group;ce.verbose("GroupedConv",`autpPad:${et.autoPad}, dilations:${et.dilations}, group:${et.group}, kernelShape:${et.kernelShape}, pads:${et.pads}, strides:${et.strides}`);let zt=Gr(At,Et,et.dilations,et.pads,et.strides),It=q$1(o.session.backend.glContext.version),{activationFunction:Qt,applyActivation:Pt}=Nt(et),Yt=`
  const ivec2 strides = ivec2(${et.strides[0]}, ${et.strides[1]});
  const ivec2 pads = ivec2(${et.pads[0]}, ${et.pads[1]});
  ${Qt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${Ut};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${Et[1]}; wInChannel++) {
      int input_channel = group_id * ${Et[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${Et[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${et.dilations[0]};

        if (xHeight < 0 || xHeight >= ${At[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${Et[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${et.dilations[1]};
          if (xWidth < 0 || xWidth >= ${At[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${bt}
    ${Pt}
    ${It.output} = vec4(value, .0, .0, .0);
  }
`;return{...j,output:{dims:zt,type:s[0].type,textureType:0},shaderSource:Yt,hasMain:!0}},Zl=(o,s,j)=>{let et=im(s.length>2,j.cacheKey);return{...et,get:()=>am(o,s,et,j)}}}),sm,um,ef$1,tf$1=E$1(()=>{xe(),ae(),gr(),sm=o=>({name:"Im2Col (packed)",inputNames:["A"],inputTypes:[2],cacheHint:o}),um=(o,s,j,et,bt,At)=>{let Et=j.dims,Ut=et.dims,zt=2,It=3,Qt=bt.length,Pt=[Ut[1]*Ut[2]*Ut[3],bt[2]*bt[3]],Yt=Ut[2]*Ut[3],cr=Bt$1(),_r=q$1(o.session.backend.glContext.version),vr="";for(let Kr=0;Kr<=1;Kr++)for(let jr=0;jr<=1;jr++)vr+=`
            blockIndex = rc.x + ${jr};
            pos = rc.y + ${Kr};

            if(blockIndex < ${Pt[1]} && pos < ${Pt[0]}) {
              offsetY = int(blockIndex / (${bt[Qt-1]})) * ${At.strides[0]} -
                ${At.pads[0]};
              d0 = offsetY + ${At.dilations[0]} * (imod(pos, ${Yt}) / ${Ut[2]});

              if(d0 < ${Et[zt]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${bt[Qt-1]}) * ${At.strides[1]} -
                  ${At.pads[1]};
                d1 = offsetX + ${At.dilations[1]} * imod(imod(pos, ${Yt}), ${Ut[2]});

                if(d1 < ${Et[It]} && d1 >= 0) {

                  ch = int(float(pos)/ ${Yt}.);
                    innerDims = vec2(d0, d1);
                    result[${Kr*2+jr}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;let Yr=`
      ${cr}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${vr}
          ${_r.output} = result;
      }
            `;return{...s,output:{dims:Pt,type:j.type,textureType:2},shaderSource:Yr,hasMain:!0}},ef$1=(o,s,j,et,bt)=>{let At=sm(bt.cacheKey);return{...At,get:()=>um(o,At,s,j,et,bt)}}});function fm(o,s,j){let et=s[0].dims,bt=s[1].dims,At=Ke.calcShape(et,bt,!0);if(!At)throw new Error("Can't use matmul on the given tensors");let Et=Je(At.length),Ut=Ot(),{activationFunction:zt,applyActivation:It}=Nt(j),Qt=s.length>2,Pt=Qt?"value += getBiasForMatmul();":"",Yt=Qt?`${Ei$1(Et,Ut,s[2].dims,At,!1)}`:"",cr=At.length,_r=et.length,vr=bt.length,Yr=et[et.length-1],Kr=`
    ${zt}
    ${Yt}
    float process(int indices[${cr}]) {
        int a[${_r}];
        int b[${vr}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${Yr}; ++k) {
            a[${_r-1}] = k;
            b[${vr-2}] = k;
            value += _A(a) * _B(b);
        }
        ${Pt}
        ${It}
        return value;
    }`;return{...o,output:{dims:At,type:s[0].type,textureType:0},shaderSource:Kr}}function Pi$1(o,s){let j=lm(o.length>2,s.activationCacheKey);return{...j,get:()=>fm(j,o,s)}}function Ei$1(o,s,j,et,bt){let At="",Et=j.length,Ut=et.length,zt=Ut-Et;Ut<2&&Et>0?At="coords":At=j.map((Yt,cr)=>`coords.${s[cr+zt]}`).join(", ");let It=Ke.getBroadcastDims(j,et).map(Yt=>`coords.${s[Yt+zt]} = 0;`).join(`
`),Qt=U$1.size(j)===1,Pt="vec4(outputValue.xx, outputValue.yy)";return Qt&&(Pt="vec4(outputValue.x)"),bt?`
vec4 getBiasForMatmul() {
  ${o} coords = getOutputCoords();
  ${It}
  vec4 outputValue = getBias(${At});
  return ${Pt};
}`:`
float getBiasForMatmul() {
  ${o} coords = getOutputCoords();
  ${It}
  return getBias(coords.x);
}`}var rf$1,nf$1,lm,cm,oo$1=E$1(()=>{fe(),ae(),kt(),yr(),Di(),rf$1=(o,s,j)=>(cm(s),o.session.pack?[o.run(io(o,s,j),s)]:[o.run(Pi$1(s,j),s)]),nf$1=o=>Mr(o.attributes),lm=(o,s)=>({name:"MatMul",inputNames:o?["A","B","Bias"]:["A","B"],inputTypes:o?[0,0,0]:[0,0],cacheHint:s}),cm=o=>{if(!o||o.length!==2)throw new Error("MatMul requires 2 inputs.");if(o[0].dims[o[0].dims.length-1]!==o[1].dims[o[1].dims.length-2])throw new Error("shared dimension does not match.");if(o[0].type!=="float32"&&o[0].type!=="float64"||o[1].type!=="float32"&&o[1].type!=="float64")throw new Error("inputs should be float type");if(o[0].type!==o[1].type)throw new Error("inputs types should match")}});function hm(o,s,j,et){let bt=[],At=[],Et=j[0].dims,Ut=j[1].dims,zt=Et.length,It=Ut.length,Qt=et.length,Pt=Qt-zt,Yt=Qt-It;bt=Et.map((jr,Hn)=>`coords.${s[Hn+Pt]}`),bt[zt-1]="i*2",bt.join(", "),At=Ut.map((jr,Hn)=>`coords.${s[Hn+Yt]}`),At[It-2]="i*2",At.join(", ");let cr=Ke.getBroadcastDims(Et,et),_r=Ke.getBroadcastDims(Ut,et),vr=cr.map(jr=>`coords.${s[jr+Pt]} = 0;`).join(`
`),Yr=_r.map(jr=>`coords.${s[jr+Yt]} = 0;`).join(`
`),Kr=`int lastDim = coords.${s[Qt-1]};
  coords.${s[Qt-1]} = coords.${s[Qt-2]};
  coords.${s[Qt-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${o} coords = getOutputCoords();
  ${Kr}
  ${vr}
  vec4 outputValue = getA(${bt});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${o} coords = getOutputCoords();
  ${Kr}
  ${Yr}
  vec4 outputValue = getB(${At});
  return outputValue;
}`}function mm(o,s){let j="";for(let et=0;et<s-2;et++)j+=`rc.${o[et]}, `;return j+=`rc.${o[s-2]}, i*2`,j}function bm(o,s){let j="";for(let et=0;et<s-2;et++)j+=`rc.${o[et]}, `;return j+=`i*2, rc.${o[s-1]}`,j}var pm,dm,io,Di=E$1(()=>{fe(),xe(),ae(),kt(),yr(),oo$1(),pm=(o,s)=>({name:"MatMul (packed)",inputNames:o?["A","B","Bias"]:["A","B"],inputTypes:o?[2,2,2]:[2,2],cacheHint:s}),dm=(o,s,j,et)=>{let bt=j.length>2,At=bt?"value += getBiasForMatmul();":"",Et=j[0].dims,Ut=j[1].dims,zt=Ke.calcShape(Et,Ut,!0),It=!U$1.areEqual(j[0].dims,j[1].dims);if(!zt)throw new Error("Can't use matmul on the given tensors");let Qt=Et[Et.length-1],Pt=Math.ceil(Qt/2),Yt=Et.length,cr=Ut.length,_r=q$1(o.session.backend.glContext.version),vr=Je(zt.length),Yr=zt.length,Kr=Ot(),{activationFunction:jr,applyActivation:Hn}=Nt(et),tA=bt?`${Ei$1(vr,Kr,j[2].dims,zt,!0)}`:"",nA=It?`${hm(vr,Kr,j,zt)}`:"",aA=It?"getAAtOutCoordsMatmul(i)":`getA(${mm(Kr,Yt)})`,lA=It?"getBAtOutCoordsMatmul(i)":`getB(${bm(Kr,cr)})`,hA=It?"":`${vr} rc =
          getOutputCoords(); int lastDim = rc.${Kr[Yr-1]}; rc.${Kr[Yr-1]} =
          rc.${Kr[Yr-2]}; rc.${Kr[Yr-2]} = lastDim;
      `,pA=`
            ${nA}
            ${tA}
            ${jr}
            void main() {
              ${hA}

              vec4 value = vec4(0);
              for (int i = 0; i < ${Pt}; i++) {
                vec4 a = ${aA};
                vec4 b = ${lA};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${At}
              ${Hn}
              ${_r.output} = value;
            }`;return{...s,output:{dims:zt,type:j[0].type,textureType:2},shaderSource:pA,hasMain:!0}},io=(o,s,j)=>{let et=pm(s.length>2,j.activationCacheKey);return{...et,get:()=>dm(o,et,s,j)}}}),of$1,af$1=E$1(()=>{no$1(),tf$1(),Di(),of$1=(o,s,j)=>{let et=s[0].dims,bt=s[1].dims,At=Gr(et,bt,j.dilations,j.pads,j.strides),Et=o.run(ef$1(o,s[0],s[1],At,j),[s[0]]),Ut=o.reshapePacked(s[1],[bt[0],bt[1]*bt[2]*bt[3]]),zt=s.length===3?[Ut,Et,s[2]]:[Ut,Et],It=o.run(io(o,zt,j),zt);return o.reshapePacked(It,At)}}),gm,ym,sf$1,Li$1,Fi$1=E$1(()=>{ae(),gm=o=>({name:"Im2Col",inputNames:["X"],inputTypes:[0],cacheHint:o}),ym=(o,s,j,et,bt,At)=>{let Et=j.dims,Ut=et.dims,zt=bt.length,It=Li$1(Et,Ut,bt,4),Qt=`
        const int XC = ${Et[1]};
        const int XH = ${Et[2]};
        const int XW = ${Et[3]};
        const int KH = ${At.kernelShape[0]};
        const int KW = ${At.kernelShape[1]};
        const int dilationH = ${At.dilations[0]};
        const int dilationW = ${At.dilations[1]};
        const int strideH = ${At.strides[0]};
        const int strideW = ${At.strides[1]};
        const int padH = ${At.pads[0]};
        const int padW = ${At.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${zt}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${Et.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return{...s,output:{dims:It,type:j.type,textureType:4},shaderSource:Qt}},sf$1=(o,s,j,et,bt)=>{let At=gm(bt.cacheKey);return{...At,get:()=>ym(o,At,s,j,et,bt)}},Li$1=(o,s,j,et=4)=>[j[0],j[2],j[3],Math.ceil(o[1]*s[2]*s[3]/et)]}),Tm,xm,uf$1,lf$1=E$1(()=>{fe(),xe(),ae(),yr(),Fi$1(),Tm=(o,s)=>({name:"ConvDotProduct",inputNames:o?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:o?[0,4,0]:[0,4],cacheKey:s.activationCacheKey}),xm=(o,s,j,et,bt)=>{let At=j[0].dims,Et=j[1].dims,Ut=[Et[0],Math.ceil(At[1]*Et[2]*Et[3]/4)],zt=Li$1(At,Et,et),[It,Qt]=o.calculateTextureWidthAndHeight(Ut,4),Pt=U$1.computeStrides(zt),[Yt,cr]=o.calculateTextureWidthAndHeight(zt,4),_r=et.length,vr=j.length<3?"0.0":"_B(b)",Yr=Math.ceil(At[1]*Et[2]*Et[3]/4),{activationFunction:Kr,applyActivation:jr}=Nt(bt),Hn=q$1(o.session.backend.glContext.version),tA=`
${Kr}
float process(int indices[${_r}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${Pt[0]} + im2col[1] * ${Pt[1]} + im2col[2] * ${Pt[2]};
  int kernelOffset = indices[1] * ${Ut[1]};
  float value = ${vr};
  for (int i = 0; i < ${Yr}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${Yt}, ${cr});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${It}, ${Qt});
    value += dot(${Hn.texture2D}(Im2Col, im2colCoords), ${Hn.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${jr}
  return value;
}`;return{...s,output:{dims:et,type:j[0].type,textureType:0},shaderSource:tA}},uf$1=(o,s,j,et)=>{let bt=Tm(s.length>2,et);return{...bt,get:()=>xm(o,bt,s,j,et)}}}),Gr,Ci$1,wm,vm,_m,Om,$i$1,Im,no$1=E$1(()=>{Ge$1(),fe(),Ql(),af$1(),lf$1(),yr(),Fi$1(),oo$1(),Gr=(o,s,j,et,bt)=>{let At=o[0],Et=o.slice(2),Ut=Et.length,zt=s[0],It=s.slice(2).map((Pt,Yt)=>Pt+(Pt-1)*(j[Yt]-1)),Qt=Et.map((Pt,Yt)=>Pt+et[Yt]+et[Yt+Ut]).map((Pt,Yt)=>Math.floor((Pt-It[Yt]+bt[Yt])/bt[Yt]));return[At,zt].concat(...Qt)},Ci$1=(o,s,j)=>(Im(s,j),wm(o,s,j)),wm=(o,s,j)=>{let et=Om(j,s),bt=o.session.pack,At=et.kernelShape[0]===1&&et.kernelShape[1]===1;return et.group>1?[o.run(Zl(o,s,et),s)]:At&&bt?[vm(o,s,et)]:bt&&s[0].dims.length===4&&s[0].dims[0]===1&&!At?[of$1(o,s,et)]:[_m(o,s,et)]},vm=(o,s,j)=>{let et=s[0].dims,bt=s[1].dims,At=Gr(et,bt,j.dilations,j.pads,j.strides),Et=o.reshapeUnpacked(s[0],[et[1],et[2]*et[3]]),Ut=o.reshapeUnpacked(s[1],[bt[0],bt[1]]),zt=s.length>2?[Ut,Et,s[2]]:[Ut,Et],It=o.run(Pi$1(zt,j),zt);return o.reshapeUnpacked(It,At)},_m=(o,s,j)=>{let et=s[0].dims,bt=s[1].dims,At=Gr(et,bt,j.dilations,j.pads,j.strides),Et=o.run(sf$1(o,s[0],s[1],At,j),[s[0]]),Ut=s.length===3?[Et,s[1],s[2]]:[Et,s[1]];return o.run(uf$1(o,s,At,j),Ut)},Om=(o,s)=>{let j=o.kernelShape.slice();if(o.kernelShape.length===0)for(let At=2;At<s[1].dims.length;++At)j.push(s[1].dims[At]);let et=o.pads.slice();dr.adjustPadsBasedOnAutoPad(s[0].dims,o.strides,o.dilations,j,et,o.autoPad);let bt=Object.assign({},o);return Object.assign(bt,{kernelShape:j,pads:et,cacheKey:o.cacheKey}),bt},$i$1=o=>{let s=o.attributes,j=Mr(s),et=s.getString("auto_pad","NOTSET"),bt=s.getInts("dilations",[1,1]),At=s.getInt("group",1),Et=s.getInts("kernel_shape",[]),Ut=s.getInts("pads",[0,0,0,0]),zt=s.getInts("strides",[1,1]);return ee({autoPad:et,dilations:bt,group:At,kernelShape:Et,pads:Ut,strides:zt,...j})},Im=(o,s)=>{if(!o||o.length!==2&&o.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(o[0].dims.length!==4||o[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let j=o[0].dims[1],et=o[1].dims[1]*s.group;if(j!==et)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(o.length===3&&(o[2].dims.length!==1||o[1].dims[0]!==o[2].dims[0]))throw new Error("invalid bias");let bt=o[0].dims.length-2;if(s.dilations.length!==bt)throw new Error(`dilations should be ${bt}D`);if(s.strides.length!==bt)throw new Error(`strides should be ${bt}D`);if(s.pads.length!==bt*2)throw new Error(`pads should be ${bt*2}D`);if(s.kernelShape.length!==0&&s.kernelShape.length!==o[1].dims.length-2)throw new Error("invalid kernel shape");if(o[0].type!=="float32"||o[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(o.length===3&&o[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}}),Sm,Am,Pm,ff$1,Em,Dm,Lm,Fm,Cm,$m,cf,km,pf=E$1(()=>{Ge$1(),xe(),ae(),yr(),Sm=(o,s,j,et,bt,At)=>(o-1)*s+j+(et-1)*bt+1-At,Am=(o,s,j,et,bt)=>{let At=Math.floor(o/2);s==="SAME_UPPER"?(j[et]=At,j[bt]=o-At):s==="SAME_LOWER"&&(j[et]=o-At,j[bt]=At)},Pm=(o,s,j,et,bt,At,Et,Ut)=>{let zt=o.length-2,It=Ut.length===0;for(let Qt=0;Qt<zt;++Qt){let Pt=It?o[Qt+2]*At[Qt]:Ut[Qt],Yt=Sm(o[Qt+2],At[Qt],bt[Qt],s[Qt],j[Qt],Pt);Am(Yt,et,bt,Qt,Qt+zt),It&&Ut.push(At[Qt]*(o[Qt+2]-1)+Et[Qt]+(s[Qt]-1)*j[Qt]+1-bt[Qt]-bt[Qt+zt])}},ff$1=(o,s,j)=>(km(s,j),Em(o,s,j)),Em=(o,s,j)=>{let et=$m(j,s);return[Cm(o,s,et)]},Dm=(o,s)=>({name:"ConvTranspose",inputNames:o?["X","W","B"]:["X","W"],inputTypes:o?[0,0,0]:[0,0],cacheHint:s}),Lm=(o,s,j,et)=>{let bt=s.length>2?"getB(output_channel)":"0.0",At=s[0].dims,Et=s[1].dims,Ut=Et[1],zt=Et[0]/et.group,It=[s[0].dims[0],s[1].dims[1]*et.group,...et.outputShape],Qt=q$1(o.session.backend.glContext.version),{activationFunction:Pt,applyActivation:Yt}=Nt(et),cr=`
  const ivec2 strides = ivec2(${et.strides[0]}, ${et.strides[1]});
  const ivec2 pads = ivec2(${et.pads[0]}, ${et.pads[1]});
  ${Pt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${Ut};
    int wOutChannel = output_channel - group_id * ${Ut};

    float value = ${bt};
    for (int inChannelOffset = 0; inChannelOffset < ${zt}; inChannelOffset++) {
      int input_channel = group_id * ${zt} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Et[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Et[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${et.dilations[0]}, wHOff * ${et.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${At[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${At[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Yt}
    ${Qt.output} = vec4(value, .0, .0, .0);
  }
`;return{...j,output:{dims:It,type:s[0].type,textureType:0},shaderSource:cr,hasMain:!0}},Fm=(o,s,j)=>{let et=Dm(s.length>2,j.cacheKey);return{...et,get:()=>Lm(o,s,et,j)}},Cm=(o,s,j)=>o.run(Fm(o,s,j),s),$m=(o,s)=>{let j=o.kernelShape.slice();if(o.kernelShape.length===0)for(let Ut=2;Ut<s[1].dims.length;++Ut)j.push(s[1].dims[Ut]);let et=o.pads.slice(),bt=o.outputShape.slice(),At=s[0].dims;Pm(At,j,o.dilations,o.autoPad,et,o.strides,o.outputPadding,bt);let Et=Object.assign({},o);return Object.assign(Et,{kernelShape:j,pads:et,outputShape:bt,cacheKey:o.cacheKey}),Et},cf=o=>{let s=o.attributes,j=Mr(s),et=s.getString("auto_pad","NOTSET"),bt=s.getInts("dilations",[1,1]),At=s.getInt("group",1),Et=s.getInts("kernel_shape",[]),Ut=s.getInts("output_padding",[0,0]),zt=s.getInts("output_shape",[]),It=s.getInts("pads",[0,0,0,0]),Qt=s.getInts("strides",[1,1]);return ee({autoPad:et,dilations:bt,group:At,kernelShape:Et,outputPadding:Ut,outputShape:zt,pads:It,strides:Qt,...j})},km=(o,s)=>{if(!o||o.length!==2&&o.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(o[0].dims.length!==4||o[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let j=o[0].dims[1],et=o[1].dims[0];if(j!==et)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let bt=o[1].dims[1]*s.group;if(o.length===3&&(o[2].dims.length!==1||o[2].dims[0]!==bt))throw new Error("invalid bias");let At=o[0].dims.length-2;if(s.dilations.length!==At)throw new Error(`dilations should be ${At}D`);if(s.strides.length!==At)throw new Error(`strides should be ${At}D`);if(s.pads.length!==At*2)throw new Error(`pads should be ${At*2}D`);if(s.outputPadding.length!==At)throw new Error(`output_padding should be ${At}D`);if(s.kernelShape.length!==0&&s.kernelShape.length!==o[1].dims.length-2)throw new Error("invalid kernel shape");if(s.outputShape.length!==0&&s.outputShape.length!==o[0].dims.length-2)throw new Error("invalid output shape");if(o[0].type!=="float32"||o[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(o.length===3&&o[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}}),df$1,Tr$1,hf$1,Bm,mf$1,Nm,Rm,Mm,ao$1=E$1(()=>{Ge$1(),fe(),ae(),df$1={name:"Transpose",inputNames:["A"],inputTypes:[0]},Tr$1=(o,s,j)=>(Mm(s),[o.run({...df$1,cacheHint:j.cacheKey,get:()=>Bm(o,s[0],j.perm)},s)]),hf$1=o=>ee({perm:o.attributes.getInts("perm",[])}),Bm=(o,s,j)=>{let et=s.dims;j=mf$1(et,j);let bt=Nm(et,j),At=et.length,Et=`
      ${Rm("perm",j,At)}
      float process(int indices[${At}]) {
        int a[${At}];
        perm(a, indices);
        return _A(a);
      }`;return{...df$1,output:{dims:bt,type:s.type,textureType:0},shaderSource:Et}},mf$1=(o,s)=>(s&&s.length!==o.length&&(s=[...o.keys()].reverse()),s),Nm=(o,s)=>(s=mf$1(o,s),U$1.sortBasedOnPerm(o,s)),Rm=(o,s,j)=>{let et=[];et.push(`void ${o}(out int a[${j}], int src[${j}]) {`);for(let bt=0;bt<j;++bt)et.push(`	a[${s[bt]}]=src[${bt}];`);return et.push("	}"),et.join(`
`)},Mm=o=>{if(!o||o.length!==1)throw new Error("Transpose requires 1 input.");if(o[0].type!=="float32"&&o[0].type!=="float64")throw new Error("input should be float tensor")}}),bf,gf$1,Gm,yf=E$1(()=>{ao$1(),bf=(o,s,j)=>{Gm(s);let et=j.blocksize,bt=et*et,At=j.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],Et=j.mode==="DCR"?[s[0].dims[0],et,et,s[0].dims[1]/bt,s[0].dims[2],s[0].dims[3]]:[s[0].dims[0],s[0].dims[1]/bt,et,et,s[0].dims[2],s[0].dims[3]],Ut=o.reshapeUnpacked(s[0],Et),zt={perm:At,cacheKey:`${At}`},[It]=Tr$1(o,[Ut],zt),Qt=[s[0].dims[0],s[0].dims[1]/bt,s[0].dims[2]*et,s[0].dims[3]*et];return[o.reshapeUnpacked(It,Qt)]},gf$1=o=>{let s=o.attributes.getInt("blocksize");if(s<1)throw new Error(`blocksize must be >= 1, but got : ${s} for DepthToSpace`);let j=o.attributes.getString("mode","DCR");if(j!=="DCR"&&j!=="CRD")throw new Error(`unrecognized mode: ${j} for DepthToSpace`);return{mode:j,blocksize:s}},Gm=o=>{if(o.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${o.length}`);if(o[0].type==="string"||o[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}}),Tf,xf,Um,wf=E$1(()=>{fe(),Tf=(o,s,j)=>{Um(s,j);let et=U$1.flattenShape(s[0].dims,j);return[o.reshapeUnpacked(s[0],et)]},xf=o=>o.attributes.getInt("axis",1),Um=(o,s)=>{if(!o||o.length!==1)throw new Error("Flatten requires 1 input.");let j=o[0].dims.length;if(j===0)throw new Error("scalar tensor is not supported.");if(s<-j||s>j)throw new Error("Invalid axis");if(o[0].type==="string")throw new Error("string tensor is not supported.")}}),Jt,hn$1=E$1(()=>{Jt=["float32","float64","int32","int16","int8","uint16","uint32","uint8"]}),vf,_f,zm,Vm,Wm,Hm,Of=E$1(()=>{Ge$1(),hn$1(),fe(),ae(),vf=(o,s,j)=>(Hm(s,j.axis),[o.run(Wm(o,s,j),s)]),_f=o=>ee({axis:o.attributes.getInt("axis",0)}),zm={name:"Gather",inputNames:["A","B"],inputTypes:[0,0]},Vm=(o,s,j,et)=>{let bt=j[0].dims.slice(),At=j[1].dims.slice(),Et=new Array(bt.length+At.length-1);et=U$1.normalizeAxis(et,bt.length);let Ut=[];for(let Yt=0;Yt<Et.length;Yt++)Yt<et?(Et[Yt]=bt[Yt],Ut.push(`inputIdx[${Yt}] = outputIdx[${Yt}];`)):Yt<et+At.length?(Et[Yt]=At[Yt-et],Ut.push(`indexDataIdx[${Yt-et}] = outputIdx[${Yt}];`)):(Et[Yt]=bt[Yt-At.length+1],Ut.push(`inputIdx[${Yt-At.length+1}] = outputIdx[${Yt}];`));let zt=Et.length||1,It=bt.length,Qt=At.length||1,Pt=`
      float process(int outputIdx[${zt}]) {
        int inputIdx[${It}];
        int indexDataIdx[${Qt}];
        indexDataIdx[0] = 0;
        ${Ut.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${et}] = idx < 0 ? idx + ${bt[et]} : idx;
        return _A(inputIdx);
      }`;return{...s,output:{dims:Et,type:j[0].type,textureType:0},shaderSource:Pt}},Wm=(o,s,j)=>{let et={...zm,cacheHint:j.cacheKey};return{...et,get:()=>Vm(o,et,s,j.axis)}},Hm=(o,s)=>{if(!o||o.length!==2)throw new Error("Gather requires 2 inputs.");let j=o[0].dims.length;if(j<1)throw new Error("Invalid input shape.");if(s<-j||s>j-1)throw new Error("Invalid axis.");if(Jt.indexOf(o[0].type)===-1)throw new Error("Invaid input type.");if(o[1].type!=="int32"&&o[1].type!=="int16")throw new Error("Invaid input type.")}}),ki$1,If,Sf,Af,qm,jm,Ym,Pf=E$1(()=>{Ge$1(),fe(),ae(),ki$1=(o,s,j)=>(Ym(s,j),[o.run(qm(s,j),s)]),If=(o,s)=>{let j=o.attributes.getInt("transA",0)!==0,et=o.attributes.getInt("transB",0)!==0,bt=o.attributes.getFloat("alpha",1),At=o.attributes.getFloat("beta",1);return ee({transA:j,transB:et,alpha:bt,beta:At,isOptionalC:s})},Sf=o=>If(o,!1),Af=o=>If(o,!0),qm=(o,s)=>{let j={name:"Gemm",inputNames:o.length===3?["A","B","C"]:["A","B"],inputTypes:o.length===3?[0,0,0]:[0,0],key:s.cacheKey};return{...j,get:()=>jm(j,o,s)}},jm=(o,s,j)=>{let et=s[0].dims.slice(),bt=s[1].dims.slice(),[At,Et]=Xn$1.getShapeOfGemmResult(et,j.transA,bt,j.transB,s.length===3?s[2].dims:void 0),Ut=[At,Et];if(!Ut)throw new Error("Can't use gemm on the given tensors");let zt=et[et.length-1],It="";j.transA&&(zt=et[0]),j.transA&&j.transB?It="value += _A_T(a) * _B_T(b);":j.transA&&!j.transB?It="value += _A_T(a) * _B(b);":!j.transA&&j.transB?It="value += _A(a) * _B_T(b);":!j.transA&&!j.transB&&(It="value += _A(a) * _B(b);");let Qt=Ut.length,Pt=s.length===3?`int c[${s[2].dims.length}];`:"",Yt=s.length===3?"bcastIndices_C(indices, c);":"",cr=s.length===3?"value += beta * _C(c);":"",_r=`
      float process(int indices[${Qt}]) {
          int a[${Qt}];
          int b[${Qt}];
          ${Pt}

          copyVec(indices, a);
          copyVec(indices, b);
          ${Yt}

          float value = 0.0;
          for (int k=0; k<${zt}; ++k) {
              a[${Qt-1}] = k;
              b[${Qt-2}] = k;
              ${It}
          }

          value = value * alpha;
          ${cr}
          return value;
      }`;return{...o,output:{dims:Ut,type:s[0].type,textureType:0},variables:[{name:"alpha",type:"float",data:j.alpha},{name:"beta",type:"float",data:j.beta}],shaderSource:_r}},Ym=(o,s)=>{if(!o)throw new Error("Input is missing");if(s.isOptionalC&&(o.length<2||o.length>3))throw new Error("Invaid input shape.");if(!s.isOptionalC&&o.length!==3)throw new Error("Gemm requires 3 inputs");if(o.length===3&&o[2].dims.length!==1&&o[2].dims.length!==2)throw new Error("Invalid input shape of C");if(o[0].type!=="float32"&&o[0].type!=="float64"||o[1].type!=="float32"&&o[1].type!=="float64"||o.length===3&&o[2].type!=="float32"&&o[2].type!=="float64")throw new Error("Invalid input type.");if(o[0].type!==o[1].type||o.length===3&&o[0].type!==o[2].type)throw new Error("Input types are mismatched")}}),Ef,Df,Xm,Km,Jm,Zm,Qm,Lf=E$1(()=>{Ge$1(),ae(),Ef=(o,s,j)=>(Qm(s),[o.run(Jm(o,s,j),s)]),Df=o=>{let s=o.attributes.getFloat("scale"),j=o.attributes.getFloats("bias");return ee({scale:s,bias:j})},Xm={name:"ImageScaler",inputNames:["X"],inputTypes:[0]},Km=(o,s,j,et)=>{let bt=j[0].dims.slice(),At=bt.length,Et=`
      ${Zm(et.bias.length)}
      float process(int indices[${At}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return{...s,output:{dims:bt,type:j[0].type,textureType:0},variables:[{name:"bias",type:"float",arrayLength:et.bias.length,data:et.bias},{name:"scale",type:"float",data:et.scale}],shaderSource:Et}},Jm=(o,s,j)=>{let et={...Xm,cacheHint:j.cacheKey};return{...et,get:()=>Km(o,et,s,j)}},Zm=o=>{let s=[`float getBias(float bias[${o}], int channel) {`];for(let j=0;j<o;++j)j===0?s.push(`	if (channel == ${j}) { return bias[${j}]; }`):j===o-1?s.push(`	else { return bias[${j}]; }`):s.push(`	else if (channel == ${j}) { return bias[${j}]; }`);return s.push("	}"),s.join(`
`)},Qm=o=>{if(!o||o.length!==1)throw new Error("ImageScaler requires 1 input.");if(o[0].dims.length!==4)throw new Error("Invalid input shape.");if(o[0].type!=="float32"&&o[0].type!=="float64")throw new Error("Invalid input type.")}}),Cf,$f,Ff,eb,tb,rb,nb,ob,ib,kf=E$1(()=>{xe(),ae(),Cf=(o,s,j)=>{ib(s);let et=o.run(tb(s[0]),s);return[o.run(ob(o,s[0],j,et.dims),[s[0],et,s[1],s[2]])]},$f=o=>o.attributes.getFloat("epsilon",1e-5),Ff={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[0]},eb=(o,s)=>{let j=s.dims.slice(),et=j[1],bt=j[2]*j[3],At=[j[0],et],Et=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${j[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${j[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${bt});
        temp = 0.0;
        for(int a2=0; a2<${j[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${j[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${bt});

        return v;
      }`;return{...o,output:{dims:At,type:s.type,textureType:4},shaderSource:Et}},tb=o=>({...Ff,get:()=>eb(Ff,o)}),rb={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[0,4,0,0]},nb=(o,s,j,et,bt)=>{let At=q$1(o.session.backend.glContext.version),[Et,Ut]=o.calculateTextureWidthAndHeight(bt,4),[zt,It]=[Et/4,Ut],Qt=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${zt}, ${It});
        return ${At.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return{...s,output:{dims:j.dims,type:j.type,textureType:0},variables:[{name:"epsilon",type:"float",data:et}],shaderSource:Qt}},ob=(o,s,j,et)=>{let bt={...rb,cacheHint:`${j}`};return{...bt,get:()=>nb(o,bt,s,j,et)}},ib=o=>{if(!o||o.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");let s=o[0],j=o[1],et=o[2];if(s.dims.length<3||j.dims.length!==1||et.dims.length!==1)throw new Error("Invalid input shape.");if(j.dims[0]!==s.dims[1]||et.dims[0]!==s.dims[1])throw new Error("Input shapes are mismatched.");if(s.type!=="float32"&&s.type!=="float64"||j.type!=="float32"&&j.type!=="float64"||et.type!=="float32"&&et.type!=="float64")throw new Error("Invalid input type.");if(o[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}});function ab(o,s){let j=o[0].dims[1],et=o[0].dims.length,bt=-Math.floor((s.size-1)/2),At=Math.ceil((s.size-1)/2),Et=`float(${s.alpha}) / float(${s.size})`,Ut=`float(${s.bias})`,zt=`float(${s.beta})`,It=`
    float process(int indices[${et}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${bt}; i <= ${At}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${j}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(${Ut} + ${Et} * square_sum, ${zt});
    }`;return{...Rf,cacheHint:s.cacheKey,output:{dims:o[0].dims,type:o[0].type,textureType:0},shaderSource:It}}function sb(o,s){return{...Rf,cacheHint:s.cacheKey,get:()=>ab(o,s)}}var Bf,Nf,Rf,ub,Mf=E$1(()=>{Ge$1(),ae(),Bf=(o,s,j)=>(ub(s),[o.run(sb(s,j),s)]),Nf=o=>{let s=o.attributes.getFloat("alpha",1e-4),j=o.attributes.getFloat("beta",.75),et=o.attributes.getFloat("bias",1),bt=o.attributes.getInt("size");return ee({alpha:s,beta:j,bias:et,size:bt})},Rf={name:"LRN",inputNames:["X"],inputTypes:[0]},ub=o=>{if(!o||o.length!==1)throw new Error("LRN requires 1 input.");if(o[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(o[0].type!=="float32")throw new Error("input should be float type")}}),lb,Bi,Gf,Uf,zf,fb,cb,pb,db,hb,mb,bb,gb,Vf=E$1(()=>{Ge$1(),fe(),xe(),ae(),lb={name:"Pad",inputNames:["A"],inputTypes:[0]},Bi=(o,s,j)=>(pb(s),[o.run({...lb,cacheHint:j.cacheKey,get:()=>cb(o,s[0],j)},s)]),Gf=o=>{let s=o.attributes.getString("mode","constant"),j=o.attributes.getFloat("value",0),et=o.attributes.getInts("pads");return ee({mode:s,value:j,pads:et})},Uf=(o,s,j)=>{db(s);let et=fb(o,s,j);return Bi(o,[s[0]],et)},zf=o=>o.attributes.getString("mode","constant"),fb=(o,s,j)=>{if(!o.session.isInitializer(s[1].dataId)||s.length>=3&&!o.session.isInitializer(s[2].dataId))throw new Error("dynamic pad attributes are not allowed");let et=Array.from(s[1].integerData),bt=s.length>=3?s[2].floatData[0]:0;return ee({mode:j,pads:et,value:bt})},cb=(o,s,j)=>{let et=U$1.padShape(s.dims.slice(),j.pads),bt=et.length,At=`
      ${hb(o,s,j)}
      float process(int[${bt}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[0],output:{dims:et,type:s.type,textureType:0},shaderSource:At}},pb=o=>{if(!o||o.length!==1)throw new Error("Pad requires 1 input");if(o[0].type!=="float32"&&o[0].type!=="float64")throw new Error("Invalid input type.")},db=o=>{if(!o||o.length!==2&&o.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(o[1].type!=="int32")throw new Error("Invalid input type.");if(o.length>=3&&o[2].type==="string")throw new Error("Invalid input type.")},hb=(o,s,j)=>{let et=q$1(o.session.backend.glContext.version),[bt,At]=o.calculateTextureWidthAndHeight(s.dims,0),Et=U$1.computeStrides(s.dims);switch(j.mode){case"constant":return mb(et,s.dims,Et,bt,At,j.pads,j.value);case"reflect":return bb(et,s.dims,Et,bt,At,j.pads);case"edge":return gb(et,s.dims,Et,bt,At,j.pads);default:throw new Error("Invalid mode")}},mb=(o,s,j,et,bt,At,Et)=>{let Ut=s.length,zt="";for(let It=Ut-1;It>=0;--It)zt+=`
        k = m[${It}] - ${At[It]};
        if (k < 0)  return constant;
        if (k >= ${s[It]}) return constant;
        offset += k * ${j[It]};
        `;return`
      float padA(int m[${Ut}]) {
        const float constant = float(${Et});
        int offset = 0;
        int k = 0;
        ${zt}
        vec2 coords = offsetToCoords(offset, ${et}, ${bt});
        float value = getColorAsFloat(${o.texture2D}(A, coords));
        return value;
      }
      `},bb=(o,s,j,et,bt,At)=>{let Et=s.length,Ut="";for(let zt=Et-1;zt>=0;--zt)Ut+=`
        k = m[${zt}] - ${At[zt]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(s[zt]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${s[zt]}) { k = _2n_1 - k; }
        }
        offset += k * ${j[zt]};
        `;return`
      float padA(int m[${Et}]) {
        int offset = 0;
        int k = 0;
        ${Ut}
        vec2 coords = offsetToCoords(offset, ${et}, ${bt});
        float value = getColorAsFloat(${o.texture2D}(A, coords));
        return value;
      }
      `},gb=(o,s,j,et,bt,At)=>{let Et=s.length,Ut="";for(let zt=Et-1;zt>=0;--zt)Ut+=`
        k = m[${zt}] - ${At[zt]};
        if (k < 0)  k = 0;
        if (k >= ${s[zt]}) k = ${s[zt]-1};
        offset += k * ${j[zt]};
      `;return`
      float padA(int m[${Et}]) {
        int offset = 0;
        int k = 0;
        ${Ut}
        vec2 coords = offsetToCoords(offset, ${et}, ${bt});
        float value = getColorAsFloat(${o.texture2D}(A, coords));
        return value;
      }
      `}}),Hf,qf,jf,Yf,Xf,Kf,Jf,Zf,Qf,yb,Wf,ec$1,uo$1,tc$1,so$1,Tb,rc$1=E$1(()=>{Ge$1(),fe(),ae(),Hf=(o,s,j)=>{uo$1(s);let et={name:"AveragePool",inputNames:["X"],inputTypes:[0],cacheHint:j.cacheKey};return[o.run({...et,get:()=>jf(s,et,!1,j)},s)]},qf=o=>{let s=o.attributes.getString("auto_pad","NOTSET"),j=o.attributes.getInt("ceil_mode",0),et=o.attributes.getInt("count_include_pad",0)!==0,bt=o.attributes.getInts("kernel_shape"),At=o.attributes.getInts("strides",[]),Et=o.attributes.getInts("pads",[]);if(j!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return ee({autoPad:s,ceilMode:j,countIncludePad:et,kernelShape:bt,strides:At,pads:Et})},jf=(o,s,j,et)=>{let[bt,At]=Qf(o,et,j),Et=U$1.size(bt.kernelShape),Ut="value += _X(x);",zt="";bt.countIncludePad?zt+=`value /= float(${Et});`:zt+=`value /= float(${Et} - pad);`;let It=`
        ${tc$1(o[0].dims,bt,Ut,zt,"0.0")}
      `;return{...s,output:{dims:At,type:o[0].type,textureType:0},shaderSource:It}},Yf=(o,s,j)=>{uo$1(s);let et={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[0],cacheHint:`${j.countIncludePad}`};return[o.run({...et,get:()=>jf(s,et,!0,j)},s)]},Xf=o=>{let s=o.attributes.getInt("count_include_pad",0)!==0;return ee({autoPad:"",ceilMode:0,countIncludePad:s,kernelShape:[],strides:[],pads:[]})},Kf=(o,s,j)=>{uo$1(s);let et={name:"MaxPool",inputNames:["X"],inputTypes:[0],cacheHint:j.cacheKey};return[o.run({...et,get:()=>Zf(s,et,!1,j)},s)]},Jf=o=>{let s=o.attributes.getString("auto_pad","NOTSET"),j=o.attributes.getInt("ceil_mode",0),et=o.attributes.getInts("kernel_shape"),bt=o.attributes.getInts("strides",[]),At=o.attributes.getInts("pads",[]),Et=o.attributes.getInt("storage_order",0),Ut=o.attributes.getInts("dilations",[]);if(Et!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(j!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return ee({autoPad:s,ceilMode:j,countIncludePad:!1,kernelShape:et,strides:bt,pads:At,storageOrder:Et,dilations:Ut})},Zf=(o,s,j,et)=>{let[bt,At]=Qf(o,et,j),Et=`
      value = max(_X(x), value);
    `,Ut="",zt=`
      ${tc$1(o[0].dims,bt,Et,Ut,"-1e5")}
    `;return{...s,output:{dims:At,type:o[0].type,textureType:0},shaderSource:zt}},Qf=(o,s,j)=>{let et=o[0].dims.slice(),bt=Object.hasOwnProperty.call(s,"dilations"),At=s.kernelShape.slice(),Et=s.strides.slice(),Ut=bt?s.dilations.slice():[],zt=s.pads.slice();dr.adjustPoolAttributes(j,et,At,Et,Ut,zt);let It=dr.computePoolOutputShape(j,et,Et,Ut,At,zt,s.autoPad),Qt=Object.assign({},s);return bt?Object.assign(Qt,{kernelShape:At,strides:Et,pads:zt,dilations:Ut,cacheKey:s.cacheKey}):Object.assign(Qt,{kernelShape:At,strides:Et,pads:zt,cacheKey:s.cacheKey}),[Qt,It]},yb={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},Wf={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[0]},ec$1=(o,s)=>(uo$1(s),[o.run({...Wf,get:()=>Zf(s,Wf,!0,yb)},s)]),uo$1=o=>{if(!o||o.length!==1)throw new Error("Pool ops requires 1 input.");if(o[0].type!=="float32"&&o[0].type!=="float64")throw new Error("Invalid input type.")},tc$1=(o,s,j,et,bt)=>{let At=o.length;if(s.kernelShape.length<=2){let Et=s.kernelShape[s.kernelShape.length-1],Ut=s.strides[s.strides.length-1],zt=s.pads[s.pads.length/2-1],It=s.pads[s.pads.length-1],Qt=o[At-1],Pt="",Yt="",cr="";if(zt+It!==0?Pt=`
          for (int i = 0; i < ${Et}; i++) {
            x[${At} - 1] = indices[${At} - 1] * ${Ut} - ${zt} + i;
            if (x[${At} - 1] < 0 || x[${At} - 1] >= ${Qt}) {
              pad++;
              continue;
            }
            ${j}
          }`:Pt=`
          for (int i = 0; i < ${Et}; i++) {
            x[${At} - 1] = indices[${At} - 1] * ${Ut} - ${zt} + i;
            ${j}
          }`,s.kernelShape.length===2){let _r=s.kernelShape[s.kernelShape.length-2],vr=s.strides[s.strides.length-2],Yr=s.pads[s.pads.length/2-2],Kr=s.pads[s.pads.length-2],jr=o[At-2];Yr+Kr!==0?Yt=`
            for (int j = 0; j < ${_r}; j++) {
              x[${At} - 2] = indices[${At} - 2] * ${vr} - ${Yr} + j;
              if (x[${At} - 2] < 0 || x[${At} - 2] >= ${jr}) {
                pad+= ${Et};
                continue;
              }
          `:Yt=`
            for (int j = 0; j < ${_r}; j++) {
              x[${At} - 2] = indices[${At} - 2] * ${vr} - ${Yr} + j;
            `,cr=`
          }
        `}return`
        float process(int indices[${At}]) {
          int x[${At}];
          copyVec(indices, x);

          float value = ${bt};
          int pad = 0;
          ${Yt}
          ${Pt}
          ${cr}
          ${et}
          return value;
        }
      `}else{let Et=U$1.size(s.kernelShape),Ut=U$1.computeStrides(s.kernelShape),zt=Ut.length,It=s.pads.length,Qt=Tb(zt),Pt=so$1(o,"inputDims"),Yt=so$1(s.pads,"pads"),cr=so$1(Ut,"kernelStrides"),_r=so$1(s.strides,"strides"),vr=s.pads.reduce((Kr,jr)=>Kr+jr),Yr="";return vr?Yr=`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${j}
          }`:Yr=`
          }
          ${j}
        `,`
        ${Qt}
        float process(int indices[${At}]) {
          int x[${At}];
          copyVec(indices, x);
          int offset[${zt}];
          int pads[${It}];
          int inputDims[${At}];
          int kernelStrides[${zt}];
          int strides[${zt}];
          ${Yt}
          ${Pt}
          ${_r}
          ${cr}

          float value = ${bt};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${Et}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${At} - ${zt}; j < ${At}; j++) {
              x[j] = indices[j] * strides[j - ${At} + ${zt}]
                + offset[j - ${At} + ${zt}] - pads[j - 2];
              ${Yr}
          }
          ${et}

          return value;
        }
      `}},so$1=(o,s)=>{let j="";for(let et=0;et<o.length;et++)j+=`
      ${s}[${et}] = ${o[et]};
    `;return j},Tb=o=>`
  void offsetToIndices(int offset, int[${o}] strides, out int[${o}] indices) {
    if (${o} == 0) {
      return;
    }
    for (int i = 0; i < ${o} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${o} - 1] = offset;
  }`}),xr,Zt,xb,wb,nc$1,oc$1,ic$1,ac$1,sc$1,uc$1,lc$1,fc$1=E$1(()=>{Ge$1(),hn$1(),fe(),ae(),xr=(o,s,j,et,bt)=>{wb(s);let At={name:et,inputNames:["A"],inputTypes:[0]};return[o.run({...At,cacheHint:j.cacheKey,get:()=>xb(o,s,j,et,bt,At)},s)]},Zt=o=>{let s=o.attributes.getInts("axes",[]),j=o.attributes.getInt("keepdims",1)===1;return ee({axes:s,keepDims:j})},xb=(o,s,j,et,bt,At)=>{let Et=[],Ut=s[0].dims.length||1,zt=[],It=U$1.normalizeAxes(j.axes,s[0].dims.length),Qt=bt(s,It),Pt=Qt[1];for(let cr=0;cr<s[0].dims.length;cr++)It.indexOf(cr)>=0||It.length===0?(j.keepDims&&Et.push(1),Pt=`
          for(int j${cr} = 0; j${cr} < ${s[0].dims[cr]}; j${cr}++) {
            inputIdx[${cr}] = j${cr};
            ${Pt}
          }`):(zt.push(`inputIdx[${cr}] = outputIdx[${Et.length}];`),Et.push(s[0].dims[cr]));let Yt=`
      float process(int outputIdx[${Et.length||1}]) {
        float value;                 // final result
        int inputIdx[${Ut}];      // addressing input data
        ${zt.join(`
`)}
        ${Qt[0]}       // init ops for reduce max/min
        ${Pt}
        ${Qt[2]}       // final computation for reduce mean
        return value;
      }`;return{...At,output:{dims:Et,type:s[0].type,textureType:0},shaderSource:Yt}},wb=o=>{if(!o||o.length!==1)throw new Error("Reduce op requires 1 input.");if(Jt.indexOf(o[0].type)===-1)throw new Error("Invalid input type.")},nc$1=(o,s,j)=>xr(o,s,j,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),oc$1=(o,s,j)=>xr(o,s,j,"ReduceMean",(et,bt)=>{let At=1;for(let Et=0;Et<et[0].dims.length;Et++)(bt.indexOf(Et)>=0||bt.length===0)&&(At*=et[0].dims[Et]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${At}.;`]}),ic$1=(o,s,j)=>xr(o,s,j,"ReduceMax",(et,bt)=>{let At=[];for(let Et=0;Et<et[0].dims.length;Et++)(bt.indexOf(Et)>=0||bt.length===0)&&At.push(`inputIdx[${Et}] = 0;`);return[`${At.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),ac$1=(o,s,j)=>xr(o,s,j,"ReduceMin",(et,bt)=>{let At=[];for(let Et=0;Et<et[0].dims.length;Et++)(bt.indexOf(Et)>=0||bt.length===0)&&At.push(`inputIdx[${Et}] = 0;`);return[`${At.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),sc$1=(o,s,j)=>xr(o,s,j,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),uc$1=(o,s,j)=>xr(o,s,j,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),lc$1=(o,s,j)=>xr(o,s,j,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])}),cc$1,pc$1=E$1(()=>{fe(),cc$1=(o,s)=>{let j=U$1.calculateReshapedDims(s[0].dims,s[1].integerData);return o.session.pack?[o.reshapePacked(s[0],j)]:[o.reshapeUnpacked(s[0],j)]}}),dc$1,Ni$1,hc$1,mc$1,mn$1,vb,Ri$1,lo$1,Mi$1=E$1(()=>{Ge$1(),xe(),ae(),dc$1={name:"Upsample",inputNames:["X"],inputTypes:[0]},Ni$1=(o,s,j)=>(Ri$1(s,j),[o.run({...dc$1,cacheHint:j.cacheKey,get:()=>vb(o,s,j)},s)]),hc$1=o=>mn$1(o,7),mc$1=o=>mn$1(o,9),mn$1=(o,s)=>{let j=s>=10,et=o.attributes.getString("mode","nearest");if(et!=="nearest"&&et!=="linear"&&(s<11||et!=="cubic"))throw new Error(`unrecognized mode: ${et}`);let bt=[];s<9&&(bt=o.attributes.getFloats("scales"),lo$1(bt,et,j));let At=o.attributes.getFloat("extrapolation_value",0),Et=s>10?o.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(Et)===-1)throw new Error(`coordinate_transform_mode '${Et}' is not supported`);let Ut=Et==="tf_crop_and_resize",zt=Ut,It=et==="nearest"&&s>=11?o.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(It)===-1)throw new Error(`nearest_mode '${It}' is not supported`);let Qt=o.attributes.getFloat("cubic_coeff_a",-.75),Pt=o.attributes.getInt("exclude_outside",0)!==0;if(Pt&&et!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let Yt=s<11?!0:et==="nearest"&&Et==="asymmetric"&&It==="floor",cr=0,_r=0,vr=0;return s>10?o.inputs.length>2?(cr=1,_r=2,vr=3):(_r=1,vr=2):s===9&&(_r=1),ee({opset:s,isResize:j,mode:et,scales:bt,extrapolationValue:At,coordinateTransformMode:Et,useExtrapolation:zt,needRoiInput:Ut,nearestMode:It,cubicCoefficientA:Qt,excludeOutside:Pt,useNearest2xOptimization:Yt,roiInputIdx:cr,scalesInputIdx:_r,sizesInputIdx:vr})},vb=(o,s,j)=>{let et=q$1(o.session.backend.glContext.version),[bt,At]=o.calculateTextureWidthAndHeight(s[0].dims,0),Et=s[0].dims.map((vr,Yr)=>Math.floor(vr*j.scales[Yr])),[Ut,zt]=o.calculateTextureWidthAndHeight(Et,0),It=Et.length,Qt=new Array(It),Pt=new Array(It),Yt=`
      int output_pitches[${It}];
      int input_pitches[${It}];
      `;for(let vr=It-1;vr>=0;vr--)Qt[vr]=vr===It-1?1:Qt[vr+1]*Et[vr+1],Pt[vr]=vr===It-1?1:Pt[vr+1]*s[0].dims[vr+1],Yt+=`
        output_pitches[${vr}] = ${Qt[vr]};
        input_pitches[${vr}] = ${Pt[vr]};
        `;let cr=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${bt}, ${At});
        float value = getColorAsFloat(${et.texture2D}(X, coords));
        return value;
      }
      `,_r=j.mode==="nearest"?`
    ${cr}
    float process(int indices[${It}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${Ut}, ${zt});

      ${Yt}

      int d, m;
      for (int dim = 0; dim < ${It}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:It===4?`
    ${cr}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${Ut}, ${zt});

      ${Yt}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${s[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${cr}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${Ut}, ${zt});

      ${Yt}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${s[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return{...dc$1,output:{dims:Et,type:s[0].type,textureType:0},shaderSource:_r,variables:[{name:"scales",type:"int",arrayLength:j.scales.length,data:j.scales.map(vr=>Math.ceil(vr))}]}},Ri$1=(o,s)=>{if(!o||s.opset<9&&o.length!==1||s.opset>=9&&s.opset<11&&o.length!==2||s.opset>=11&&o.length<2)throw new Error("invalid inputs.");if(s.scales.length>0&&o[0].dims.length!==s.scales.length)throw new Error("Invalid input shape.");if(o[0].type==="string")throw new Error("Invalid input tensor types.")},lo$1=(o,s,j)=>{if(j){for(let et of o)if(et<=0)throw new Error("Scale value should be greater than 0.")}else for(let et of o)if(et<1)throw new Error("Scale value should be greater than or equal to 1.");if((s==="linear"||s==="cubic")&&o.length!==2&&(o.length!==4||o[0]!==1||o[1]!==1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${j?"Resize":"Upsample"} opeartor.`)}}),Gi,Ui$1,bc$1,gc$1,_b,Ob,Ib,Sb,yc$1=E$1(()=>{xe(),ae(),kt(),gr(),Mi$1(),Gi={name:"Resize",inputNames:["A"],inputTypes:[2]},Ui$1=(o,s,j)=>(Ri$1(s,j),[o.run({...Gi,cacheHint:j.cacheKey,get:()=>_b(o,s,j)},s)]),bc$1=o=>mn$1(o,10),gc$1=o=>mn$1(o,11),_b=(o,s,j)=>{let et=q$1(o.session.backend.glContext.version),[bt,At]=Ob(s,j);if(bt.every(jr=>jr===1)&&j.coordinateTransformMode!=="tf_crop_and_resize")return{...Gi,output:{dims:At,type:s[0].type,textureType:2},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${et.texture2D}(X, TexCoords);
                    ${et.output} = v;
                }`};let Et=At.length;if(Et<2)throw new Error(`output dimension should be at least 2, but got ${Et}`);let Ut=At[Et-2],zt=At[Et-1],It=s[0].dims;if(Et!==It.length)throw new Error(`output dimension should match input ${It.length}, but got ${Et}`);let Qt=It[Et-2],Pt=It[Et-1],Yt=bt[Et-2],cr=bt[Et-1],_r="";if(j.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${j.mode}'`);switch(j.coordinateTransformMode){case"asymmetric":_r=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":_r=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":_r=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${zt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${Ut}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${zt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${Ut}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":_r=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${zt}.0 - 1.0, ${Ut}.0 - 1.0, ${zt}.0 - 1.0,
                            ${Ut}.0 - 1.0);
                        vec4 original = vec4(${Pt}.0 - 1.0, ${Qt}.0 - 1.0, ${Pt}.0 - 1.0,
                            ${Qt}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${j.coordinateTransformMode}'`)}let vr=Je(Et),Yr=Bt$1(),Kr=`
            const vec2 inputWH = vec2(${Qt}.0, ${Pt}.0);
            const vec4 scaleWHWH = vec4(float(${Yt}), float(${cr}), float(${Yt}), float(${cr}));
            ${Yr}
            ${_r}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${vr} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${Ut-1};
                bool hasNextCol = rc.z < ${zt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${et.output} = vec4(newValue);
            }
        `;return{...Gi,output:{dims:At,type:s[0].type,textureType:2},hasMain:!0,shaderSource:Kr}},Ob=(o,s)=>{let j=o[0].dims,et=s.scales,bt;if(et.length===0){let Et=o[s.scalesInputIdx];if(Et&&Et.size!==0){if(o[s.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");et=Ib(Et,s.mode,s.isResize)}else{let Ut=o[s.sizesInputIdx];if(!Ut||Ut.size===0)throw new Error("Either scales or sizes MUST be provided as input.");bt=Array.from(Ut.integerData),et=Sb(bt,j,s.mode,s.isResize)}}else if(o[s.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");let At=bt||j.map((Et,Ut)=>Math.floor(Et*et[Ut]));return[et,At]},Ib=(o,s,j)=>{let et=Array.from(o.floatData);return lo$1(et,s,j),et},Sb=(o,s,j,et)=>{let bt=s.length,At=new Array(bt);for(let Et=0,Ut=bt;Et<Ut;Et++)if(s[Et]===0){if(o[Et]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");At[Et]=1}else At[Et]=o[Et]/s[Et];return lo$1(At,j,et),At}}),Tc$1,Ab,xc$1=E$1(()=>{br(),Tc$1=(o,s)=>(Ab(s),[new Ce([s[0].dims.length],"int32",void 0,void 0,new Int32Array(s[0].dims))]),Ab=o=>{if(!o||o.length!==1)throw new Error("Shape requires 1 input.")}}),zi$1,wc$1,vc,_c$1,Pb,Oc$1,Eb,Db,Ic$1=E$1(()=>{Ge$1(),hn$1(),fe(),ae(),zi$1={name:"Slice",inputNames:["A"],inputTypes:[0]},wc$1=(o,s,j)=>(Pb(s),[o.run({...zi$1,cacheHint:j.cacheKey,get:()=>_c$1(o,s[0],j)},s)]),vc=o=>{let s=o.attributes.getInts("starts"),j=o.attributes.getInts("ends"),et=o.attributes.getInts("axes",[]);return ee({starts:s,ends:j,axes:et})},_c$1=(o,s,j)=>{let et=j.axes.length===0?s.dims.slice(0).map((Qt,Pt)=>Pt):j.axes,bt=U$1.normalizeAxes(et,s.dims.length),At=j.starts.map((Qt,Pt)=>Qt>s.dims[bt[Pt]]-1?s.dims[bt[Pt]]:U$1.normalizeAxis(Qt,s.dims[bt[Pt]])),Et=j.ends.map((Qt,Pt)=>Qt>s.dims[bt[Pt]]-1?s.dims[bt[Pt]]:U$1.normalizeAxis(Qt,s.dims[bt[Pt]])),Ut=s.dims.slice(),zt=[];for(let Qt=0;Qt<bt.length;Qt++)Ut[bt[Qt]]=Et[Qt]-At[Qt],At[Qt]>0&&zt.push(`outputIdx[${bt[Qt]}] += ${At[Qt]};`);let It=`
      float process(int outputIdx[${Ut.length}]) {
        ${zt.join(`
      `)}
        return _A(outputIdx);
      }`;return{...zi$1,output:{dims:Ut,type:s.type,textureType:0},shaderSource:It}},Pb=o=>{if(!o||o.length!==1)throw new Error("Slice requires 1 input.");if(Jt.indexOf(o[0].type)===-1)throw new Error("Invalid input type.")},Oc$1=(o,s)=>{Db(s);let j=Eb(o,s);return[o.run({...zi$1,cacheHint:j.cacheKey,get:()=>_c$1(o,s[0],j)},[s[0]])]},Eb=(o,s)=>{if(!o.session.isInitializer(s[1].dataId)||!o.session.isInitializer(s[2].dataId)||s.length>=4&&!o.session.isInitializer(s[3].dataId)||s.length>=5&&!o.session.isInitializer(s[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(s.length>=5&&s[4].integerData.some(Et=>Et!==1))throw new Error("currently non-1 steps is not supported for Slice");let j=Array.from(s[1].integerData),et=Array.from(s[2].integerData),bt=s.length>=4?Array.from(s[3].integerData):[],At=`${bt};${j};${et}`;return{starts:j,ends:et,axes:bt,cacheKey:At}},Db=o=>{if(!o||o.length<3||o.length>5)throw new Error("Invalid input number.");if(o[1].type!=="int32"||o[1].dims.length!==1)throw new Error("Invalid input type.");if(o[2].type!=="int32"||o[2].dims.length!==1)throw new Error("Invalid input type.");if(o.length>=4&&(o[3].type!=="int32"||o[3].dims.length!==1))throw new Error("Invalid input type.");if(o.length>=5&&(o[4].type!=="int32"||o[4].dims.length!==1))throw new Error("Invalid input type.")}}),Sc$1,Ac$1,Pc$1,Ec$1,Dc$1,Lc$1,Fc$1,Cc$1,Lb,Fb,Cb,$c$1,kc$1=E$1(()=>{Ge$1(),fe(),xe(),ae(),ao$1(),Sc$1={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[0]},Ac$1={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[0,0]},Pc$1={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[0,0,0]},Ec$1=(o,s,j)=>{$c$1(s);let et=s[0].dims.slice(),bt=U$1.normalizeAxis(j.axis,et.length),At=U$1.sizeToDimension(et,bt),Et=U$1.sizeFromDimension(et,bt);return Cc$1(o,s,j,At,Et)},Dc$1=o=>ee({axis:o.attributes.getInt("axis",1)}),Lc$1=o=>ee({axis:o.attributes.getInt("axis",-1)}),Fc$1=(o,s,j)=>{$c$1(s);let et=s[0].dims.slice(),bt=U$1.normalizeAxis(j.axis,et.length),At=et.length,Et=bt!==At-1,Ut=[],zt=[],It=[],Qt;Et&&(zt=Array.from({length:At}).map((_r,vr)=>vr),zt[bt]=At-1,zt[At-1]=bt,zt.map(_r=>Ut.push(et[_r])),Qt=ee({perm:zt}),It=Tr$1(o,s,Qt));let Pt=Et?U$1.sizeToDimension(Ut,At-1):U$1.sizeToDimension(et,At-1),Yt=Et?U$1.sizeFromDimension(Ut,At-1):U$1.sizeFromDimension(et,At-1),cr=Cc$1(o,Et?It:s,j,Pt,Yt);return Et?Tr$1(o,cr,Qt):cr},Cc$1=(o,s,j,et,bt)=>{let At=Lb(o,s[0],et,bt,[et]),Et=o.run({...Sc$1,cacheHint:j.cacheKey,get:()=>At},s),Ut=Fb(o,s[0],et,bt,At.output.dims,[et]),zt=o.run({...Ac$1,cacheHint:j.cacheKey,get:()=>Ut},[s[0],Et]),It=Cb(o,s[0],et,bt,At.output.dims,Ut.output.dims);return[o.run({...Pc$1,cacheHint:j.cacheKey,get:()=>It},[s[0],Et,zt])]},Lb=(o,s,j,et,bt)=>{let[At,Et]=o.calculateTextureWidthAndHeight(s.dims,0),Ut=bt.length;if(j<1||et<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(bt.length!==1)throw new Error("Dimensionality of the output should be 1");if(bt[0]!==j)throw new Error("Shape of the output should be equal to logical row count");let zt=q$1(o.session.backend.glContext.version),It=`
      float process(int[${Ut}] indices) {
        int logical_row_start_offset = indices[0] * ${et};

        float max = getColorAsFloat(${zt.texture2D}(A, offsetToCoords(logical_row_start_offset, ${At},
        ${Et} )));
        for(int i=1; i<${et}; ++i)
        {
          float current = getColorAsFloat(${zt.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${At}, ${Et})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return{...Sc$1,output:{dims:bt,type:s.type,textureType:0},shaderSource:It}},Fb=(o,s,j,et,bt,At)=>{let[Et,Ut]=o.calculateTextureWidthAndHeight(s.dims,0),zt=At.length;if(j<1||et<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(At.length!==1)throw new Error("Dimensionality of the output should be 1");if(At[0]!==j)throw new Error("Shape of the output should be equal to logical row count");if(bt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(bt[0]!==j)throw new Error("Shape of the intermediate results should be equal to logical row count");let It=q$1(o.session.backend.glContext.version),Qt=`
      float process(int[${zt}] indices) {
        int logical_row_start_offset = indices[0] * ${et};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${et}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${It.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${Et}, ${Ut}))) - max);
        }

        return norm_factor;
      }`;return{...Ac$1,output:{dims:At,type:s.type,textureType:0},shaderSource:Qt}},Cb=(o,s,j,et,bt,At)=>{let[Et,Ut]=o.calculateTextureWidthAndHeight(s.dims,0),zt=s.dims.length;if(j<1||et<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(bt.length!==1||At.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(bt[0]!==j||At[0]!==j)throw new Error("Shape of the intermediate results should be equal to logical row count");let It=`
      float process(int[${zt}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${Et}, ${Ut});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${et};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return{...Pc$1,output:{dims:s.dims,type:s.type,textureType:0},shaderSource:It}},$c$1=o=>{if(!o||o.length!==1)throw new Error("Softmax requires 1 input.");if(o[0].type!=="float32"&&o[0].type!=="float64")throw new Error("Invalid input type")}}),Bc$1,Nc$1,Rc$1,$b,kb,Bb,Mc$1=E$1(()=>{Ge$1(),fe(),ae(),Bc$1={name:"Split",inputNames:["A"],inputTypes:[0]},Nc$1=(o,s,j)=>{Bb(s);let et=U$1.normalizeAxis(j.axis,s[0].dims.length),bt=$b(o,s,et,j),At=[];for(let Et=0;Et<bt;++Et)At.push(o.run({...Bc$1,cacheHint:`${j.cacheKey};${Et}`,get:()=>kb(o,s[0],j,et,Et)},s));return At},Rc$1=o=>{let s=o.attributes.getInt("axis",0),j=o.attributes.getInts("split",[]),et=o.outputs.length;return ee({axis:s,split:j,numOutputs:et})},$b=(o,s,j,et)=>{let[,bt]=un$1.splitShape(s[0].dims,j,et.split,et.numOutputs);return bt.length},kb=(o,s,j,et,bt)=>{let[At,Et]=un$1.splitShape(s.dims,et,j.split,j.numOutputs),Ut=Et[bt],zt=At[bt],It=`
      float process(int indices[${zt.length}]) {
        indices[${et}] += ${Ut};
        return _A(indices);
      }
    `;return{...Bc$1,cacheHint:`${j.cacheKey}:${bt}`,output:{dims:zt,type:s.type,textureType:0},shaderSource:It}},Bb=o=>{if(!o||o.length!==1)throw new Error("Split requires one input.");if(o[0].type!=="int8"&&o[0].type!=="uint8"&&o[0].type!=="int16"&&o[0].type!=="uint16"&&o[0].type!=="int32"&&o[0].type!=="uint32"&&o[0].type!=="float32"&&o[0].type!=="float64"&&o[0].type!=="bool")throw new Error("Invalid input type.")}}),Vi$1,Gc$1,Uc$1,Nb,Rb,zc$1=E$1(()=>{fe(),Vi$1=(o,s,j)=>{Nb(s);let et=U$1.squeezeShape(s[0].dims,j);return[o.reshapeUnpacked(s[0],et)]},Gc$1=(o,s)=>(Rb(s),Vi$1(o,[s[0]],Array.from(s[1].integerData))),Uc$1=o=>o.attributes.getInts("axes"),Nb=o=>{if(!o||o.length!==1)throw new Error("Squeeze requires 1 input.");if(o[0].type==="string")throw new Error("invalid input tensor types.")},Rb=o=>{if(!o||o.length!==2)throw new Error("Squeeze requires 2 inputs.");if(o[1].type!=="int32")throw new Error("Invalid input type.")}}),Vc$1,Mb,Gb,Wc$1=E$1(()=>{xe(),ae(),Vc$1=(o,s)=>{Gb(s);let j={name:"Sum",inputNames:s.map((et,bt)=>`X${bt}`),inputTypes:new Array(s.length).fill(0)};return[o.run({...j,get:()=>Mb(o,s,j)},s)]},Mb=(o,s,j)=>{let et=q$1(o.session.backend.glContext.version),bt=s[0].dims.slice(),At=`
      void main() {
        vec4 result = ${s.map((Et,Ut)=>`${et.texture2D}(X${Ut},TexCoords)`).join(" + ")};
        ${et.output} = result;
      }
    `;return{...j,output:{dims:bt,type:s[0].type,textureType:0},hasMain:!0,shaderSource:At}},Gb=o=>{if(!o||o.length===0)throw new Error("Sum requires inputs.");let s=o[0].dims.length;for(let j=1;j<o.length;j++){if(s!==o[j].dims.length)throw new Error("Input shapes are mismatched.");for(let et=0;et<s;et++)if(o[0].dims[et]!==o[j].dims[et])throw new Error("Input shapes are not matched.")}if(o[0].type!=="float32"&&o[0].type!=="float64")throw new Error("Invalid input type.");for(let j=1;j<o.length;j++)if(o[0].type!==o[j].type)throw new Error("Input types are not matched.")}}),Hc$1,Ub,zb,qc$1=E$1(()=>{hn$1(),ae(),Hc$1=(o,s)=>{zb(s);let j={name:"Tile",inputNames:["A"],inputTypes:[0]};return[o.run({...j,get:()=>Ub(o,s,j)},s)]},Ub=(o,s,j)=>{let et=s[0].dims.slice(),bt=new Array(et.length),At=[];for(let zt=0;zt<et.length;zt++)bt[zt]=et[zt]*s[1].numberData[zt],At.push(`inputIdx[${zt}] = int(mod(float(outputIdx[${zt}]), ${et[zt]}.));`);let Et=bt.length,Ut=`
      float process(int outputIdx[${Et}]) {
        int inputIdx[${Et}];
        ${At.join(`
`)}
        return _A(inputIdx);
      }
    `;return{...j,output:{dims:bt,type:s[0].type,textureType:0},shaderSource:Ut}},zb=o=>{if(!o||o.length!==2)throw new Error("Tile requires 2 input.");if(o[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(o[1].dims[0]!==o[0].dims.length)throw new Error("Invalid input shape.");if(Jt.indexOf(o[0].type)===-1)throw new Error("Invalid input type.");if(o[1].type!=="int32"&&o[1].type!=="int16")throw new Error("Invalid repeat type.")}}),Wi$1,jc$1,Yc$1,Vb,Wb,Xc$1=E$1(()=>{fe(),Wi$1=(o,s,j)=>{Vb(s);let et=U$1.unsqueezeShape(s[0].dims,j);return[o.reshapeUnpacked(s[0],et)]},jc$1=(o,s)=>(Wb(s),Wi$1(o,[s[0]],Array.from(s[1].integerData))),Yc$1=o=>o.attributes.getInts("axes"),Vb=o=>{if(!o||o.length!==1)throw new Error("Unsqueeze requires 1 input.");if(o[0].type==="string")throw new Error("invalid input tensor types.")},Wb=o=>{if(!o||o.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(o[1].type!=="int32")throw new Error("Invalid input type.")}}),Kc$1,Jc$1=E$1(()=>{al$1(),Tl$1(),vl$1(),Pl$1(),no$1(),pf(),yf(),wf(),Of(),Pf(),Lf(),kf(),Mf(),oo$1(),Vf(),rc$1(),fc$1(),pc$1(),yc$1(),xc$1(),Ic$1(),kc$1(),Mc$1(),zc$1(),Wc$1(),qc$1(),ao$1(),Ai$1(),Xc$1(),Mi$1(),Kc$1=[["Abs","","6+",El$1],["Acos","","7+",Dl$1],["Add","","7+",sl$1],["And","","7+",ul$1],["Asin","","7+",Ll$1],["Atan","","7+",Fl$1],["AveragePool","","7+",Hf,qf],["BatchNormalization","","7+",ol$1,il$1],["Cast","","6+",xl$1,wl$1],["Ceil","","6+",kl$1],["Clip","","6-10",Ii$1,Cl$1],["Clip","","11+",$l$1],["Concat","","4+",Il$1,Al$1],["Conv","","1+",Ci$1,$i$1],["ConvTranspose","","1+",ff$1,cf],["Cos","","7+",Bl$1],["Div","","7+",ll$1],["Dropout","","7+",Si$1],["DepthToSpace","","1+",bf,gf$1],["Equal","","7+",fl$1],["Elu","","6+",Nl$1,Rl$1],["Exp","","6+",Ml$1],["Flatten","","1+",Tf,xf],["Floor","","6+",Gl$1],["FusedConv","com.microsoft","1+",Ci$1,$i$1],["Gather","","1+",vf,_f],["Gemm","","7-10",ki$1,Sf],["Gemm","","11+",ki$1,Af],["GlobalAveragePool","","1+",Yf,Xf],["GlobalMaxPool","","1+",ec$1],["Greater","","7+",cl$1],["Identity","","1+",Si$1],["ImageScaler","","1+",Ef,Df],["InstanceNormalization","","6+",Cf,$f],["LeakyRelu","","6+",Ul$1,zl$1],["Less","","7+",pl$1],["LRN","","1+",Bf,Nf],["Log","","6+",Vl$1],["MatMul","","1+",rf$1,nf$1],["MaxPool","","1+",Kf,Jf],["Mul","","7+",dl$1],["Neg","","6+",Wl$1],["Not","","1+",Hl$1],["Or","","7+",hl$1],["Pad","","2-10",Bi,Gf],["Pad","","11+",Uf,zf],["Pow","","7+",ml$1],["PRelu","","7+",bl$1],["ReduceLogSum","","1+",uc$1,Zt],["ReduceMax","","1+",ic$1,Zt],["ReduceMean","","1+",oc$1,Zt],["ReduceMin","","1+",ac$1,Zt],["ReduceProd","","1+",sc$1,Zt],["ReduceSum","","1-12",nc$1,Zt],["ReduceSumSquare","","1+",lc$1,Zt],["Relu","","6+",ql$1],["Reshape","","5+",cc$1],["Resize","","10",Ui$1,bc$1],["Resize","","11+",Ui$1,gc$1],["Shape","","1+",Tc$1],["Sigmoid","","6+",jl$1],["Sin","","7+",Yl$1],["Slice","","10+",Oc$1],["Slice","","1-9",wc$1,vc],["Softmax","","1-12",Ec$1,Dc$1],["Softmax","","13+",Fc$1,Lc$1],["Split","","2-12",Nc$1,Rc$1],["Sqrt","","6+",Xl],["Squeeze","","1-12",Vi$1,Uc$1],["Squeeze","","13+",Gc$1],["Sub","","7+",gl$1],["Sum","","6+",Vc$1],["Tan","","7+",Kl$1],["Tanh","","6+",Jl],["Tile","","6+",Hc$1],["Transpose","","1+",Tr$1,hf$1],["Upsample","","7-8",Ni$1,hc$1],["Upsample","","9",Ni$1,mc$1],["Unsqueeze","","1-12",Wi$1,Yc$1],["Unsqueeze","","13+",jc$1],["Xor","","7+",yl$1]]});function Qc$1(o){let s={},j;for(;(j=Zc$1.exec(o))!==null;){let et=j[3].split(",").map(bt=>{let At=bt.trim().split(" ");return At&&At.length===2?{type:At[0],name:At[1]}:null}).filter(bt=>bt!==null);s[j[2]]={params:et,body:j[4]}}for(let et in s){let bt=Hb.replace("__FUNC__",et),At=new RegExp(bt,"gm");for(;(j=At.exec(o))!==null;){let Et=j[1],Ut=j[2],zt=j[3].split(","),It=Et?`${Et} ${Ut};`:"",Qt=s[et].body,Pt="";s[et].params.forEach((cr,_r)=>{cr&&(Pt+=`${cr.type} ${cr.name} = ${zt[_r]};
`)}),Qt=`${Pt}
 ${Qt}`,Qt=Qt.replace("return",`${Ut} = `);let Yt=`
      ${It}
      {
        ${Qt}
      }
      `;o=o.replace(j[0],Yt)}}return o=o.replace(Zc$1,""),o}var Zc$1,Hb,ep$1=E$1(()=>{Zc$1=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm,Hb="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;"});function Ur(o,s){let j=[],et=[],bt=s!=null&&Array.isArray(s)&&s.length===0,At=s==null||bt?null:qb(s,o).sort(),Et=0;for(let Ut=0;Ut<o.length;++Ut){if(At!=null){if(At[Et]===Ut&&o[Ut]!==1)throw new Error(`Can't squeeze axis ${Ut} since its dim '${o[Ut]}' is not 1`);(At[Et]==null||At[Et]>Ut)&&o[Ut]===1&&(j.push(o[Ut]),et.push(Ut)),At[Et]<=Ut&&Et++}o[Ut]!==1&&(j.push(o[Ut]),et.push(Ut))}return{newShape:j,keptDims:et}}function qb(o,s){let j=s.length;return o=o==null?s.map((et,bt)=>bt):[].concat(o),kr$1(o.every(et=>et>=-j&&et<j),()=>`All values in axis param must be in range [-${j}, ${j}) but got axis ${o}`),kr$1(o.every(jb),()=>`All values in axis param must be integers but got axis ${o}`),o.map(et=>et<0?j+et:et)}function jb(o){return o%1===0}function Yb(o){if(o.length===0)return 1;let s=o[0];for(let j=1;j<o.length;j++)s*=o[j];return s}function tp$1(o){let s=Math.ceil(Math.sqrt(o));return[s,Math.ceil(o/s)]}var fo$1,Hi=E$1(()=>{at$1(),fe(),fo$1=class{constructor(o){this.maxTextureSize=o}computeTextureWH(o,s){let j=this.computeTexture(o,s);return s&&s.isPacked&&(j[0]/=2,j[1]/=2),s&&s.reverseWH?[j[1],j[0]]:j}computeTexture(o,s){let j=s&&s.isPacked;if(o.length===0)return j?[2,2]:[1,1];let et=this.maxTextureSize;if(s&&s.breakAxis!==void 0){let Et=s.breakAxis>=o.length?1:o.slice(s.breakAxis).reduce((zt,It)=>zt*It),Ut=s.breakAxis<=0?1:o.slice(0,s.breakAxis).reduce((zt,It)=>zt*It);if(Et>et||Ut>et)ce.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${o}, breakAxis:${s.breakAxis}`);else return[Et,Ut]}let bt=o.slice(0);j&&(et=et*2,bt=bt.map((Et,Ut)=>Ut>=bt.length-2?bt[Ut]%2===0?bt[Ut]:bt[Ut]+1:bt[Ut]),bt.length===1&&(bt=[2,bt[0]])),bt.length!==2&&(bt=Ur(bt).newShape);let At=Yb(bt);return bt.length<=1&&At<=et?[1,At]:bt.length===2&&bt[0]<=et&&bt[1]<=et?bt:bt.length===3&&bt[0]*bt[1]<=et&&bt[2]<=et?[bt[0]*bt[1],bt[2]]:bt.length===3&&bt[0]<=et&&bt[1]*bt[2]<=et?[bt[0],bt[1]*bt[2]]:bt.length===4&&bt[0]*bt[1]*bt[2]<=et&&bt[3]<=et?[bt[0]*bt[1]*bt[2],bt[3]]:bt.length===4&&bt[0]<=et&&bt[1]*bt[2]*bt[3]<=et?[bt[0],bt[1]*bt[2]*bt[3]]:j?tp$1(At/4).map(Et=>Et*2):tp$1(At)}}}),co$1,rp$1=E$1(()=>{fe(),Ht$1(),xe(),Hi(),kt(),co$1=class extends ft{constructor(o){super(o)}getFunctions(){return{...this.offsetToCoords(),...this.coordsToOffset(),...this.toVec(),...this.valueFrom(),...this.getCommonUtilFuncs(),...this.getInputsSamplingSnippets(),...this.getOutputSamplingSnippet()}}getCustomTypes(){return{}}offsetToCoords(){let o="offsetToCoords";return{offsetToCoords:new R(`
      vec2 ${o}(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){let o="coordsToOffset";return{coordsToOffset:new R(`
      int ${o}(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){let o=this.context.outputTextureLayout;return o.isPacked?this.getPackedOutputSamplingSnippet(o):this.getUnpackedOutputSamplingSnippet(o)}getPackedOutputSamplingSnippet(o){let s=o.unpackedShape,j=[o.width,o.height],et={},bt="getOutputCoords";switch(s.length){case 0:et[bt]=this.getOutputScalarCoords();break;case 1:et[bt]=this.getOutputPacked1DCoords(s,j);break;case 2:et[bt]=this.getOutputPacked2DCoords(s,j);break;case 3:et[bt]=this.getOutputPacked3DCoords(s,j);break;default:et[bt]=this.getOutputPackedNDCoords(s,j)}let At=`
      void setOutput(vec4 val) {
        ${q$1(this.context.glContext.version).output} = val;
      }
    `,Et="floatTextureSetRGBA";return et[Et]=new R(At),et}getUnpackedOutputSamplingSnippet(o){let s=o.unpackedShape,j=[o.width,o.height],et={},bt="getOutputCoords";switch(s.length){case 0:et[bt]=this.getOutputScalarCoords();break;case 1:et[bt]=this.getOutputUnpacked1DCoords(s,j);break;case 2:et[bt]=this.getOutputUnpacked2DCoords(s,j);break;case 3:et[bt]=this.getOutputUnpacked3DCoords(s,j);break;case 4:et[bt]=this.getOutputUnpacked4DCoords(s,j);break;case 5:et[bt]=this.getOutputUnpacked5DCoords(s,j);break;case 6:et[bt]=this.getOutputUnpacked6DCoords(s,j);break;default:throw new Error(`Unsupported output dimensionality: ${s.length}`)}let At=`
        void setOutput(float val) {
          ${q$1(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `,Et="floatTextureSetR";return et[Et]=new R(At),et}getOutputScalarCoords(){return new R(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(o,s){let j=s,et="";return j[0]===1?(et=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${j[1]}.0);
          }
        `,new R(et)):j[1]===1?(et=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${j[0]}.0);
          }
        `,new R(et)):(et=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${j[0]}, ${j[1]}));
          return 2 * (resTexRC.y * ${j[0]} + resTexRC.x);
        }
      `,new R(et))}getOutputPacked2DCoords(o,s){let j="";if(pr.arraysEqual(o,s))return j=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${s[0]}, ${s[1]}));
        }
      `,new R(j);let et=s,bt=Math.ceil(o[1]/2);return j=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));

          int index = resTexRC.y * ${et[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${bt}) * 2;
          int c = 2 * (index / ${bt});

          return ivec2(r, c);
        }
      `,new R(j)}getOutputPacked3DCoords(o,s){let j=[s[0],s[1]],et=Math.ceil(o[2]/2),bt=et*Math.ceil(o[1]/2),At=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${j[0]}, ${j[1]}));
          int index = resTexRC.y * ${j[0]} + resTexRC.x;

          int b = index / ${bt};
          index -= b * ${bt};

          // reverse r and c order for packed texture
          int r = imod(index, ${et}) * 2;
          int c = 2 * (index / ${et});

          return ivec3(b, r, c);
        }
      `;return new R(At)}getOutputPackedNDCoords(o,s){let j=[s[0],s[1]],et=Math.ceil(o[o.length-1]/2),bt=et*Math.ceil(o[o.length-2]/2),At=bt,Et="",Ut="b, r, c";for(let It=2;It<o.length-1;It++)At*=o[o.length-It-1],Et=`
      int b${It} = index / ${At};
      index -= b${It} * ${At};
    `+Et,Ut=`b${It}, `+Ut;let zt=`
      ivec${o.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${j[0]}, ${j[1]}));
        int index = resTexRC.y * ${j[0]} + resTexRC.x;

        ${Et}

        int b = index / ${bt};
        index -= b * ${bt};

        // reverse r and c order for packed texture
        int r = imod(index, ${et}) * 2;
        int c = 2 * (index / ${et});

        return ivec${o.length}(${Ut});
      }
    `;return new R(zt)}getOutputUnpacked1DCoords(o,s){let j=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${s[0]}, ${s[1]}));
          return resTexRC.y * ${s[0]} + resTexRC.x;
        }
      `;return new R(j)}getOutputUnpacked2DCoords(o,s){let j=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${s[0]}, ${s[1]}));
          int index = resTexRC.y * ${s[0]} + resTexRC.x;
          int r = index / ${o[1]};
          int c = index - r * ${o[1]};
          return ivec2(r, c);
        }
      `;return new R(j)}getOutputUnpacked3DCoords(o,s){let j="",et=o.length,bt=null;et<2&&(bt=[]),bt=new Array(et-1),bt[et-2]=o[et-1];for(let Ut=et-3;Ut>=0;--Ut)bt[Ut]=bt[Ut+1]*o[Ut+1];let At=["r","c","d"],Et=bt.map((Ut,zt)=>{let It=`int ${At[zt]} = index / ${Ut}`,Qt=zt===bt.length-1?`int ${At[zt+1]} = index - ${At[zt]} * ${Ut}`:`index -= ${At[zt]} * ${Ut}`;return`${It}; ${Qt};`}).join("");return j=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${s[0]}, ${s[1]}));
          int index = resTexRC.y * ${s[0]} + resTexRC.x;
          ${Et}
          return ivec3(r, c, d);
        }
      `,new R(j)}getOutputUnpacked4DCoords(o,s){let j="",et=o.length,bt=null;et<2&&(bt=[]),bt=new Array(et-1),bt[et-2]=o[et-1];for(let Ut=et-3;Ut>=0;--Ut)bt[Ut]=bt[Ut+1]*o[Ut+1];let At=["r","c","d","d2"],Et=bt.map((Ut,zt)=>{let It=`int ${At[zt]} = index / ${Ut}`,Qt=zt===bt.length-1?`int ${At[zt+1]} = index - ${At[zt]} * ${Ut}`:`index -= ${At[zt]} * ${Ut}`;return`${It}; ${Qt};`}).join("");return j=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${s[0]}, ${s[1]}));
          int index = resTexRC.y * ${s[0]} + resTexRC.x;
          ${Et}
          return ivec4(r, c, d, d2);
        }
      `,new R(j)}getOutputUnpacked5DCoords(o,s){let j="",et=o.length,bt=null;et<2&&(bt=[]),bt=new Array(et-1),bt[et-2]=o[et-1];for(let Ut=et-3;Ut>=0;--Ut)bt[Ut]=bt[Ut+1]*o[Ut+1];let At=["r","c","d","d2","d3"],Et=bt.map((Ut,zt)=>{let It=`int ${At[zt]} = index / ${Ut}`,Qt=zt===bt.length-1?`int ${At[zt+1]} = index - ${At[zt]} * ${Ut}`:`index -= ${At[zt]} * ${Ut}`;return`${It}; ${Qt};`}).join("");return j=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${s[0]}, ${s[1]}));
          int index = resTexRC.y * ${s[0]} + resTexRC.x;
          ${Et}
          return ivec5(r, c, d, d2, d3);
        }
      `,new R(j)}getOutputUnpacked6DCoords(o,s){let j="",et=o.length,bt=null;et<2&&(bt=[]),bt=new Array(et-1),bt[et-2]=o[et-1];for(let Ut=et-3;Ut>=0;--Ut)bt[Ut]=bt[Ut+1]*o[Ut+1];let At=["r","c","d","d2","d3","d4"],Et=bt.map((Ut,zt)=>{let It=`int ${At[zt]} = index / ${Ut}`,Qt=zt===bt.length-1?`int ${At[zt+1]} = index - ${At[zt]} * ${Ut}`:`index -= ${At[zt]} * ${Ut}`;return`${It}; ${Qt};`}).join("");return j=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${s[0]}, ${s[1]}));
         int index = resTexRC.y * ${s[0]} + resTexRC.x;
         ${Et}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new R(j)}getCommonUtilFuncs(){let o={},s="uvFromFlat";o[s]=new R(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),s="packedUVfrom1D",o[s]=new R(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),s="packedUVfrom2D",o[s]=new R(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),s="packedUVfrom3D",o[s]=new R(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),s="sampleTexture";let j=q$1(this.context.glContext.version);return o[s]=new R(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${j.texture2D}(textureSampler, uv).r;
        }`),o}getInputsSamplingSnippets(){let o={},s=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((j,et)=>{let bt=this.context.inputTextureLayouts[et],At=Kn$1(j);bt.isPacked?o[At]=this.getPackedSamplerFromInput(At,j,bt):o[At]=this.getUnpackedSamplerFromInput(At,j,bt);let Et=zu$1(j);bt.unpackedShape.length<=s.unpackedShape.length&&(bt.isPacked?o[Et]=this.getPackedSamplerAtOutputCoords(Et,bt,s,j):o[Et]=this.getUnpackedSamplerAtOutputCoords(Et,bt,s,j))}),o}getPackedSamplerAtOutputCoords(o,s,j,et){let bt=s.unpackedShape,At=j.unpackedShape,Et=Kn$1(et),Ut=bt.length,zt=At.length,It=Ke.getBroadcastDims(bt,At),Qt=Je(zt),Pt=zt-Ut,Yt,cr=Ot();Ut===0?Yt="":zt<2&&It.length>=1?Yt="coords = 0;":Yt=It.map(tA=>`coords.${cr[tA+Pt]} = 0;`).join(`
`);let _r="";zt<2&&Ut>0?_r="coords":_r=bt.map((tA,nA)=>`coords.${cr[nA+Pt]}`).join(", ");let vr="return outputValue;",Yr=U$1.size(bt)===1,Kr=U$1.size(At)===1;if(Ut===1&&!Yr&&!Kr)vr=`
        return vec4(outputValue.xy, outputValue.xy);
      `;else if(Yr&&!Kr)zt===1?vr=`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:vr=`
          return vec4(outputValue.x);
        `;else if(It.length){let tA=Ut-2,nA=Ut-1;It.indexOf(tA)>-1&&It.indexOf(nA)>-1?vr="return vec4(outputValue.x);":It.indexOf(tA)>-1?vr="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":It.indexOf(nA)>-1&&(vr="return vec4(outputValue.xx, outputValue.zz);")}let jr=`
        int lastDim = coords.${cr[zt-1]};
        coords.${cr[zt-1]} = coords.${cr[zt-2]};
        coords.${cr[zt-2]} = lastDim;
      `,Hn=`
      vec4 ${o}() {
        ${Qt} coords = getOutputCoords();
        ${jr}
        ${Yt}
        vec4 outputValue = ${Et}(${_r});
        ${vr}
      }
    `;return new R(Hn,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(o,s,j,et){let bt=[j.width,j.height],At=[s.width,s.height],Et=s.unpackedShape.length,Ut=j.unpackedShape.length,zt=s.unpackedShape,It=j.unpackedShape,Qt=Kn$1(et);if(Et===Ut&&pr.arraysEqual(At,bt)){let jr=`
          float ${o}() {
            return sampleTexture(${et}, TexCoords);
          }
        `;return new R(jr,["coordinates.sampleTexture"])}let Pt=Je(Ut),Yt=Ke.getBroadcastDims(zt,It),cr=Ut-Et,_r,vr=Ot();Et===0?_r="":Ut<2&&Yt.length>=1?_r="coords = 0;":_r=Yt.map(jr=>`coords.${vr[jr+cr]} = 0;`).join(`
`);let Yr="";Ut<2&&Et>0?Yr="coords":Yr=s.unpackedShape.map((jr,Hn)=>`coords.${vr[Hn+cr]}`).join(", ");let Kr=`
        float ${o}() {
          ${Pt} coords = getOutputCoords();
          ${_r}
          return ${Qt}(${Yr});
        }
      `;return new R(Kr,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(o,s,j){switch(j.unpackedShape.length){case 0:return this.getPackedSamplerScalar(o,s);case 1:return this.getPackedSampler1D(o,s,j);case 2:return this.getPackedSampler2D(o,s,j);case 3:return this.getPackedSampler3D(o,s,j);default:return this.getPackedSamplerND(o,s,j)}}getUnpackedSamplerFromInput(o,s,j){let et=j.unpackedShape;switch(et.length){case 0:return this.getUnpackedSamplerScalar(o,s,j);case 1:return this.getUnpackedSampler1D(o,s,j);case 2:return this.getUnpackedSampler2D(o,s,j);case 3:return this.getUnpackedSampler3D(o,s,j);case 4:return this.getUnpackedSampler4D(o,s,j);case 5:return this.getUnpackedSampler5D(o,s,j);case 6:return this.getUnpackedSampler6D(o,s,j);default:throw new Error(`Unsupported dimension ${et.length}-D`)}}getPackedSamplerScalar(o,s){let j=q$1(this.context.glContext.version),et=`
          vec4 ${o}() {
            return ${j.texture2D}(${s}, halfCR);
          }
        `;return new R(et)}getPackedSampler1D(o,s,j){let et=[j.width,j.height],bt=[et[1],et[0]],At=q$1(this.context.glContext.version),Et=`vec4 ${o}(int index) {
      vec2 uv = packedUVfrom1D(
      ${bt[0]}, ${bt[1]}, index);
      return ${At.texture2D}(${s}, uv);
    }`;return new R(Et,["coordinates.packedUVfrom1D"])}getPackedSampler2D(o,s,j){let et=j.unpackedShape,bt=[j.width,j.height],At=q$1(this.context.glContext.version),Et=bt[0],Ut=bt[1];if(bt!=null&&pr.arraysEqual(et,bt)){let Pt=`vec4 ${o}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${Ut}.0, ${Et}.0);
        return ${At.texture2D}(${s}, uv);
      }`;return new R(Pt)}let zt=bt,It=Math.ceil(et[1]/2),Qt=`vec4 ${o}(int row, int col) {
      vec2 uv = packedUVfrom2D(${zt[1]}, ${zt[0]}, ${It}, row, col);
      return ${At.texture2D}(${s}, uv);
    }`;return new R(Qt,["coordinates.packedUVfrom2D"])}getPackedSampler3D(o,s,j){let et=j.unpackedShape,bt=[j.width,j.height],At=[bt[0],bt[1]],Et=q$1(this.context.glContext.version);if(et[0]===1){let Yt=et.slice(1),cr=[1,2],_r=Br(et,Yt),vr=["b","row","col"],Yr=JSON.parse(JSON.stringify(j));Yr.unpackedShape=_r;let Kr=this.getPackedSamplerFromInput(o,s,Yr),jr=`${Kr.routineBody}
      vec4 ${o}(int b, int row, int col) {
        return ${o}(${Nr(vr,cr)});
      } `;return new R(jr,Kr.dependencies)}let Ut=At[0],zt=At[1],It=Math.ceil(et[2]/2),Qt=It*Math.ceil(et[1]/2),Pt=`vec4 ${o}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${zt}, ${Ut}, ${Qt}, ${It}, b, row, col);
      return ${Et.texture2D}(${s}, uv);}`;return new R(Pt,["coordinates.packedUVfrom3D"])}getPackedSamplerND(o,s,j){let et=j.unpackedShape,bt=et.length,At=[j.width,j.height],Et=q$1(this.context.glContext.version),Ut=[At[0],At[1]],zt=Ut[1],It=Ut[0],Qt=Math.ceil(et[bt-1]/2),Pt=Qt*Math.ceil(et[bt-2]/2),Yt="int b, int row, int col",cr=`b * ${Pt} + (row / 2) * ${Qt} + (col / 2)`;for(let vr=2;vr<bt-1;vr++)Yt=`int b${vr}, `+Yt,Pt*=et[bt-vr-1],cr=`b${vr} * ${Pt} + `+cr;let _r=`vec4 ${o}(${Yt}) {
      int index = ${cr};
      int texR = index / ${It};
      int texC = index - texR * ${It};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${It}, ${zt});
      return ${Et.texture2D}(${s}, uv);
    }`;return new R(_r)}getUnpackedSamplerScalar(o,s,j){let[et,bt]=[j.width,j.height];if(et===1&&bt===1){let Et=`
          float ${o}() {
            return sampleTexture(${s}, halfCR);
          }
        `;return new R(Et,["coordinates.sampleTexture"])}let At=`
        float ${o}() {
          int offset_${s} = coordsToOffset(TexCoords, ${et}, ${bt});
          vec2 uv = uvFromFlat(${et}, ${bt}, offset_${s});
          return sampleTexture(${s}, uv);
        }
      `;return new R(At,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(o,s,j){let et=j.width,bt=j.height;if(bt===1&&et===1){let Et=`
        float ${o}(int index) {
          return sampleTexture(${s}, halfCR);
        }
      `;return new R(Et,["coordinates.sampleTexture"])}if(bt===1){let Et=`
          float ${o}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${et}.0, 0.5);
            return sampleTexture(${s}, uv);
          }
        `;return new R(Et,["coordinates.sampleTexture"])}if(et===1){let Et=`
          float ${o}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${bt}.0);
            return sampleTexture(${s}, uv);
          }
        `;return new R(Et,["coordinates.sampleTexture"])}let At=`
        float ${o}(int index) {
          vec2 uv = uvFromFlat(${et}, ${bt}, index);
          return sampleTexture(${s}, uv);
        }
      `;return new R(At,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(o,s,j){let et=j.unpackedShape,bt=[j.height,j.width];if(bt!=null&&pr.arraysEqual(et,bt)){let Pt=bt[1],Yt=bt[0],cr=`
          float ${o}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${Pt}.0, ${Yt}.0);
            return sampleTexture(${s}, uv);
          }
        `;return new R(cr,["coordinates.sampleTexture"])}let{newShape:At,keptDims:Et}=Ur(et),Ut=At;if(Ut.length<et.length){let Pt=Br(et,Ut),Yt=JSON.parse(JSON.stringify(j));Yt.unpackedShape=Pt;let cr=["col","row"],_r=`
          ${this.getUnpackedSamplerFromInput(o,s,Yt).routineBody}
          float ${o}(int row, int col) {
            return ${o}(${Nr(cr,Et)});
          }
        `;return new R(_r,["coordinates.sampleTexture"])}let zt=bt[1],It=bt[0];if(It===1){let Pt=`
          float ${o}(int row, int col) {
            int offset_${s} = coordsToOffset(TexCoords, ${zt}, ${It});
            float index = dot(vec3(row, col, offset_${s}), vec3(${et[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${zt}.0);
            return sampleTexture(${s}, uv);
          }
        `;return new R(Pt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(zt===1){let Pt=`
          float ${o}(int row, int col) {
            int offset_${s} = coordsToOffset(TexCoords, ${zt}, ${It});
            float index = dot(vec3(row, col, offset_${s}), vec3(${et[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${It}.0, 0.5);
            return sampleTexture(${s}, uv);
          }
        `;return new R(Pt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}let Qt=`
        float ${o}(int row, int col) {
          int index = col * ${et[1]} + row;
          vec2 uv = uvFromFlat(${zt}, ${It}, index);
          return sampleTexture(${s}, uv);
        }
      `;return new R(Qt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(o,s,j){let et=j.unpackedShape,bt=et[1]*et[2],At=et[2],{newShape:Et,keptDims:Ut}=Ur(et),zt=Et;if(zt.length<et.length){let Yt=Br(et,zt),cr=["batch","col","row"],_r=JSON.parse(JSON.stringify(j));_r.unpackedShape=Yt;let vr=this.getUnpackedSamplerFromInput(o,s,_r),Yr=Ut.reverse(),Kr=`
          ${vr.routineBody}
          float ${o}(int batch, int row, int col) {
            return ${o}(${Nr(cr,Yr)});
          }
        `;return new R(Kr,vr.dependencies)}let It=j.width,Qt=j.height,Pt=`
          float ${o}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${bt} + col * ${At} + row;
            vec2 uv = uvFromFlat(${It}, ${Qt}, index);
            return sampleTexture(${s}, uv);
          }
      `;return new R(Pt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(o,s,j){let et=j.unpackedShape,bt=et[3],At=et[2]*bt,Et=et[1]*At,Ut=j.width,zt=j.height,It=`
        float ${o}(int row, int col, int depth, int depth2) {
          int index = row * ${Et} + col * ${At} +
              depth2 * ${bt} + depth;
          vec2 uv = uvFromFlat(${Ut}, ${zt}, index);
          return sampleTexture(${s}, uv);
        }
      `;return new R(It,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(o,s,j){let et=j.unpackedShape,bt=et[4],At=et[3]*bt,Et=et[2]*At,Ut=et[1]*Et,{newShape:zt,keptDims:It}=Ur(et);if(zt.length<et.length){let cr=Br(et,zt),_r=["row","col","depth","depth2","depth3"],vr=JSON.parse(JSON.stringify(j));vr.unpackedShape=cr;let Yr=`
          ${this.getUnpackedSamplerFromInput(o,s,vr).routineBody}
          float ${o}(int row, int col, int depth, int depth2, int depth3) {
            return ${o}(${Nr(_r,It)});
          }
        `;return new R(Yr,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let Qt=j.width,Pt=j.height,Yt=`
        float ${o}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${Ut} + col * ${Et} + depth * ${At} +
          depth3 * ${bt} + depth2;
          vec2 uv = uvFromFlat(${Qt}, ${Pt}, index);
          return sampleTexture(${s}, uv);
        }
      `;return new R(Yt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(o,s,j){let et=j.unpackedShape,bt=et[5],At=et[4]*bt,Et=et[3]*At,Ut=et[2]*Et,zt=et[1]*Ut,{newShape:It,keptDims:Qt}=Ur(et);if(It.length<et.length){let _r=Br(et,It),vr=["row","col","depth","depth2","depth3","depth4"],Yr=JSON.parse(JSON.stringify(j));Yr.unpackedShape=_r;let Kr=`
            ${this.getUnpackedSamplerFromInput(o,s,Yr).routineBody}
            float ${o}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${o}(${Nr(vr,Qt)});
            }
          `;return new R(Kr,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let Pt=j.width,Yt=j.height,cr=`
          float ${o}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${zt} + col * ${Ut} + depth * ${Et} +
            depth2 * ${At} + depth3 * ${bt} + depth4;
            vec2 uv = uvFromFlat(${Pt}, ${Yt}, index);
            return sampleTexture(${s}, uv);
          }
        `;return new R(cr,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){let o=this.context.outputTextureLayout,s=o.shape.length,j=o.strides,et=o.width,bt=o.height,At=[];for(let Ut=0;Ut<s-1;++Ut)At.push(`
        c[${Ut}] = offset / ${j[Ut]};`),At.push(`
        offset -= c[${Ut}] * ${j[Ut]};`);At.push(`
        c[${s-1}] = offset;`);let Et=`
      void toVec(vec2 texCoords, out int c[${s}]) {
        int offset = coordsToOffset(texCoords, ${et}, ${bt});
        ${At.join("")}
      }
      void toVec(int offset, out int c[${s}]) {
        ${At.join("")}
      }
    `;return{toVec:new R(Et,["coordinates.coordsToOffset"])}}valueFrom(){let o={};return this.context.programInfo.inputNames.forEach((s,j)=>{let et=this.context.inputTextureLayouts[j],bt=(et.unpackedShape.length>0?et.unpackedShape:et.shape).length,At=`_${s}`;o[At]=new R(this.getValueFromSingle(s,bt,et.width,et.height,!1),[`shapeUtils.indicesToOffset${At}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),At=At+"_T",o[At]=new R(this.getValueFromSingle(s,bt,et.width,et.height,!0),[`shapeUtils.indicesToOffset${At}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),o}getValueFromSingle(o,s,j,et,bt){let At=`_${o}`;bt&&(At=At+"_T");let Et=q$1(this.context.glContext.version);return`
        float ${At}(int m[${s}]) {
          int offset = indicesToOffset${At}(m);
          vec2 coords = offsetToCoords(offset, ${j}, ${et});
          float value = getColorAsFloat(${Et.texture2D}(${o}, coords));
          return value;
        }
        `}getPackedValueFrom(o,s,j,et,bt){let At=`_${o}_Pack`;bt&&(At=At+"_T");let Et=q$1(this.context.glContext.version);return`
        vec4 ${At}(int m[${s}]) {
          int offset = indicesToOffset_${o}(m);
          vec2 coords = offsetToCoords(offset, ${j}, ${et});
          return ${Et.texture2D}(${o}, coords);
        }
        `}}}),po$1,np$1=E$1(()=>{Ht$1(),po$1=class f2 extends ft{constructor(s){super(s)}getFunctions(){return{...this.encodeFloat32(),...this.decodeFloat32()}}getCustomTypes(){return{}}encodeFloat32(){return{encode:new R(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new R(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){let s=f2.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new R(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${s}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){let s=f2.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new R(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${s}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){let s=new ArrayBuffer(4),j=new Uint32Array(s),et=new Uint8Array(s);if(j[0]=3735928559,et[0]===239)return!0;if(et[0]===222)return!1;throw new Error("unknown endianness")}}}),ho$1,op$1=E$1(()=>{Ht$1(),xe(),ho$1=class extends ft{constructor(o){super(o)}getFunctions(){return{...this.setFragColor(),...this.getColorAsFloat()}}getCustomTypes(){return{}}setFragColor(){let o=q$1(this.context.glContext.version);return{setFragColor:new R(`
        void setFragColor(float value) {
            ${o.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new R(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}}),mo$1,ip$1=E$1(()=>{Ht$1(),mo$1=class h$ extends ft{constructor(s){super(s)}getFunctions(){return{...this.bcastIndex(),...this.bcastMatmulIndex(),...this.offsetToIndices(),...this.indicesToOffset(),...this.incrementIndices()}}getCustomTypes(){return{}}bcastIndex(){let s=this.context.outputTextureLayout.shape.length,j={};return this.context.programInfo.inputNames.forEach((et,bt)=>{let At=this.context.inputTextureLayouts[bt].unpackedShape;if(At.length<=s){let Et=At.length,Ut=s-Et,zt=`bcastIndices_${et}`,It="";for(let Pt=0;Pt<Et;++Pt)It+=`
          realIndices[${Pt}] = int( mod(float(bcastedIndices[${Ut+Pt}]), ${At[Pt]}.0) );
          `;let Qt=`
        void ${zt} (int bcastedIndices[${s}], out int realIndices[${Et}]) {
          ${It}
        }
        `;j[zt]=new R(Qt)}}),j}bcastMatmulIndex(){let s=this.context.outputTextureLayout.shape.length,j={};return this.context.programInfo.inputNames.forEach((et,bt)=>{let At=this.context.inputTextureLayouts[bt].shape;if(!(At.length<2||At.length>s)){let Et=At.length,Ut=s-Et,zt=`bcastMatmulIndices_${et}`,It="";for(let Pt=0;Pt<Et-2;++Pt)It+=`
          realIndices[${Pt}] = int( mod(float(bcastedIndices[${Ut+Pt}]), ${At[Pt]}.0) );
          `;let Qt=`
        void ${zt}(int bcastedIndices[${s}], out int realIndices[${Et}]) {
          ${It}
          realIndices[${Et-1}] = bcastedIndices[${s-1}];
          realIndices[${Et-2}] = bcastedIndices[${s-2}];
        }
        `;j[zt]=new R(Qt)}}),j}indicesToOffset(){let s={};return this.context.programInfo.inputNames.forEach((j,et)=>{let bt=this.context.inputTextureLayouts[et].shape,At=this.context.inputTextureLayouts[et].strides,Et=bt.length,Ut=`indicesToOffset_${j}`;s[Ut]=new R(h$.indexToOffsetSingle(Ut,Et,At)),Ut=`indicesToOffset_${j}_T`,s[Ut]=new R(h$.indexToOffsetSingle(Ut,Et,At.slice().reverse()))}),s}static indexToOffsetSingle(s,j,et){let bt="";for(let At=j-1;At>=0;--At)bt+=`
        offset += indices[${At}] * ${et[At]};
        `;return`
      int ${s}(int indices[${j}]) {
        int offset = 0;
        ${bt}
        return offset;
      }
      `}offsetToIndices(){let s={};return this.context.programInfo.inputNames.forEach((j,et)=>{let bt=this.context.inputTextureLayouts[et].shape,At=this.context.inputTextureLayouts[et].strides,Et=bt.length,Ut=`offsetToIndices_${j}`;s[Ut]=new R(h$.offsetToIndicesSingle(Ut,Et,At)),Ut=`offsetToIndices_${j}_T`,s[Ut]=new R(h$.offsetToIndicesSingle(Ut,Et,At.slice().reverse()))}),s}static offsetToIndicesSingle(s,j,et){let bt=[];for(let At=0;At<j-1;++At)bt.push(`
      indices[${At}] = offset / ${et[At]};`),bt.push(`
        offset -= indices[${At}] * ${et[At]};`);return bt.push(`
      indices[${j-1}] = offset;`),`
      void ${s}(int offset, out int indices[${j}]) {
        ${bt.join("")}
      }
      `}incrementIndices(){let s={};return this.context.programInfo.inputNames.forEach((j,et)=>{let bt=this.context.inputTextureLayouts[et].shape,At=bt.length,Et=`incrementIndices_${j}`,Ut="";for(let It=0;It<At;++It)Ut+=`
        shape[${It}] = ${bt[It]};`;let zt=`
        void ${Et}(int axis, out int indices[${At}]) {
          int shape[${At}];
          ${Ut};
          for(int i = ${At} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;s[Et]=new R(zt)}),s}}}),bo$1,ap$1=E$1(()=>{Ht$1(),bo$1=class extends ft{constructor(o){super(o)}getCustomTypes(){return{}}getFunctions(){return{...this.binaryVecFunctions(),...this.copyVec(),...this.setVecItem(),...this.getVecItem()}}binaryVecFunctions(){let o=this.context.outputTextureLayout.shape.length,s={add:"+=",sub:"-=",mul:"*=",div:"/="},j={};for(let et in s){let bt=`${et}Vec`,At="";for(let Ut=0;Ut<o;++Ut)At+=`
          dest[${Ut}] ${s[et]} src[${Ut}];
          `;let Et=`
        void ${bt}(int src[${o}], out int dest[${o}]) {
          ${At}
        }
        `;j[bt]=new R(Et)}return j}copyVec(){let o=this.context.outputTextureLayout.shape.length,s="";for(let et=0;et<o;++et)s+=`
        dest[${et}] = src[${et}];
        `;let j=`
      void copyVec(int src[${o}], out int dest[${o}]) {
        ${s}
      }
      `;return{copyVec:new R(j)}}setVecItem(){let o=this.context.outputTextureLayout.shape.length,s=`
        if(index < 0)
            index =${o} + index;
        if (index == 0)
            m[0] = value;
        `;for(let et=1;et<o-1;++et)s+=`
        else if (index == ${et})
            m[${et}] = value;
            `;s+=`
        else
            m[${o-1}] = value;
        `;let j=`
      void setVecItem(out int m[${o}], int index, int value) {
        ${s}
      }
        `;return{setVecItem:new R(j)}}getVecItem(){let o=this.context.outputTextureLayout.shape.length,s=`
        if(index < 0)
            index = ${o} + index;
        if (index == 0)
            return m[0];
      `;for(let et=1;et<o-1;++et)s+=`
        else if (index == ${et})
            return m[${et}];
      `;s+=`
        else
            return m[${o-1}];
        `;let j=`
      int getVecItem(int m[${o}], int index) {
        ${s}
      }
    `;return{getVecItem:new R(j)}}}}),qi$1,sp$1=E$1(()=>{rp$1(),np$1(),op$1(),ip$1(),ap$1(),qi$1={encoding:po$1,fragcolor:ho$1,vec:bo$1,shapeUtils:mo$1,coordinates:co$1}}),go$1,up$1=E$1(()=>{Ht$1(),ep$1(),sp$1(),xe(),go$1=class{constructor(o,s,j,et){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new eo$1(o,s,j,et),Object.keys(qi$1).forEach(At=>{let Et=new qi$1[At](this.context);this.libs[At]=Et});let bt=this.glslLibRoutineDependencyGraph;for(let At in this.libs){let Et=this.libs[At].getFunctions();for(let Ut in Et){let zt=At+"."+Ut,It;bt[zt]?(It=bt[zt],It.routineBody=Et[Ut].routineBody):(It=new dn$1(zt,Et[Ut].routineBody),bt[zt]=It);let Qt=Et[Ut].dependencies;if(Qt)for(let Pt=0;Pt<Qt.length;++Pt)if(bt[Qt[Pt]])It.addDependency(bt[Qt[Pt]]);else{let Yt=new dn$1(Qt[Pt]);bt[Qt[Pt]]=Yt,It.addDependency(Yt)}}}}preprocess(){let o=this.context.programInfo,s=o.shaderSource;return this.context.programInfo.hasMain||(s=`${s}
      ${Uu$1(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),s=Qc$1(s),`${Gu$1(this.context.glContext.version)}
    ${this.getUniforms(o.inputNames,o.variables)}
    ${this.getImports(s)}
    ${s}`}getImports(o){let s=this.selectGlslLibRoutinesToBeIncluded(o);if(s.length===0)return"";let j="";for(let et=0;et<s.length;++et)if(s[et].routineBody)j+=s[et].routineBody+`
`;else throw new Error(`Missing body for the Glsl Library routine: ${s[et].name}`);return j}selectGlslLibRoutinesToBeIncluded(o){let s=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(j=>{let et=j.split(".")[1];o.indexOf(et)!==-1&&s.push(this.glslLibRoutineDependencyGraph[j])}),to$1.returnOrderedNodes(s)}getUniforms(o,s){let j=[];if(o)for(let et of o)j.push(`uniform sampler2D ${et};`);if(s)for(let et of s)j.push(`uniform ${et.type} ${et.name}${et.arrayLength?`[${et.arrayLength}]`:""};`);return j.join(`
`)}}}),yo$1,lp$1=E$1(()=>{Tt(),at$1(),up$1(),xe(),yo$1=class{constructor(o,s,j){this.profiler=o,this.glContext=s,this.textureLayoutStrategy=j,this.repo=new Map,this.attributesBound=!1}getArtifact(o){return this.repo.get(o)}setArtifact(o,s){this.repo.set(o,s)}run(o,s,j){this.profiler.event("op",`ProgramManager.run ${o.programInfo.name??"unknown kernel"}`,()=>{let et=this.glContext.gl,bt=o.program;et.useProgram(bt);try{this.bindOutput(j),this.attributesBound||this.bindAttributes(o.attribLocations),this.bindUniforms(o.uniformLocations,o.programInfo.variables??[],s)}catch(At){throw ce.error("ProgramManager",o.programInfo.shaderSource),At}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(o=>this.glContext.deleteProgram(o.program))}build(o,s,j){return this.profiler.event("backend","ProgramManager.build",()=>{let et=new go$1(this.glContext,o,s,j),bt=et.preprocess(),At=this.compile(bt);return{programInfo:o,program:At,uniformLocations:this.getUniformLocations(At,et.context.programInfo.inputNames,et.context.programInfo.variables),attribLocations:this.getAttribLocations(At)}})}compile(o){if(!this.vertexShader){ce.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");let et=Mu$1(this.glContext.version);this.vertexShader=this.glContext.compileShader(et,this.glContext.gl.VERTEX_SHADER)}Z$1.debug&&ce.verbose("ProrgramManager",`FragShader:
${o}
`);let s=this.glContext.compileShader(o,this.glContext.gl.FRAGMENT_SHADER),j=this.glContext.createProgram(this.vertexShader,s);return this.glContext.deleteShader(s),j}bindOutput(o){let s=o.width,j=o.height;ce.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${s}/${j}, shape=${o.shape}, type=${o.tensor.type}`),this.glContext.attachFramebuffer(o.texture,s,j)}bindAttributes(o){let s=o.position,j=o.textureCoord;this.glContext.setVertexAttributes(s,j),this.attributesBound=!0}bindUniforms(o,s,j){var At;let et=this.glContext.gl,bt=0;for(let{name:Et,type:Ut,location:zt,arrayLength:It}of o){let Qt=(At=s.find(Pt=>Pt.name===Et))==null?void 0:At.data;if(Ut!=="sampler2D"&&!Qt)throw new Error(`variable '${Et}' does not have data defined in program info`);switch(Ut){case"sampler2D":this.bindTexture(j[bt],zt,bt),bt++;break;case"float":It?et.uniform1fv(zt,Qt):et.uniform1f(zt,Qt);break;case"int":It?et.uniform1iv(zt,Qt):et.uniform1i(zt,Qt);break;default:throw new Error(`Uniform not implemented: ${Ut}`)}}}bindTexture(o,s,j){this.glContext.bindTextureToUniform(o.texture,j,s)}getAttribLocations(o){return{position:this.getAttribLocation(o,"position"),textureCoord:this.getAttribLocation(o,"textureCoord")}}getUniformLocations(o,s,j){let et=[];if(s)for(let bt of s)et.push({name:bt,type:"sampler2D",location:this.getUniformLocation(o,bt)});if(j)for(let bt of j)et.push({...bt,location:this.getUniformLocation(o,bt.name)});return et}getUniformLocation(o,s){let j=this.glContext.gl.getUniformLocation(o,s);if(j===null)throw new Error(`Uniform ${s} not found.`);return j}getAttribLocation(o,s){return this.glContext.gl.getAttribLocation(o,s)}}}),To$1,fp$1=E$1(()=>{at$1(),cn$1(),To$1=class{constructor(o,s,j,et){this.glContext=o,this.layoutStrategy=s,this.profiler=j,this.config=et,this.pendingRead=new Map,et.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(o,s,j,et){let bt=this.toEncoderType(o),At=this.glContext.getEncoder(bt,s.channels||1,et);if(s.isPacked&&et===1)throw new Error("not implemented");let Et=s.width,Ut=s.height,zt,It;if(this.config.reuseTextures){zt=`${Et}x${Ut}_${At.format}_${At.internalFormat}_${At.textureType}`,It=this.inUseTextures.get(zt),It||(It=[],this.inUseTextures.set(zt,It));let Pt=this.idleTextures.get(zt);if(Pt&&Pt.length>0){let Yt=Pt.pop();return It.push(Yt),et===1&&this.glContext.updateTexture(Yt,Et,Ut,At,this.toTextureData(o,j)),Yt}}ce.verbose("TextureManager",`Creating new texture of size ${s.width}x${s.height}`);let Qt=this.glContext.allocateTexture(Et,Ut,At,this.toTextureData(o,j));return this.config.reuseTextures&&(It.push(Qt),this.textureLookup.set(Qt,zt)),Qt}readTexture(o,s,j){return j||(j=1),this.profiler.event("backend","TextureManager.readTexture",()=>{let et=o.shape.reduce((At,Et)=>At*Et)*j,bt=this.glContext.readTexture(o.texture,o.width,o.height,et,this.toEncoderType(s),j);return this.toTensorData(s,bt)})}async readTextureAsync(o,s,j){let et=o.tensor.dataId;if(j||(j=1),this.pendingRead.has(et)){let bt=this.pendingRead.get(et);return new Promise(At=>bt==null?void 0:bt.push(At))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(et,[]);let bt=o.shape.reduce((zt,It)=>zt*It)*j;await this.glContext.createAndWaitForFence();let At=this.glContext.readTexture(o.texture,o.width,o.height,bt,this.toEncoderType(s),j),Et=this.toTensorData(s,At),Ut=this.pendingRead.get(et);return this.pendingRead.delete(et),Ut==null||Ut.forEach(zt=>zt(Et)),Et})}readUint8TextureAsFloat(o){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{let s=o.shape.reduce((et,bt)=>et*bt),j=this.glContext.readTexture(o.texture,o.width,o.height,s*4,"byte",4);return new Float32Array(j.buffer,j.byteOffset,s)})}releaseTexture(o,s){let j;if(this.config.reuseTextures&&(j=this.textureLookup.get(o.texture),j)){s&&this.textureLookup.delete(j);let et=this.inUseTextures.get(j);if(et){let bt=et.indexOf(o.texture);if(bt!==-1){et.splice(bt,1);let At=this.idleTextures.get(j);At||(At=[],this.idleTextures.set(j,At)),At.push(o.texture)}}}(!j||s)&&(ce.verbose("TextureManager",`Deleting texture of size ${o.width}x${o.height}`),this.glContext.deleteTexture(o.texture))}toTensorData(o,s){switch(o){case"int16":return s instanceof Int16Array?s:Int16Array.from(s);case"int32":return s instanceof Int32Array?s:Int32Array.from(s);case"int8":return s instanceof Int8Array?s:Int8Array.from(s);case"uint16":return s instanceof Uint16Array?s:Uint16Array.from(s);case"uint32":return s instanceof Uint32Array?s:Uint32Array.from(s);case"uint8":case"bool":return s instanceof Uint8Array?s:Uint8Array.from(s);case"float32":return s instanceof Float32Array?s:Float32Array.from(s);case"float64":return s instanceof Float64Array?s:Float64Array.from(s);default:throw new Error(`TensorData type ${o} is not supported`)}}toTextureData(o,s){if(s)return s instanceof Float32Array?s:new Float32Array(s)}toEncoderType(o){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}}),xo$1,cp$1=E$1(()=>{at$1(),Is$1(),rl$1(),Jc$1(),lp$1(),Hi(),fp$1(),xo$1=class{constructor(o,s){this.backend=o,this.context=s,this.layoutStrategy=new fo$1(o.glContext.maxTextureSize),this.programManager=new yo$1(this.context.profiler,o.glContext,this.layoutStrategy),this.textureManager=new To$1(o.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:o.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=o.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new Qn$1(this)}onGraphInitialized(o){let s=o.getValues().filter(j=>j.from===-1&&j.tensor).map(j=>j.tensor.dataId);this.initializers=new Set(s)}isInitializer(o){return this.initializers?this.initializers.has(o):!1}addInitializer(o){this.initializers.add(o)}getTextureData(o,s){return s?this.packedTextureDataCache.get(o):this.unpackedTextureDataCache.get(o)}setTextureData(o,s,j=!1){ce.verbose("WebGLSessionHandler","Storing Texture data in cache"),j?this.packedTextureDataCache.set(o,s):this.unpackedTextureDataCache.set(o,s)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(o=>this.textureManager.releaseTexture(o,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(o=>this.textureManager.releaseTexture(o,!0)),this.unpackedTextureDataCache=new Map}resolve(o,s,j){let et=Os$1(o,s,Kc$1);return{impl:et.opImpl,context:et.opInit?et.opInit(o,j):o}}}});function Xb(o){let s=0;for(;s<o.length&&o[s]();++s);return s-1}var bn$1,pp$1=E$1(()=>{Tt(),cn$1(),cn$1(),kt(),bn$1=class{constructor(o,s){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=o,this.version=s,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(o,s,j,et){let bt=this.gl,At=bt.createTexture();bt.bindTexture(bt.TEXTURE_2D,At),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_MIN_FILTER,bt.NEAREST),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_MAG_FILTER,bt.NEAREST),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_WRAP_S,bt.CLAMP_TO_EDGE),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_WRAP_T,bt.CLAMP_TO_EDGE);let Et=et?j.encode(et,o*s):null;return bt.texImage2D(bt.TEXTURE_2D,0,j.internalFormat,o,s,0,j.format,j.textureType,Et),this.checkError(),At}updateTexture(o,s,j,et,bt){let At=this.gl;At.bindTexture(At.TEXTURE_2D,o);let Et=et.encode(bt,s*j);At.texSubImage2D(At.TEXTURE_2D,0,0,0,s,j,et.format,et.textureType,Et),this.checkError()}attachFramebuffer(o,s,j){let et=this.gl;et.bindTexture(et.TEXTURE_2D,o),et.bindFramebuffer(et.FRAMEBUFFER,this.framebuffer),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,o,0),this.checkError(),et.viewport(0,0,s,j),et.scissor(0,0,s,j)}readTexture(o,s,j,et,bt,At){let Et=this.gl;At||(At=1),this.frameBufferBound||this.attachFramebuffer(o,s,j);let Ut=this.getEncoder(bt,At),zt=Ut.allocate(s*j);return Et.bindTexture(Et.TEXTURE_2D,o),Et.framebufferTexture2D(Et.FRAMEBUFFER,Et.COLOR_ATTACHMENT0,Et.TEXTURE_2D,o,0),Et.readPixels(0,0,s,j,Et.RGBA,Ut.textureType,zt),this.checkError(),Ut.decode(zt,et)}isFramebufferReady(){return!0}getActiveTexture(){let o=this.gl;return`TEXTURE${o.getParameter(this.gl.ACTIVE_TEXTURE)-o.TEXTURE0}`}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(o,s){let j=this.gl;j.vertexAttribPointer(o,3,j.FLOAT,!1,20,0),j.enableVertexAttribArray(o),s!==-1&&(j.vertexAttribPointer(s,2,j.FLOAT,!1,20,12),j.enableVertexAttribArray(s)),this.checkError()}createProgram(o,s){let j=this.gl,et=j.createProgram();return j.attachShader(et,o),j.attachShader(et,s),j.linkProgram(et),et}compileShader(o,s){let j=this.gl,et=j.createShader(s);if(!et)throw new Error(`createShader() returned null with type ${s}`);if(j.shaderSource(et,o),j.compileShader(et),j.getShaderParameter(et,j.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${j.getShaderInfoLog(et)}
Shader source:
${o}`);return et}deleteShader(o){this.gl.deleteShader(o)}bindTextureToUniform(o,s,j){let et=this.gl;et.activeTexture(et.TEXTURE0+s),this.checkError(),et.bindTexture(et.TEXTURE_2D,o),this.checkError(),et.uniform1i(j,s),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(Z$1.debug){let o=this.gl,s=o.getError(),j="";switch(s){case o.NO_ERROR:return;case o.INVALID_ENUM:j="INVALID_ENUM";break;case o.INVALID_VALUE:j="INVALID_VALUE";break;case o.INVALID_OPERATION:j="INVALID_OPERATION";break;case o.INVALID_FRAMEBUFFER_OPERATION:j="INVALID_FRAMEBUFFER_OPERATION";break;case o.OUT_OF_MEMORY:j="OUT_OF_MEMORY";break;case o.CONTEXT_LOST_WEBGL:j="CONTEXT_LOST_WEBGL";break;default:j=`Unknown WebGL Error: ${s.toString(16)}`}throw new Error(j)}}deleteTexture(o){this.gl.deleteTexture(o)}deleteProgram(o){this.gl.deleteProgram(o)}getEncoder(o,s,j=0){if(this.version===2)return new Jn$1(this.gl,s);switch(o){case"float":return j===1||this.isRenderFloat32Supported?new fn$1(this.gl,s):new fn$1(this.gl,s,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new Zn$1(this.gl,s);default:throw new Error(`Invalid dataType: ${o}`)}}clearActiveTextures(){let o=this.gl;for(let s=0;s<this.maxTextureImageUnits;++s)o.activeTexture(o.TEXTURE0+s),o.bindTexture(o.TEXTURE_2D,null)}dispose(){if(this.disposed)return;let o=this.gl;o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteFramebuffer(this.framebuffer),o.bindBuffer(o.ARRAY_BUFFER,null),o.deleteBuffer(this.vertexbuffer),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null),o.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){let o=this.gl,s=o.createBuffer();if(!s)throw new Error("createBuffer() returned null");let j=this.createDefaultGeometry();return o.bindBuffer(o.ARRAY_BUFFER,s),o.bufferData(o.ARRAY_BUFFER,j,o.STATIC_DRAW),this.checkError(),s}createFramebuffer(){let o=this.gl.createFramebuffer();if(!o)throw new Error("createFramebuffer returned null");return o}queryVitalParameters(){let o=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){let o=this.gl,s=o.createTexture();o.bindTexture(o.TEXTURE_2D,s);let j=this.version===2?o.RGBA32F:o.RGBA;o.texImage2D(o.TEXTURE_2D,0,j,1,1,0,o.RGBA,o.FLOAT,null);let et=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,et),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,s,0);let bt=o.checkFramebufferStatus(o.FRAMEBUFFER)===o.FRAMEBUFFER_COMPLETE;return o.bindTexture(o.TEXTURE_2D,null),o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteTexture(s),o.deleteFramebuffer(et),bt}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){let o=this.gl,s,j,et,bt,At;try{s=o.createTexture(),j=o.createFramebuffer(),o.bindTexture(o.TEXTURE_2D,s);let Et=this.version===2?o.RGBA32F:o.RGBA;return o.texImage2D(o.TEXTURE_2D,0,Et,1,1,0,o.RGBA,o.FLOAT,null),o.bindFramebuffer(o.FRAMEBUFFER,j),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,s,0),o.enable(o.BLEND),et=o.createShader(o.VERTEX_SHADER),!et||(o.shaderSource(et,"void main(){}"),o.compileShader(et),bt=o.createShader(o.FRAGMENT_SHADER),!bt)||(o.shaderSource(bt,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),o.compileShader(bt),At=o.createProgram(),!At)?!1:(o.attachShader(At,et),o.attachShader(At,bt),o.linkProgram(At),o.useProgram(At),o.drawArrays(o.POINTS,0,1),o.getError()===o.NO_ERROR)}finally{o.disable(o.BLEND),At&&o.deleteProgram(At),et&&o.deleteShader(et),bt&&o.deleteShader(bt),j&&(o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteFramebuffer(j)),s&&(o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(s))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let o=this.gl,s=this.disjointTimerQueryWebgl2Extension,j=o.createQuery();return o.beginQuery(s.TIME_ELAPSED_EXT,j),j}else throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let o=this.gl,s=this.disjointTimerQueryWebgl2Extension;o.endQuery(s.TIME_ELAPSED_EXT);return}else throw new Error("WebGL1 profiling currently not supported")}isTimerResultAvailable(o){let s=!1,j=!1;if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let et=this.gl,bt=this.disjointTimerQueryWebgl2Extension;s=et.getQueryParameter(o,et.QUERY_RESULT_AVAILABLE),j=et.getParameter(bt.GPU_DISJOINT_EXT)}else throw new Error("WebGL1 profiling currently not supported");return s&&!j}getTimerResult(o){let s=0;if(this.version===2){let j=this.gl;s=j.getQueryParameter(o,j.QUERY_RESULT),j.deleteQuery(o)}else throw new Error("WebGL1 profiling currently not supported");return s/1e6}async waitForQueryAndGetTime(o){return await gi$1(()=>this.isTimerResultAvailable(o)),this.getTimerResult(o)}async createAndWaitForFence(){let o=this.createFence(this.gl);return this.pollFence(o)}createFence(o){let s,j=o,et=j.fenceSync(j.SYNC_GPU_COMMANDS_COMPLETE,0);return o.flush(),et===null?s=()=>!0:s=()=>{let bt=j.clientWaitSync(et,0,0);return bt===j.ALREADY_SIGNALED||bt===j.CONDITION_SATISFIED},{query:et,isFencePassed:s}}async pollFence(o){return new Promise(s=>{this.addItemToPoll(()=>o.isFencePassed(),()=>s())})}pollItems(){let o=Xb(this.itemsToPoll.map(s=>s.isDoneFn));for(let s=0;s<=o;++s){let{resolveFn:j}=this.itemsToPoll[s];j()}this.itemsToPoll=this.itemsToPoll.slice(o+1)}async addItemToPoll(o,s){this.itemsToPoll.push({isDoneFn:o,resolveFn:s}),!(this.itemsToPoll.length>1)&&await gi$1(()=>(this.pollItems(),this.itemsToPoll.length===0))}}});function ji$1(o){let s;if((!o||o==="webgl2")&&"webgl2"in zr?s=zr.webgl2:(!o||o==="webgl")&&"webgl"in zr&&(s=zr.webgl),!s)try{let et=Jb();s=dp$1(et,o)}catch{let et=Kb();s=dp$1(et,o)}o=o||s.version===1?"webgl":"webgl2";let j=s.gl;return zr[o]=s,j.isContextLost()?(delete zr[o],ji$1(o)):(j.disable(j.DEPTH_TEST),j.disable(j.STENCIL_TEST),j.disable(j.BLEND),j.disable(j.DITHER),j.disable(j.POLYGON_OFFSET_FILL),j.disable(j.SAMPLE_COVERAGE),j.enable(j.SCISSOR_TEST),j.enable(j.CULL_FACE),j.cullFace(j.BACK),s)}function dp$1(o,s){let j={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1},et,bt=j;if((!s||s==="webgl2")&&(et=o.getContext("webgl2",bt),et))try{return new bn$1(et,2)}catch(At){ce.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${At}`)}if((!s||s==="webgl")&&(et=o.getContext("webgl",bt)||o.getContext("experimental-webgl",bt),et))try{return new bn$1(et,1)}catch(At){ce.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${At}`)}throw new Error("WebGL is not supported")}function Kb(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");let o=document.createElement("canvas");return o.width=1,o.height=1,o}function Jb(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var zr,hp$1=E$1(()=>{at$1(),pp$1(),zr={}}),wo$1,mp$1=E$1(()=>{Tt(),at$1(),cp$1(),hp$1(),wo$1=class{get contextId(){return Z$1.webgl.contextId}set contextId(o){Z$1.webgl.contextId=o}get matmulMaxBatchSize(){return Z$1.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(o){Z$1.webgl.matmulMaxBatchSize=o}get textureCacheMode(){return Z$1.webgl.textureCacheMode}set textureCacheMode(o){Z$1.webgl.textureCacheMode=o}get pack(){return Z$1.webgl.pack}set pack(o){Z$1.webgl.pack=o}get async(){return Z$1.webgl.async}set async(o){Z$1.webgl.async=o}initialize(){try{return this.glContext=ji$1(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),ce.setWithEnv(Z$1),Z$1.webgl.context||Object.defineProperty(Z$1.webgl,"context",{value:this.glContext.gl}),ce.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(o){return ce.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${o}`),!1}}createSessionHandler(o){return new xo$1(this,o)}dispose(){this.glContext.dispose()}}});async function Yi$1(o){if(o){let s=typeof o=="string"?[o]:o;for(let j of s){let et=bp$1.get(j);if(et)return et;let bt=await Qb(j);if(bt)return bt}}else return Yi$1(["webgl"]);throw new Error("no available backend to use")}async function Qb(o){let s=Zb;if(typeof s[o]<"u"&&eg(s[o])){let j=s[o],et=j.initialize();if(typeof et=="object"&&"then"in et&&(et=await et),et)return bp$1.set(o,j),j}}function eg(o){let s=o;return"initialize"in s&&typeof s.initialize=="function"&&"createSessionHandler"in s&&typeof s.createSessionHandler=="function"&&"dispose"in s&&typeof s.dispose=="function"}var bp$1,Zb,gp$1=E$1(()=>{mp$1(),bp$1=new Map,Zb={webgl:new wo$1}}),Xi$1,vo$1,yp$1=E$1(()=>{at$1(),Xi$1=class{constructor(o,s){this.op=o,this.node=s}},vo$1=class{constructor(o,s,j){this.graph=o,this.profiler=j,this.initialize(s)}initialize(o){this.profiler.event("session","ExecutionPlan.initialize",()=>{let s=this.graph.getNodes();if(s.length!==o.length)throw new Error("The size of nodes and OPs do not match.");this._ops=o.map((j,et)=>new Xi$1(j,s[et])),this.reset(),this._starter=[],this._ops.forEach((j,et)=>{let bt=!0;for(let At of j.node.inputs)if(!this._values[At]&&this.graph.getInputIndices().indexOf(At)===-1){bt=!1;break}bt&&this._starter.push(et)})})}reset(){this._values=this.graph.getValues().map(o=>o.tensor)}async execute(o,s){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();let j=o.createInferenceHandler(),et=this.graph.getInputIndices();if(s.length!==et.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${s.length} expected: ${et.length}`);s.forEach((It,Qt)=>{let Pt=et[Qt];this._values[Pt]=It});let bt=this._starter.slice(0),At=this.graph.getValues(),Et=this.graph.getNodes(),Ut=0;for(;Ut<bt.length;){let It=bt[Ut++],Qt=this._ops[It],Pt=Qt.node.inputs.map(vr=>this._values[vr]);if(Pt.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${Qt.node}`);let Yt=Pt;ce.verbose("ExecPlan",`Runing op:${Qt.node.name} (${Yt.map((vr,Yr)=>`'${Qt.node.inputs[Yr]}': ${vr.type}[${vr.dims.join(",")}]`).join(", ")})`);let cr=await this.profiler.event("node",Qt.node.name,async()=>Qt.op.impl(j,Yt,Qt.op.context));if(cr.length!==Qt.node.outputs.length)throw new Error("the size of output does not match model definition.");cr.forEach((vr,Yr)=>{let Kr=Qt.node.outputs[Yr];if(this._values[Kr])throw new Error(`output [${Kr}] already has value: op:${Qt.node.name}`);this._values[Kr]=vr});let _r=new Set;cr.forEach((vr,Yr)=>{let Kr=Qt.node.outputs[Yr];for(let jr of At[Kr].to){let Hn=Et[jr],tA=!0;for(let nA of Hn.inputs)if(!this._values[nA]){tA=!1;break}tA&&_r.add(jr)}}),bt.push(..._r)}let zt=[];for(let It=0;It<this.graph.getOutputIndices().length;It++){let Qt=this.graph.getOutputIndices()[It],Pt=this._values[Qt];if(Pt===void 0)throw new Error(`required output [${Qt}] does not have value`);Qt===0?await Pt.getData():Pt.data,zt.push(Pt)}return ce.verbose("ExecPlan","disposing of inferenceHandler"),j.dispose(),zt})}}}),oe,dt$1,gn$1,Tp$1=E$1(()=>{nn$1(),oe=Er$1($r()),br(),fe(),dt$1=W.experimental.fbs,gn$1=class g${constructor(s){if(this._attributes=new Map,s!=null){for(let j of s)j instanceof oe.onnx.AttributeProto?this._attributes.set(j.name,[g$.getValue(j),g$.getType(j)]):j instanceof dt$1.Attribute&&this._attributes.set(j.name(),[g$.getValue(j),g$.getType(j)]);if(this._attributes.size<s.length)throw new Error("duplicated attribute names")}}set(s,j,et){this._attributes.set(s,[et,j])}delete(s){this._attributes.delete(s)}getFloat(s,j){return this.get(s,"float",j)}getInt(s,j){return this.get(s,"int",j)}getString(s,j){return this.get(s,"string",j)}getTensor(s,j){return this.get(s,"tensor",j)}getFloats(s,j){return this.get(s,"floats",j)}getInts(s,j){return this.get(s,"ints",j)}getStrings(s,j){return this.get(s,"strings",j)}getTensors(s,j){return this.get(s,"tensors",j)}get(s,j,et){let bt=this._attributes.get(s);if(bt===void 0){if(et!==void 0)return et;throw new Error(`required attribute not found: ${s}`)}if(bt[1]!==j)throw new Error(`type mismatch: expected ${j} but got ${bt[1]}`);return bt[0]}static getType(s){let j=s instanceof oe.onnx.AttributeProto?s.type:s.type();switch(j){case oe.onnx.AttributeProto.AttributeType.FLOAT:return"float";case oe.onnx.AttributeProto.AttributeType.INT:return"int";case oe.onnx.AttributeProto.AttributeType.STRING:return"string";case oe.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case oe.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case oe.onnx.AttributeProto.AttributeType.INTS:return"ints";case oe.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case oe.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${oe.onnx.AttributeProto.AttributeType[j]}`)}}static getValue(s){let j=s instanceof oe.onnx.AttributeProto?s.type:s.type();if(j===oe.onnx.AttributeProto.AttributeType.GRAPH||j===oe.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");let et=this.getValueNoCheck(s);if(j===oe.onnx.AttributeProto.AttributeType.INT&&nt$1.isLong(et))return nt$1.longToNumber(et);if(j===oe.onnx.AttributeProto.AttributeType.INTS){let bt=et,At=new Array(bt.length);for(let Et=0;Et<bt.length;Et++){let Ut=bt[Et];At[Et]=nt$1.longToNumber(Ut)}return At}if(j===oe.onnx.AttributeProto.AttributeType.TENSOR)return s instanceof oe.onnx.AttributeProto?Ce.fromProto(et):Ce.fromOrtTensor(et);if(j===oe.onnx.AttributeProto.AttributeType.TENSORS){if(s instanceof oe.onnx.AttributeProto)return et.map(bt=>Ce.fromProto(bt));if(s instanceof dt$1.Attribute)return et.map(bt=>Ce.fromOrtTensor(bt))}return j===oe.onnx.AttributeProto.AttributeType.STRING&&s instanceof oe.onnx.AttributeProto?ln$1(et):j===oe.onnx.AttributeProto.AttributeType.STRINGS&&s instanceof oe.onnx.AttributeProto?et.map(ln$1):et}static getValueNoCheck(s){return s instanceof oe.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(s):this.getValueNoCheckFromOrtFormat(s)}static getValueNoCheckFromOnnxFormat(s){switch(s.type){case oe.onnx.AttributeProto.AttributeType.FLOAT:return s.f;case oe.onnx.AttributeProto.AttributeType.INT:return s.i;case oe.onnx.AttributeProto.AttributeType.STRING:return s.s;case oe.onnx.AttributeProto.AttributeType.TENSOR:return s.t;case oe.onnx.AttributeProto.AttributeType.GRAPH:return s.g;case oe.onnx.AttributeProto.AttributeType.FLOATS:return s.floats;case oe.onnx.AttributeProto.AttributeType.INTS:return s.ints;case oe.onnx.AttributeProto.AttributeType.STRINGS:return s.strings;case oe.onnx.AttributeProto.AttributeType.TENSORS:return s.tensors;case oe.onnx.AttributeProto.AttributeType.GRAPHS:return s.graphs;default:throw new Error(`unsupported attribute type: ${oe.onnx.AttributeProto.AttributeType[s.type]}`)}}static getValueNoCheckFromOrtFormat(s){switch(s.type()){case dt$1.AttributeType.FLOAT:return s.f();case dt$1.AttributeType.INT:return s.i();case dt$1.AttributeType.STRING:return s.s();case dt$1.AttributeType.TENSOR:return s.t();case dt$1.AttributeType.GRAPH:return s.g();case dt$1.AttributeType.FLOATS:return s.floatsArray();case dt$1.AttributeType.INTS:{let j=[];for(let et=0;et<s.intsLength();et++)j.push(s.ints(et));return j}case dt$1.AttributeType.STRINGS:{let j=[];for(let et=0;et<s.stringsLength();et++)j.push(s.strings(et));return j}case dt$1.AttributeType.TENSORS:{let j=[];for(let et=0;et<s.tensorsLength();et++)j.push(s.tensors(et));return j}default:throw new Error(`unsupported attribute type: ${dt$1.AttributeType[s.type()]}`)}}}}),Ji$1,_o$1,Zi$1,Rt,Oo$1,Ki$1,xp$1=E$1(()=>{Tp$1(),nn$1(),Ji$1=Er$1($r()),br(),fe(),_o$1=W.experimental.fbs,Zi$1={from:(o,s)=>new Ki$1(o,s)},Rt=class{constructor(o){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,o&&(this.type=Ve.tensorValueTypeFromProto(o.type.tensorType))}get from(){return this._from}get to(){return this._to}},Oo$1=class{constructor(o,s){o instanceof Ji$1.onnx.NodeProto?(this.name=o.name,this.opType=o.opType,this.attributes=new gn$1(o.attribute)):o instanceof _o$1.Node&&(this.name=s??o.name(),this.opType=o.opType(),this.attributes=new gn$1(Ve.tensorAttributesFromORTFormat(o))),this.inputs=[],this.outputs=[],this.executeNode=!0}},Ki$1=class{constructor(o,s){if(!o)throw new TypeError("graph is empty");this.buildGraph(o),this.transformGraph(s),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(o){if(o instanceof Ji$1.onnx.GraphProto)this.buildGraphFromOnnxFormat(o);else if(o instanceof _o$1.Graph)this.buildGraphFromOrtFormat(o);else throw new TypeError("Graph type is not supported.")}buildGraphFromOnnxFormat(o){let s=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let j=new Map;if(!o.input)throw new Error("missing information in graph: input");let et=[];for(let bt of o.input){if(s.has(bt.name))throw new Error(`duplicated input name: ${bt.name}`);let At=this._allData.push(new Rt(bt))-1;s.set(bt.name,At),et.push(bt.name)}if(!o.initializer)throw new Error("missing information in graph: initializer");for(let bt of o.initializer){let At=s.get(bt.name);if(At===void 0){let Et=new Rt;Et.type={shape:{dims:Ve.tensorDimsFromProto(bt.dims)},tensorType:Ve.tensorDataTypeFromProto(bt.dataType)},At=this._allData.push(Et)-1,s.set(bt.name,At)}this._allData[At]._from=-1,this._allData[At].tensor=Ce.fromProto(bt)}for(let bt=0;bt<this._allData.length;bt++)this._allData[bt].tensor||(this._allInputIndices.push(bt),this._allInputNames.push(et[bt]));if(!o.output)throw new Error("missing information in graph: output");for(let bt of o.output){if(s.has(bt.name))throw new Error(`duplicated output name: ${bt.name}`);let At=this._allData.push(new Rt(bt))-1;s.set(bt.name,At),this._allOutputIndices.push(At),this._allOutputNames.push(bt.name)}if(!o.node)throw new Error("missing information in graph: node");for(let bt of o.node){if(!bt.name)for(let Et=0;;Et++){let Ut=`unnamed_${bt.opType}_${Et}`;if(!j.has(Ut)){bt.name=Ut;break}}if(j.has(bt.name))throw new Error(`duplicated node name: ${bt.name}`);let At=this._nodes.push(new Oo$1(bt))-1;j.set(bt.name,At)}for(let bt=0;bt<this._nodes.length;bt++){let At=this._nodes[bt],Et=o.node[bt];if(!Et.output)throw new Error(`missing output for node: ${Et.name}`);for(let Ut of Et.output){let zt=s.get(Ut);if(typeof zt>"u"&&(zt=this._allData.push(new Rt)-1,s.set(Ut,zt)),At.outputs.push(zt),this._allData[zt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${zt}`);if(this._allData[zt]._from=bt,Et.opType==="Constant"){if(!Et.attribute||Et.attribute.length!==1||!Et.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!Et.output||Et.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");At.outputs.pop(),At.executeNode=!1,this._allData[zt]._from=-1,this._allData[zt].tensor=Ce.fromProto(Et.attribute[0].t)}}}for(let bt=0;bt<this._nodes.length;bt++){let At=this._nodes[bt],Et=o.node[bt];if(!Et.input)throw new Error(`missing input for node: ${Et.name}`);for(let Ut of Et.input){let zt=s.get(Ut);if(typeof zt>"u"){if(Ut===""&&(Et.input.length===3||Et.input.length===4)&&Et.opType==="Resize")continue;throw new Error(`unrecognized input '${Ut}' for node: ${Et.name}`)}At.inputs.push(zt),this._allData[zt]._to.push(bt)}}return!0}buildGraphFromOrtFormat(o){var bt,At,Et;let s=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let j=new Map,et=[];for(let Ut=0;Ut<o.inputsLength();Ut++){let zt=o.inputs(Ut);if(s.has(zt))throw new Error(`duplicated input name: ${zt}`);for(let It=0;It<o.nodeArgsLength();It++)if(((bt=o.nodeArgs(It))==null?void 0:bt.name())===zt){let Qt=new Rt;if(((Et=(At=o.nodeArgs(It))==null?void 0:At.type())==null?void 0:Et.valueType())!==_o$1.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");let Pt=o.nodeArgs(It).type().value(new _o$1.TensorTypeAndShape),Yt=Ve.tensorDataTypeFromProto(Pt.elemType()),cr=Pt.shape(),_r=[];for(let Yr=0;Yr<cr.dimLength();Yr++)_r.push(nt$1.longToNumber(cr.dim(Yr).value().dimValue()));Qt.type={shape:{dims:_r},tensorType:Yt};let vr=this._allData.push(Qt)-1;s.set(zt,vr),et.push(zt)}}for(let Ut=0;Ut<o.initializersLength();Ut++){let zt=o.initializers(Ut),It=s.get(zt.name());if(It===void 0){let Qt=new Rt,Pt=Ve.tensorDimsFromORTFormat(zt),Yt=Ve.tensorDataTypeFromProto(zt.dataType());Qt.type={shape:{dims:Pt},tensorType:Yt},It=this._allData.push(Qt)-1,s.set(zt.name(),It)}this._allData[It]._from=-1,this._allData[It].tensor=Ce.fromOrtTensor(zt)}for(let Ut=0;Ut<this._allData.length;Ut++)this._allData[Ut].tensor||(this._allInputIndices.push(Ut),this._allInputNames.push(et[Ut]));for(let Ut=0;Ut<o.outputsLength();Ut++){let zt=o.outputs(Ut);if(s.has(zt))throw new Error(`duplicated output name: ${zt}`);let It=this._allData.push(new Rt)-1;s.set(zt,It),this._allOutputIndices.push(It),this._allOutputNames.push(zt)}if(!o.nodes)throw new Error("missing information in graph: node");for(let Ut=0;Ut<o.nodesLength();Ut++){let zt=o.nodes(Ut),It=zt.name();if(!It)for(let Pt=0;It=`unnamed_${zt.opType()}_${Pt}`,!!j.has(It);Pt++);if(j.has(It))throw new Error(`duplicated node name: ${It}`);let Qt=this._nodes.push(new Oo$1(zt,It))-1;j.set(It,Qt)}for(let Ut=0;Ut<this._nodes.length;Ut++){let zt=this._nodes[Ut],It=o.nodes(Ut);if(It==null)throw new Error(`No node exists at index ${Ut}`);if((It==null?void 0:It.outputsLength())===0)throw new Error(`missing output for node: ${It.name}`);for(let Qt=0;Qt<(It==null?void 0:It.outputsLength());Qt++){let Pt=It==null?void 0:It.outputs(Qt),Yt=s.get(Pt);if(typeof Yt>"u"&&(Yt=this._allData.push(new Rt)-1,s.set(Pt,Yt)),zt.outputs.push(Yt),this._allData[Yt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${Yt}`);if(this._allData[Yt]._from=Ut,It.opType()==="Constant"){if(It.attributesLength()!==1||!It.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(It.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");zt.outputs.pop(),zt.executeNode=!1,this._allData[Yt]._from=-1,this._allData[Yt].tensor=Ce.fromOrtTensor(It.attributes(0).t())}}}for(let Ut=0;Ut<this._nodes.length;Ut++){let zt=this._nodes[Ut],It=o.nodes(Ut);if(It.inputsLength()===0)throw new Error(`missing input for node: ${It.name}`);for(let Qt=0;Qt<It.inputsLength();Qt++){let Pt=It.inputs(Qt),Yt=s.get(Pt);if(typeof Yt>"u")throw new Error(`unrecognized input '${Pt}' for node: ${It.name()}`);zt.inputs.push(Yt),this._allData[Yt]._to.push(Ut)}}}checkIsAcyclic(){let o=new Set;this._allInputIndices.forEach(et=>{this._allData[et]._to.forEach(bt=>{o.add(bt)})});let s=Array.from(o),j=new Array(this._nodes.length).fill("white");for(;s.length>0;){let et=s.pop();j[et]==="gray"?j[et]="black":(s.push(et),j[et]="gray",this._nodes[et].outputs.forEach(bt=>{let At=this._allData[bt];if(typeof At.tensor<"u")throw new Error("node outputs should not be initialized");if(At._from!==et)throw new Error("from property of the Value object doesn't match index of Node being processed");At._to.forEach(Et=>{if(j[Et]==="gray")throw new Error("model graph is cyclic");j[Et]==="white"&&s.push(Et)})}))}}transformGraph(o){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),o&&o.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let o=0,s=new Array(this._nodes.length,0),j=0;for(let et=0;et<this._nodes.length;et++)s[et]=j,this._nodes[et].executeNode?(j!==et&&(this._nodes[j]=this._nodes[et]),j++):this._nodes[et].outputs.forEach(bt=>{this._allData[bt]._from=-2});this._nodes.splice(j,this._nodes.length-j);for(let et=0;et<this._allData.length;et++){let bt=this._allData[et];bt._from!==void 0&&bt._from!==-1&&bt._from!==-2&&(bt._from=s[bt._from]);for(let At=0;At<bt._to.length;At++)if(bt._to[At]>=0)bt._to[At]=s[bt._to[At]];else throw new Error("Trying to update a removed node")}o=0;for(let et=0;et<this._allData.length;et++){if(this._allData[et].from===-2&&this._allOutputIndices.indexOf(et+o)===-1){o++,this._allData.splice(et,1),et--;continue}if(o>0){let bt=-1;this._allData[et].from!==void 0&&this._allData[et].from!==-1?(bt=this._nodes[this._allData[et].from].outputs.indexOf(et+o),bt!==-1&&(this._nodes[this._allData[et].from].outputs[bt]=et)):(bt=this._allInputIndices.indexOf(et+o),bt!==-1&&(this._allInputIndices[bt]=et)),this._allData[et].to.forEach(At=>{bt=this._nodes[At].inputs.indexOf(et+o),bt!==-1&&(this._nodes[At].inputs[bt]=et)}),this._allData[et].to.length===0&&(bt=this._allOutputIndices.indexOf(et+o),bt!==-1&&(this._allOutputIndices[bt]=et))}}}deleteNode(o){let s=this._nodes[o];if(s.outputs.length>1){for(let Et=1;Et<s.outputs.length;Et++)if(this._allData[s.outputs[Et]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}s.executeNode=!1;let j=s.inputs[0],et=s.outputs[0],bt=this._allData[et].to;for(let Et=0;Et<s.inputs.length;Et++){let Ut=this._allData[s.inputs[Et]].to.indexOf(o);if(Ut===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[s.inputs[Et]].to.splice(Ut,1)}this._allData[et]._to=[];let At=this._allOutputIndices.indexOf(et);if(At!==-1&&(this._allOutputIndices[At]=j),bt&&bt.length>0)for(let Et of bt){let Ut=this._nodes[Et].inputs.indexOf(et);if(Ut===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[Et].inputs[Ut]=j,this._allData[j].to.push(Et)}}removeAllDropoutNodes(){let o=0;for(let s of this._nodes){if(s.opType==="Dropout"){if(s.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(s.outputs.length!==1&&s.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(s.outputs.length===2&&this._allData[s.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(o)}o++}}removeAllIdentityNodes(){let o=0;for(let s of this._nodes)s.opType==="Identity"&&this.deleteNode(o),o++}isActivation(o){switch(o.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(let o of this._nodes)if(o.opType==="Conv"){let s=this._allData[o.outputs[0]]._to;if(s.length===1&&this.isActivation(this._nodes[s[0]])){let j=this._nodes[s[0]];if(j.opType==="Clip")if(j.inputs.length===1)try{o.attributes.set("activation_params","floats",[j.attributes.getFloat("min"),j.attributes.getFloat("max")])}catch{o.attributes.set("activation_params","floats",[hr,mr])}else if(j.inputs.length>=3&&this._allData[j.inputs[1]].tensor!==void 0&&this._allData[j.inputs[2]].tensor!==void 0)o.attributes.set("activation_params","floats",[this._allData[j.inputs[1]].tensor.floatData[0],this._allData[j.inputs[2]].tensor.floatData[0]]);else continue;o.attributes.set("activation","string",j.opType),this.deleteNode(s[0])}}}}}),wp$1,tg,Io$1,vp$1=E$1(()=>{Wn(),xp$1(),nn$1(),wp$1=Er$1($r()),fe(),tg=W.experimental.fbs,Io$1=class{constructor(){}load(o,s,j){if(!j)try{this.loadFromOnnxFormat(o,s);return}catch(et){if(j!==void 0)throw et}this.loadFromOrtFormat(o,s)}loadFromOnnxFormat(o,s){let j=wp$1.onnx.ModelProto.decode(o);if(nt$1.longToNumber(j.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=j.opsetImport.map(et=>({domain:et.domain,version:nt$1.longToNumber(et.version)})),this._graph=Zi$1.from(j.graph,s)}loadFromOrtFormat(o,s){let j=new O.ByteBuffer(o),et=tg.InferenceSession.getRootAsInferenceSession(j).model();if(nt$1.longToNumber(et.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let bt=0;bt<et.opsetImportLength();bt++){let At=et.opsetImport(bt);this._opsets.push({domain:At==null?void 0:At.domain(),version:nt$1.longToNumber(At.version())})}this._graph=Zi$1.from(et.graph(),s)}get graph(){return this._graph}get opsets(){return this._opsets}}}),So$1,_p=E$1(()=>{gp$1(),yp$1(),at$1(),vp$1(),So$1=class{constructor(o={}){this._initialized=!1,this.backendHint=o.backendHint,this.profiler=zn$1.create(o.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(o,s,j){await this.profiler.event("session","Session.loadModel",async()=>{let et=await Yi$1(this.backendHint);if(this.sessionHandler=et.createSessionHandler(this.context),this._model=new Io$1,typeof o=="string"){let bt=o.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){let At=await(void 0)(o);this.initialize(At,bt)}else{let At=await(await fetch(o)).arrayBuffer();this.initialize(new Uint8Array(At),bt)}}else if(ArrayBuffer.isView(o))this.initialize(o);else{let bt=new Uint8Array(o,s||0,j||o.byteLength);this.initialize(bt)}})}initialize(o,s){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{let j=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(o,j,s),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new vo$1(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(o){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{let s=this.normalizeAndValidateInputs(o),j=await this._executionPlan.execute(this.sessionHandler,s);return this.createOutput(j)})}normalizeAndValidateInputs(o){let s=this._model.graph.getInputNames();if(Array.isArray(o)){if(o.length!==s.length)throw new Error(`incorrect input array length: expected ${s.length} but got ${o.length}`)}else{if(o.size!==s.length)throw new Error(`incorrect input map size: expected ${s.length} but got ${o.size}`);let j=new Array(o.size),et=0;for(let bt=0;bt<s.length;++bt){let At=o.get(s[bt]);if(!At)throw new Error(`missing input tensor for: '${name}'`);j[et++]=At}o=j}if(!this.context.graphInputTypes||this.context.graphInputTypes.length===0||!this.context.graphInputDims||this.context.graphInputDims.length===0){let j=this._model.graph.getInputIndices(),et=this._model.graph.getValues(),bt=new Array(j.length);for(let At=0;At<j.length;++At){let Et=et[j[At]];bt[At]=Et.type.shape.dims,this.context.graphInputTypes.push(Et.type.tensorType),this.context.graphInputDims.push(o[At].dims)}this.validateInputTensorDims(bt,o,!0)}else this.validateInputTensorDims(this.context.graphInputDims,o,!1);return this.validateInputTensorTypes(this.context.graphInputTypes,o),o}validateInputTensorTypes(o,s){for(let j=0;j<s.length;j++){let et=o[j],bt=s[j].type;if(et!==bt)throw new Error(`input tensor[${j}] check failed: expected type '${et}' but got ${bt}`)}}validateInputTensorDims(o,s,j){for(let et=0;et<s.length;et++){let bt=o[et],At=s[et].dims;if(!this.compareTensorDims(bt,At,j))throw new Error(`input tensor[${et}] check failed: expected shape '[${bt.join(",")}]' but got [${At.join(",")}]`)}}compareTensorDims(o,s,j){if(o.length!==s.length)return!1;for(let et=0;et<o.length;++et)if(o[et]!==s[et]&&(!j||o[et]!==0))return!1;return!0}createOutput(o){let s=this._model.graph.getOutputNames();if(o.length!==s.length)throw new Error("expected number of outputs do not match number of generated outputs");let j=new Map;for(let et=0;et<s.length;++et)j.set(s[et],o[et]);return j}initializeOps(o){let s=o.getNodes();this._ops=new Array(s.length);for(let j=0;j<s.length;j++)this._ops[j]=this.sessionHandler.resolve(s[j],this._model.opsets,o)}}}),Ao$1,Op$1=E$1(()=>{Tt(),br(),Ao$1=class{constructor(o){this.session=o,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(o,s,j){let et=new Map;for(let Et in o)if(Object.hasOwnProperty.call(o,Et)){let Ut=o[Et];et.set(Et,new Ce(Ut.dims,Ut.type,void 0,void 0,Ut.data))}let bt=await this.session.run(et),At={};return bt.forEach((Et,Ut)=>{At[Ut]=new Re(Et.type,Et.data,Et.dims)}),At}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}}),Ip$1={};Pr$1(Ip$1,{onnxjsBackend:()=>ng});var Qi$1,ng,Sp$1=E$1(()=>{_p(),Op$1(),Qi$1=class{async init(){}async createInferenceSessionHandler(o,s){let j=new So$1(s);return typeof o=="string"?await j.loadModel(o):await j.loadModel(o),new Ao$1(j)}},ng=new Qi$1}),ea={};Pr$1(ea,{createReadStream:()=>Ap$1,readFile:()=>og,readFileSync:()=>ig});var og,ig,Ap$1,ta=E$1(()=>{og=void 0,ig=void 0,Ap$1=void 0}),ra$1={};Pr$1(ra$1,{join:()=>ag});var ag,na$1=E$1(()=>{ag=void 0}),Dp$1=me((o,s)=>{var j=(()=>{var et=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(et=et||__filename),function(bt={}){var At=bt,Et,Ut;At.ready=new Promise((mA,HA)=>{Et=mA,Ut=HA});var zt=Object.assign({},At),It="./this.program",Qt=typeof window=="object",Pt=typeof importScripts=="function",Yt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",cr="",_r,vr,Yr;if(Yt){var Kr=(ta(),or$1(ea)),jr=(na$1(),or$1(ra$1));cr=Pt?jr.dirname(cr)+"/":__dirname+"/",_r=(mA,HA)=>(mA=KA(mA)?new URL(mA):jr.normalize(mA),Kr.readFileSync(mA,HA?void 0:"utf8")),Yr=mA=>(mA=_r(mA,!0),mA.buffer||(mA=new Uint8Array(mA)),mA),vr=(mA,HA,WA,c0=!0)=>{mA=KA(mA)?new URL(mA):jr.normalize(mA),Kr.readFile(mA,c0?void 0:"utf8",(D0,W0)=>{D0?WA(D0):HA(c0?W0.buffer:W0)})},!At.thisProgram&&1<process.argv.length&&(It=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),At.inspect=()=>"[Emscripten Module object]"}else(Qt||Pt)&&(Pt?cr=self.location.href:typeof document<"u"&&document.currentScript&&(cr=document.currentScript.src),et&&(cr=et),cr.indexOf("blob:")!==0?cr=cr.substr(0,cr.replace(/[?#].*/,"").lastIndexOf("/")+1):cr="",_r=mA=>{var HA=new XMLHttpRequest;return HA.open("GET",mA,!1),HA.send(null),HA.responseText},Pt&&(Yr=mA=>{var HA=new XMLHttpRequest;return HA.open("GET",mA,!1),HA.responseType="arraybuffer",HA.send(null),new Uint8Array(HA.response)}),vr=(mA,HA,WA)=>{var c0=new XMLHttpRequest;c0.open("GET",mA,!0),c0.responseType="arraybuffer",c0.onload=()=>{c0.status==200||c0.status==0&&c0.response?HA(c0.response):WA()},c0.onerror=WA,c0.send(null)});var Hn=console.log.bind(console),tA=console.error.bind(console);Object.assign(At,zt),zt=null,typeof WebAssembly!="object"&&kA("no native wasm support detected");var nA,aA=!1,lA,hA,pA,wA,NA;function cA(){var mA=nA.buffer;At.HEAP8=lA=new Int8Array(mA),At.HEAP16=new Int16Array(mA),At.HEAPU8=hA=new Uint8Array(mA),At.HEAPU16=new Uint16Array(mA),At.HEAP32=pA=new Int32Array(mA),At.HEAPU32=wA=new Uint32Array(mA),At.HEAPF32=new Float32Array(mA),At.HEAPF64=NA=new Float64Array(mA)}var CA=[],sA=[],UA=[],LA=0,RA=null;function kA(mA){throw mA="Aborted("+mA+")",tA(mA),aA=!0,mA=new WebAssembly.RuntimeError(mA+". Build with -sASSERTIONS for more info."),Ut(mA),mA}var OA=mA=>mA.startsWith("data:application/octet-stream;base64,"),KA=mA=>mA.startsWith("file://"),yA;if(yA="ort-wasm.wasm",!OA(yA)){var TA=yA;yA=At.locateFile?At.locateFile(TA,cr):cr+TA}function r0(mA){if(Yr)return Yr(mA);throw"both async and sync fetching of the wasm failed"}function qA(mA){if(Qt||Pt){if(typeof fetch=="function"&&!KA(mA))return fetch(mA,{credentials:"same-origin"}).then(HA=>{if(!HA.ok)throw"failed to load wasm binary file at '"+mA+"'";return HA.arrayBuffer()}).catch(()=>r0(mA));if(vr)return new Promise((HA,WA)=>{vr(mA,c0=>HA(new Uint8Array(c0)),WA)})}return Promise.resolve().then(()=>r0(mA))}function XA(mA,HA,WA){return qA(mA).then(c0=>WebAssembly.instantiate(c0,HA)).then(c0=>c0).then(WA,c0=>{tA(`failed to asynchronously prepare wasm: ${c0}`),kA(c0)})}function S0(mA,HA){var WA=yA;return typeof WebAssembly.instantiateStreaming!="function"||OA(WA)||KA(WA)||Yt||typeof fetch!="function"?XA(WA,mA,HA):fetch(WA,{credentials:"same-origin"}).then(c0=>WebAssembly.instantiateStreaming(c0,mA).then(HA,function(D0){return tA(`wasm streaming compile failed: ${D0}`),tA("falling back to ArrayBuffer instantiation"),XA(WA,mA,HA)}))}var U0,C0={920016:(mA,HA,WA,c0)=>{if(typeof At>"u"||!At.za)return 1;if(mA=k0(mA>>>0),mA.startsWith("./")&&(mA=mA.substring(2)),mA=At.za.get(mA),!mA)return 2;if(HA>>>=0,WA>>>=0,HA+WA>mA.byteLength)return 3;try{return hA.set(mA.subarray(HA,HA+WA),c0>>>0>>>0),0}catch{return 4}}};function B0(mA){this.xa=mA-24,this.Ha=function(HA){wA[this.xa+4>>>2>>>0]=HA},this.Ga=function(HA){wA[this.xa+8>>>2>>>0]=HA},this.Aa=function(HA,WA){this.Fa(),this.Ha(HA),this.Ga(WA)},this.Fa=function(){wA[this.xa+16>>>2>>>0]=0}}var Q0=0,T0=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,F0=(mA,HA,WA)=>{HA>>>=0;var c0=HA+WA;for(WA=HA;mA[WA]&&!(WA>=c0);)++WA;if(16<WA-HA&&mA.buffer&&T0)return T0.decode(mA.subarray(HA,WA));for(c0="";HA<WA;){var D0=mA[HA++];if(D0&128){var W0=mA[HA++]&63;if((D0&224)==192)c0+=String.fromCharCode((D0&31)<<6|W0);else{var l1=mA[HA++]&63;D0=(D0&240)==224?(D0&15)<<12|W0<<6|l1:(D0&7)<<18|W0<<12|l1<<6|mA[HA++]&63,65536>D0?c0+=String.fromCharCode(D0):(D0-=65536,c0+=String.fromCharCode(55296|D0>>10,56320|D0&1023))}}else c0+=String.fromCharCode(D0)}return c0},k0=(mA,HA)=>(mA>>>=0)?F0(hA,mA,HA):"",uA=mA=>{for(var HA=0,WA=0;WA<mA.length;++WA){var c0=mA.charCodeAt(WA);127>=c0?HA++:2047>=c0?HA+=2:55296<=c0&&57343>=c0?(HA+=4,++WA):HA+=3}return HA},ZA=(mA,HA,WA,c0)=>{if(WA>>>=0,!(0<c0))return 0;var D0=WA;c0=WA+c0-1;for(var W0=0;W0<mA.length;++W0){var l1=mA.charCodeAt(W0);if(55296<=l1&&57343>=l1){var P1=mA.charCodeAt(++W0);l1=65536+((l1&1023)<<10)|P1&1023}if(127>=l1){if(WA>=c0)break;HA[WA++>>>0]=l1}else{if(2047>=l1){if(WA+1>=c0)break;HA[WA++>>>0]=192|l1>>6}else{if(65535>=l1){if(WA+2>=c0)break;HA[WA++>>>0]=224|l1>>12}else{if(WA+3>=c0)break;HA[WA++>>>0]=240|l1>>18,HA[WA++>>>0]=128|l1>>12&63}HA[WA++>>>0]=128|l1>>6&63}HA[WA++>>>0]=128|l1&63}}return HA[WA>>>0]=0,WA-D0},jA=mA=>mA%4===0&&(mA%100!==0||mA%400===0),IA=[0,31,60,91,121,152,182,213,244,274,305,335],$A=[0,31,59,90,120,151,181,212,243,273,304,334],QA=mA=>{var HA=uA(mA)+1,WA=O1(HA);return WA&&ZA(mA,hA,WA,HA),WA},n0=[],t0={},GA=()=>{if(!A0){var mA={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:It||"./this.program"},HA;for(HA in t0)t0[HA]===void 0?delete mA[HA]:mA[HA]=t0[HA];var WA=[];for(HA in mA)WA.push(`${HA}=${mA[HA]}`);A0=WA}return A0},A0,y0=[null,[],[]],f0=[31,29,31,30,31,30,31,31,30,31,30,31],P0=[31,28,31,30,31,30,31,31,30,31,30,31];function K0(mA){var HA=Array(uA(mA)+1);return ZA(mA,HA,0,HA.length),HA}function $0(mA,HA,WA,c0){function D0(u0,h1,E1){for(u0=typeof u0=="number"?u0.toString():u0||"";u0.length<h1;)u0=E1[0]+u0;return u0}function W0(u0,h1){return D0(u0,h1,"0")}function l1(u0,h1){function E1(iy){return 0>iy?-1:0<iy?1:0}var q1;return(q1=E1(u0.getFullYear()-h1.getFullYear()))===0&&(q1=E1(u0.getMonth()-h1.getMonth()))===0&&(q1=E1(u0.getDate()-h1.getDate())),q1}function P1(u0){switch(u0.getDay()){case 0:return new Date(u0.getFullYear()-1,11,29);case 1:return u0;case 2:return new Date(u0.getFullYear(),0,3);case 3:return new Date(u0.getFullYear(),0,2);case 4:return new Date(u0.getFullYear(),0,1);case 5:return new Date(u0.getFullYear()-1,11,31);case 6:return new Date(u0.getFullYear()-1,11,30)}}function V1(u0){var h1=u0.ta;for(u0=new Date(new Date(u0.ua+1900,0,1).getTime());0<h1;){var E1=u0.getMonth(),q1=(jA(u0.getFullYear())?f0:P0)[E1];if(h1>q1-u0.getDate())h1-=q1-u0.getDate()+1,u0.setDate(1),11>E1?u0.setMonth(E1+1):(u0.setMonth(0),u0.setFullYear(u0.getFullYear()+1));else{u0.setDate(u0.getDate()+h1);break}}return E1=new Date(u0.getFullYear()+1,0,4),h1=P1(new Date(u0.getFullYear(),0,4)),E1=P1(E1),0>=l1(h1,u0)?0>=l1(E1,u0)?u0.getFullYear()+1:u0.getFullYear():u0.getFullYear()-1}mA>>>=0,HA>>>=0,WA>>>=0,c0>>>=0;var F1=wA[c0+40>>>2>>>0];c0={Da:pA[c0>>>2>>>0],Ca:pA[c0+4>>>2>>>0],va:pA[c0+8>>>2>>>0],ya:pA[c0+12>>>2>>>0],wa:pA[c0+16>>>2>>>0],ua:pA[c0+20>>>2>>>0],oa:pA[c0+24>>>2>>>0],ta:pA[c0+28>>>2>>>0],Ia:pA[c0+32>>>2>>>0],Ba:pA[c0+36>>>2>>>0],Ea:F1?k0(F1):""},WA=k0(WA),F1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var m1 in F1)WA=WA.replace(new RegExp(m1,"g"),F1[m1]);var M0="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),W1="January February March April May June July August September October November December".split(" ");F1={"%a":u0=>M0[u0.oa].substring(0,3),"%A":u0=>M0[u0.oa],"%b":u0=>W1[u0.wa].substring(0,3),"%B":u0=>W1[u0.wa],"%C":u0=>W0((u0.ua+1900)/100|0,2),"%d":u0=>W0(u0.ya,2),"%e":u0=>D0(u0.ya,2," "),"%g":u0=>V1(u0).toString().substring(2),"%G":u0=>V1(u0),"%H":u0=>W0(u0.va,2),"%I":u0=>(u0=u0.va,u0==0?u0=12:12<u0&&(u0-=12),W0(u0,2)),"%j":u0=>{for(var h1=0,E1=0;E1<=u0.wa-1;h1+=(jA(u0.ua+1900)?f0:P0)[E1++]);return W0(u0.ya+h1,3)},"%m":u0=>W0(u0.wa+1,2),"%M":u0=>W0(u0.Ca,2),"%n":()=>`
`,"%p":u0=>0<=u0.va&&12>u0.va?"AM":"PM","%S":u0=>W0(u0.Da,2),"%t":()=>"	","%u":u0=>u0.oa||7,"%U":u0=>W0(Math.floor((u0.ta+7-u0.oa)/7),2),"%V":u0=>{var h1=Math.floor((u0.ta+7-(u0.oa+6)%7)/7);if(2>=(u0.oa+371-u0.ta-2)%7&&h1++,h1)h1==53&&(E1=(u0.oa+371-u0.ta)%7,E1==4||E1==3&&jA(u0.ua)||(h1=1));else{h1=52;var E1=(u0.oa+7-u0.ta-1)%7;(E1==4||E1==5&&jA(u0.ua%400-1))&&h1++}return W0(h1,2)},"%w":u0=>u0.oa,"%W":u0=>W0(Math.floor((u0.ta+7-(u0.oa+6)%7)/7),2),"%y":u0=>(u0.ua+1900).toString().substring(2),"%Y":u0=>u0.ua+1900,"%z":u0=>{u0=u0.Ba;var h1=0<=u0;return u0=Math.abs(u0)/60,(h1?"+":"-")+("0000"+(u0/60*100+u0%60)).slice(-4)},"%Z":u0=>u0.Ea,"%%":()=>"%"},WA=WA.replace(/%%/g,"\0\0");for(m1 in F1)WA.includes(m1)&&(WA=WA.replace(new RegExp(m1,"g"),F1[m1](c0)));return WA=WA.replace(/\0\0/g,"%"),m1=K0(WA),m1.length>HA?0:(lA.set(m1,mA>>>0),m1.length-1)}var w0={a:function(mA,HA,WA){throw mA>>>=0,new B0(mA).Aa(HA>>>0,WA>>>0),Q0=mA,Q0},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(mA,HA,WA){mA=HA+2097152>>>0<4194305-!!mA?(mA>>>0)+4294967296*HA:NaN,WA>>>=0,mA=new Date(1e3*mA),pA[WA>>>2>>>0]=mA.getUTCSeconds(),pA[WA+4>>>2>>>0]=mA.getUTCMinutes(),pA[WA+8>>>2>>>0]=mA.getUTCHours(),pA[WA+12>>>2>>>0]=mA.getUTCDate(),pA[WA+16>>>2>>>0]=mA.getUTCMonth(),pA[WA+20>>>2>>>0]=mA.getUTCFullYear()-1900,pA[WA+24>>>2>>>0]=mA.getUTCDay(),pA[WA+28>>>2>>>0]=(mA.getTime()-Date.UTC(mA.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(mA,HA,WA){mA=HA+2097152>>>0<4194305-!!mA?(mA>>>0)+4294967296*HA:NaN,WA>>>=0,mA=new Date(1e3*mA),pA[WA>>>2>>>0]=mA.getSeconds(),pA[WA+4>>>2>>>0]=mA.getMinutes(),pA[WA+8>>>2>>>0]=mA.getHours(),pA[WA+12>>>2>>>0]=mA.getDate(),pA[WA+16>>>2>>>0]=mA.getMonth(),pA[WA+20>>>2>>>0]=mA.getFullYear()-1900,pA[WA+24>>>2>>>0]=mA.getDay(),pA[WA+28>>>2>>>0]=(jA(mA.getFullYear())?IA:$A)[mA.getMonth()]+mA.getDate()-1|0,pA[WA+36>>>2>>>0]=-(60*mA.getTimezoneOffset()),HA=new Date(mA.getFullYear(),6,1).getTimezoneOffset();var c0=new Date(mA.getFullYear(),0,1).getTimezoneOffset();pA[WA+32>>>2>>>0]=(HA!=c0&&mA.getTimezoneOffset()==Math.min(c0,HA))|0},p:function(mA){mA>>>=0;var HA=new Date(pA[mA+20>>>2>>>0]+1900,pA[mA+16>>>2>>>0],pA[mA+12>>>2>>>0],pA[mA+8>>>2>>>0],pA[mA+4>>>2>>>0],pA[mA>>>2>>>0],0),WA=pA[mA+32>>>2>>>0],c0=HA.getTimezoneOffset(),D0=new Date(HA.getFullYear(),6,1).getTimezoneOffset(),W0=new Date(HA.getFullYear(),0,1).getTimezoneOffset(),l1=Math.min(W0,D0);return 0>WA?pA[mA+32>>>2>>>0]=+(D0!=W0&&l1==c0):0<WA!=(l1==c0)&&(D0=Math.max(W0,D0),HA.setTime(HA.getTime()+6e4*((0<WA?l1:D0)-c0))),pA[mA+24>>>2>>>0]=HA.getDay(),pA[mA+28>>>2>>>0]=(jA(HA.getFullYear())?IA:$A)[HA.getMonth()]+HA.getDate()-1|0,pA[mA>>>2>>>0]=HA.getSeconds(),pA[mA+4>>>2>>>0]=HA.getMinutes(),pA[mA+8>>>2>>>0]=HA.getHours(),pA[mA+12>>>2>>>0]=HA.getDate(),pA[mA+16>>>2>>>0]=HA.getMonth(),pA[mA+20>>>2>>>0]=HA.getYear(),mA=HA.getTime(),isNaN(mA)?(pA[t1()>>>2>>>0]=61,mA=-1):mA/=1e3,v0((U0=mA,1<=+Math.abs(U0)?0<U0?+Math.floor(U0/4294967296)>>>0:~~+Math.ceil((U0-+(~~U0>>>0))/4294967296)>>>0:0)),mA>>>0},l:function(){return-52},m:function(){},t:function(mA,HA,WA){function c0(V1){return(V1=V1.toTimeString().match(/\(([A-Za-z ]+)\)$/))?V1[1]:"GMT"}WA>>>=0;var D0=new Date().getFullYear(),W0=new Date(D0,0,1),l1=new Date(D0,6,1);D0=W0.getTimezoneOffset();var P1=l1.getTimezoneOffset();wA[mA>>>0>>>2>>>0]=60*Math.max(D0,P1),pA[HA>>>0>>>2>>>0]=+(D0!=P1),mA=c0(W0),HA=c0(l1),mA=QA(mA),HA=QA(HA),P1<D0?(wA[WA>>>2>>>0]=mA,wA[WA+4>>>2>>>0]=HA):(wA[WA>>>2>>>0]=HA,wA[WA+4>>>2>>>0]=mA)},d:()=>{kA("")},B:function(mA,HA,WA){mA>>>=0,HA>>>=0,WA>>>=0,n0.length=0;for(var c0;c0=hA[HA++>>>0];){var D0=c0!=105;D0&=c0!=112,WA+=D0&&WA%8?4:0,n0.push(c0==112?wA[WA>>>2>>>0]:c0==105?pA[WA>>>2>>>0]:NA[WA>>>3>>>0]),WA+=D0?8:4}return C0[mA].apply(null,n0)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(mA,HA,WA){return HA>>>=0,hA.copyWithin(mA>>>0>>>0,HA>>>0,HA+(WA>>>0)>>>0)},s:function(mA){mA>>>=0;var HA=hA.length;if(4294901760<mA)return!1;for(var WA=1;4>=WA;WA*=2){var c0=HA*(1+.2/WA);c0=Math.min(c0,mA+100663296);var D0=Math;c0=Math.max(mA,c0);e:{D0=(D0.min.call(D0,4294901760,c0+(65536-c0%65536)%65536)-nA.buffer.byteLength+65535)/65536;try{nA.grow(D0),cA();var W0=1;break e}catch{}W0=void 0}if(W0)return!0}return!1},C:function(mA,HA){mA>>>=0,HA>>>=0;var WA=0;return GA().forEach((c0,D0)=>{var W0=HA+WA;for(D0=wA[mA+4*D0>>>2>>>0]=W0,W0=0;W0<c0.length;++W0)lA[D0++>>>0>>>0]=c0.charCodeAt(W0);lA[D0>>>0>>>0]=0,WA+=c0.length+1}),0},D:function(mA,HA){mA>>>=0,HA>>>=0;var WA=GA();wA[mA>>>2>>>0]=WA.length;var c0=0;return WA.forEach(D0=>c0+=D0.length+1),wA[HA>>>2>>>0]=c0,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(mA,HA,WA,c0){HA>>>=0,WA>>>=0,c0>>>=0;for(var D0=0,W0=0;W0<WA;W0++){var l1=wA[HA>>>2>>>0],P1=wA[HA+4>>>2>>>0];HA+=8;for(var V1=0;V1<P1;V1++){var F1=hA[l1+V1>>>0],m1=y0[mA];F1===0||F1===10?((mA===1?Hn:tA)(F0(m1,0)),m1.length=0):m1.push(F1)}D0+=P1}return wA[c0>>>2>>>0]=D0,0},r:$0,c:function(mA,HA,WA,c0){return $0(mA>>>0,HA>>>0,WA>>>0,c0>>>0)}},E0=function(){function mA(WA){return E0=WA.exports,E0=k1(),nA=E0.K,cA(),sA.unshift(E0.L),LA--,LA==0&&RA&&(WA=RA,RA=null,WA()),E0}var HA={a:w0};if(LA++,At.instantiateWasm)try{return At.instantiateWasm(HA,mA)}catch(WA){tA(`Module.instantiateWasm callback failed with error: ${WA}`),Ut(WA)}return S0(HA,function(WA){mA(WA.instance)}).catch(Ut),{}}();At._OrtInit=(mA,HA)=>(At._OrtInit=E0.M)(mA,HA),At._OrtGetLastError=(mA,HA)=>(At._OrtGetLastError=E0.N)(mA,HA),At._OrtCreateSessionOptions=(mA,HA,WA,c0,D0,W0,l1,P1,V1,F1)=>(At._OrtCreateSessionOptions=E0.O)(mA,HA,WA,c0,D0,W0,l1,P1,V1,F1),At._OrtAppendExecutionProvider=(mA,HA)=>(At._OrtAppendExecutionProvider=E0.P)(mA,HA),At._OrtAddFreeDimensionOverride=(mA,HA,WA)=>(At._OrtAddFreeDimensionOverride=E0.Q)(mA,HA,WA),At._OrtAddSessionConfigEntry=(mA,HA,WA)=>(At._OrtAddSessionConfigEntry=E0.R)(mA,HA,WA),At._OrtReleaseSessionOptions=mA=>(At._OrtReleaseSessionOptions=E0.S)(mA),At._OrtCreateSession=(mA,HA,WA)=>(At._OrtCreateSession=E0.T)(mA,HA,WA),At._OrtReleaseSession=mA=>(At._OrtReleaseSession=E0.U)(mA),At._OrtGetInputOutputCount=(mA,HA,WA)=>(At._OrtGetInputOutputCount=E0.V)(mA,HA,WA),At._OrtGetInputName=(mA,HA)=>(At._OrtGetInputName=E0.W)(mA,HA),At._OrtGetOutputName=(mA,HA)=>(At._OrtGetOutputName=E0.X)(mA,HA),At._OrtFree=mA=>(At._OrtFree=E0.Y)(mA),At._OrtCreateTensor=(mA,HA,WA,c0,D0,W0)=>(At._OrtCreateTensor=E0.Z)(mA,HA,WA,c0,D0,W0),At._OrtGetTensorData=(mA,HA,WA,c0,D0)=>(At._OrtGetTensorData=E0._)(mA,HA,WA,c0,D0),At._OrtReleaseTensor=mA=>(At._OrtReleaseTensor=E0.$)(mA),At._OrtCreateRunOptions=(mA,HA,WA,c0)=>(At._OrtCreateRunOptions=E0.aa)(mA,HA,WA,c0),At._OrtAddRunConfigEntry=(mA,HA,WA)=>(At._OrtAddRunConfigEntry=E0.ba)(mA,HA,WA),At._OrtReleaseRunOptions=mA=>(At._OrtReleaseRunOptions=E0.ca)(mA),At._OrtCreateBinding=mA=>(At._OrtCreateBinding=E0.da)(mA),At._OrtBindInput=(mA,HA,WA)=>(At._OrtBindInput=E0.ea)(mA,HA,WA),At._OrtBindOutput=(mA,HA,WA,c0)=>(At._OrtBindOutput=E0.fa)(mA,HA,WA,c0),At._OrtClearBoundOutputs=mA=>(At._OrtClearBoundOutputs=E0.ga)(mA),At._OrtReleaseBinding=mA=>(At._OrtReleaseBinding=E0.ha)(mA),At._OrtRunWithBinding=(mA,HA,WA,c0,D0)=>(At._OrtRunWithBinding=E0.ia)(mA,HA,WA,c0,D0),At._OrtRun=(mA,HA,WA,c0,D0,W0,l1,P1)=>(At._OrtRun=E0.ja)(mA,HA,WA,c0,D0,W0,l1,P1),At._OrtEndProfiling=mA=>(At._OrtEndProfiling=E0.ka)(mA);var t1=()=>(t1=E0.la)(),O1=At._malloc=mA=>(O1=At._malloc=E0.ma)(mA);At._free=mA=>(At._free=E0.na)(mA);var v0=mA=>(v0=E0.pa)(mA),X0=()=>(X0=E0.qa)(),r1=mA=>(r1=E0.ra)(mA),L0=mA=>(L0=E0.sa)(mA);function k1(){var mA=E0;mA=Object.assign({},mA);var HA=c0=>()=>c0()>>>0,WA=c0=>D0=>c0(D0)>>>0;return mA.la=HA(mA.la),mA.ma=WA(mA.ma),mA.qa=HA(mA.qa),mA.sa=WA(mA.sa),mA}At.stackAlloc=L0,At.stackSave=X0,At.stackRestore=r1,At.UTF8ToString=k0,At.stringToUTF8=(mA,HA,WA)=>ZA(mA,hA,HA,WA),At.lengthBytesUTF8=uA;var M1;RA=function mA(){M1||N1(),M1||(RA=mA)};function N1(){if(!(0<LA)){if(At.preRun)for(typeof At.preRun=="function"&&(At.preRun=[At.preRun]);At.preRun.length;){var mA=At.preRun.shift();CA.unshift(mA)}for(;0<CA.length;)CA.shift()(At);if(!(0<LA||M1||(M1=!0,At.calledRun=!0,aA))){for(;0<sA.length;)sA.shift()(At);for(Et(At);0<UA.length;)UA.shift()(At)}}}return N1(),bt.ready}})();typeof o=="object"&&typeof s=="object"?s.exports=j:typeof define=="function"&&define.amd&&define([],()=>j)}),Lp$1=me(()=>{}),Fp$1=me(()=>{}),Cp$1={};Pr$1(Cp$1,{cpus:()=>sg});var sg,$p$1=E$1(()=>{sg=void 0}),Np$1=me((o,s)=>{var j=(()=>{var et=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(et=et||__filename),function(bt={}){function At(){return UA.buffer!=OA.buffer&&qA(),OA}function Et(){return UA.buffer!=OA.buffer&&qA(),KA}function Ut(){return UA.buffer!=OA.buffer&&qA(),yA}function zt(){return UA.buffer!=OA.buffer&&qA(),TA}function It(){return UA.buffer!=OA.buffer&&qA(),r0}var Qt=bt,Pt,Yt;Qt.ready=new Promise((AA,EA)=>{Pt=AA,Yt=EA});var cr=Object.assign({},Qt),_r="./this.program",vr=(AA,EA)=>{throw EA},Yr=typeof window=="object",Kr=typeof importScripts=="function",jr=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Hn=Qt.ENVIRONMENT_IS_PTHREAD||!1,tA="";function nA(AA){return Qt.locateFile?Qt.locateFile(AA,tA):tA+AA}var aA,lA,hA;if(jr){var pA=(ta(),or$1(ea)),wA=(na$1(),or$1(ra$1));tA=Kr?wA.dirname(tA)+"/":__dirname+"/",aA=(EA,MA)=>(EA=uA(EA)?new URL(EA):wA.normalize(EA),pA.readFileSync(EA,MA?void 0:"utf8")),hA=EA=>(EA=aA(EA,!0),EA.buffer||(EA=new Uint8Array(EA)),EA),lA=(EA,MA,zA,I0=!0)=>{EA=uA(EA)?new URL(EA):wA.normalize(EA),pA.readFile(EA,I0?void 0:"utf8",(O0,j0)=>{O0?zA(O0):MA(I0?j0.buffer:j0)})},!Qt.thisProgram&&1<process.argv.length&&(_r=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),vr=(EA,MA)=>{throw process.exitCode=EA,MA},Qt.inspect=()=>"[Emscripten Module object]";let AA;try{AA=Lp$1()}catch(EA){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),EA}global.Worker=AA.Worker}else(Yr||Kr)&&(Kr?tA=self.location.href:typeof document<"u"&&document.currentScript&&(tA=document.currentScript.src),typeof et<"u"&&et&&(tA=et),tA.indexOf("blob:")!==0?tA=tA.substr(0,tA.replace(/[?#].*/,"").lastIndexOf("/")+1):tA="",jr||(aA=AA=>{var EA=new XMLHttpRequest;return EA.open("GET",AA,!1),EA.send(null),EA.responseText},Kr&&(hA=AA=>{var EA=new XMLHttpRequest;return EA.open("GET",AA,!1),EA.responseType="arraybuffer",EA.send(null),new Uint8Array(EA.response)}),lA=(AA,EA,MA)=>{var zA=new XMLHttpRequest;zA.open("GET",AA,!0),zA.responseType="arraybuffer",zA.onload=()=>{zA.status==200||zA.status==0&&zA.response?EA(zA.response):MA()},zA.onerror=MA,zA.send(null)}));jr&&typeof performance>"u"&&(global.performance=Fp$1().performance);var NA=console.log.bind(console),cA=console.error.bind(console);jr&&(NA=(...AA)=>pA.writeSync(1,AA.join(" ")+`
`),cA=(...AA)=>pA.writeSync(2,AA.join(" ")+`
`));var CA=NA,sA=cA;Object.assign(Qt,cr),cr=null,typeof WebAssembly!="object"&&F0("no native wasm support detected");var UA,LA,RA=!1,kA,OA,KA,yA,TA,r0;function qA(){var AA=UA.buffer;Qt.HEAP8=OA=new Int8Array(AA),Qt.HEAP16=new Int16Array(AA),Qt.HEAPU8=KA=new Uint8Array(AA),Qt.HEAPU16=new Uint16Array(AA),Qt.HEAP32=yA=new Int32Array(AA),Qt.HEAPU32=TA=new Uint32Array(AA),Qt.HEAPF32=new Float32Array(AA),Qt.HEAPF64=r0=new Float64Array(AA)}var XA=16777216;if(Hn)UA=Qt.wasmMemory;else if(Qt.wasmMemory)UA=Qt.wasmMemory;else if(UA=new WebAssembly.Memory({initial:XA/65536,maximum:65536,shared:!0}),!(UA.buffer instanceof SharedArrayBuffer))throw sA("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),jr&&sA("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");qA(),XA=UA.buffer.byteLength;var S0=[],U0=[],C0=[],B0=0,Q0=null;function T0(){if(B0--,B0==0&&Q0){var AA=Q0;Q0=null,AA()}}function F0(AA){throw AA="Aborted("+AA+")",sA(AA),RA=!0,kA=1,AA=new WebAssembly.RuntimeError(AA+". Build with -sASSERTIONS for more info."),Yt(AA),AA}var k0=AA=>AA.startsWith("data:application/octet-stream;base64,"),uA=AA=>AA.startsWith("file://"),ZA;ZA="ort-wasm-threaded.wasm",k0(ZA)||(ZA=nA(ZA));function jA(AA){if(hA)return hA(AA);throw"both async and sync fetching of the wasm failed"}function IA(AA){if(Yr||Kr){if(typeof fetch=="function"&&!uA(AA))return fetch(AA,{credentials:"same-origin"}).then(EA=>{if(!EA.ok)throw"failed to load wasm binary file at '"+AA+"'";return EA.arrayBuffer()}).catch(()=>jA(AA));if(lA)return new Promise((EA,MA)=>{lA(AA,zA=>EA(new Uint8Array(zA)),MA)})}return Promise.resolve().then(()=>jA(AA))}function $A(AA,EA,MA){return IA(AA).then(zA=>WebAssembly.instantiate(zA,EA)).then(zA=>zA).then(MA,zA=>{sA(`failed to asynchronously prepare wasm: ${zA}`),F0(zA)})}function QA(AA,EA){var MA=ZA;return typeof WebAssembly.instantiateStreaming!="function"||k0(MA)||uA(MA)||jr||typeof fetch!="function"?$A(MA,AA,EA):fetch(MA,{credentials:"same-origin"}).then(zA=>WebAssembly.instantiateStreaming(zA,AA).then(EA,function(I0){return sA(`wasm streaming compile failed: ${I0}`),sA("falling back to ArrayBuffer instantiation"),$A(MA,AA,EA)}))}var n0,t0={921388:(AA,EA,MA,zA)=>{if(typeof Qt>"u"||!Qt.cb)return 1;if(AA=$0(AA>>>0),AA.startsWith("./")&&(AA=AA.substring(2)),AA=Qt.cb.get(AA),!AA)return 2;if(EA>>>=0,MA>>>=0,zA>>>=0,EA+MA>AA.byteLength)return 3;try{return Et().set(AA.subarray(EA,EA+MA),zA>>>0),0}catch{return 4}}};function GA(AA){this.name="ExitStatus",this.message=`Program terminated with exit(${AA})`,this.status=AA}var A0=AA=>{AA.terminate(),AA.onmessage=()=>{}},y0=AA=>{L0.Pa.length==0&&(X0(),L0.Ya(L0.Pa[0]));var EA=L0.Pa.pop();if(!EA)return 6;L0.Qa.push(EA),L0.Ma[AA.Oa]=EA,EA.Oa=AA.Oa;var MA={cmd:"run",start_routine:AA.kb,arg:AA.hb,pthread_ptr:AA.Oa};return jr&&EA.unref(),EA.postMessage(MA,AA.qb),0},f0=0,P0=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,K0=(AA,EA,MA)=>{EA>>>=0;var zA=EA+MA;for(MA=EA;AA[MA]&&!(MA>=zA);)++MA;if(16<MA-EA&&AA.buffer&&P0)return P0.decode(AA.buffer instanceof SharedArrayBuffer?AA.slice(EA,MA):AA.subarray(EA,MA));for(zA="";EA<MA;){var I0=AA[EA++];if(I0&128){var O0=AA[EA++]&63;if((I0&224)==192)zA+=String.fromCharCode((I0&31)<<6|O0);else{var j0=AA[EA++]&63;I0=(I0&240)==224?(I0&15)<<12|O0<<6|j0:(I0&7)<<18|O0<<12|j0<<6|AA[EA++]&63,65536>I0?zA+=String.fromCharCode(I0):(I0-=65536,zA+=String.fromCharCode(55296|I0>>10,56320|I0&1023))}}else zA+=String.fromCharCode(I0)}return zA},$0=(AA,EA)=>(AA>>>=0)?K0(Et(),AA,EA):"",w0=AA=>{var EA=Hy();return AA=AA(),qy(EA),AA};function E0(AA,EA){var MA=arguments.length-2,zA=arguments;return w0(()=>{for(var I0=_v(8*MA),O0=I0>>>3,j0=0;j0<MA;j0++){var H1=zA[2+j0];It()[O0+j0>>>0]=H1}return ly(AA,MA,I0,EA)})}function t1(AA){var EA;if(Hn)return E0(0,1,AA);kA=AA,0<f0||(L0.lb(),(EA=Qt.onExit)==null||EA.call(Qt,AA),RA=!0),vr(AA,new GA(AA))}var O1=AA=>{if(kA=AA,Hn)throw M1(AA),"unwind";t1(AA)};function v0(){for(var AA=Qt.numThreads;AA--;)X0();S0.unshift(()=>{B0++,r1(()=>T0())})}function X0(){var AA=nA("ort-wasm-threaded.worker.js");AA=new Worker(AA),L0.Pa.push(AA)}function r1(AA){Hn?AA():Promise.all(L0.Pa.map(L0.Ya)).then(AA)}var L0={Pa:[],Qa:[],bb:[],Ma:{},Wa(){Hn?(L0.receiveObjectTransfer=L0.jb,L0.threadInitTLS=L0.ab,L0.setExitStatus=L0.$a):v0()},$a:AA=>kA=AA,tb:["$terminateWorker"],lb:()=>{for(var AA of L0.Qa)A0(AA);for(AA of L0.Pa)A0(AA);L0.Pa=[],L0.Qa=[],L0.Ma=[]},Za:AA=>{var EA=AA.Oa;delete L0.Ma[EA],L0.Pa.push(AA),L0.Qa.splice(L0.Qa.indexOf(AA),1),AA.Oa=0,lv(EA)},jb(){},ab(){L0.bb.forEach(AA=>AA())},Ya:AA=>new Promise(EA=>{AA.onmessage=O0=>{O0=O0.data;var j0=O0.cmd;if(O0.targetThread&&O0.targetThread!=Uy()){var H1=L0.Ma[O0.targetThread];H1?H1.postMessage(O0,O0.transferList):sA(`Internal error! Worker sent a message "${j0}" to target pthread ${O0.targetThread}, but that thread no longer exists!`)}else j0==="checkMailbox"?e0():j0==="spawnThread"?y0(O0):j0==="cleanupThread"?L0.Za(L0.Ma[O0.thread]):j0==="killThread"?(O0=O0.thread,j0=L0.Ma[O0],delete L0.Ma[O0],A0(j0),lv(O0),L0.Qa.splice(L0.Qa.indexOf(j0),1),j0.Oa=0):j0==="cancelThread"?L0.Ma[O0.thread].postMessage({cmd:"cancel"}):j0==="loaded"?(AA.loaded=!0,jr&&!AA.Oa&&AA.unref(),EA(AA)):j0==="alert"?alert(`Thread ${O0.threadId}: ${O0.text}`):O0.target==="setimmediate"?AA.postMessage(O0):j0==="callHandler"?Qt[O0.handler](...O0.args):j0&&sA(`worker sent an unknown command ${j0}`)},AA.onerror=O0=>{throw sA(`worker sent an error! ${O0.filename}:${O0.lineno}: ${O0.message}`),O0},jr&&(AA.on("message",O0=>AA.onmessage({data:O0})),AA.on("error",O0=>AA.onerror(O0)));var MA=[],zA=["onExit"],I0;for(I0 of zA)Qt.hasOwnProperty(I0)&&MA.push(I0);AA.postMessage({cmd:"load",handlers:MA,urlOrBlob:Qt.mainScriptUrlOrBlob||et,wasmMemory:UA,wasmModule:LA})})};Qt.PThread=L0;var k1=AA=>{for(;0<AA.length;)AA.shift()(Qt)};Qt.establishStackSpace=()=>{var AA=Uy(),EA=zt()[AA+52>>>2>>>0];AA=zt()[AA+56>>>2>>>0],Dy(EA,EA-AA),qy(EA)};function M1(AA){if(Hn)return E0(1,0,AA);O1(AA)}var N1=[],mA;Qt.invokeEntryPoint=(AA,EA)=>{var MA=N1[AA];MA||(AA>=N1.length&&(N1.length=AA+1),N1[AA]=MA=mA.get(AA)),AA=MA(EA),0<f0?L0.$a(AA):Py(AA)};function HA(AA){this.Va=AA-24,this.gb=function(EA){zt()[this.Va+4>>>2>>>0]=EA},this.fb=function(EA){zt()[this.Va+8>>>2>>>0]=EA},this.Wa=function(EA,MA){this.eb(),this.gb(EA),this.fb(MA)},this.eb=function(){zt()[this.Va+16>>>2>>>0]=0}}var WA=0;function c0(AA,EA,MA,zA){return Hn?E0(2,1,AA,EA,MA,zA):D0(AA,EA,MA,zA)}function D0(AA,EA,MA,zA){if(AA>>>=0,EA>>>=0,MA>>>=0,zA>>>=0,typeof SharedArrayBuffer>"u")return sA("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var I0=[];return Hn&&I0.length===0?c0(AA,EA,MA,zA):(AA={kb:MA,Oa:AA,hb:zA,qb:I0},Hn?(AA.sb="spawnThread",postMessage(AA,I0),0):y0(AA))}function W0(AA,EA,MA){return Hn?E0(3,1,AA,EA,MA):0}function l1(AA,EA){if(Hn)return E0(4,1,AA,EA)}var P1=AA=>{for(var EA=0,MA=0;MA<AA.length;++MA){var zA=AA.charCodeAt(MA);127>=zA?EA++:2047>=zA?EA+=2:55296<=zA&&57343>=zA?(EA+=4,++MA):EA+=3}return EA},V1=(AA,EA,MA,zA)=>{if(MA>>>=0,!(0<zA))return 0;var I0=MA;zA=MA+zA-1;for(var O0=0;O0<AA.length;++O0){var j0=AA.charCodeAt(O0);if(55296<=j0&&57343>=j0){var H1=AA.charCodeAt(++O0);j0=65536+((j0&1023)<<10)|H1&1023}if(127>=j0){if(MA>=zA)break;EA[MA++>>>0]=j0}else{if(2047>=j0){if(MA+1>=zA)break;EA[MA++>>>0]=192|j0>>6}else{if(65535>=j0){if(MA+2>=zA)break;EA[MA++>>>0]=224|j0>>12}else{if(MA+3>=zA)break;EA[MA++>>>0]=240|j0>>18,EA[MA++>>>0]=128|j0>>12&63}EA[MA++>>>0]=128|j0>>6&63}EA[MA++>>>0]=128|j0&63}}return EA[MA>>>0]=0,MA-I0},F1=(AA,EA,MA)=>V1(AA,Et(),EA,MA);function m1(AA,EA){if(Hn)return E0(5,1,AA,EA)}function M0(AA,EA,MA){if(Hn)return E0(6,1,AA,EA,MA)}function W1(AA,EA,MA){return Hn?E0(7,1,AA,EA,MA):0}function u0(AA,EA){if(Hn)return E0(8,1,AA,EA)}function h1(AA,EA,MA){if(Hn)return E0(9,1,AA,EA,MA)}function E1(AA,EA,MA,zA){if(Hn)return E0(10,1,AA,EA,MA,zA)}function q1(AA,EA,MA,zA){if(Hn)return E0(11,1,AA,EA,MA,zA)}function iy(AA,EA,MA,zA){if(Hn)return E0(12,1,AA,EA,MA,zA)}function Ay(AA){if(Hn)return E0(13,1,AA)}function oy(AA,EA){if(Hn)return E0(14,1,AA,EA)}function sy(AA,EA,MA){if(Hn)return E0(15,1,AA,EA,MA)}function d0(AA){AA>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(Ut(),AA>>>2,AA).value.then(e0),AA+=128,Atomics.store(Ut(),AA>>>2,1))}Qt.__emscripten_thread_mailbox_await=d0;var e0=()=>{var AA=Uy();if(AA&&(d0(AA),AA=Gy,!RA))try{if(AA(),!(0<f0))try{Hn?Py(kA):O1(kA)}catch(EA){EA instanceof GA||EA=="unwind"||vr(1,EA)}}catch(EA){EA instanceof GA||EA=="unwind"||vr(1,EA)}};Qt.checkMailbox=e0;var R0=[],z0=AA=>AA%4===0&&(AA%100!==0||AA%400===0),g1=[0,31,60,91,121,152,182,213,244,274,305,335],oA=[0,31,59,90,120,151,181,212,243,273,304,334];function gA(AA,EA,MA,zA,I0,O0,j0,H1){return Hn?E0(16,1,AA,EA,MA,zA,I0,O0,j0,H1):-52}function xA(AA,EA,MA,zA,I0,O0,j0){if(Hn)return E0(17,1,AA,EA,MA,zA,I0,O0,j0)}var DA=AA=>{var EA=P1(AA)+1,MA=wv(EA);return MA&&F1(AA,MA,EA),MA},o0=[],g0={},N0=()=>{if(!Z0){var AA={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_r||"./this.program"},EA;for(EA in g0)g0[EA]===void 0?delete AA[EA]:AA[EA]=g0[EA];var MA=[];for(EA in AA)MA.push(`${EA}=${AA[EA]}`);Z0=MA}return Z0},Z0;function J0(AA,EA){if(Hn)return E0(18,1,AA,EA);AA>>>=0,EA>>>=0;var MA=0;return N0().forEach((zA,I0)=>{var O0=EA+MA;for(I0=zt()[AA+4*I0>>>2>>>0]=O0,O0=0;O0<zA.length;++O0)At()[I0++>>>0>>>0]=zA.charCodeAt(O0);At()[I0>>>0>>>0]=0,MA+=zA.length+1}),0}function i1(AA,EA){if(Hn)return E0(19,1,AA,EA);AA>>>=0,EA>>>=0;var MA=N0();zt()[AA>>>2>>>0]=MA.length;var zA=0;return MA.forEach(I0=>zA+=I0.length+1),zt()[EA>>>2>>>0]=zA,0}function u1(AA){return Hn?E0(20,1,AA):52}function S1(AA,EA,MA,zA){return Hn?E0(21,1,AA,EA,MA,zA):52}function R1(AA,EA,MA,zA,I0){return Hn?E0(22,1,AA,EA,MA,zA,I0):70}var a0=[null,[],[]];function o1(AA,EA,MA,zA){if(Hn)return E0(23,1,AA,EA,MA,zA);EA>>>=0,MA>>>=0,zA>>>=0;for(var I0=0,O0=0;O0<MA;O0++){var j0=zt()[EA>>>2>>>0],H1=zt()[EA+4>>>2>>>0];EA+=8;for(var hy=0;hy<H1;hy++){var K1=Et()[j0+hy>>>0],ty=a0[AA];K1===0||K1===10?((AA===1?CA:sA)(K0(ty,0)),ty.length=0):ty.push(K1)}I0+=H1}return zt()[zA>>>2>>>0]=I0,0}var b1=[31,29,31,30,31,30,31,31,30,31,30,31],cy=[31,28,31,30,31,30,31,31,30,31,30,31];function Wy(AA){var EA=Array(P1(AA)+1);return V1(AA,EA,0,EA.length),EA}var $v=(AA,EA)=>{At().set(AA,EA>>>0)};function Ky(AA,EA,MA,zA){function I0(p0,U1,e1){for(p0=typeof p0=="number"?p0.toString():p0||"";p0.length<U1;)p0=e1[0]+p0;return p0}function O0(p0,U1){return I0(p0,U1,"0")}function j0(p0,U1){function e1(Av){return 0>Av?-1:0<Av?1:0}var w1;return(w1=e1(p0.getFullYear()-U1.getFullYear()))===0&&(w1=e1(p0.getMonth()-U1.getMonth()))===0&&(w1=e1(p0.getDate()-U1.getDate())),w1}function H1(p0){switch(p0.getDay()){case 0:return new Date(p0.getFullYear()-1,11,29);case 1:return p0;case 2:return new Date(p0.getFullYear(),0,3);case 3:return new Date(p0.getFullYear(),0,2);case 4:return new Date(p0.getFullYear(),0,1);case 5:return new Date(p0.getFullYear()-1,11,31);case 6:return new Date(p0.getFullYear()-1,11,30)}}function hy(p0){var U1=p0.Ra;for(p0=new Date(new Date(p0.Sa+1900,0,1).getTime());0<U1;){var e1=p0.getMonth(),w1=(z0(p0.getFullYear())?b1:cy)[e1];if(U1>w1-p0.getDate())U1-=w1-p0.getDate()+1,p0.setDate(1),11>e1?p0.setMonth(e1+1):(p0.setMonth(0),p0.setFullYear(p0.getFullYear()+1));else{p0.setDate(p0.getDate()+U1);break}}return e1=new Date(p0.getFullYear()+1,0,4),U1=H1(new Date(p0.getFullYear(),0,4)),e1=H1(e1),0>=j0(U1,p0)?0>=j0(e1,p0)?p0.getFullYear()+1:p0.getFullYear():p0.getFullYear()-1}AA>>>=0,EA>>>=0,MA>>>=0,zA>>>=0;var K1=zt()[zA+40>>>2>>>0];zA={ob:Ut()[zA>>>2>>>0],nb:Ut()[zA+4>>>2>>>0],Ta:Ut()[zA+8>>>2>>>0],Xa:Ut()[zA+12>>>2>>>0],Ua:Ut()[zA+16>>>2>>>0],Sa:Ut()[zA+20>>>2>>>0],Na:Ut()[zA+24>>>2>>>0],Ra:Ut()[zA+28>>>2>>>0],ub:Ut()[zA+32>>>2>>>0],mb:Ut()[zA+36>>>2>>>0],pb:K1?$0(K1):""},MA=$0(MA),K1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ty in K1)MA=MA.replace(new RegExp(ty,"g"),K1[ty]);var uv="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ev="January February March April May June July August September October November December".split(" ");K1={"%a":p0=>uv[p0.Na].substring(0,3),"%A":p0=>uv[p0.Na],"%b":p0=>Ev[p0.Ua].substring(0,3),"%B":p0=>Ev[p0.Ua],"%C":p0=>O0((p0.Sa+1900)/100|0,2),"%d":p0=>O0(p0.Xa,2),"%e":p0=>I0(p0.Xa,2," "),"%g":p0=>hy(p0).toString().substring(2),"%G":p0=>hy(p0),"%H":p0=>O0(p0.Ta,2),"%I":p0=>(p0=p0.Ta,p0==0?p0=12:12<p0&&(p0-=12),O0(p0,2)),"%j":p0=>{for(var U1=0,e1=0;e1<=p0.Ua-1;U1+=(z0(p0.Sa+1900)?b1:cy)[e1++]);return O0(p0.Xa+U1,3)},"%m":p0=>O0(p0.Ua+1,2),"%M":p0=>O0(p0.nb,2),"%n":()=>`
`,"%p":p0=>0<=p0.Ta&&12>p0.Ta?"AM":"PM","%S":p0=>O0(p0.ob,2),"%t":()=>"	","%u":p0=>p0.Na||7,"%U":p0=>O0(Math.floor((p0.Ra+7-p0.Na)/7),2),"%V":p0=>{var U1=Math.floor((p0.Ra+7-(p0.Na+6)%7)/7);if(2>=(p0.Na+371-p0.Ra-2)%7&&U1++,U1)U1==53&&(e1=(p0.Na+371-p0.Ra)%7,e1==4||e1==3&&z0(p0.Sa)||(U1=1));else{U1=52;var e1=(p0.Na+7-p0.Ra-1)%7;(e1==4||e1==5&&z0(p0.Sa%400-1))&&U1++}return O0(U1,2)},"%w":p0=>p0.Na,"%W":p0=>O0(Math.floor((p0.Ra+7-(p0.Na+6)%7)/7),2),"%y":p0=>(p0.Sa+1900).toString().substring(2),"%Y":p0=>p0.Sa+1900,"%z":p0=>{p0=p0.mb;var U1=0<=p0;return p0=Math.abs(p0)/60,(U1?"+":"-")+("0000"+(p0/60*100+p0%60)).slice(-4)},"%Z":p0=>p0.pb,"%%":()=>"%"},MA=MA.replace(/%%/g,"\0\0");for(ty in K1)MA.includes(ty)&&(MA=MA.replace(new RegExp(ty,"g"),K1[ty](zA)));return MA=MA.replace(/\0\0/g,"%"),ty=Wy(MA),ty.length>EA?0:($v(ty,AA),ty.length-1)}L0.Wa();var Uv=[t1,M1,c0,W0,l1,m1,M0,W1,u0,h1,E1,q1,iy,Ay,oy,sy,gA,xA,J0,i1,u1,S1,R1,o1],Pv={b:function(AA,EA,MA){throw AA>>>=0,new HA(AA).Wa(EA>>>0,MA>>>0),WA=AA,WA},L:function(AA){vy(AA>>>0,!Kr,1,!Yr,131072,!1),L0.ab()},j:function(AA){AA>>>=0,Hn?postMessage({cmd:"cleanupThread",thread:AA}):L0.Za(L0.Ma[AA])},H:D0,h:W0,S:l1,D:m1,F:M0,T:W1,Q:u0,J:h1,P:E1,n:q1,E:iy,B:Ay,R:oy,C:sy,p:()=>1,z:function(AA,EA){AA>>>=0,AA==EA>>>0?setTimeout(()=>e0()):Hn?postMessage({targetThread:AA,cmd:"checkMailbox"}):(AA=L0.Ma[AA])&&AA.postMessage({cmd:"checkMailbox"})},I:function(AA,EA,MA,zA){EA>>>=0,R0.length=MA,zA=zA>>>0>>>3;for(var I0=0;I0<MA;I0++)R0[I0]=It()[zA+I0>>>0];return AA=0>AA?t0[-AA-1]:Uv[AA],L0.ib=EA,EA=AA.apply(null,R0),L0.ib=0,EA},K:d0,o:function(AA){jr&&L0.Ma[AA>>>0].ref()},s:function(AA,EA,MA){AA=EA+2097152>>>0<4194305-!!AA?(AA>>>0)+4294967296*EA:NaN,MA>>>=0,AA=new Date(1e3*AA),Ut()[MA>>>2>>>0]=AA.getUTCSeconds(),Ut()[MA+4>>>2>>>0]=AA.getUTCMinutes(),Ut()[MA+8>>>2>>>0]=AA.getUTCHours(),Ut()[MA+12>>>2>>>0]=AA.getUTCDate(),Ut()[MA+16>>>2>>>0]=AA.getUTCMonth(),Ut()[MA+20>>>2>>>0]=AA.getUTCFullYear()-1900,Ut()[MA+24>>>2>>>0]=AA.getUTCDay(),AA=(AA.getTime()-Date.UTC(AA.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,Ut()[MA+28>>>2>>>0]=AA},t:function(AA,EA,MA){AA=EA+2097152>>>0<4194305-!!AA?(AA>>>0)+4294967296*EA:NaN,MA>>>=0,AA=new Date(1e3*AA),Ut()[MA>>>2>>>0]=AA.getSeconds(),Ut()[MA+4>>>2>>>0]=AA.getMinutes(),Ut()[MA+8>>>2>>>0]=AA.getHours(),Ut()[MA+12>>>2>>>0]=AA.getDate(),Ut()[MA+16>>>2>>>0]=AA.getMonth(),Ut()[MA+20>>>2>>>0]=AA.getFullYear()-1900,Ut()[MA+24>>>2>>>0]=AA.getDay(),EA=(z0(AA.getFullYear())?g1:oA)[AA.getMonth()]+AA.getDate()-1|0,Ut()[MA+28>>>2>>>0]=EA,Ut()[MA+36>>>2>>>0]=-(60*AA.getTimezoneOffset()),EA=new Date(AA.getFullYear(),6,1).getTimezoneOffset();var zA=new Date(AA.getFullYear(),0,1).getTimezoneOffset();AA=(EA!=zA&&AA.getTimezoneOffset()==Math.min(zA,EA))|0,Ut()[MA+32>>>2>>>0]=AA},u:function(AA){AA>>>=0;var EA=new Date(Ut()[AA+20>>>2>>>0]+1900,Ut()[AA+16>>>2>>>0],Ut()[AA+12>>>2>>>0],Ut()[AA+8>>>2>>>0],Ut()[AA+4>>>2>>>0],Ut()[AA>>>2>>>0],0),MA=Ut()[AA+32>>>2>>>0],zA=EA.getTimezoneOffset(),I0=new Date(EA.getFullYear(),6,1).getTimezoneOffset(),O0=new Date(EA.getFullYear(),0,1).getTimezoneOffset(),j0=Math.min(O0,I0);return 0>MA?Ut()[AA+32>>>2>>>0]=+(I0!=O0&&j0==zA):0<MA!=(j0==zA)&&(I0=Math.max(O0,I0),EA.setTime(EA.getTime()+6e4*((0<MA?j0:I0)-zA))),Ut()[AA+24>>>2>>>0]=EA.getDay(),MA=(z0(EA.getFullYear())?g1:oA)[EA.getMonth()]+EA.getDate()-1|0,Ut()[AA+28>>>2>>>0]=MA,Ut()[AA>>>2>>>0]=EA.getSeconds(),Ut()[AA+4>>>2>>>0]=EA.getMinutes(),Ut()[AA+8>>>2>>>0]=EA.getHours(),Ut()[AA+12>>>2>>>0]=EA.getDate(),Ut()[AA+16>>>2>>>0]=EA.getMonth(),Ut()[AA+20>>>2>>>0]=EA.getYear(),AA=EA.getTime(),isNaN(AA)?(Ut()[sv()>>>2>>>0]=61,AA=-1):AA/=1e3,Zy((n0=AA,1<=+Math.abs(n0)?0<n0?+Math.floor(n0/4294967296)>>>0:~~+Math.ceil((n0-+(~~n0>>>0))/4294967296)>>>0:0)),AA>>>0},q:gA,r:xA,y:function(AA,EA,MA){function zA(K1){return(K1=K1.toTimeString().match(/\(([A-Za-z ]+)\)$/))?K1[1]:"GMT"}AA>>>=0,EA>>>=0,MA>>>=0;var I0=new Date().getFullYear(),O0=new Date(I0,0,1),j0=new Date(I0,6,1);I0=O0.getTimezoneOffset();var H1=j0.getTimezoneOffset(),hy=Math.max(I0,H1);zt()[AA>>>2>>>0]=60*hy,Ut()[EA>>>2>>>0]=+(I0!=H1),AA=zA(O0),EA=zA(j0),AA=DA(AA),EA=DA(EA),H1<I0?(zt()[MA>>>2>>>0]=AA,zt()[MA+4>>>2>>>0]=EA):(zt()[MA>>>2>>>0]=EA,zt()[MA+4>>>2>>>0]=AA)},c:()=>{F0("")},O:function(AA,EA,MA){AA>>>=0,EA>>>=0,MA>>>=0,o0.length=0;for(var zA;zA=Et()[EA++>>>0];){var I0=zA!=105;I0&=zA!=112,MA+=I0&&MA%8?4:0,o0.push(zA==112?zt()[MA>>>2>>>0]:zA==105?Ut()[MA>>>2>>>0]:It()[MA>>>3>>>0]),MA+=I0?8:4}return t0[AA].apply(null,o0)},k:()=>{},i:()=>Date.now(),U:()=>{throw f0+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>jr?($p$1(),or$1(Cp$1)).cpus().length:navigator.hardwareConcurrency,x:function(AA){AA>>>=0;var EA=Et().length;if(AA<=EA||4294901760<AA)return!1;for(var MA=1;4>=MA;MA*=2){var zA=EA*(1+.2/MA);zA=Math.min(zA,AA+100663296);var I0=Math;zA=Math.max(AA,zA);e:{I0=(I0.min.call(I0,4294901760,zA+(65536-zA%65536)%65536)-UA.buffer.byteLength+65535)/65536;try{UA.grow(I0),qA();var O0=1;break e}catch{}O0=void 0}if(O0)return!0}return!1},M:J0,N:i1,G:O1,g:u1,m:S1,v:R1,l:o1,a:UA||Qt.wasmMemory,w:Ky,d:function(AA,EA,MA,zA){return Ky(AA>>>0,EA>>>0,MA>>>0,zA>>>0)}},Y0=function(){function AA(MA,zA){return Y0=MA.exports,Y0=Dv(),L0.bb.push(Y0.za),mA=Y0.Aa,U0.unshift(Y0.V),LA=zA,T0(),Y0}var EA={a:Pv};if(B0++,Qt.instantiateWasm)try{return Qt.instantiateWasm(EA,AA)}catch(MA){sA(`Module.instantiateWasm callback failed with error: ${MA}`),Yt(MA)}return QA(EA,function(MA){AA(MA.instance,MA.module)}).catch(Yt),{}}();Qt._OrtInit=(AA,EA)=>(Qt._OrtInit=Y0.W)(AA,EA),Qt._OrtGetLastError=(AA,EA)=>(Qt._OrtGetLastError=Y0.X)(AA,EA),Qt._OrtCreateSessionOptions=(AA,EA,MA,zA,I0,O0,j0,H1,hy,K1)=>(Qt._OrtCreateSessionOptions=Y0.Y)(AA,EA,MA,zA,I0,O0,j0,H1,hy,K1),Qt._OrtAppendExecutionProvider=(AA,EA)=>(Qt._OrtAppendExecutionProvider=Y0.Z)(AA,EA),Qt._OrtAddFreeDimensionOverride=(AA,EA,MA)=>(Qt._OrtAddFreeDimensionOverride=Y0._)(AA,EA,MA),Qt._OrtAddSessionConfigEntry=(AA,EA,MA)=>(Qt._OrtAddSessionConfigEntry=Y0.$)(AA,EA,MA),Qt._OrtReleaseSessionOptions=AA=>(Qt._OrtReleaseSessionOptions=Y0.aa)(AA),Qt._OrtCreateSession=(AA,EA,MA)=>(Qt._OrtCreateSession=Y0.ba)(AA,EA,MA),Qt._OrtReleaseSession=AA=>(Qt._OrtReleaseSession=Y0.ca)(AA),Qt._OrtGetInputOutputCount=(AA,EA,MA)=>(Qt._OrtGetInputOutputCount=Y0.da)(AA,EA,MA),Qt._OrtGetInputName=(AA,EA)=>(Qt._OrtGetInputName=Y0.ea)(AA,EA),Qt._OrtGetOutputName=(AA,EA)=>(Qt._OrtGetOutputName=Y0.fa)(AA,EA),Qt._OrtFree=AA=>(Qt._OrtFree=Y0.ga)(AA),Qt._OrtCreateTensor=(AA,EA,MA,zA,I0,O0)=>(Qt._OrtCreateTensor=Y0.ha)(AA,EA,MA,zA,I0,O0),Qt._OrtGetTensorData=(AA,EA,MA,zA,I0)=>(Qt._OrtGetTensorData=Y0.ia)(AA,EA,MA,zA,I0),Qt._OrtReleaseTensor=AA=>(Qt._OrtReleaseTensor=Y0.ja)(AA),Qt._OrtCreateRunOptions=(AA,EA,MA,zA)=>(Qt._OrtCreateRunOptions=Y0.ka)(AA,EA,MA,zA),Qt._OrtAddRunConfigEntry=(AA,EA,MA)=>(Qt._OrtAddRunConfigEntry=Y0.la)(AA,EA,MA),Qt._OrtReleaseRunOptions=AA=>(Qt._OrtReleaseRunOptions=Y0.ma)(AA),Qt._OrtCreateBinding=AA=>(Qt._OrtCreateBinding=Y0.na)(AA),Qt._OrtBindInput=(AA,EA,MA)=>(Qt._OrtBindInput=Y0.oa)(AA,EA,MA),Qt._OrtBindOutput=(AA,EA,MA,zA)=>(Qt._OrtBindOutput=Y0.pa)(AA,EA,MA,zA),Qt._OrtClearBoundOutputs=AA=>(Qt._OrtClearBoundOutputs=Y0.qa)(AA),Qt._OrtReleaseBinding=AA=>(Qt._OrtReleaseBinding=Y0.ra)(AA),Qt._OrtRunWithBinding=(AA,EA,MA,zA,I0)=>(Qt._OrtRunWithBinding=Y0.sa)(AA,EA,MA,zA,I0),Qt._OrtRun=(AA,EA,MA,zA,I0,O0,j0,H1)=>(Qt._OrtRun=Y0.ta)(AA,EA,MA,zA,I0,O0,j0,H1),Qt._OrtEndProfiling=AA=>(Qt._OrtEndProfiling=Y0.ua)(AA);var sv=()=>(sv=Y0.va)(),Uy=Qt._pthread_self=()=>(Uy=Qt._pthread_self=Y0.wa)(),wv=Qt._malloc=AA=>(wv=Qt._malloc=Y0.xa)(AA);Qt._free=AA=>(Qt._free=Y0.ya)(AA),Qt.__emscripten_tls_init=()=>(Qt.__emscripten_tls_init=Y0.za)();var vy=Qt.__emscripten_thread_init=(AA,EA,MA,zA,I0,O0)=>(vy=Qt.__emscripten_thread_init=Y0.Ba)(AA,EA,MA,zA,I0,O0);Qt.__emscripten_thread_crashed=()=>(Qt.__emscripten_thread_crashed=Y0.Ca)();var ly=(AA,EA,MA,zA)=>(ly=Y0.Da)(AA,EA,MA,zA),lv=AA=>(lv=Y0.Ea)(AA),Py=Qt.__emscripten_thread_exit=AA=>(Py=Qt.__emscripten_thread_exit=Y0.Fa)(AA),Gy=()=>(Gy=Y0.Ga)(),Zy=AA=>(Zy=Y0.Ha)(AA),Dy=(AA,EA)=>(Dy=Y0.Ia)(AA,EA),Hy=()=>(Hy=Y0.Ja)(),qy=AA=>(qy=Y0.Ka)(AA),_v=AA=>(_v=Y0.La)(AA);function Dv(){var AA=Y0;AA=Object.assign({},AA);var EA=zA=>()=>zA()>>>0,MA=zA=>I0=>zA(I0)>>>0;return AA.va=EA(AA.va),AA.wa=EA(AA.wa),AA.xa=MA(AA.xa),AA.emscripten_main_runtime_thread_id=EA(AA.emscripten_main_runtime_thread_id),AA.Ja=EA(AA.Ja),AA.La=MA(AA.La),AA}Qt.wasmMemory=UA,Qt.stackAlloc=_v,Qt.stackSave=Hy,Qt.stackRestore=qy,Qt.keepRuntimeAlive=()=>0<f0,Qt.UTF8ToString=$0,Qt.stringToUTF8=F1,Qt.lengthBytesUTF8=P1,Qt.ExitStatus=GA,Qt.PThread=L0;var Xy;Q0=function AA(){Xy||xv(),Xy||(Q0=AA)};function xv(){if(!(0<B0))if(Hn)Pt(Qt),Hn||k1(U0),startWorker(Qt);else{if(Qt.preRun)for(typeof Qt.preRun=="function"&&(Qt.preRun=[Qt.preRun]);Qt.preRun.length;)S0.unshift(Qt.preRun.shift());k1(S0),0<B0||Xy||(Xy=!0,Qt.calledRun=!0,RA||(Hn||k1(U0),Pt(Qt),Hn||k1(C0)))}}return xv(),bt.ready}})();typeof o=="object"&&typeof s=="object"?s.exports=j:typeof define=="function"&&define.amd&&define([],()=>j)}),Rp$1=me((o,s)=>{s.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'}),Gp$1,lg,aa$1,sa$1,Po$1,Mp$1,fg,cg,pg,Up$1,Le,Vr=E$1(()=>{Gp$1=Dp$1(),lg=Np$1(),sa$1=!1,Po$1=!1,Mp$1=!1,fg=o=>{if(o===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+o+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+o+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},cg=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},pg=(o,s)=>o?s?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":s?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Up$1=async o=>{if(sa$1)return Promise.resolve();if(Po$1)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Mp$1)throw new Error("previous call to 'initializeWebAssembly()' failed.");Po$1=!0;let s=o.initTimeout,j=o.numThreads,et=o.simd,bt=fg(j),At=et&&cg(),Et=o.wasmPaths,Ut=typeof Et=="string"?Et:void 0,zt=pg(At,bt),It=typeof Et=="object"?Et[zt]:void 0,Qt=!1,Pt=[];if(s>0&&Pt.push(new Promise(Yt=>{setTimeout(()=>{Qt=!0,Yt()},s)})),Pt.push(new Promise((Yt,cr)=>{let _r=bt?lg:Gp$1,vr={locateFile:(Yr,Kr)=>bt&&Yr.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Rp$1()],{type:"text/javascript"})):Yr.endsWith(".wasm")?It||(Ut??Kr)+zt:Kr+Yr};if(bt)if(vr.numThreads=j,typeof Blob>"u")vr.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let Yr=`var ortWasmThreaded=${_r.toString()};`;vr.mainScriptUrlOrBlob=new Blob([Yr],{type:"text/javascript"})}_r(vr).then(Yr=>{Po$1=!1,sa$1=!0,aa$1=Yr,Yt()},Yr=>{Po$1=!1,Mp$1=!0,cr(Yr)})})),await Promise.race(Pt),Qt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${s}ms`)},Le=()=>{if(sa$1&&aa$1)return aa$1;throw new Error("WebAssembly is not initialized yet.")}}),_e$1,yn$1,Oe$1,Eo$1=E$1(()=>{Vr(),_e$1=(o,s)=>{let j=Le(),et=j.lengthBytesUTF8(o)+1,bt=j._malloc(et);return j.stringToUTF8(o,bt,et),s.push(bt),bt},yn$1=(o,s,j,et)=>{if(typeof o=="object"&&o!==null){if(j.has(o))throw new Error("Circular reference in options");j.add(o)}Object.entries(o).forEach(([bt,At])=>{let Et=s?s+bt:bt;if(typeof At=="object")yn$1(At,Et+".",j,et);else if(typeof At=="string"||typeof At=="number")et(Et,At.toString());else if(typeof At=="boolean")et(Et,At?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof At}`)})},Oe$1=o=>{let s=Le(),j=s.stackSave();try{let et=s.stackAlloc(8);s._OrtGetLastError(et,et+4);let bt=s.HEAP32[et/4],At=s.HEAPU32[et/4+1],Et=At?s.UTF8ToString(At):"";throw new Error(`${o} ERROR_CODE: ${bt}, ERROR_MESSAGE: ${Et}`)}finally{s.stackRestore(j)}}}),zp$1,Vp$1=E$1(()=>{Vr(),Eo$1(),zp$1=o=>{let s=Le(),j=0,et=[],bt=o||{};try{if((o==null?void 0:o.logSeverityLevel)===void 0)bt.logSeverityLevel=2;else if(typeof o.logSeverityLevel!="number"||!Number.isInteger(o.logSeverityLevel)||o.logSeverityLevel<0||o.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${o.logSeverityLevel}`);if((o==null?void 0:o.logVerbosityLevel)===void 0)bt.logVerbosityLevel=0;else if(typeof o.logVerbosityLevel!="number"||!Number.isInteger(o.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${o.logVerbosityLevel}`);(o==null?void 0:o.terminate)===void 0&&(bt.terminate=!1);let At=0;return(o==null?void 0:o.tag)!==void 0&&(At=_e$1(o.tag,et)),j=s._OrtCreateRunOptions(bt.logSeverityLevel,bt.logVerbosityLevel,!!bt.terminate,At),j===0&&Oe$1("Can't create run options."),(o==null?void 0:o.extra)!==void 0&&yn$1(o.extra,"",new WeakSet,(Et,Ut)=>{let zt=_e$1(Et,et),It=_e$1(Ut,et);s._OrtAddRunConfigEntry(j,zt,It)!==0&&Oe$1(`Can't set a run config entry: ${Et} - ${Ut}.`)}),[j,et]}catch(At){throw j!==0&&s._OrtReleaseRunOptions(j),et.forEach(Et=>s._free(Et)),At}}}),dg,hg,mg,bg,Wp$1,Hp$1=E$1(()=>{Vr(),Eo$1(),dg=o=>{switch(o){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${o}`)}},hg=o=>{switch(o){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${o}`)}},mg=o=>{o.extra||(o.extra={}),o.extra.session||(o.extra.session={});let s=o.extra.session;s.use_ort_model_bytes_directly||(s.use_ort_model_bytes_directly="1"),o.executionProviders&&o.executionProviders.some(j=>(typeof j=="string"?j:j.name)==="webgpu")&&(o.enableMemPattern=!1)},bg=(o,s,j)=>{for(let et of s){let bt=typeof et=="string"?et:et.name;switch(bt){case"webnn":if(bt="WEBNN",typeof et!="string"){let Et=et;if(Et!=null&&Et.deviceType){let Ut=_e$1("deviceType",j),zt=_e$1(Et.deviceType,j);Le()._OrtAddSessionConfigEntry(o,Ut,zt)!==0&&Oe$1(`Can't set a session config entry: 'deviceType' - ${Et.deviceType}.`)}if(Et!=null&&Et.numThreads){let Ut=Et.numThreads;(typeof Ut!="number"||!Number.isInteger(Ut)||Ut<0)&&(Ut=0);let zt=_e$1("numThreads",j),It=_e$1(Ut.toString(),j);Le()._OrtAddSessionConfigEntry(o,zt,It)!==0&&Oe$1(`Can't set a session config entry: 'numThreads' - ${Et.numThreads}.`)}if(Et!=null&&Et.powerPreference){let Ut=_e$1("powerPreference",j),zt=_e$1(Et.powerPreference,j);Le()._OrtAddSessionConfigEntry(o,Ut,zt)!==0&&Oe$1(`Can't set a session config entry: 'powerPreference' - ${Et.powerPreference}.`)}}break;case"webgpu":if(bt="JS",typeof et!="string"){let Et=et;if(Et!=null&&Et.preferredLayout){if(Et.preferredLayout!=="NCHW"&&Et.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${Et.preferredLayout}`);let Ut=_e$1("preferredLayout",j),zt=_e$1(Et.preferredLayout,j);Le()._OrtAddSessionConfigEntry(o,Ut,zt)!==0&&Oe$1(`Can't set a session config entry: 'preferredLayout' - ${Et.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${bt}`)}let At=_e$1(bt,j);Le()._OrtAppendExecutionProvider(o,At)!==0&&Oe$1(`Can't append execution provider: ${bt}.`)}},Wp$1=o=>{let s=Le(),j=0,et=[],bt=o||{};mg(bt);try{let At=dg(bt.graphOptimizationLevel??"all"),Et=hg(bt.executionMode??"sequential"),Ut=typeof bt.logId=="string"?_e$1(bt.logId,et):0,zt=bt.logSeverityLevel??2;if(!Number.isInteger(zt)||zt<0||zt>4)throw new Error(`log serverity level is not valid: ${zt}`);let It=bt.logVerbosityLevel??0;if(!Number.isInteger(It)||It<0||It>4)throw new Error(`log verbosity level is not valid: ${It}`);let Qt=typeof bt.optimizedModelFilePath=="string"?_e$1(bt.optimizedModelFilePath,et):0;if(j=s._OrtCreateSessionOptions(At,!!bt.enableCpuMemArena,!!bt.enableMemPattern,Et,!!bt.enableProfiling,0,Ut,zt,It,Qt),j===0&&Oe$1("Can't create session options."),bt.executionProviders&&bg(j,bt.executionProviders,et),bt.enableGraphCapture!==void 0){if(typeof bt.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${bt.enableGraphCapture}`);let Pt=_e$1("enableGraphCapture",et),Yt=_e$1(bt.enableGraphCapture.toString(),et);s._OrtAddSessionConfigEntry(j,Pt,Yt)!==0&&Oe$1(`Can't set a session config entry: 'enableGraphCapture' - ${bt.enableGraphCapture}.`)}if(bt.freeDimensionOverrides)for(let[Pt,Yt]of Object.entries(bt.freeDimensionOverrides)){if(typeof Pt!="string")throw new Error(`free dimension override name must be a string: ${Pt}`);if(typeof Yt!="number"||!Number.isInteger(Yt)||Yt<0)throw new Error(`free dimension override value must be a non-negative integer: ${Yt}`);let cr=_e$1(Pt,et);s._OrtAddFreeDimensionOverride(j,cr,Yt)!==0&&Oe$1(`Can't set a free dimension override: ${Pt} - ${Yt}.`)}return bt.extra!==void 0&&yn$1(bt.extra,"",new WeakSet,(Pt,Yt)=>{let cr=_e$1(Pt,et),_r=_e$1(Yt,et);s._OrtAddSessionConfigEntry(j,cr,_r)!==0&&Oe$1(`Can't set a session config entry: ${Pt} - ${Yt}.`)}),[j,et]}catch(At){throw j!==0&&s._OrtReleaseSessionOptions(j),et.forEach(Et=>s._free(Et)),At}}}),ua$1,qp$1,la$1,jp$1,Yp$1,Do$1,Xp$1,fa$1=E$1(()=>{ua$1=o=>{switch(o){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${o}`)}},qp$1=o=>{switch(o){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${o}`)}},la$1=o=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][o],jp$1=o=>{switch(o){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${o}`)}},Yp$1=o=>{switch(o){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${o}`)}},Do$1=o=>o==="float32"||o==="float16"||o==="int32"||o==="int64"||o==="uint32"||o==="uint8"||o==="bool",Xp$1=o=>{switch(o){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${o}`)}}}),Tn$1,ca$1=E$1(()=>{Tn$1=async o=>{if(typeof o=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(o))}catch(s){if(s.code==="ERR_FS_FILE_TOO_LARGE"){let j=(void 0)(o),et=[];for await(let bt of j)et.push(bt);return new Uint8Array(Buffer.concat(et))}throw s}else{let s=await fetch(o);if(!s.ok)throw new Error(`failed to load external data file: ${o}`);let j=s.headers.get("Content-Length"),et=j?parseInt(j,10):0;if(et<1073741824)return new Uint8Array(await s.arrayBuffer());{if(!s.body)throw new Error(`failed to load external data file: ${o}, no response body.`);let bt=s.body.getReader(),At;try{At=new ArrayBuffer(et)}catch(Ut){if(Ut instanceof RangeError){let zt=Math.ceil(et/65536);At=new WebAssembly.Memory({initial:zt,maximum:zt}).buffer}else throw Ut}let Et=0;for(;;){let{done:Ut,value:zt}=await bt.read();if(Ut)break;let It=zt.byteLength;new Uint8Array(At,Et,It).set(zt),Et+=It}return new Uint8Array(At,0,et)}}else return o instanceof Blob?new Uint8Array(await o.arrayBuffer()):o instanceof Uint8Array?o:new Uint8Array(o)}}),gg,Jp$1,Zp$1,Wr,yg,pa$1,Qp$1,ed,Kp$1,td,rd,nd,od=E$1(()=>{Vp$1(),Hp$1(),fa$1(),Vr(),Eo$1(),ca$1(),gg=(o,s)=>{Le()._OrtInit(o,s)!==0&&Oe$1("Can't initialize onnxruntime.")},Jp$1=async o=>{gg(o.wasm.numThreads,Yp$1(o.logLevel))},Zp$1=async(o,s)=>{},Wr=new Map,yg=o=>{let s=Le(),j=s.stackSave();try{let et=s.stackAlloc(8);return s._OrtGetInputOutputCount(o,et,et+4)!==0&&Oe$1("Can't get session input/output count."),[s.HEAP32[et/4],s.HEAP32[et/4+1]]}finally{s.stackRestore(j)}},pa$1=o=>{let s=Le(),j=s._malloc(o.byteLength);if(j===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${o.byteLength}.`);return s.HEAPU8.set(o,j),[j,o.byteLength]},Qp$1=async(o,s)=>{var Qt;let j,et,bt=Le();Array.isArray(o)?[j,et]=o:o.buffer===bt.HEAPU8.buffer?[j,et]=[o.byteOffset,o.byteLength]:[j,et]=pa$1(o);let At=0,Et=0,Ut=[],zt=[],It=[];try{if([Et,Ut]=Wp$1(s),(s==null?void 0:s.externalData)&&bt.mountExternalData){let jr=[];for(let Hn of s.externalData){let tA=typeof Hn=="string"?Hn:Hn.path;jr.push(Tn$1(typeof Hn=="string"?Hn:Hn.data).then(nA=>{bt.mountExternalData(tA,nA)}))}await Promise.all(jr)}At=await bt._OrtCreateSession(j,et,Et),At===0&&Oe$1("Can't create a session.");let[Pt,Yt]=yg(At),cr=!!(s!=null&&s.enableGraphCapture),_r=[],vr=[],Yr=[];for(let jr=0;jr<Pt;jr++){let Hn=bt._OrtGetInputName(At,jr);Hn===0&&Oe$1("Can't get an input name."),zt.push(Hn),_r.push(bt.UTF8ToString(Hn))}for(let jr=0;jr<Yt;jr++){let Hn=bt._OrtGetOutputName(At,jr);Hn===0&&Oe$1("Can't get an output name."),It.push(Hn);let tA=bt.UTF8ToString(Hn);vr.push(tA)}return Wr.set(At,[At,zt,It,null,cr,!1]),[At,_r,vr]}catch(Pt){throw zt.forEach(Yt=>bt._OrtFree(Yt)),It.forEach(Yt=>bt._OrtFree(Yt)),At!==0&&bt._OrtReleaseSession(At),Pt}finally{bt._free(j),Et!==0&&bt._OrtReleaseSessionOptions(Et),Ut.forEach(Pt=>bt._free(Pt)),(Qt=bt.unmountExternalData)==null||Qt.call(bt)}},ed=o=>{var zt;let s=Le(),j=Wr.get(o);if(!j)throw new Error(`cannot release session. invalid session id: ${o}`);let[et,bt,At,Et,Ut]=j;Et&&(Ut&&s._OrtClearBoundOutputs(Et.handle),s._OrtReleaseBinding(Et.handle)),(zt=s.jsepOnReleaseSession)==null||zt.call(s,o),bt.forEach(It=>s._OrtFree(It)),At.forEach(It=>s._OrtFree(It)),s._OrtReleaseSession(et),Wr.delete(o)},Kp$1=(o,s,j,et,bt,At=!1)=>{if(!o){s.push(0);return}let Et=Le(),Ut=o[0],zt=o[1],It=o[3],Qt,Pt;if(Ut==="string"&&It==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(At&&It!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${bt} when enableGraphCapture is true.`);if(It==="gpu-buffer"){let _r=o[2].gpuBuffer,vr=la$1(ua$1(Ut));Pt=zt.reduce((Kr,jr)=>Kr*jr,1)*vr;let Yr=Et.jsepRegisterBuffer;if(!Yr)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');Qt=Yr(et,bt,_r,Pt)}else{let _r=o[2];if(Array.isArray(_r)){Pt=4*_r.length,Qt=Et._malloc(Pt),j.push(Qt);let vr=Qt/4;for(let Yr=0;Yr<_r.length;Yr++){if(typeof _r[Yr]!="string")throw new TypeError(`tensor data at index ${Yr} is not a string`);Et.HEAPU32[vr++]=_e$1(_r[Yr],j)}}else Pt=_r.byteLength,Qt=Et._malloc(Pt),j.push(Qt),Et.HEAPU8.set(new Uint8Array(_r.buffer,_r.byteOffset,Pt),Qt)}let Yt=Et.stackSave(),cr=Et.stackAlloc(4*zt.length);try{let _r=cr/4;zt.forEach(Yr=>Et.HEAP32[_r++]=Yr);let vr=Et._OrtCreateTensor(ua$1(Ut),Qt,Pt,cr,zt.length,Xp$1(It));vr===0&&Oe$1(`Can't create tensor for input/output. session=${et}, index=${bt}.`),s.push(vr)}finally{Et.stackRestore(Yt)}},td=async(o,s,j,et,bt,At)=>{var pA;let Et=Le(),Ut=Wr.get(o);if(!Ut)throw new Error(`cannot run inference. invalid session id: ${o}`);let zt=Ut[0],It=Ut[1],Qt=Ut[2],Pt=Ut[3],Yt=Ut[4];Ut[5];let cr=s.length,_r=et.length,vr=0,Yr=[],Kr=[],jr=[],Hn=[],tA=Et.stackSave(),nA=Et.stackAlloc(cr*4),aA=Et.stackAlloc(cr*4),lA=Et.stackAlloc(_r*4),hA=Et.stackAlloc(_r*4);try{[vr,Yr]=zp$1(At);for(let LA=0;LA<cr;LA++)Kp$1(j[LA],Kr,Hn,o,s[LA],Yt);for(let LA=0;LA<_r;LA++)Kp$1(bt[LA],jr,Hn,o,cr+et[LA],Yt);let wA=nA/4,NA=aA/4,cA=lA/4,CA=hA/4;for(let LA=0;LA<cr;LA++)Et.HEAPU32[wA++]=Kr[LA],Et.HEAPU32[NA++]=It[s[LA]];for(let LA=0;LA<_r;LA++)Et.HEAPU32[cA++]=jr[LA],Et.HEAPU32[CA++]=Qt[et[LA]];(pA=Et.jsepOnRunStart)==null||pA.call(Et,zt);let sA;sA=await Et._OrtRun(zt,aA,nA,cr,hA,_r,lA,vr),sA!==0&&Oe$1("failed to call OrtRun().");let UA=[];for(let LA=0;LA<_r;LA++){let RA=Et.HEAPU32[lA/4+LA];if(RA===jr[LA]){UA.push(bt[LA]);continue}let kA=Et.stackSave(),OA=Et.stackAlloc(4*4),KA=!1,yA,TA=0;try{Et._OrtGetTensorData(RA,OA,OA+4,OA+8,OA+12)!==0&&Oe$1(`Can't access output tensor data on index ${LA}.`);let r0=OA/4,qA=Et.HEAPU32[r0++];TA=Et.HEAPU32[r0++];let XA=Et.HEAPU32[r0++],S0=Et.HEAPU32[r0++],U0=[];for(let Q0=0;Q0<S0;Q0++)U0.push(Et.HEAPU32[XA/4+Q0]);Et._OrtFree(XA);let C0=U0.reduce((Q0,T0)=>Q0*T0,1);yA=qp$1(qA);let B0=Pt==null?void 0:Pt.outputPreferredLocations[et[LA]];if(yA==="string"){if(B0==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let Q0=[],T0=TA/4;for(let F0=0;F0<C0;F0++){let k0=Et.HEAPU32[T0++],uA=F0===C0-1?void 0:Et.HEAPU32[T0]-k0;Q0.push(Et.UTF8ToString(k0,uA))}UA.push([yA,U0,Q0,"cpu"])}else if(B0==="gpu-buffer"&&C0>0){let Q0=Et.jsepGetBuffer;if(!Q0)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let T0=Q0(TA),F0=la$1(qA);if(F0===void 0||!Do$1(yA))throw new Error(`Unsupported data type: ${yA}`);KA=!0,UA.push([yA,U0,{gpuBuffer:T0,download:Et.jsepCreateDownloader(T0,C0*F0,yA),dispose:()=>{Et._OrtReleaseTensor(RA)}},"gpu-buffer"])}else{let Q0=jp$1(yA),T0=new Q0(C0);new Uint8Array(T0.buffer,T0.byteOffset,T0.byteLength).set(Et.HEAPU8.subarray(TA,TA+T0.byteLength)),UA.push([yA,U0,T0,"cpu"])}}finally{Et.stackRestore(kA),yA==="string"&&TA&&Et._free(TA),KA||Et._OrtReleaseTensor(RA)}}return Pt&&!Yt&&(Et._OrtClearBoundOutputs(Pt.handle),Wr.set(o,[zt,It,Qt,Pt,Yt,!1])),UA}finally{Et.stackRestore(tA),Kr.forEach(wA=>Et._OrtReleaseTensor(wA)),jr.forEach(wA=>Et._OrtReleaseTensor(wA)),Hn.forEach(wA=>Et._free(wA)),vr!==0&&Et._OrtReleaseRunOptions(vr),Yr.forEach(wA=>Et._free(wA))}},rd=o=>{let s=Le(),j=Wr.get(o);if(!j)throw new Error("invalid session id");let et=j[0],bt=s._OrtEndProfiling(et);bt===0&&Oe$1("Can't get an profile file name."),s._OrtFree(bt)},nd=o=>{let s=[];for(let j of o){let et=j[2];!Array.isArray(et)&&"buffer"in et&&s.push(et.buffer)}return s}}),id=me((o,s)=>{s.exports='/*!\n * ONNX Runtime Web v1.17.3\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Et=Object.defineProperty;var Jr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var Qr=Object.prototype.hasOwnProperty;var St=(u,c)=>()=>(u&&(c=u(u=0)),c);var tt=(u,c)=>()=>(c||u((c={exports:{}}).exports,c),c.exports),At=(u,c)=>{for(var a in c)Et(u,a,{get:c[a],enumerable:!0})},Zr=(u,c,a,h)=>{if(c&&typeof c=="object"||typeof c=="function")for(let f of Xr(c))!Qr.call(u,f)&&f!==a&&Et(u,f,{get:()=>c[f],enumerable:!(h=Jr(c,f))||h.enumerable});return u};var rt=u=>Zr(Et({},"__esModule",{value:!0}),u);var Tt={};At(Tt,{createReadStream:()=>dr,readFile:()=>Kr,readFileSync:()=>en});var Kr,en,dr,Mt=St(()=>{Kr=void 0,en=void 0,dr=void 0});var Ct={};At(Ct,{join:()=>tn});var tn,Dt=St(()=>{tn=void 0});var gr=tt((mr,Ft)=>{"use strict";var pr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(c={}){var a=c,h,f;a.ready=new Promise((r,o)=>{h=r,f=o});var w=Object.assign({},a),g="./this.program",i=typeof window=="object",E=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U="",D,x,K;if(P){var R=(Mt(),rt(Tt)),I=(Dt(),rt(Ct));U=E?I.dirname(U)+"/":__dirname+"/",D=(r,o)=>(r=ve(r)?new URL(r):I.normalize(r),R.readFileSync(r,o?void 0:"utf8")),K=r=>(r=D(r,!0),r.buffer||(r=new Uint8Array(r)),r),x=(r,o,s,m=!0)=>{r=ve(r)?new URL(r):I.normalize(r),R.readFile(r,m?void 0:"utf8",(O,A)=>{O?s(O):o(m?A.buffer:A)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(i||E)&&(E?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),u&&(U=u),U.indexOf("blob:")!==0?U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):U="",D=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.send(null),o.responseText},E&&(K=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),x=(r,o,s)=>{var m=new XMLHttpRequest;m.open("GET",r,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?o(m.response):s()},m.onerror=s,m.send(null)});var v=console.log.bind(console),k=console.error.bind(console);Object.assign(a,w),w=null,typeof WebAssembly!="object"&&F("no native wasm support detected");var W,H=!1,se,ee,S,j,Ce;function Ue(){var r=W.buffer;a.HEAP8=se=new Int8Array(r),a.HEAP16=new Int16Array(r),a.HEAPU8=ee=new Uint8Array(r),a.HEAPU16=new Uint16Array(r),a.HEAP32=S=new Int32Array(r),a.HEAPU32=j=new Uint32Array(r),a.HEAPF32=new Float32Array(r),a.HEAPF64=Ce=new Float64Array(r)}var ce=[],ne=[],Q=[],Oe=0,he=null,ae=null;function F(r){throw r="Aborted("+r+")",k(r),H=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),f(r),r}var ye=r=>r.startsWith("data:application/octet-stream;base64,"),ve=r=>r.startsWith("file://"),fe;if(fe="ort-wasm.wasm",!ye(fe)){var _e=fe;fe=a.locateFile?a.locateFile(_e,U):U+_e}function Y(r){if(K)return K(r);throw"both async and sync fetching of the wasm failed"}function pe(r){if(i||E){if(typeof fetch=="function"&&!ve(r))return fetch(r,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+r+"\'";return o.arrayBuffer()}).catch(()=>Y(r));if(x)return new Promise((o,s)=>{x(r,m=>o(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>Y(r))}function Ie(r,o,s){return pe(r).then(m=>WebAssembly.instantiate(m,o)).then(m=>m).then(s,m=>{k(`failed to asynchronously prepare wasm: ${m}`),F(m)})}function Ee(r,o){var s=fe;return typeof WebAssembly.instantiateStreaming!="function"||ye(s)||ve(s)||P||typeof fetch!="function"?Ie(s,r,o):fetch(s,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,r).then(o,function(O){return k(`wasm streaming compile failed: ${O}`),k("falling back to ArrayBuffer instantiation"),Ie(s,r,o)}))}var be,we={920016:(r,o,s,m)=>{if(typeof a>"u"||!a.za)return 1;if(r=z(r>>>0),r.startsWith("./")&&(r=r.substring(2)),r=a.za.get(r),!r)return 2;if(o>>>=0,s>>>=0,o+s>r.byteLength)return 3;try{return ee.set(r.subarray(o,o+s),m>>>0>>>0),0}catch{return 4}}};function Le(r){this.xa=r-24,this.Ha=function(o){j[this.xa+4>>>2>>>0]=o},this.Ga=function(o){j[this.xa+8>>>2>>>0]=o},this.Aa=function(o,s){this.Fa(),this.Ha(o),this.Ga(s)},this.Fa=function(){j[this.xa+16>>>2>>>0]=0}}var me=0,Se=0,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,te=(r,o,s)=>{o>>>=0;var m=o+s;for(s=o;r[s]&&!(s>=m);)++s;if(16<s-o&&r.buffer&&De)return De.decode(r.subarray(o,s));for(m="";o<s;){var O=r[o++];if(O&128){var A=r[o++]&63;if((O&224)==192)m+=String.fromCharCode((O&31)<<6|A);else{var L=r[o++]&63;O=(O&240)==224?(O&15)<<12|A<<6|L:(O&7)<<18|A<<12|L<<6|r[o++]&63,65536>O?m+=String.fromCharCode(O):(O-=65536,m+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else m+=String.fromCharCode(O)}return m},z=(r,o)=>(r>>>=0)?te(ee,r,o):"",le=r=>{for(var o=0,s=0;s<r.length;++s){var m=r.charCodeAt(s);127>=m?o++:2047>=m?o+=2:55296<=m&&57343>=m?(o+=4,++s):o+=3}return o},Fe=(r,o,s,m)=>{if(s>>>=0,!(0<m))return 0;var O=s;m=s+m-1;for(var A=0;A<r.length;++A){var L=r.charCodeAt(A);if(55296<=L&&57343>=L){var re=r.charCodeAt(++A);L=65536+((L&1023)<<10)|re&1023}if(127>=L){if(s>=m)break;o[s++>>>0]=L}else{if(2047>=L){if(s+1>=m)break;o[s++>>>0]=192|L>>6}else{if(65535>=L){if(s+2>=m)break;o[s++>>>0]=224|L>>12}else{if(s+3>=m)break;o[s++>>>0]=240|L>>18,o[s++>>>0]=128|L>>12&63}o[s++>>>0]=128|L>>6&63}o[s++>>>0]=128|L&63}}return o[s>>>0]=0,s-O},Ae=r=>r%4===0&&(r%100!==0||r%400===0),qe=[0,31,60,91,121,152,182,213,244,274,305,335],at=[0,31,59,90,120,151,181,212,243,273,304,334],xe=r=>{var o=le(r)+1,s=st(o);return s&&Fe(r,ee,s,o),s},Ne=[],Re={},He=()=>{if(!Ge){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in Re)Re[o]===void 0?delete r[o]:r[o]=Re[o];var s=[];for(o in r)s.push(`${o}=${r[o]}`);Ge=s}return Ge},Ge,Be=[null,[],[]],Ve=[31,29,31,30,31,30,31,31,30,31,30,31],Je=[31,28,31,30,31,30,31,31,30,31,30,31];function $e(r){var o=Array(le(r)+1);return Fe(r,o,0,o.length),o}function ot(r,o,s,m){function O(d,B,$){for(d=typeof d=="number"?d.toString():d||"";d.length<B;)d=$[0]+d;return d}function A(d,B){return O(d,B,"0")}function L(d,B){function $(et){return 0>et?-1:0<et?1:0}var Te;return(Te=$(d.getFullYear()-B.getFullYear()))===0&&(Te=$(d.getMonth()-B.getMonth()))===0&&(Te=$(d.getDate()-B.getDate())),Te}function re(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function de(d){var B=d.ta;for(d=new Date(new Date(d.ua+1900,0,1).getTime());0<B;){var $=d.getMonth(),Te=(Ae(d.getFullYear())?Ve:Je)[$];if(B>Te-d.getDate())B-=Te-d.getDate()+1,d.setDate(1),11>$?d.setMonth($+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+B);break}}return $=new Date(d.getFullYear()+1,0,4),B=re(new Date(d.getFullYear(),0,4)),$=re($),0>=L(B,d)?0>=L($,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}r>>>=0,o>>>=0,s>>>=0,m>>>=0;var ie=j[m+40>>>2>>>0];m={Da:S[m>>>2>>>0],Ca:S[m+4>>>2>>>0],va:S[m+8>>>2>>>0],ya:S[m+12>>>2>>>0],wa:S[m+16>>>2>>>0],ua:S[m+20>>>2>>>0],oa:S[m+24>>>2>>>0],ta:S[m+28>>>2>>>0],Ia:S[m+32>>>2>>>0],Ba:S[m+36>>>2>>>0],Ea:ie?z(ie):""},s=z(s),ie={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ue in ie)s=s.replace(new RegExp(ue,"g"),ie[ue]);var Ze="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ke="January February March April May June July August September October November December".split(" ");ie={"%a":d=>Ze[d.oa].substring(0,3),"%A":d=>Ze[d.oa],"%b":d=>Ke[d.wa].substring(0,3),"%B":d=>Ke[d.wa],"%C":d=>A((d.ua+1900)/100|0,2),"%d":d=>A(d.ya,2),"%e":d=>O(d.ya,2," "),"%g":d=>de(d).toString().substring(2),"%G":d=>de(d),"%H":d=>A(d.va,2),"%I":d=>(d=d.va,d==0?d=12:12<d&&(d-=12),A(d,2)),"%j":d=>{for(var B=0,$=0;$<=d.wa-1;B+=(Ae(d.ua+1900)?Ve:Je)[$++]);return A(d.ya+B,3)},"%m":d=>A(d.wa+1,2),"%M":d=>A(d.Ca,2),"%n":()=>`\n`,"%p":d=>0<=d.va&&12>d.va?"AM":"PM","%S":d=>A(d.Da,2),"%t":()=>"	","%u":d=>d.oa||7,"%U":d=>A(Math.floor((d.ta+7-d.oa)/7),2),"%V":d=>{var B=Math.floor((d.ta+7-(d.oa+6)%7)/7);if(2>=(d.oa+371-d.ta-2)%7&&B++,B)B==53&&($=(d.oa+371-d.ta)%7,$==4||$==3&&Ae(d.ua)||(B=1));else{B=52;var $=(d.oa+7-d.ta-1)%7;($==4||$==5&&Ae(d.ua%400-1))&&B++}return A(B,2)},"%w":d=>d.oa,"%W":d=>A(Math.floor((d.ta+7-(d.oa+6)%7)/7),2),"%y":d=>(d.ua+1900).toString().substring(2),"%Y":d=>d.ua+1900,"%z":d=>{d=d.Ba;var B=0<=d;return d=Math.abs(d)/60,(B?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.Ea,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(ue in ie)s.includes(ue)&&(s=s.replace(new RegExp(ue,"g"),ie[ue](m)));return s=s.replace(/\\0\\0/g,"%"),ue=$e(s),ue.length>o?0:(se.set(ue,r>>>0),ue.length-1)}var G={a:function(r,o,s){throw r>>>=0,new Le(r).Aa(o>>>0,s>>>0),me=r,Se++,me},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),S[s>>>2>>>0]=r.getUTCSeconds(),S[s+4>>>2>>>0]=r.getUTCMinutes(),S[s+8>>>2>>>0]=r.getUTCHours(),S[s+12>>>2>>>0]=r.getUTCDate(),S[s+16>>>2>>>0]=r.getUTCMonth(),S[s+20>>>2>>>0]=r.getUTCFullYear()-1900,S[s+24>>>2>>>0]=r.getUTCDay(),S[s+28>>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),S[s>>>2>>>0]=r.getSeconds(),S[s+4>>>2>>>0]=r.getMinutes(),S[s+8>>>2>>>0]=r.getHours(),S[s+12>>>2>>>0]=r.getDate(),S[s+16>>>2>>>0]=r.getMonth(),S[s+20>>>2>>>0]=r.getFullYear()-1900,S[s+24>>>2>>>0]=r.getDay(),S[s+28>>>2>>>0]=(Ae(r.getFullYear())?qe:at)[r.getMonth()]+r.getDate()-1|0,S[s+36>>>2>>>0]=-(60*r.getTimezoneOffset()),o=new Date(r.getFullYear(),6,1).getTimezoneOffset();var m=new Date(r.getFullYear(),0,1).getTimezoneOffset();S[s+32>>>2>>>0]=(o!=m&&r.getTimezoneOffset()==Math.min(m,o))|0},p:function(r){r>>>=0;var o=new Date(S[r+20>>>2>>>0]+1900,S[r+16>>>2>>>0],S[r+12>>>2>>>0],S[r+8>>>2>>>0],S[r+4>>>2>>>0],S[r>>>2>>>0],0),s=S[r+32>>>2>>>0],m=o.getTimezoneOffset(),O=new Date(o.getFullYear(),6,1).getTimezoneOffset(),A=new Date(o.getFullYear(),0,1).getTimezoneOffset(),L=Math.min(A,O);return 0>s?S[r+32>>>2>>>0]=+(O!=A&&L==m):0<s!=(L==m)&&(O=Math.max(A,O),o.setTime(o.getTime()+6e4*((0<s?L:O)-m))),S[r+24>>>2>>>0]=o.getDay(),S[r+28>>>2>>>0]=(Ae(o.getFullYear())?qe:at)[o.getMonth()]+o.getDate()-1|0,S[r>>>2>>>0]=o.getSeconds(),S[r+4>>>2>>>0]=o.getMinutes(),S[r+8>>>2>>>0]=o.getHours(),S[r+12>>>2>>>0]=o.getDate(),S[r+16>>>2>>>0]=o.getMonth(),S[r+20>>>2>>>0]=o.getYear(),r=o.getTime(),isNaN(r)?(S[je()>>>2>>>0]=61,r=-1):r/=1e3,Xe((be=r,1<=+Math.abs(be)?0<be?+Math.floor(be/4294967296)>>>0:~~+Math.ceil((be-+(~~be>>>0))/4294967296)>>>0:0)),r>>>0},l:function(){return-52},m:function(){},t:function(r,o,s){function m(de){return(de=de.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?de[1]:"GMT"}s>>>=0;var O=new Date().getFullYear(),A=new Date(O,0,1),L=new Date(O,6,1);O=A.getTimezoneOffset();var re=L.getTimezoneOffset();j[r>>>0>>>2>>>0]=60*Math.max(O,re),S[o>>>0>>>2>>>0]=+(O!=re),r=m(A),o=m(L),r=xe(r),o=xe(o),re<O?(j[s>>>2>>>0]=r,j[s+4>>>2>>>0]=o):(j[s>>>2>>>0]=o,j[s+4>>>2>>>0]=r)},d:()=>{F("")},B:function(r,o,s){r>>>=0,o>>>=0,s>>>=0,Ne.length=0;for(var m;m=ee[o++>>>0];){var O=m!=105;O&=m!=112,s+=O&&s%8?4:0,Ne.push(m==112?j[s>>>2>>>0]:m==105?S[s>>>2>>>0]:Ce[s>>>3>>>0]),s+=O?8:4}return we[r].apply(null,Ne)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(r,o,s){return o>>>=0,ee.copyWithin(r>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},s:function(r){r>>>=0;var o=ee.length;if(4294901760<r)return!1;for(var s=1;4>=s;s*=2){var m=o*(1+.2/s);m=Math.min(m,r+100663296);var O=Math;m=Math.max(r,m);e:{O=(O.min.call(O,4294901760,m+(65536-m%65536)%65536)-W.buffer.byteLength+65535)/65536;try{W.grow(O),Ue();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},C:function(r,o){r>>>=0,o>>>=0;var s=0;return He().forEach((m,O)=>{var A=o+s;for(O=j[r+4*O>>>2>>>0]=A,A=0;A<m.length;++A)se[O++>>>0>>>0]=m.charCodeAt(A);se[O>>>0>>>0]=0,s+=m.length+1}),0},D:function(r,o){r>>>=0,o>>>=0;var s=He();j[r>>>2>>>0]=s.length;var m=0;return s.forEach(O=>m+=O.length+1),j[o>>>2>>>0]=m,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(r,o,s,m){o>>>=0,s>>>=0,m>>>=0;for(var O=0,A=0;A<s;A++){var L=j[o>>>2>>>0],re=j[o+4>>>2>>>0];o+=8;for(var de=0;de<re;de++){var ie=ee[L+de>>>0],ue=Be[r];ie===0||ie===10?((r===1?v:k)(te(ue,0)),ue.length=0):ue.push(ie)}O+=re}return j[m>>>2>>>0]=O,0},r:ot,c:function(r,o,s,m){return ot(r>>>0,o>>>0,s>>>0,m>>>0)}},C=function(){function r(s){return C=s.exports,C=ut(),W=C.K,Ue(),ne.unshift(C.L),Oe--,Oe==0&&(he!==null&&(clearInterval(he),he=null),ae&&(s=ae,ae=null,s())),C}var o={a:G};if(Oe++,a.instantiateWasm)try{return a.instantiateWasm(o,r)}catch(s){k(`Module.instantiateWasm callback failed with error: ${s}`),f(s)}return Ee(o,function(s){r(s.instance)}).catch(f),{}}();a._OrtInit=(r,o)=>(a._OrtInit=C.M)(r,o),a._OrtGetLastError=(r,o)=>(a._OrtGetLastError=C.N)(r,o),a._OrtCreateSessionOptions=(r,o,s,m,O,A,L,re,de,ie)=>(a._OrtCreateSessionOptions=C.O)(r,o,s,m,O,A,L,re,de,ie),a._OrtAppendExecutionProvider=(r,o)=>(a._OrtAppendExecutionProvider=C.P)(r,o),a._OrtAddFreeDimensionOverride=(r,o,s)=>(a._OrtAddFreeDimensionOverride=C.Q)(r,o,s),a._OrtAddSessionConfigEntry=(r,o,s)=>(a._OrtAddSessionConfigEntry=C.R)(r,o,s),a._OrtReleaseSessionOptions=r=>(a._OrtReleaseSessionOptions=C.S)(r),a._OrtCreateSession=(r,o,s)=>(a._OrtCreateSession=C.T)(r,o,s),a._OrtReleaseSession=r=>(a._OrtReleaseSession=C.U)(r),a._OrtGetInputOutputCount=(r,o,s)=>(a._OrtGetInputOutputCount=C.V)(r,o,s),a._OrtGetInputName=(r,o)=>(a._OrtGetInputName=C.W)(r,o),a._OrtGetOutputName=(r,o)=>(a._OrtGetOutputName=C.X)(r,o),a._OrtFree=r=>(a._OrtFree=C.Y)(r),a._OrtCreateTensor=(r,o,s,m,O,A)=>(a._OrtCreateTensor=C.Z)(r,o,s,m,O,A),a._OrtGetTensorData=(r,o,s,m,O)=>(a._OrtGetTensorData=C._)(r,o,s,m,O),a._OrtReleaseTensor=r=>(a._OrtReleaseTensor=C.$)(r),a._OrtCreateRunOptions=(r,o,s,m)=>(a._OrtCreateRunOptions=C.aa)(r,o,s,m),a._OrtAddRunConfigEntry=(r,o,s)=>(a._OrtAddRunConfigEntry=C.ba)(r,o,s),a._OrtReleaseRunOptions=r=>(a._OrtReleaseRunOptions=C.ca)(r),a._OrtCreateBinding=r=>(a._OrtCreateBinding=C.da)(r),a._OrtBindInput=(r,o,s)=>(a._OrtBindInput=C.ea)(r,o,s),a._OrtBindOutput=(r,o,s,m)=>(a._OrtBindOutput=C.fa)(r,o,s,m),a._OrtClearBoundOutputs=r=>(a._OrtClearBoundOutputs=C.ga)(r),a._OrtReleaseBinding=r=>(a._OrtReleaseBinding=C.ha)(r),a._OrtRunWithBinding=(r,o,s,m,O)=>(a._OrtRunWithBinding=C.ia)(r,o,s,m,O),a._OrtRun=(r,o,s,m,O,A,L,re)=>(a._OrtRun=C.ja)(r,o,s,m,O,A,L,re),a._OrtEndProfiling=r=>(a._OrtEndProfiling=C.ka)(r);var je=()=>(je=C.la)(),st=a._malloc=r=>(st=a._malloc=C.ma)(r);a._free=r=>(a._free=C.na)(r);var Xe=r=>(Xe=C.pa)(r),it=()=>(it=C.qa)(),M=r=>(M=C.ra)(r),ke=r=>(ke=C.sa)(r);function ut(){var r=C;r=Object.assign({},r);var o=m=>()=>m()>>>0,s=m=>O=>m(O)>>>0;return r.la=o(r.la),r.ma=s(r.ma),r.qa=o(r.qa),r.sa=s(r.sa),r}a.stackAlloc=ke,a.stackSave=it,a.stackRestore=M,a.UTF8ToString=z,a.stringToUTF8=(r,o,s)=>Fe(r,ee,o,s),a.lengthBytesUTF8=le;var Pe;ae=function r(){Pe||Qe(),Pe||(ae=r)};function Qe(){if(!(0<Oe)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var r=a.preRun.shift();ce.unshift(r)}for(;0<ce.length;)ce.shift()(a);if(!(0<Oe||Pe||(Pe=!0,a.calledRun=!0,H))){for(;0<ne.length;)ne.shift()(a);for(h(a);0<Q.length;)Q.shift()(a)}}}return Qe(),c.ready}})();typeof mr=="object"&&typeof Ft=="object"?Ft.exports=pr:typeof define=="function"&&define.amd&&define([],()=>pr)});var hr=tt(()=>{});var yr=tt(()=>{});var br={};At(br,{cpus:()=>rn});var rn,wr=St(()=>{rn=void 0});var _r=tt((vr,xt)=>{"use strict";var Or=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(c={}){function a(){return Q.buffer!=F.buffer&&Y(),F}function h(){return Q.buffer!=F.buffer&&Y(),ye}function f(){return Q.buffer!=F.buffer&&Y(),ve}function w(){return Q.buffer!=F.buffer&&Y(),fe}function g(){return Q.buffer!=F.buffer&&Y(),_e}var i=c,E,P;i.ready=new Promise((e,t)=>{E=e,P=t});var U=Object.assign({},i),D="./this.program",x=(e,t)=>{throw t},K=typeof window=="object",R=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v=i.ENVIRONMENT_IS_PTHREAD||!1,k="";function W(e){return i.locateFile?i.locateFile(e,k):k+e}var H,se,ee;if(I){var S=(Mt(),rt(Tt)),j=(Dt(),rt(Ct));k=R?j.dirname(k)+"/":__dirname+"/",H=(t,n)=>(t=z(t)?new URL(t):j.normalize(t),S.readFileSync(t,n?void 0:"utf8")),ee=t=>(t=H(t,!0),t.buffer||(t=new Uint8Array(t)),t),se=(t,n,l,y=!0)=>{t=z(t)?new URL(t):j.normalize(t),S.readFile(t,y?void 0:"utf8",(b,_)=>{b?l(b):n(y?_.buffer:_)})},!i.thisProgram&&1<process.argv.length&&(D=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),x=(t,n)=>{throw process.exitCode=t,n},i.inspect=()=>"[Emscripten Module object]";let e;try{e=hr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(K||R)&&(R?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),typeof u<"u"&&u&&(k=u),k.indexOf("blob:")!==0?k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1):k="",I||(H=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},R&&(ee=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),se=(e,t,n)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?t(l.response):n()},l.onerror=n,l.send(null)}));I&&typeof performance>"u"&&(global.performance=yr().performance);var Ce=console.log.bind(console),Ue=console.error.bind(console);I&&(Ce=(...e)=>S.writeSync(1,e.join(" ")+`\n`),Ue=(...e)=>S.writeSync(2,e.join(" ")+`\n`));var ce=Ce,ne=Ue;Object.assign(i,U),U=null,typeof WebAssembly!="object"&&De("no native wasm support detected");var Q,Oe,he=!1,ae,F,ye,ve,fe,_e;function Y(){var e=Q.buffer;i.HEAP8=F=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAPU8=ye=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAP32=ve=new Int32Array(e),i.HEAPU32=fe=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=_e=new Float64Array(e)}var pe=16777216;if(v)Q=i.wasmMemory;else if(i.wasmMemory)Q=i.wasmMemory;else if(Q=new WebAssembly.Memory({initial:pe/65536,maximum:65536,shared:!0}),!(Q.buffer instanceof SharedArrayBuffer))throw ne("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&ne("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),pe=Q.buffer.byteLength;var Ie=[],Ee=[],be=[],we=0,Le=null,me=null;function Se(){if(we--,we==0&&(Le!==null&&(clearInterval(Le),Le=null),me)){var e=me;me=null,e()}}function De(e){throw e="Aborted("+e+")",ne(e),he=!0,ae=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),P(e),e}var te=e=>e.startsWith("data:application/octet-stream;base64,"),z=e=>e.startsWith("file://"),le;le="ort-wasm-threaded.wasm",te(le)||(le=W(le));function Fe(e){if(ee)return ee(e);throw"both async and sync fetching of the wasm failed"}function Ae(e){if(K||R){if(typeof fetch=="function"&&!z(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>Fe(e));if(se)return new Promise((t,n)=>{se(e,l=>t(new Uint8Array(l)),n)})}return Promise.resolve().then(()=>Fe(e))}function qe(e,t,n){return Ae(e).then(l=>WebAssembly.instantiate(l,t)).then(l=>l).then(n,l=>{ne(`failed to asynchronously prepare wasm: ${l}`),De(l)})}function at(e,t){var n=le;return typeof WebAssembly.instantiateStreaming!="function"||te(n)||z(n)||I||typeof fetch!="function"?qe(n,e,t):fetch(n,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(t,function(y){return ne(`wasm streaming compile failed: ${y}`),ne("falling back to ArrayBuffer instantiation"),qe(n,e,t)}))}var xe,Ne={921388:(e,t,n,l)=>{if(typeof i>"u"||!i.cb)return 1;if(e=$e(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=i.cb.get(e),!e)return 2;if(t>>>=0,n>>>=0,l>>>=0,t+n>e.byteLength)return 3;try{return h().set(e.subarray(t,t+n),l>>>0),0}catch{return 4}}};function Re(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var He=e=>{e.terminate(),e.onmessage=()=>{}},Ge=e=>{M.Pa.length==0&&(Xe(),M.Ya(M.Pa[0]));var t=M.Pa.pop();if(!t)return 6;M.Qa.push(t),M.Ma[e.Oa]=t,t.Oa=e.Oa;var n={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return I&&t.unref(),t.postMessage(n,e.qb),0},Be=0,Ve=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Je=(e,t,n)=>{t>>>=0;var l=t+n;for(n=t;e[n]&&!(n>=l);)++n;if(16<n-t&&e.buffer&&Ve)return Ve.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(l="";t<n;){var y=e[t++];if(y&128){var b=e[t++]&63;if((y&224)==192)l+=String.fromCharCode((y&31)<<6|b);else{var _=e[t++]&63;y=(y&240)==224?(y&15)<<12|b<<6|_:(y&7)<<18|b<<12|_<<6|e[t++]&63,65536>y?l+=String.fromCharCode(y):(y-=65536,l+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else l+=String.fromCharCode(y)}return l},$e=(e,t)=>(e>>>=0)?Je(h(),e,t):"",ot=e=>{var t=vt();return e=e(),ct(t),e};function G(e,t){var n=arguments.length-2,l=arguments;return ot(()=>{for(var y=_t(8*n),b=y>>>3,_=0;_<n;_++){var J=l[2+_];g()[b+_>>>0]=J}return ar(e,n,y,t)})}function C(e){if(v)return G(0,1,e);ae=e,0<Be||(M.lb(),i.onExit?.(e),he=!0),x(e,new Re(e))}var je=e=>{if(ae=e,v)throw ut(e),"unwind";C(e)};function st(){for(var e=i.numThreads;e--;)Xe();Ie.unshift(()=>{we++,it(()=>Se())})}function Xe(){var e=W("ort-wasm-threaded.worker.js");e=new Worker(e),M.Pa.push(e)}function it(e){v?e():Promise.all(M.Pa.map(M.Ya)).then(e)}var M={Pa:[],Qa:[],bb:[],Ma:{},Wa(){v?(M.receiveObjectTransfer=M.jb,M.threadInitTLS=M.ab,M.setExitStatus=M.$a):st()},$a:e=>ae=e,tb:["$terminateWorker"],lb:()=>{for(var e of M.Qa)He(e);for(e of M.Pa)He(e);M.Pa=[],M.Qa=[],M.Ma=[]},Za:e=>{var t=e.Oa;delete M.Ma[t],M.Pa.push(e),M.Qa.splice(M.Qa.indexOf(e),1),e.Oa=0,wt(t)},jb(){},ab(){M.bb.forEach(e=>e())},Ya:e=>new Promise(t=>{e.onmessage=b=>{b=b.data;var _=b.cmd;if(b.targetThread&&b.targetThread!=lt()){var J=M.Ma[b.targetThread];J?J.postMessage(b,b.transferList):ne(`Internal error! Worker sent a message "${_}" to target pthread ${b.targetThread}, but that thread no longer exists!`)}else _==="checkMailbox"?ft():_==="spawnThread"?Ge(b):_==="cleanupThread"?M.Za(M.Ma[b.thread]):_==="killThread"?(b=b.thread,_=M.Ma[b],delete M.Ma[b],He(_),wt(b),M.Qa.splice(M.Qa.indexOf(_),1),_.Oa=0):_==="cancelThread"?M.Ma[b.thread].postMessage({cmd:"cancel"}):_==="loaded"?(e.loaded=!0,I&&!e.Oa&&e.unref(),t(e)):_==="alert"?alert(`Thread ${b.threadId}: ${b.text}`):b.target==="setimmediate"?e.postMessage(b):_==="callHandler"?i[b.handler](...b.args):_&&ne(`worker sent an unknown command ${_}`)},e.onerror=b=>{throw ne(`worker sent an error! ${b.filename}:${b.lineno}: ${b.message}`),b},I&&(e.on("message",b=>e.onmessage({data:b})),e.on("error",b=>e.onerror(b)));var n=[],l=["onExit"],y;for(y of l)i.hasOwnProperty(y)&&n.push(y);e.postMessage({cmd:"load",handlers:n,urlOrBlob:i.mainScriptUrlOrBlob||u,wasmMemory:Q,wasmModule:Oe})})};i.PThread=M;var ke=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=()=>{var e=lt(),t=w()[e+52>>>2>>>0];e=w()[e+56>>>2>>>0],ir(t,t-e),ct(t)};function ut(e){if(v)return G(1,0,e);je(e)}var Pe=[],Qe;i.invokeEntryPoint=(e,t)=>{var n=Pe[e];n||(e>=Pe.length&&(Pe.length=e+1),Pe[e]=n=Qe.get(e)),e=n(t),0<Be?M.$a(e):Ot(e)};function r(e){this.Va=e-24,this.gb=function(t){w()[this.Va+4>>>2>>>0]=t},this.fb=function(t){w()[this.Va+8>>>2>>>0]=t},this.Wa=function(t,n){this.eb(),this.gb(t),this.fb(n)},this.eb=function(){w()[this.Va+16>>>2>>>0]=0}}var o=0,s=0;function m(e,t,n,l){return v?G(2,1,e,t,n,l):O(e,t,n,l)}function O(e,t,n,l){if(e>>>=0,t>>>=0,n>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return ne("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var y=[];return v&&y.length===0?m(e,t,n,l):(e={kb:n,Oa:e,hb:l,qb:y},v?(e.sb="spawnThread",postMessage(e,y),0):Ge(e))}function A(e,t,n){return v?G(3,1,e,t,n):0}function L(e,t){if(v)return G(4,1,e,t)}var re=e=>{for(var t=0,n=0;n<e.length;++n){var l=e.charCodeAt(n);127>=l?t++:2047>=l?t+=2:55296<=l&&57343>=l?(t+=4,++n):t+=3}return t},de=(e,t,n,l)=>{if(n>>>=0,!(0<l))return 0;var y=n;l=n+l-1;for(var b=0;b<e.length;++b){var _=e.charCodeAt(b);if(55296<=_&&57343>=_){var J=e.charCodeAt(++b);_=65536+((_&1023)<<10)|J&1023}if(127>=_){if(n>=l)break;t[n++>>>0]=_}else{if(2047>=_){if(n+1>=l)break;t[n++>>>0]=192|_>>6}else{if(65535>=_){if(n+2>=l)break;t[n++>>>0]=224|_>>12}else{if(n+3>=l)break;t[n++>>>0]=240|_>>18,t[n++>>>0]=128|_>>12&63}t[n++>>>0]=128|_>>6&63}t[n++>>>0]=128|_&63}}return t[n>>>0]=0,n-y},ie=(e,t,n)=>de(e,h(),t,n);function ue(e,t){if(v)return G(5,1,e,t)}function Ze(e,t,n){if(v)return G(6,1,e,t,n)}function Ke(e,t,n){return v?G(7,1,e,t,n):0}function d(e,t){if(v)return G(8,1,e,t)}function B(e,t,n){if(v)return G(9,1,e,t,n)}function $(e,t,n,l){if(v)return G(10,1,e,t,n,l)}function Te(e,t,n,l){if(v)return G(11,1,e,t,n,l)}function et(e,t,n,l){if(v)return G(12,1,e,t,n,l)}function Bt(e){if(v)return G(13,1,e)}function kt(e,t){if(v)return G(14,1,e,t)}function Wt(e,t,n){if(v)return G(15,1,e,t,n)}function mt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(f(),e>>>2,e).value.then(ft),e+=128,Atomics.store(f(),e>>>2,1))}i.__emscripten_thread_mailbox_await=mt;var ft=()=>{var e=lt();if(e&&(mt(e),e=or,!he))try{if(e(),!(0<Be))try{v?Ot(ae):je(ae)}catch(t){t instanceof Re||t=="unwind"||x(1,t)}}catch(t){t instanceof Re||t=="unwind"||x(1,t)}};i.checkMailbox=ft;var gt=[],Ye=e=>e%4===0&&(e%100!==0||e%400===0),Nt=[0,31,60,91,121,152,182,213,244,274,305,335],Ht=[0,31,59,90,120,151,181,212,243,273,304,334];function Gt(e,t,n,l,y,b,_,J){return v?G(16,1,e,t,n,l,y,b,_,J):-52}function $t(e,t,n,l,y,b,_){if(v)return G(17,1,e,t,n,l,y,b,_)}var jt=e=>{var t=re(e)+1,n=rr(t);return n&&ie(e,n,t),n},ht=[],yt={},Yt=()=>{if(!bt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"},t;for(t in yt)yt[t]===void 0?delete e[t]:e[t]=yt[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);bt=n}return bt},bt;function zt(e,t){if(v)return G(18,1,e,t);e>>>=0,t>>>=0;var n=0;return Yt().forEach((l,y)=>{var b=t+n;for(y=w()[e+4*y>>>2>>>0]=b,b=0;b<l.length;++b)a()[y++>>>0>>>0]=l.charCodeAt(b);a()[y>>>0>>>0]=0,n+=l.length+1}),0}function qt(e,t){if(v)return G(19,1,e,t);e>>>=0,t>>>=0;var n=Yt();w()[e>>>2>>>0]=n.length;var l=0;return n.forEach(y=>l+=y.length+1),w()[t>>>2>>>0]=l,0}function Vt(e){return v?G(20,1,e):52}function Jt(e,t,n,l){return v?G(21,1,e,t,n,l):52}function Xt(e,t,n,l,y){return v?G(22,1,e,t,n,l,y):70}var $r=[null,[],[]];function Qt(e,t,n,l){if(v)return G(23,1,e,t,n,l);t>>>=0,n>>>=0,l>>>=0;for(var y=0,b=0;b<n;b++){var _=w()[t>>>2>>>0],J=w()[t+4>>>2>>>0];t+=8;for(var Me=0;Me<J;Me++){var oe=h()[_+Me>>>0],ge=$r[e];oe===0||oe===10?((e===1?ce:ne)(Je(ge,0)),ge.length=0):ge.push(oe)}y+=J}return w()[l>>>2>>>0]=y,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Kt=[31,28,31,30,31,30,31,31,30,31,30,31];function jr(e){var t=Array(re(e)+1);return de(e,t,0,t.length),t}var Yr=(e,t)=>{a().set(e,t>>>0)};function er(e,t,n,l){function y(p,N,X){for(p=typeof p=="number"?p.toString():p||"";p.length<N;)p=X[0]+p;return p}function b(p,N){return y(p,N,"0")}function _(p,N){function X(cr){return 0>cr?-1:0<cr?1:0}var We;return(We=X(p.getFullYear()-N.getFullYear()))===0&&(We=X(p.getMonth()-N.getMonth()))===0&&(We=X(p.getDate()-N.getDate())),We}function J(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function Me(p){var N=p.Ra;for(p=new Date(new Date(p.Sa+1900,0,1).getTime());0<N;){var X=p.getMonth(),We=(Ye(p.getFullYear())?Zt:Kt)[X];if(N>We-p.getDate())N-=We-p.getDate()+1,p.setDate(1),11>X?p.setMonth(X+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+N);break}}return X=new Date(p.getFullYear()+1,0,4),N=J(new Date(p.getFullYear(),0,4)),X=J(X),0>=_(N,p)?0>=_(X,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,l>>>=0;var oe=w()[l+40>>>2>>>0];l={ob:f()[l>>>2>>>0],nb:f()[l+4>>>2>>>0],Ta:f()[l+8>>>2>>>0],Xa:f()[l+12>>>2>>>0],Ua:f()[l+16>>>2>>>0],Sa:f()[l+20>>>2>>>0],Na:f()[l+24>>>2>>>0],Ra:f()[l+28>>>2>>>0],ub:f()[l+32>>>2>>>0],mb:f()[l+36>>>2>>>0],pb:oe?$e(oe):""},n=$e(n),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in oe)n=n.replace(new RegExp(ge,"g"),oe[ge]);var fr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lr="January February March April May June July August September October November December".split(" ");oe={"%a":p=>fr[p.Na].substring(0,3),"%A":p=>fr[p.Na],"%b":p=>lr[p.Ua].substring(0,3),"%B":p=>lr[p.Ua],"%C":p=>b((p.Sa+1900)/100|0,2),"%d":p=>b(p.Xa,2),"%e":p=>y(p.Xa,2," "),"%g":p=>Me(p).toString().substring(2),"%G":p=>Me(p),"%H":p=>b(p.Ta,2),"%I":p=>(p=p.Ta,p==0?p=12:12<p&&(p-=12),b(p,2)),"%j":p=>{for(var N=0,X=0;X<=p.Ua-1;N+=(Ye(p.Sa+1900)?Zt:Kt)[X++]);return b(p.Xa+N,3)},"%m":p=>b(p.Ua+1,2),"%M":p=>b(p.nb,2),"%n":()=>`\n`,"%p":p=>0<=p.Ta&&12>p.Ta?"AM":"PM","%S":p=>b(p.ob,2),"%t":()=>"	","%u":p=>p.Na||7,"%U":p=>b(Math.floor((p.Ra+7-p.Na)/7),2),"%V":p=>{var N=Math.floor((p.Ra+7-(p.Na+6)%7)/7);if(2>=(p.Na+371-p.Ra-2)%7&&N++,N)N==53&&(X=(p.Na+371-p.Ra)%7,X==4||X==3&&Ye(p.Sa)||(N=1));else{N=52;var X=(p.Na+7-p.Ra-1)%7;(X==4||X==5&&Ye(p.Sa%400-1))&&N++}return b(N,2)},"%w":p=>p.Na,"%W":p=>b(Math.floor((p.Ra+7-(p.Na+6)%7)/7),2),"%y":p=>(p.Sa+1900).toString().substring(2),"%Y":p=>p.Sa+1900,"%z":p=>{p=p.mb;var N=0<=p;return p=Math.abs(p)/60,(N?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.pb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(ge in oe)n.includes(ge)&&(n=n.replace(new RegExp(ge,"g"),oe[ge](l)));return n=n.replace(/\\0\\0/g,"%"),ge=jr(n),ge.length>t?0:(Yr(ge,e),ge.length-1)}M.Wa();var zr=[C,ut,m,A,L,ue,Ze,Ke,d,B,$,Te,et,Bt,kt,Wt,Gt,$t,zt,qt,Vt,Jt,Xt,Qt],qr={b:function(e,t,n){throw e>>>=0,new r(e).Wa(t>>>0,n>>>0),o=e,s++,o},L:function(e){nr(e>>>0,!R,1,!K,131072,!1),M.ab()},j:function(e){e>>>=0,v?postMessage({cmd:"cleanupThread",thread:e}):M.Za(M.Ma[e])},H:O,h:A,S:L,D:ue,F:Ze,T:Ke,Q:d,J:B,P:$,n:Te,E:et,B:Bt,R:kt,C:Wt,p:()=>1,z:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ft()):v?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=M.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,t,n,l){t>>>=0,gt.length=n,l=l>>>0>>>3;for(var y=0;y<n;y++)gt[y]=g()[l+y>>>0];return e=0>e?Ne[-e-1]:zr[e],M.ib=t,t=e.apply(null,gt),M.ib=0,t},K:mt,o:function(e){I&&M.Ma[e>>>0].ref()},s:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getUTCSeconds(),f()[n+4>>>2>>>0]=e.getUTCMinutes(),f()[n+8>>>2>>>0]=e.getUTCHours(),f()[n+12>>>2>>>0]=e.getUTCDate(),f()[n+16>>>2>>>0]=e.getUTCMonth(),f()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,f()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,f()[n+28>>>2>>>0]=e},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getSeconds(),f()[n+4>>>2>>>0]=e.getMinutes(),f()[n+8>>>2>>>0]=e.getHours(),f()[n+12>>>2>>>0]=e.getDate(),f()[n+16>>>2>>>0]=e.getMonth(),f()[n+20>>>2>>>0]=e.getFullYear()-1900,f()[n+24>>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?Nt:Ht)[e.getMonth()]+e.getDate()-1|0,f()[n+28>>>2>>>0]=t,f()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=l&&e.getTimezoneOffset()==Math.min(l,t))|0,f()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var t=new Date(f()[e+20>>>2>>>0]+1900,f()[e+16>>>2>>>0],f()[e+12>>>2>>>0],f()[e+8>>>2>>>0],f()[e+4>>>2>>>0],f()[e>>>2>>>0],0),n=f()[e+32>>>2>>>0],l=t.getTimezoneOffset(),y=new Date(t.getFullYear(),6,1).getTimezoneOffset(),b=new Date(t.getFullYear(),0,1).getTimezoneOffset(),_=Math.min(b,y);return 0>n?f()[e+32>>>2>>>0]=+(y!=b&&_==l):0<n!=(_==l)&&(y=Math.max(b,y),t.setTime(t.getTime()+6e4*((0<n?_:y)-l))),f()[e+24>>>2>>>0]=t.getDay(),n=(Ye(t.getFullYear())?Nt:Ht)[t.getMonth()]+t.getDate()-1|0,f()[e+28>>>2>>>0]=n,f()[e>>>2>>>0]=t.getSeconds(),f()[e+4>>>2>>>0]=t.getMinutes(),f()[e+8>>>2>>>0]=t.getHours(),f()[e+12>>>2>>>0]=t.getDate(),f()[e+16>>>2>>>0]=t.getMonth(),f()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(f()[tr()>>>2>>>0]=61,e=-1):e/=1e3,sr((xe=e,1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)),e>>>0},q:Gt,r:$t,y:function(e,t,n){function l(oe){return(oe=oe.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?oe[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var y=new Date().getFullYear(),b=new Date(y,0,1),_=new Date(y,6,1);y=b.getTimezoneOffset();var J=_.getTimezoneOffset(),Me=Math.max(y,J);w()[e>>>2>>>0]=60*Me,f()[t>>>2>>>0]=+(y!=J),e=l(b),t=l(_),e=jt(e),t=jt(t),J<y?(w()[n>>>2>>>0]=e,w()[n+4>>>2>>>0]=t):(w()[n>>>2>>>0]=t,w()[n+4>>>2>>>0]=e)},c:()=>{De("")},O:function(e,t,n){e>>>=0,t>>>=0,n>>>=0,ht.length=0;for(var l;l=h()[t++>>>0];){var y=l!=105;y&=l!=112,n+=y&&n%8?4:0,ht.push(l==112?w()[n>>>2>>>0]:l==105?f()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=y?8:4}return Ne[e].apply(null,ht)},k:()=>{},i:()=>Date.now(),U:()=>{throw Be+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>I?(wr(),rt(br)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var t=h().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var l=t*(1+.2/n);l=Math.min(l,e+100663296);var y=Math;l=Math.max(e,l);e:{y=(y.min.call(y,4294901760,l+(65536-l%65536)%65536)-Q.buffer.byteLength+65535)/65536;try{Q.grow(y),Y();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},M:zt,N:qt,G:je,g:Vt,m:Jt,v:Xt,l:Qt,a:Q||i.wasmMemory,w:er,d:function(e,t,n,l){return er(e>>>0,t>>>0,n>>>0,l>>>0)}},T=function(){function e(n,l){return T=n.exports,T=Vr(),M.bb.push(T.za),Qe=T.Aa,Ee.unshift(T.V),Oe=l,Se(),T}var t={a:qr};if(we++,i.instantiateWasm)try{return i.instantiateWasm(t,e)}catch(n){ne(`Module.instantiateWasm callback failed with error: ${n}`),P(n)}return at(t,function(n){e(n.instance,n.module)}).catch(P),{}}();i._OrtInit=(e,t)=>(i._OrtInit=T.W)(e,t),i._OrtGetLastError=(e,t)=>(i._OrtGetLastError=T.X)(e,t),i._OrtCreateSessionOptions=(e,t,n,l,y,b,_,J,Me,oe)=>(i._OrtCreateSessionOptions=T.Y)(e,t,n,l,y,b,_,J,Me,oe),i._OrtAppendExecutionProvider=(e,t)=>(i._OrtAppendExecutionProvider=T.Z)(e,t),i._OrtAddFreeDimensionOverride=(e,t,n)=>(i._OrtAddFreeDimensionOverride=T._)(e,t,n),i._OrtAddSessionConfigEntry=(e,t,n)=>(i._OrtAddSessionConfigEntry=T.$)(e,t,n),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=T.aa)(e),i._OrtCreateSession=(e,t,n)=>(i._OrtCreateSession=T.ba)(e,t,n),i._OrtReleaseSession=e=>(i._OrtReleaseSession=T.ca)(e),i._OrtGetInputOutputCount=(e,t,n)=>(i._OrtGetInputOutputCount=T.da)(e,t,n),i._OrtGetInputName=(e,t)=>(i._OrtGetInputName=T.ea)(e,t),i._OrtGetOutputName=(e,t)=>(i._OrtGetOutputName=T.fa)(e,t),i._OrtFree=e=>(i._OrtFree=T.ga)(e),i._OrtCreateTensor=(e,t,n,l,y,b)=>(i._OrtCreateTensor=T.ha)(e,t,n,l,y,b),i._OrtGetTensorData=(e,t,n,l,y)=>(i._OrtGetTensorData=T.ia)(e,t,n,l,y),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=T.ja)(e),i._OrtCreateRunOptions=(e,t,n,l)=>(i._OrtCreateRunOptions=T.ka)(e,t,n,l),i._OrtAddRunConfigEntry=(e,t,n)=>(i._OrtAddRunConfigEntry=T.la)(e,t,n),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=T.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=T.na)(e),i._OrtBindInput=(e,t,n)=>(i._OrtBindInput=T.oa)(e,t,n),i._OrtBindOutput=(e,t,n,l)=>(i._OrtBindOutput=T.pa)(e,t,n,l),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=T.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=T.ra)(e),i._OrtRunWithBinding=(e,t,n,l,y)=>(i._OrtRunWithBinding=T.sa)(e,t,n,l,y),i._OrtRun=(e,t,n,l,y,b,_,J)=>(i._OrtRun=T.ta)(e,t,n,l,y,b,_,J),i._OrtEndProfiling=e=>(i._OrtEndProfiling=T.ua)(e);var tr=()=>(tr=T.va)(),lt=i._pthread_self=()=>(lt=i._pthread_self=T.wa)(),rr=i._malloc=e=>(rr=i._malloc=T.xa)(e);i._free=e=>(i._free=T.ya)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=T.za)();var nr=i.__emscripten_thread_init=(e,t,n,l,y,b)=>(nr=i.__emscripten_thread_init=T.Ba)(e,t,n,l,y,b);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=T.Ca)();var ar=(e,t,n,l)=>(ar=T.Da)(e,t,n,l),wt=e=>(wt=T.Ea)(e),Ot=i.__emscripten_thread_exit=e=>(Ot=i.__emscripten_thread_exit=T.Fa)(e),or=()=>(or=T.Ga)(),sr=e=>(sr=T.Ha)(e),ir=(e,t)=>(ir=T.Ia)(e,t),vt=()=>(vt=T.Ja)(),ct=e=>(ct=T.Ka)(e),_t=e=>(_t=T.La)(e);function Vr(){var e=T;e=Object.assign({},e);var t=l=>()=>l()>>>0,n=l=>y=>l(y)>>>0;return e.va=t(e.va),e.wa=t(e.wa),e.xa=n(e.xa),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Ja=t(e.Ja),e.La=n(e.La),e}i.wasmMemory=Q,i.stackAlloc=_t,i.stackSave=vt,i.stackRestore=ct,i.keepRuntimeAlive=()=>0<Be,i.UTF8ToString=$e,i.stringToUTF8=ie,i.lengthBytesUTF8=re,i.ExitStatus=Re,i.PThread=M;var dt;me=function e(){dt||ur(),dt||(me=e)};function ur(){if(!(0<we))if(v)E(i),v||ke(Ee),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Ie.unshift(i.preRun.shift());ke(Ie),0<we||dt||(dt=!0,i.calledRun=!0,he||(v||ke(Ee),E(i),v||ke(be)))}}return ur(),c.ready}})();typeof vr=="object"&&typeof xt=="object"?xt.exports=Or:typeof define=="function"&&define.amd&&define([],()=>Or)});var Er=tt((On,nn)=>{nn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Ar;Ar=gr();var an=_r(),Pt,Ut=!1,pt=!1,Sr=!1,on=u=>{if(u===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+u+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+u+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},sn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},un=(u,c)=>u?c?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":c?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Tr=async u=>{if(Ut)return Promise.resolve();if(pt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Sr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");pt=!0;let c=u.initTimeout,a=u.numThreads,h=u.simd,f=on(a),w=h&&sn(),g=u.wasmPaths,i=typeof g=="string"?g:void 0,E=un(w,f),P=typeof g=="object"?g[E]:void 0,U=!1,D=[];if(c>0&&D.push(new Promise(x=>{setTimeout(()=>{U=!0,x()},c)})),D.push(new Promise((x,K)=>{let R=f?an:Ar,I={locateFile:(v,k)=>f&&v.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Er()],{type:"text/javascript"})):v.endsWith(".wasm")?P||(i??k)+E:k+v};if(f)if(I.numThreads=a,typeof Blob>"u")I.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let v=`var ortWasmThreaded=${R.toString()};`;I.mainScriptUrlOrBlob=new Blob([v],{type:"text/javascript"})}R(I).then(v=>{pt=!1,Ut=!0,Pt=v,x()},v=>{pt=!1,Sr=!0,K(v)})})),await Promise.race(D),U)throw new Error(`WebAssembly backend initializing failed due to timeout: ${c}ms`)},Z=()=>{if(Ut&&Pt)return Pt;throw new Error("WebAssembly is not initialized yet.")};var q=(u,c)=>{let a=Z(),h=a.lengthBytesUTF8(u)+1,f=a._malloc(h);return a.stringToUTF8(u,f,h),c.push(f),f},nt=(u,c,a,h)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([f,w])=>{let g=c?c+f:f;if(typeof w=="object")nt(w,g+".",a,h);else if(typeof w=="string"||typeof w=="number")h(g,w.toString());else if(typeof w=="boolean")h(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},V=u=>{let c=Z(),a=c.stackSave();try{let h=c.stackAlloc(8);c._OrtGetLastError(h,h+4);let f=c.HEAP32[h/4],w=c.HEAPU32[h/4+1],g=w?c.UTF8ToString(w):"";throw new Error(`${u} ERROR_CODE: ${f}, ERROR_MESSAGE: ${g}`)}finally{c.stackRestore(a)}};var Mr=u=>{let c=Z(),a=0,h=[],f=u||{};try{if(u?.logSeverityLevel===void 0)f.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)f.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(f.terminate=!1);let w=0;return u?.tag!==void 0&&(w=q(u.tag,h)),a=c._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,w),a===0&&V("Can\'t create run options."),u?.extra!==void 0&&nt(u.extra,"",new WeakSet,(g,i)=>{let E=q(g,h),P=q(i,h);c._OrtAddRunConfigEntry(a,E,P)!==0&&V(`Can\'t set a run config entry: ${g} - ${i}.`)}),[a,h]}catch(w){throw a!==0&&c._OrtReleaseRunOptions(a),h.forEach(g=>c._free(g)),w}};var fn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},ln=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},cn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let c=u.extra.session;c.use_ort_model_bytes_directly||(c.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(u.enableMemPattern=!1)},dn=(u,c,a)=>{for(let h of c){let f=typeof h=="string"?h:h.name;switch(f){case"webnn":if(f="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let i=q("deviceType",a),E=q(g.deviceType,a);Z()._OrtAddSessionConfigEntry(u,i,E)!==0&&V(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let i=g.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let E=q("numThreads",a),P=q(i.toString(),a);Z()._OrtAddSessionConfigEntry(u,E,P)!==0&&V(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let i=q("powerPreference",a),E=q(g.powerPreference,a);Z()._OrtAddSessionConfigEntry(u,i,E)!==0&&V(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(f="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let i=q("preferredLayout",a),E=q(g.preferredLayout,a);Z()._OrtAddSessionConfigEntry(u,i,E)!==0&&V(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${f}`)}let w=q(f,a);Z()._OrtAppendExecutionProvider(u,w)!==0&&V(`Can\'t append execution provider: ${f}.`)}},Cr=u=>{let c=Z(),a=0,h=[],f=u||{};cn(f);try{let w=fn(f.graphOptimizationLevel??"all"),g=ln(f.executionMode??"sequential"),i=typeof f.logId=="string"?q(f.logId,h):0,E=f.logSeverityLevel??2;if(!Number.isInteger(E)||E<0||E>4)throw new Error(`log serverity level is not valid: ${E}`);let P=f.logVerbosityLevel??0;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log verbosity level is not valid: ${P}`);let U=typeof f.optimizedModelFilePath=="string"?q(f.optimizedModelFilePath,h):0;if(a=c._OrtCreateSessionOptions(w,!!f.enableCpuMemArena,!!f.enableMemPattern,g,!!f.enableProfiling,0,i,E,P,U),a===0&&V("Can\'t create session options."),f.executionProviders&&dn(a,f.executionProviders,h),f.enableGraphCapture!==void 0){if(typeof f.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${f.enableGraphCapture}`);let D=q("enableGraphCapture",h),x=q(f.enableGraphCapture.toString(),h);c._OrtAddSessionConfigEntry(a,D,x)!==0&&V(`Can\'t set a session config entry: \'enableGraphCapture\' - ${f.enableGraphCapture}.`)}if(f.freeDimensionOverrides)for(let[D,x]of Object.entries(f.freeDimensionOverrides)){if(typeof D!="string")throw new Error(`free dimension override name must be a string: ${D}`);if(typeof x!="number"||!Number.isInteger(x)||x<0)throw new Error(`free dimension override value must be a non-negative integer: ${x}`);let K=q(D,h);c._OrtAddFreeDimensionOverride(a,K,x)!==0&&V(`Can\'t set a free dimension override: ${D} - ${x}.`)}return f.extra!==void 0&&nt(f.extra,"",new WeakSet,(D,x)=>{let K=q(D,h),R=q(x,h);c._OrtAddSessionConfigEntry(a,K,R)!==0&&V(`Can\'t set a session config entry: ${D} - ${x}.`)}),[a,h]}catch(w){throw a!==0&&c._OrtReleaseSessionOptions(a),h.forEach(g=>c._free(g)),w}};var Rt=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Dr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},It=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],Fr=u=>{switch(u){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},xr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Pr=u=>u==="float32"||u==="float16"||u==="int32"||u==="int64"||u==="uint32"||u==="uint8"||u==="bool",Ur=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var Rr=async u=>{if(typeof u=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(u))}catch(c){if(c.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(u),h=[];for await(let f of a)h.push(f);return new Uint8Array(Buffer.concat(h))}throw c}else{let c=await fetch(u);if(!c.ok)throw new Error(`failed to load external data file: ${u}`);let a=c.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await c.arrayBuffer());{if(!c.body)throw new Error(`failed to load external data file: ${u}, no response body.`);let f=c.body.getReader(),w;try{w=new ArrayBuffer(h)}catch(i){if(i instanceof RangeError){let E=Math.ceil(h/65536);w=new WebAssembly.Memory({initial:E,maximum:E}).buffer}else throw i}let g=0;for(;;){let{done:i,value:E}=await f.read();if(i)break;let P=E.byteLength;new Uint8Array(w,g,P).set(E),g+=P}return new Uint8Array(w,0,h)}}else return u instanceof Blob?new Uint8Array(await u.arrayBuffer()):u instanceof Uint8Array?u:new Uint8Array(u)};var pn=(u,c)=>{Z()._OrtInit(u,c)!==0&&V("Can\'t initialize onnxruntime.")},Lr=async u=>{pn(u.wasm.numThreads,xr(u.logLevel))},Br=async(u,c)=>{},ze=new Map,mn=u=>{let c=Z(),a=c.stackSave();try{let h=c.stackAlloc(8);return c._OrtGetInputOutputCount(u,h,h+4)!==0&&V("Can\'t get session input/output count."),[c.HEAP32[h/4],c.HEAP32[h/4+1]]}finally{c.stackRestore(a)}},Lt=u=>{let c=Z(),a=c._malloc(u.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return c.HEAPU8.set(u,a),[a,u.byteLength]},kr=async(u,c)=>{let a,h,f=Z();Array.isArray(u)?[a,h]=u:u.buffer===f.HEAPU8.buffer?[a,h]=[u.byteOffset,u.byteLength]:[a,h]=Lt(u);let w=0,g=0,i=0,E=[],P=[],U=[];try{if([g,E]=Cr(c),c?.externalData&&f.mountExternalData){let W=[];for(let H of c.externalData){let se=typeof H=="string"?H:H.path;W.push(Rr(typeof H=="string"?H:H.data).then(ee=>{f.mountExternalData(se,ee)}))}await Promise.all(W)}w=await f._OrtCreateSession(a,h,g),w===0&&V("Can\'t create a session.");let[D,x]=mn(w),K=!!c?.enableGraphCapture,R=[],I=[],v=[];for(let W=0;W<D;W++){let H=f._OrtGetInputName(w,W);H===0&&V("Can\'t get an input name."),P.push(H),R.push(f.UTF8ToString(H))}for(let W=0;W<x;W++){let H=f._OrtGetOutputName(w,W);H===0&&V("Can\'t get an output name."),U.push(H);let se=f.UTF8ToString(H);I.push(se)}let k=null;return ze.set(w,[w,P,U,k,K,!1]),[w,R,I]}catch(D){throw P.forEach(x=>f._OrtFree(x)),U.forEach(x=>f._OrtFree(x)),i!==0&&f._OrtReleaseBinding(i),w!==0&&f._OrtReleaseSession(w),D}finally{f._free(a),g!==0&&f._OrtReleaseSessionOptions(g),E.forEach(D=>f._free(D)),f.unmountExternalData?.()}},Wr=u=>{let c=Z(),a=ze.get(u);if(!a)throw new Error(`cannot release session. invalid session id: ${u}`);let[h,f,w,g,i]=a;g&&(i&&c._OrtClearBoundOutputs(g.handle),c._OrtReleaseBinding(g.handle)),c.jsepOnReleaseSession?.(u),f.forEach(E=>c._OrtFree(E)),w.forEach(E=>c._OrtFree(E)),c._OrtReleaseSession(h),ze.delete(u)},Ir=(u,c,a,h,f,w=!1)=>{if(!u){c.push(0);return}let g=Z(),i=u[0],E=u[1],P=u[3],U,D;if(i==="string"&&P==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(w&&P!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${f} when enableGraphCapture is true.`);if(P==="gpu-buffer"){let R=u[2].gpuBuffer,I=It(Rt(i));D=E.reduce((k,W)=>k*W,1)*I;let v=g.jsepRegisterBuffer;if(!v)throw new Error(\'Tensor location "gpu-buffer" is not supported without using WebGPU.\');U=v(h,f,R,D)}else{let R=u[2];if(Array.isArray(R)){D=4*R.length,U=g._malloc(D),a.push(U);let I=U/4;for(let v=0;v<R.length;v++){if(typeof R[v]!="string")throw new TypeError(`tensor data at index ${v} is not a string`);g.HEAPU32[I++]=q(R[v],a)}}else D=R.byteLength,U=g._malloc(D),a.push(U),g.HEAPU8.set(new Uint8Array(R.buffer,R.byteOffset,D),U)}let x=g.stackSave(),K=g.stackAlloc(4*E.length);try{let R=K/4;E.forEach(v=>g.HEAP32[R++]=v);let I=g._OrtCreateTensor(Rt(i),U,D,K,E.length,Ur(P));I===0&&V(`Can\'t create tensor for input/output. session=${h}, index=${f}.`),c.push(I)}finally{g.stackRestore(x)}},Nr=async(u,c,a,h,f,w)=>{let g=Z(),i=ze.get(u);if(!i)throw new Error(`cannot run inference. invalid session id: ${u}`);let E=i[0],P=i[1],U=i[2],D=i[3],x=i[4],K=i[5],R=c.length,I=h.length,v=0,k=[],W=[],H=[],se=[],ee=g.stackSave(),S=g.stackAlloc(R*4),j=g.stackAlloc(R*4),Ce=g.stackAlloc(I*4),Ue=g.stackAlloc(I*4);try{[v,k]=Mr(w);for(let F=0;F<R;F++)Ir(a[F],W,se,u,c[F],x);for(let F=0;F<I;F++)Ir(f[F],H,se,u,R+h[F],x);let ce=S/4,ne=j/4,Q=Ce/4,Oe=Ue/4;for(let F=0;F<R;F++)g.HEAPU32[ce++]=W[F],g.HEAPU32[ne++]=P[c[F]];for(let F=0;F<I;F++)g.HEAPU32[Q++]=H[F],g.HEAPU32[Oe++]=U[h[F]];g.jsepOnRunStart?.(E);let he;he=await g._OrtRun(E,j,S,R,Ue,I,Ce,v),he!==0&&V("failed to call OrtRun().");let ae=[];for(let F=0;F<I;F++){let ye=g.HEAPU32[Ce/4+F];if(ye===H[F]){ae.push(f[F]);continue}let ve=g.stackSave(),fe=g.stackAlloc(4*4),_e=!1,Y,pe=0;try{g._OrtGetTensorData(ye,fe,fe+4,fe+8,fe+12)!==0&&V(`Can\'t access output tensor data on index ${F}.`);let Ee=fe/4,be=g.HEAPU32[Ee++];pe=g.HEAPU32[Ee++];let we=g.HEAPU32[Ee++],Le=g.HEAPU32[Ee++],me=[];for(let te=0;te<Le;te++)me.push(g.HEAPU32[we/4+te]);g._OrtFree(we);let Se=me.reduce((te,z)=>te*z,1);Y=Dr(be);let De=D?.outputPreferredLocations[h[F]];if(Y==="string"){if(De==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let te=[],z=pe/4;for(let le=0;le<Se;le++){let Fe=g.HEAPU32[z++],Ae=le===Se-1?void 0:g.HEAPU32[z]-Fe;te.push(g.UTF8ToString(Fe,Ae))}ae.push([Y,me,te,"cpu"])}else if(De==="gpu-buffer"&&Se>0){let te=g.jsepGetBuffer;if(!te)throw new Error(\'preferredLocation "gpu-buffer" is not supported without using WebGPU.\');let z=te(pe),le=It(be);if(le===void 0||!Pr(Y))throw new Error(`Unsupported data type: ${Y}`);_e=!0,ae.push([Y,me,{gpuBuffer:z,download:g.jsepCreateDownloader(z,Se*le,Y),dispose:()=>{g._OrtReleaseTensor(ye)}},"gpu-buffer"])}else{let te=Fr(Y),z=new te(Se);new Uint8Array(z.buffer,z.byteOffset,z.byteLength).set(g.HEAPU8.subarray(pe,pe+z.byteLength)),ae.push([Y,me,z,"cpu"])}}finally{g.stackRestore(ve),Y==="string"&&pe&&g._free(pe),_e||g._OrtReleaseTensor(ye)}}return D&&!x&&(g._OrtClearBoundOutputs(D.handle),ze.set(u,[E,P,U,D,x,!1])),ae}finally{g.stackRestore(ee),W.forEach(ce=>g._OrtReleaseTensor(ce)),H.forEach(ce=>g._OrtReleaseTensor(ce)),se.forEach(ce=>g._free(ce)),v!==0&&g._OrtReleaseRunOptions(v),k.forEach(ce=>g._free(ce))}},Hr=u=>{let c=Z(),a=ze.get(u);if(!a)throw new Error("invalid session id");let h=a[0],f=c._OrtEndProfiling(h);f===0&&V("Can\'t get an profile file name."),c._OrtFree(f)},Gr=u=>{let c=[];for(let a of u){let h=a[2];!Array.isArray(h)&&"buffer"in h&&c.push(h.buffer)}return c};self.onmessage=u=>{let{type:c,in:a}=u.data;try{switch(c){case"init-wasm":Tr(a.wasm).then(()=>{Lr(a).then(()=>{postMessage({type:c})},h=>{postMessage({type:c,err:h})})},h=>{postMessage({type:c,err:h})});break;case"init-ep":{let{epName:h,env:f}=a;Br(f,h).then(()=>{postMessage({type:c})},w=>{postMessage({type:c,err:w})});break}case"copy-from":{let{buffer:h}=a,f=Lt(h);postMessage({type:c,out:f});break}case"create":{let{model:h,options:f}=a;kr(h,f).then(w=>{postMessage({type:c,out:w})},w=>{postMessage({type:c,err:w})});break}case"release":Wr(a),postMessage({type:c});break;case"run":{let{sessionId:h,inputIndices:f,inputs:w,outputIndices:g,options:i}=a;Nr(h,f,w,g,new Array(g.length).fill(null),i).then(E=>{E.some(P=>P[3]!=="cpu")?postMessage({type:c,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:c,out:E},Gr([...w,...E]))},E=>{postMessage({type:c,err:E})});break}case"end-profiling":Hr(a),postMessage({type:c});break;default:}}catch(h){postMessage({type:c,err:h})}};})();\n'}),wr,ht$1,xn$1,Fo$1,Co$1,da$1,ha$1,Hr,qr,wg,Lo$1,ad,sd,ud,ld$1,fd$1,cd$1,pd$1,ma$1=E$1(()=>{var o;Tt(),od(),Vr(),wr=()=>!!Z$1.wasm.proxy&&typeof document<"u",xn$1=!1,Fo$1=!1,Co$1=!1,ha$1=new Map,Hr=(s,j)=>{let et=ha$1.get(s);et?et.push(j):ha$1.set(s,[j])},qr=()=>{if(xn$1||!Fo$1||Co$1||!ht$1)throw new Error("worker not ready")},wg=s=>{switch(s.data.type){case"init-wasm":xn$1=!1,s.data.err?(Co$1=!0,da$1[1](s.data.err)):(Fo$1=!0,da$1[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let j=ha$1.get(s.data.type);s.data.err?j.shift()[1](s.data.err):j.shift()[0](s.data.out);break}}},Lo$1=typeof document<"u"?(o=document==null?void 0:document.currentScript)==null?void 0:o.src:void 0,ad=async()=>{if(!Fo$1){if(xn$1)throw new Error("multiple calls to 'initWasm()' detected.");if(Co$1)throw new Error("previous call to 'initWasm()' failed.");if(xn$1=!0,wr())return Z$1.wasm.wasmPaths===void 0&&Lo$1&&Lo$1.indexOf("blob:")!==0&&(Z$1.wasm.wasmPaths=Lo$1.substr(0,+Lo$1.lastIndexOf("/")+1)),new Promise((s,j)=>{ht$1==null||ht$1.terminate();let et=URL.createObjectURL(new Blob([id()],{type:"text/javascript"}));ht$1=new Worker(et,{name:"ort-wasm-proxy-worker"}),ht$1.onerror=At=>j(At),ht$1.onmessage=wg,URL.revokeObjectURL(et),da$1=[s,j];let bt={type:"init-wasm",in:Z$1};ht$1.postMessage(bt)});try{await Up$1(Z$1.wasm),await Jp$1(Z$1),Fo$1=!0}catch(s){throw Co$1=!0,s}finally{xn$1=!1}}},sd=async s=>{if(wr())return qr(),new Promise((j,et)=>{Hr("init-ep",[j,et]);let bt={type:"init-ep",in:{epName:s,env:Z$1}};ht$1.postMessage(bt)});await Zp$1(Z$1,s)},ud=async s=>wr()?(qr(),new Promise((j,et)=>{Hr("copy-from",[j,et]);let bt={type:"copy-from",in:{buffer:s}};ht$1.postMessage(bt,[s.buffer])})):pa$1(s),ld$1=async(s,j)=>{if(wr()){if(j!=null&&j.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return qr(),new Promise((et,bt)=>{Hr("create",[et,bt]);let At={type:"create",in:{model:s,options:{...j}}},Et=[];s instanceof Uint8Array&&Et.push(s.buffer),ht$1.postMessage(At,Et)})}else return Qp$1(s,j)},fd$1=async s=>{if(wr())return qr(),new Promise((j,et)=>{Hr("release",[j,et]);let bt={type:"release",in:s};ht$1.postMessage(bt)});ed(s)},cd$1=async(s,j,et,bt,At,Et)=>{if(wr()){if(et.some(Ut=>Ut[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(At.some(Ut=>Ut))throw new Error("pre-allocated output tensor is not supported for proxy.");return qr(),new Promise((Ut,zt)=>{Hr("run",[Ut,zt]);let It=et,Qt={type:"run",in:{sessionId:s,inputIndices:j,inputs:It,outputIndices:bt,options:Et}};ht$1.postMessage(Qt,nd(It))})}else return td(s,j,et,bt,At,Et)},pd$1=async s=>{if(wr())return qr(),new Promise((j,et)=>{Hr("end-profiling",[j,et]);let bt={type:"end-profiling",in:s};ht$1.postMessage(bt)});rd(s)}}),dd$1,vg,$o$1,hd$1=E$1(()=>{Tt(),ma$1(),fa$1(),ca$1(),dd$1=(o,s)=>{switch(o.location){case"cpu":return[o.type,o.dims,o.data,"cpu"];case"gpu-buffer":return[o.type,o.dims,{gpuBuffer:o.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${o.location} for ${s()}`)}},vg=o=>{switch(o[3]){case"cpu":return new Re(o[0],o[2],o[1]);case"gpu-buffer":{let s=o[0];if(!Do$1(s))throw new Error(`not supported data type: ${s} for deserializing GPU tensor`);let{gpuBuffer:j,download:et,dispose:bt}=o[2];return Re.fromGpuBuffer(j,{dataType:s,dims:o[1],download:et,dispose:bt})}default:throw new Error(`invalid data location: ${o[3]}`)}},$o$1=class{async fetchModelAndCopyToWasmMemory(o){return ud(await Tn$1(o))}async loadModel(o,s){sr$1();let j;typeof o=="string"?typeof process<"u"&&process.versions&&process.versions.node?j=await Tn$1(o):j=await this.fetchModelAndCopyToWasmMemory(o):j=o,[this.sessionId,this.inputNames,this.outputNames]=await ld$1(j,s),ur()}async dispose(){return fd$1(this.sessionId)}async run(o,s,j){sr$1();let et=[],bt=[];Object.entries(o).forEach(Pt=>{let Yt=Pt[0],cr=Pt[1],_r=this.inputNames.indexOf(Yt);if(_r===-1)throw new Error(`invalid input '${Yt}'`);et.push(cr),bt.push(_r)});let At=[],Et=[];Object.entries(s).forEach(Pt=>{let Yt=Pt[0],cr=Pt[1],_r=this.outputNames.indexOf(Yt);if(_r===-1)throw new Error(`invalid output '${Yt}'`);At.push(cr),Et.push(_r)});let Ut=et.map((Pt,Yt)=>dd$1(Pt,()=>`input "${this.inputNames[bt[Yt]]}"`)),zt=At.map((Pt,Yt)=>Pt?dd$1(Pt,()=>`output "${this.outputNames[Et[Yt]]}"`):null),It=await cd$1(this.sessionId,bt,Ut,Et,zt,j),Qt={};for(let Pt=0;Pt<It.length;Pt++)Qt[this.outputNames[Et[Pt]]]=At[Pt]??vg(It[Pt]);return ur(),Qt}startProfiling(){}endProfiling(){pd$1(this.sessionId)}}}),_g,ko$1,md$1=E$1(()=>{Tt(),ma$1(),hd$1(),_g=()=>{if((typeof Z$1.wasm.initTimeout!="number"||Z$1.wasm.initTimeout<0)&&(Z$1.wasm.initTimeout=0),typeof Z$1.wasm.simd!="boolean"&&(Z$1.wasm.simd=!0),typeof Z$1.wasm.proxy!="boolean"&&(Z$1.wasm.proxy=!1),typeof Z$1.wasm.trace!="boolean"&&(Z$1.wasm.trace=!1),typeof Z$1.wasm.numThreads!="number"||!Number.isInteger(Z$1.wasm.numThreads)||Z$1.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(Z$1.wasm.numThreads=1);let o=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;Z$1.wasm.numThreads=Math.min(4,Math.ceil((o||1)/2))}},ko$1=class{async init(o){_g(),await ad(),await sd(o)}async createInferenceSessionHandler(o,s){let j=new $o$1;return await j.loadModel(o,s),Promise.resolve(j)}}}),bd$1={};Pr$1(bd$1,{wasmBackend:()=>Og});var Og,gd$1=E$1(()=>{md$1(),Og=new ko$1});Tt();Tt();Tt();var ws$1="1.17.3",XO=Yo$1;{let o=(Sp$1(),or$1(Ip$1)).onnxjsBackend;Dr("webgl",o,-10)}{let o=(gd$1(),or$1(bd$1)).wasmBackend;Dr("cpu",o,10),Dr("wasm",o,10)}Object.defineProperty(Z$1.versions,"web",{value:ws$1,enumerable:!0});/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/const ort_cpu=Object.freeze(Object.defineProperty({__proto__:null,get InferenceSession(){return Dd$1},get TRACE(){return cs$1},get TRACE_FUNC_BEGIN(){return sr$1},get TRACE_FUNC_END(){return ur},get Tensor(){return Re},get TrainingSession(){return Fd$1},default:XO,get env(){return Z$1},get registerBackend(){return Dr}},Symbol.toStringTag,{value:"Module"}));/*!
 * ONNX Runtime Web v1.17.3
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */var Fn=Object.defineProperty,ld=Object.getOwnPropertyDescriptor,dd=Object.getOwnPropertyNames,cd=Object.prototype.hasOwnProperty,F$1=(o,s)=>()=>(o&&(s=o(o=0)),s),tr=(o,s)=>()=>(s||o((s={exports:{}}).exports,s),s.exports),rr=(o,s)=>{for(var j in s)Fn(o,j,{get:s[j],enumerable:!0})},pd=(o,s,j,et)=>{if(s&&typeof s=="object"||typeof s=="function")for(let bt of dd(s))!cd.call(o,bt)&&bt!==j&&Fn(o,bt,{get:()=>s[bt],enumerable:!(et=ld(s,bt))||et.enumerable});return o},Gt=o=>pd(Fn({},"__esModule",{value:!0}),o),Zr,Ht,Lt,fd,Xr,Qr=F$1(()=>{Zr=new Map,Ht=[],Lt=(o,s,j)=>{if(s&&typeof s.init=="function"&&typeof s.createInferenceSessionHandler=="function"){let et=Zr.get(o);if(et===void 0)Zr.set(o,{backend:s,priority:j});else{if(et.priority>j)return;if(et.priority===j&&et.backend!==s)throw new Error(`cannot register backend "${o}" using priority ${j}`)}if(j>=0){let bt=Ht.indexOf(o);bt!==-1&&Ht.splice(bt,1);for(let At=0;At<Ht.length;At++)if(Zr.get(Ht[At]).priority<=j){Ht.splice(At,0,o);return}Ht.push(o)}return}throw new TypeError("not a valid backend")},fd=async o=>{let s=Zr.get(o);if(!s)return"backend not found.";if(s.initialized)return s.backend;if(s.aborted)return s.error;{let j=!!s.initPromise;try{return j||(s.initPromise=s.backend.init(o)),await s.initPromise,s.initialized=!0,s.backend}catch(et){return j||(s.error=`${et}`,s.aborted=!0),s.error}finally{delete s.initPromise}}},Xr=async o=>{let s=o.executionProviders||[],j=s.map(zt=>typeof zt=="string"?zt:zt.name),et=j.length===0?Ht:j,bt,At=[],Et=new Set;for(let zt of et){let It=await fd(zt);typeof It=="string"?At.push({name:zt,err:It}):(bt||(bt=It),bt===It&&Et.add(zt))}if(!bt)throw new Error(`no available backend found. ERR: ${At.map(zt=>`[${zt.name}] ${zt.err}`).join(", ")}`);for(let{name:zt,err:It}of At)j.includes(zt)&&console.warn(`removing requested execution provider "${zt}" from session options because it is not available: ${It}`);let Ut=s.filter(zt=>Et.has(typeof zt=="string"?zt:zt.name));return[bt,new Proxy(o,{get:(zt,It)=>It==="executionProviders"?Ut:Reflect.get(zt,It)})]}}),ii=F$1(()=>{Qr()}),oi,si=F$1(()=>{oi="1.17.3"}),ui,ot,qn=F$1(()=>{si(),ui="warning",ot={wasm:{},webgl:{},webgpu:{},versions:{common:oi},set logLevel(o){if(o!==void 0){if(typeof o!="string"||["verbose","info","warning","error","fatal"].indexOf(o)===-1)throw new Error(`Unsupported logging level: ${o}`);ui=o}},get logLevel(){return ui}},Object.defineProperty(ot,"logLevel",{enumerable:!0})}),Ae,li=F$1(()=>{qn(),Ae=ot}),di,ci,pi=F$1(()=>{di=(o,s)=>{let j=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);j.width=o.dims[3],j.height=o.dims[2];let et=j.getContext("2d");if(et!=null){let bt,At;(s==null?void 0:s.tensorLayout)!==void 0&&s.tensorLayout==="NHWC"?(bt=o.dims[2],At=o.dims[3]):(bt=o.dims[3],At=o.dims[2]);let Et=(s==null?void 0:s.format)!==void 0?s.format:"RGB",Ut=s==null?void 0:s.norm,zt,It;Ut===void 0||Ut.mean===void 0?zt=[255,255,255,255]:typeof Ut.mean=="number"?zt=[Ut.mean,Ut.mean,Ut.mean,Ut.mean]:(zt=[Ut.mean[0],Ut.mean[1],Ut.mean[2],0],Ut.mean[3]!==void 0&&(zt[3]=Ut.mean[3])),Ut===void 0||Ut.bias===void 0?It=[0,0,0,0]:typeof Ut.bias=="number"?It=[Ut.bias,Ut.bias,Ut.bias,Ut.bias]:(It=[Ut.bias[0],Ut.bias[1],Ut.bias[2],0],Ut.bias[3]!==void 0&&(It[3]=Ut.bias[3]));let Qt=At*bt,Pt=0,Yt=Qt,cr=Qt*2,_r=-1;Et==="RGBA"?(Pt=0,Yt=Qt,cr=Qt*2,_r=Qt*3):Et==="RGB"?(Pt=0,Yt=Qt,cr=Qt*2):Et==="RBG"&&(Pt=0,cr=Qt,Yt=Qt*2);for(let vr=0;vr<At;vr++)for(let Yr=0;Yr<bt;Yr++){let Kr=(o.data[Pt++]-It[0])*zt[0],jr=(o.data[Yt++]-It[1])*zt[1],Hn=(o.data[cr++]-It[2])*zt[2],tA=_r===-1?255:(o.data[_r++]-It[3])*zt[3];et.fillStyle="rgba("+Kr+","+jr+","+Hn+","+tA+")",et.fillRect(Yr,vr,1,1)}if("toDataURL"in j)return j.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},ci=(o,s)=>{let j=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),et;if(j!=null){let bt,At,Et;(s==null?void 0:s.tensorLayout)!==void 0&&s.tensorLayout==="NHWC"?(bt=o.dims[2],At=o.dims[1],Et=o.dims[3]):(bt=o.dims[3],At=o.dims[2],Et=o.dims[1]);let Ut=s!==void 0&&s.format!==void 0?s.format:"RGB",zt=s==null?void 0:s.norm,It,Qt;zt===void 0||zt.mean===void 0?It=[255,255,255,255]:typeof zt.mean=="number"?It=[zt.mean,zt.mean,zt.mean,zt.mean]:(It=[zt.mean[0],zt.mean[1],zt.mean[2],255],zt.mean[3]!==void 0&&(It[3]=zt.mean[3])),zt===void 0||zt.bias===void 0?Qt=[0,0,0,0]:typeof zt.bias=="number"?Qt=[zt.bias,zt.bias,zt.bias,zt.bias]:(Qt=[zt.bias[0],zt.bias[1],zt.bias[2],0],zt.bias[3]!==void 0&&(Qt[3]=zt.bias[3]));let Pt=At*bt;if(s!==void 0&&(s.format!==void 0&&Et===4&&s.format!=="RGBA"||Et===3&&s.format!=="RGB"&&s.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let Yt=4,cr=0,_r=1,vr=2,Yr=3,Kr=0,jr=Pt,Hn=Pt*2,tA=-1;Ut==="RGBA"?(Kr=0,jr=Pt,Hn=Pt*2,tA=Pt*3):Ut==="RGB"?(Kr=0,jr=Pt,Hn=Pt*2):Ut==="RBG"&&(Kr=0,Hn=Pt,jr=Pt*2),et=j.createImageData(bt,At);for(let nA=0;nA<At*bt;cr+=Yt,_r+=Yt,vr+=Yt,Yr+=Yt,nA++)et.data[cr]=(o.data[Kr++]-Qt[0])*It[0],et.data[_r]=(o.data[jr++]-Qt[1])*It[1],et.data[vr]=(o.data[Hn++]-Qt[2])*It[2],et.data[Yr]=tA===-1?255:(o.data[tA++]-Qt[3])*It[3]}else throw new Error("Can not access image data");return et}}),jn,fi,mi,hi,gi,yi=F$1(()=>{Jr(),jn=(o,s)=>{if(o===void 0)throw new Error("Image buffer must be defined");if(s.height===void 0||s.width===void 0)throw new Error("Image height and width must be defined");if(s.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:j,width:et}=s,bt=s.norm??{mean:255,bias:0},At,Et;typeof bt.mean=="number"?At=[bt.mean,bt.mean,bt.mean,bt.mean]:At=[bt.mean[0],bt.mean[1],bt.mean[2],bt.mean[3]??255],typeof bt.bias=="number"?Et=[bt.bias,bt.bias,bt.bias,bt.bias]:Et=[bt.bias[0],bt.bias[1],bt.bias[2],bt.bias[3]??0];let Ut=s.format!==void 0?s.format:"RGBA",zt=s.tensorFormat!==void 0&&s.tensorFormat!==void 0?s.tensorFormat:"RGB",It=j*et,Qt=zt==="RGBA"?new Float32Array(It*4):new Float32Array(It*3),Pt=4,Yt=0,cr=1,_r=2,vr=3,Yr=0,Kr=It,jr=It*2,Hn=-1;Ut==="RGB"&&(Pt=3,Yt=0,cr=1,_r=2,vr=-1),zt==="RGBA"?Hn=It*3:zt==="RBG"?(Yr=0,jr=It,Kr=It*2):zt==="BGR"&&(jr=0,Kr=It,Yr=It*2);for(let tA=0;tA<It;tA++,Yt+=Pt,_r+=Pt,cr+=Pt,vr+=Pt)Qt[Yr++]=(o[Yt]+Et[0])/At[0],Qt[Kr++]=(o[cr]+Et[1])/At[1],Qt[jr++]=(o[_r]+Et[2])/At[2],Hn!==-1&&vr!==-1&&(Qt[Hn++]=(o[vr]+Et[3])/At[3]);return zt==="RGBA"?new rt("float32",Qt,[1,4,j,et]):new rt("float32",Qt,[1,3,j,et])},fi=async(o,s)=>{let j=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,et=typeof ImageData<"u"&&o instanceof ImageData,bt=typeof ImageBitmap<"u"&&o instanceof ImageBitmap,At=typeof o=="string",Et,Ut=s??{},zt=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},It=Qt=>Qt instanceof HTMLCanvasElement||Qt instanceof OffscreenCanvas?Qt.getContext("2d"):null;if(j){let Qt=zt();Qt.width=o.width,Qt.height=o.height;let Pt=It(Qt);if(Pt!=null){let Yt=o.height,cr=o.width;if(s!==void 0&&s.resizedHeight!==void 0&&s.resizedWidth!==void 0&&(Yt=s.resizedHeight,cr=s.resizedWidth),s!==void 0){if(Ut=s,s.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");Ut.tensorFormat="RGBA",Ut.height=Yt,Ut.width=cr}else Ut.tensorFormat="RGBA",Ut.height=Yt,Ut.width=cr;Pt.drawImage(o,0,0),Et=Pt.getImageData(0,0,cr,Yt).data}else throw new Error("Can not access image data")}else if(et){let Qt,Pt;if(s!==void 0&&s.resizedWidth!==void 0&&s.resizedHeight!==void 0?(Qt=s.resizedHeight,Pt=s.resizedWidth):(Qt=o.height,Pt=o.width),s!==void 0&&(Ut=s),Ut.format="RGBA",Ut.height=Qt,Ut.width=Pt,s!==void 0){let Yt=zt();Yt.width=Pt,Yt.height=Qt;let cr=It(Yt);if(cr!=null)cr.putImageData(o,0,0),Et=cr.getImageData(0,0,Pt,Qt).data;else throw new Error("Can not access image data")}else Et=o.data}else if(bt){if(s===void 0)throw new Error("Please provide image config with format for Imagebitmap");let Qt=zt();Qt.width=o.width,Qt.height=o.height;let Pt=It(Qt);if(Pt!=null){let Yt=o.height,cr=o.width;return Pt.drawImage(o,0,0,cr,Yt),Et=Pt.getImageData(0,0,cr,Yt).data,Ut.height=Yt,Ut.width=cr,jn(Et,Ut)}else throw new Error("Can not access image data")}else{if(At)return new Promise((Qt,Pt)=>{let Yt=zt(),cr=It(Yt);if(!o||!cr)return Pt();let _r=new Image;_r.crossOrigin="Anonymous",_r.src=o,_r.onload=()=>{Yt.width=_r.width,Yt.height=_r.height,cr.drawImage(_r,0,0,Yt.width,Yt.height);let vr=cr.getImageData(0,0,Yt.width,Yt.height);Ut.height=Yt.height,Ut.width=Yt.width,Qt(jn(vr.data,Ut))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(Et!==void 0)return jn(Et,Ut);throw new Error("Input data provided is not supported - aborted tensor creation")},mi=(o,s)=>{let{width:j,height:et,download:bt,dispose:At}=s,Et=[1,et,j,4];return new rt({location:"texture",type:"float32",texture:o,dims:Et,download:bt,dispose:At})},hi=(o,s)=>{let{dataType:j,dims:et,download:bt,dispose:At}=s;return new rt({location:"gpu-buffer",type:j??"float32",gpuBuffer:o,dims:et,download:bt,dispose:At})},gi=(o,s,j)=>new rt({location:"cpu-pinned",type:o,data:s,dims:j??[s.length]})}),Ft,Sr,bi,wi,vi=F$1(()=>{Ft=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Sr=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),bi=!1,wi=()=>{if(!bi){bi=!0;let o=typeof BigInt64Array<"u"&&BigInt64Array.from,s=typeof BigUint64Array<"u"&&BigUint64Array.from,j=typeof Float16Array<"u"&&Float16Array.from;o&&(Ft.set("int64",BigInt64Array),Sr.set(BigInt64Array,"int64")),s&&(Ft.set("uint64",BigUint64Array),Sr.set(BigUint64Array,"uint64")),j?(Ft.set("float16",Float16Array),Sr.set(Float16Array,"float16")):Ft.set("float16",Uint16Array)}}}),$i,_i,xi=F$1(()=>{Jr(),$i=o=>{let s=1;for(let j=0;j<o.length;j++){let et=o[j];if(typeof et!="number"||!Number.isSafeInteger(et))throw new TypeError(`dims[${j}] must be an integer, got: ${et}`);if(et<0)throw new RangeError(`dims[${j}] must be a non-negative integer, got: ${et}`);s*=et}return s},_i=(o,s)=>{switch(o.location){case"cpu":return new rt(o.type,o.data,s);case"cpu-pinned":return new rt({location:"cpu-pinned",data:o.data,type:o.type,dims:s});case"texture":return new rt({location:"texture",texture:o.texture,type:o.type,dims:s});case"gpu-buffer":return new rt({location:"gpu-buffer",gpuBuffer:o.gpuBuffer,type:o.type,dims:s});default:throw new Error(`tensorReshape: tensor location ${o.location} is not supported`)}}}),rt,Jr=F$1(()=>{pi(),yi(),vi(),xi(),rt=class{constructor(o,s,j){wi();let et,bt;if(typeof o=="object"&&"location"in o)switch(this.dataLocation=o.location,et=o.type,bt=o.dims,o.location){case"cpu-pinned":{let Et=Ft.get(et);if(!Et)throw new TypeError(`unsupported type "${et}" to create tensor from pinned buffer`);if(!(o.data instanceof Et))throw new TypeError(`buffer should be of type ${Et.name}`);this.cpuData=o.data;break}case"texture":{if(et!=="float32")throw new TypeError(`unsupported type "${et}" to create tensor from texture`);this.gpuTextureData=o.texture,this.downloader=o.download,this.disposer=o.dispose;break}case"gpu-buffer":{if(et!=="float32"&&et!=="float16"&&et!=="int32"&&et!=="int64"&&et!=="uint32"&&et!=="uint8"&&et!=="bool")throw new TypeError(`unsupported type "${et}" to create tensor from gpu buffer`);this.gpuBufferData=o.gpuBuffer,this.downloader=o.download,this.disposer=o.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let Et,Ut;if(typeof o=="string")if(et=o,Ut=j,o==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");Et=s}else{let zt=Ft.get(o);if(zt===void 0)throw new TypeError(`Unsupported tensor type: ${o}.`);if(Array.isArray(s)){if(o==="float16"&&zt===Uint16Array)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");o==="uint64"||o==="int64"?Et=zt.from(s,BigInt):Et=zt.from(s)}else if(s instanceof zt)Et=s;else throw new TypeError(`A ${et} tensor's data must be type of ${zt}`)}else if(Ut=s,Array.isArray(o)){if(o.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let zt=typeof o[0];if(zt==="string")et="string",Et=o;else if(zt==="boolean")et="bool",Et=Uint8Array.from(o);else throw new TypeError(`Invalid element type of data array: ${zt}.`)}else{let zt=Sr.get(o.constructor);if(zt===void 0)throw new TypeError(`Unsupported type for tensor data: ${o.constructor}.`);et=zt,Et=o}if(Ut===void 0)Ut=[Et.length];else if(!Array.isArray(Ut))throw new TypeError("A tensor's dims must be a number array");bt=Ut,this.cpuData=Et,this.dataLocation="cpu"}let At=$i(bt);if(this.cpuData&&At!==this.cpuData.length)throw new Error(`Tensor's size(${At}) does not match data length(${this.cpuData.length}).`);this.type=et,this.dims=bt,this.size=At}static async fromImage(o,s){return fi(o,s)}static fromTexture(o,s){return mi(o,s)}static fromGpuBuffer(o,s){return hi(o,s)}static fromPinnedBuffer(o,s,j){return gi(o,s,j)}toDataURL(o){return di(this,o)}toImageData(o){return ci(this,o)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(o){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let s=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=s,o&&this.disposer&&(this.disposer(),this.disposer=void 0),s}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(o){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return _i(this,o)}}}),Ze,en=F$1(()=>{Jr(),Ze=rt}),tn,Si,st,nt,Kn=F$1(()=>{qn(),tn=(o,s)=>{(typeof ot.trace>"u"?!ot.wasm.trace:!ot.trace)||console.timeStamp(`${o}::ORT::${s}`)},Si=(o,s)=>{var bt;let j=((bt=new Error().stack)==null?void 0:bt.split(/\r\n|\r|\n/g))||[],et=!1;for(let At=0;At<j.length;At++){if(et&&!j[At].includes("TRACE_FUNC")){let Et=`FUNC_${o}::${j[At].trim().split(" ")[1]}`;s&&(Et+=`::${s}`),tn("CPU",Et);return}j[At].includes("TRACE_FUNC")&&(et=!0)}},st=o=>{(typeof ot.trace>"u"?!ot.wasm.trace:!ot.trace)||Si("BEGIN",o)},nt=o=>{(typeof ot.trace>"u"?!ot.wasm.trace:!ot.trace)||Si("END",o)}}),rn,Ci=F$1(()=>{Qr(),en(),Kn(),rn=class vx{constructor(s){this.handler=s}async run(s,j,et){st();let bt={},At={};if(typeof s!="object"||s===null||s instanceof Ze||Array.isArray(s))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let Et=!0;if(typeof j=="object"){if(j===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(j instanceof Ze)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(j)){if(j.length===0)throw new TypeError("'fetches' cannot be an empty array.");Et=!1;for(let It of j){if(typeof It!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(It)===-1)throw new RangeError(`'fetches' contains invalid output name: ${It}.`);bt[It]=null}if(typeof et=="object"&&et!==null)At=et;else if(typeof et<"u")throw new TypeError("'options' must be an object.")}else{let It=!1,Qt=Object.getOwnPropertyNames(j);for(let Pt of this.outputNames)if(Qt.indexOf(Pt)!==-1){let Yt=j[Pt];(Yt===null||Yt instanceof Ze)&&(It=!0,Et=!1,bt[Pt]=Yt)}if(It){if(typeof et=="object"&&et!==null)At=et;else if(typeof et<"u")throw new TypeError("'options' must be an object.")}else At=j}}else if(typeof j<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let It of this.inputNames)if(typeof s[It]>"u")throw new Error(`input '${It}' is missing in 'feeds'.`);if(Et)for(let It of this.outputNames)bt[It]=null;let Ut=await this.handler.run(s,bt,At),zt={};for(let It in Ut)if(Object.hasOwnProperty.call(Ut,It)){let Qt=Ut[It];Qt instanceof Ze?zt[It]=Qt:zt[It]=new Ze(Qt.type,Qt.data,Qt.dims)}return nt(),zt}async release(){return this.handler.dispose()}static async create(s,j,et,bt){st();let At,Et={};if(typeof s=="string"){if(At=s,typeof j=="object"&&j!==null)Et=j;else if(typeof j<"u")throw new TypeError("'options' must be an object.")}else if(s instanceof Uint8Array){if(At=s,typeof j=="object"&&j!==null)Et=j;else if(typeof j<"u")throw new TypeError("'options' must be an object.")}else if(s instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&s instanceof SharedArrayBuffer){let Qt=s,Pt=0,Yt=s.byteLength;if(typeof j=="object"&&j!==null)Et=j;else if(typeof j=="number"){if(Pt=j,!Number.isSafeInteger(Pt))throw new RangeError("'byteOffset' must be an integer.");if(Pt<0||Pt>=Qt.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${Qt.byteLength}).`);if(Yt=s.byteLength-Pt,typeof et=="number"){if(Yt=et,!Number.isSafeInteger(Yt))throw new RangeError("'byteLength' must be an integer.");if(Yt<=0||Pt+Yt>Qt.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${Qt.byteLength-Pt}].`);if(typeof bt=="object"&&bt!==null)Et=bt;else if(typeof bt<"u")throw new TypeError("'options' must be an object.")}else if(typeof et<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof j<"u")throw new TypeError("'options' must be an object.");At=new Uint8Array(Qt,Pt,Yt)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let[Ut,zt]=await Xr(Et),It=await Ut.createInferenceSessionHandler(At,zt);return nt(),new vx(It)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}}),md,Ii=F$1(()=>{Ci(),md=rn}),Ei=F$1(()=>{}),Ai=F$1(()=>{}),Ti=F$1(()=>{}),Oi=F$1(()=>{}),hd,nn,ki=F$1(()=>{Qr(),en(),hd="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",nn=class bx{constructor(s,j,et){this.handler=s,this.hasOptimizerModel=j,this.hasEvalModel=et}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(s,j){let et=s.evalModel||"",bt=s.optimizerModel||"",At=j||{},[Et,Ut]=await Xr(At);if(Et.createTrainingSessionHandler){let zt=await Et.createTrainingSessionHandler(s.checkpointState,s.trainModel,et,bt,Ut);return new bx(zt,!!s.optimizerModel,!!s.evalModel)}else throw new Error(hd)}typeNarrowingForRunStep(s,j,et,bt,At){let Et={},Ut={};if(typeof et!="object"||et===null||et instanceof Ze||Array.isArray(et))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let zt=!0;if(typeof bt=="object"){if(bt===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(bt instanceof Ze)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(bt)){if(bt.length===0)throw new TypeError("'fetches' cannot be an empty array.");zt=!1;for(let It of bt){if(typeof It!="string")throw new TypeError("'fetches' must be a string array or an object.");if(j.indexOf(It)===-1)throw new RangeError(`'fetches' contains invalid output name: ${It}.`);Et[It]=null}if(typeof At=="object"&&At!==null)Ut=At;else if(typeof At<"u")throw new TypeError("'options' must be an object.")}else{let It=!1,Qt=Object.getOwnPropertyNames(bt);for(let Pt of j)if(Qt.indexOf(Pt)!==-1){let Yt=bt[Pt];(Yt===null||Yt instanceof Ze)&&(It=!0,zt=!1,Et[Pt]=Yt)}if(It){if(typeof At=="object"&&At!==null)Ut=At;else if(typeof At<"u")throw new TypeError("'options' must be an object.")}else Ut=bt}}else if(typeof bt<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let It of s)if(typeof et[It]>"u")throw new Error(`input '${It}' is missing in 'feeds'.`);if(zt)for(let It of j)Et[It]=null;return[Et,Ut]}convertHandlerReturnTypeToMapOfTensors(s){let j={};for(let et in s)if(Object.hasOwnProperty.call(s,et)){let bt=s[et];bt instanceof Ze?j[et]=bt:j[et]=new Ze(bt.type,bt.data,bt.dims)}return j}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(s,j,et){let[bt,At]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,s,j,et),Et=await this.handler.runTrainStep(s,bt,At);return this.convertHandlerReturnTypeToMapOfTensors(Et)}async runOptimizerStep(s){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(s||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(s,j,et){if(this.hasEvalModel){let[bt,At]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,s,j,et),Et=await this.handler.runEvalStep(s,bt,At);return this.convertHandlerReturnTypeToMapOfTensors(Et)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(s=!0){return this.handler.getParametersSize(s)}async loadParametersBuffer(s,j=!0){let et=await this.getParametersSize(j);if(s.length!==4*et)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(s,j)}async getContiguousParameters(s=!0){return this.handler.getContiguousParameters(s)}async release(){return this.handler.dispose()}}}),gd,Pi=F$1(()=>{ki(),gd=nn}),Yn={};rr(Yn,{InferenceSession:()=>md,TRACE:()=>tn,TRACE_FUNC_BEGIN:()=>st,TRACE_FUNC_END:()=>nt,Tensor:()=>Ze,TrainingSession:()=>gd,env:()=>Ae,registerBackend:()=>Lt});var lt=F$1(()=>{ii(),li(),Ii(),en(),Ei(),Ai(),Kn(),Ti(),Oi(),Pi()}),Zn={};rr(Zn,{createReadStream:()=>zi,readFile:()=>yd,readFileSync:()=>bd});var yd,bd,zi,Xn=F$1(()=>{yd=void 0,bd=void 0,zi=void 0}),Qn={};rr(Qn,{join:()=>wd});var wd,Jn=F$1(()=>{wd=void 0}),Mi=tr((o,s)=>{var j=(()=>{var et=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(et=et||__filename),function(bt={}){var At=bt,Et,Ut;At.ready=new Promise((oA,gA)=>{Et=oA,Ut=gA}),At.mountExternalData=(oA,gA)=>{(At.Fa||(At.Fa=new Map)).set(oA,gA)},At.unmountExternalData=()=>{delete At.Fa};let zt=()=>{let oA=(xA,DA,o0)=>(...g0)=>{let N0=M1,Z0=DA==null?void 0:DA();g0=xA(...g0);let J0=DA==null?void 0:DA();return Z0!==J0&&(xA=J0,o0(Z0),DA=o0=null),M1!=N0?l1():g0},gA=xA=>async(...DA)=>{var o0;try{if(At.Ea)throw Error("Session already started");let g0=At.Ea={Za:DA[0],errors:[]},N0=await xA(...DA);if(At.Ea!==g0)throw Error("Session mismatch");(o0=At.La)==null||o0.flush();let Z0=g0.errors;if(0<Z0.length){let J0=await Promise.all(Z0);if(J0=J0.filter(i1=>i1),0<J0.length)throw Error(J0.join(`
`))}return N0}finally{At.Ea=null}};At._OrtCreateSession=oA(At._OrtCreateSession,()=>At._OrtCreateSession,xA=>At._OrtCreateSession=xA),At._OrtRun=gA(oA(At._OrtRun,()=>At._OrtRun,xA=>At._OrtRun=xA)),At._OrtRunWithBinding=gA(oA(At._OrtRunWithBinding,()=>At._OrtRunWithBinding,xA=>At._OrtRunWithBinding=xA)),At._OrtBindInput=oA(At._OrtBindInput,()=>At._OrtBindInput,xA=>At._OrtBindInput=xA),zt=void 0};At.jsepInit=(oA,gA)=>{if(zt==null||zt(),oA==="webgpu"){[At.La,At.Ra,At.Va,At.Ma,At.Ua,At.sa,At.Wa,At.Ya,At.Sa,At.Ta,At.Xa]=gA;let xA=At.La;At.jsepRegisterBuffer=(DA,o0,g0,N0)=>xA.registerBuffer(DA,o0,g0,N0),At.jsepGetBuffer=DA=>xA.getBuffer(DA),At.jsepCreateDownloader=(DA,o0,g0)=>xA.createDownloader(DA,o0,g0),At.jsepOnReleaseSession=DA=>{xA.onReleaseSession(DA)},At.jsepOnRunStart=DA=>xA.onRunStart(DA)}};var It=Object.assign({},At),Qt="./this.program",Pt=(oA,gA)=>{throw gA},Yt=typeof window=="object",cr=typeof importScripts=="function",_r=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",vr="",Yr,Kr,jr;if(_r){var Hn=(Xn(),Gt(Zn)),tA=(Jn(),Gt(Qn));vr=cr?tA.dirname(vr)+"/":__dirname+"/",Yr=(oA,gA)=>(oA=qA(oA)?new URL(oA):tA.normalize(oA),Hn.readFileSync(oA,gA?void 0:"utf8")),jr=oA=>(oA=Yr(oA,!0),oA.buffer||(oA=new Uint8Array(oA)),oA),Kr=(oA,gA,xA,DA=!0)=>{oA=qA(oA)?new URL(oA):tA.normalize(oA),Hn.readFile(oA,DA?void 0:"utf8",(o0,g0)=>{o0?xA(o0):gA(DA?g0.buffer:g0)})},!At.thisProgram&&1<process.argv.length&&(Qt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),Pt=(oA,gA)=>{throw process.exitCode=oA,gA},At.inspect=()=>"[Emscripten Module object]"}else(Yt||cr)&&(cr?vr=self.location.href:typeof document<"u"&&document.currentScript&&(vr=document.currentScript.src),et&&(vr=et),vr.indexOf("blob:")!==0?vr=vr.substr(0,vr.replace(/[?#].*/,"").lastIndexOf("/")+1):vr="",Yr=oA=>{var gA=new XMLHttpRequest;return gA.open("GET",oA,!1),gA.send(null),gA.responseText},cr&&(jr=oA=>{var gA=new XMLHttpRequest;return gA.open("GET",oA,!1),gA.responseType="arraybuffer",gA.send(null),new Uint8Array(gA.response)}),Kr=(oA,gA,xA)=>{var DA=new XMLHttpRequest;DA.open("GET",oA,!0),DA.responseType="arraybuffer",DA.onload=()=>{DA.status==200||DA.status==0&&DA.response?gA(DA.response):xA()},DA.onerror=xA,DA.send(null)});var nA=console.log.bind(console),aA=console.error.bind(console);Object.assign(At,It),It=null,typeof WebAssembly!="object"&&TA("no native wasm support detected");var lA,hA=!1,pA,wA,NA,cA,CA,sA,UA;function LA(){var oA=lA.buffer;At.HEAP8=wA=new Int8Array(oA),At.HEAP16=new Int16Array(oA),At.HEAPU8=NA=new Uint8Array(oA),At.HEAPU16=new Uint16Array(oA),At.HEAP32=cA=new Int32Array(oA),At.HEAPU32=CA=new Uint32Array(oA),At.HEAPF32=sA=new Float32Array(oA),At.HEAPF64=UA=new Float64Array(oA)}var RA=[],kA=[],OA=[],KA=0,yA=null;function TA(oA){throw oA="Aborted("+oA+")",aA(oA),hA=!0,pA=1,oA=new WebAssembly.RuntimeError(oA+". Build with -sASSERTIONS for more info."),Ut(oA),oA}var r0=oA=>oA.startsWith("data:application/octet-stream;base64,"),qA=oA=>oA.startsWith("file://"),XA;if(XA="ort-wasm-simd.wasm",!r0(XA)){var S0=XA;XA=At.locateFile?At.locateFile(S0,vr):vr+S0}function U0(oA){if(jr)return jr(oA);throw"both async and sync fetching of the wasm failed"}function C0(oA){if(Yt||cr){if(typeof fetch=="function"&&!qA(oA))return fetch(oA,{credentials:"same-origin"}).then(gA=>{if(!gA.ok)throw"failed to load wasm binary file at '"+oA+"'";return gA.arrayBuffer()}).catch(()=>U0(oA));if(Kr)return new Promise((gA,xA)=>{Kr(oA,DA=>gA(new Uint8Array(DA)),xA)})}return Promise.resolve().then(()=>U0(oA))}function B0(oA,gA,xA){return C0(oA).then(DA=>WebAssembly.instantiate(DA,gA)).then(DA=>DA).then(xA,DA=>{aA(`failed to asynchronously prepare wasm: ${DA}`),TA(DA)})}function Q0(oA,gA){var xA=XA;return typeof WebAssembly.instantiateStreaming!="function"||r0(xA)||qA(xA)||_r||typeof fetch!="function"?B0(xA,oA,gA):fetch(xA,{credentials:"same-origin"}).then(DA=>WebAssembly.instantiateStreaming(DA,oA).then(gA,function(o0){return aA(`wasm streaming compile failed: ${o0}`),aA("falling back to ArrayBuffer instantiation"),B0(xA,oA,gA)}))}var T0,F0={931760:(oA,gA,xA,DA)=>{if(typeof At>"u"||!At.Fa)return 1;if(oA=$A(oA>>>0),oA.startsWith("./")&&(oA=oA.substring(2)),oA=At.Fa.get(oA),!oA)return 2;if(gA>>>=0,xA>>>=0,gA+xA>oA.byteLength)return 3;try{return NA.set(oA.subarray(gA,gA+xA),DA>>>0>>>0),0}catch{return 4}},932261:()=>{At.Sa()},932292:()=>{At.Ta()},932321:()=>{At.Xa()},932346:oA=>At.Ra(oA),932379:oA=>At.Va(oA),932411:(oA,gA,xA)=>{At.Ma(oA,gA,xA,!0)},932450:(oA,gA,xA)=>{At.Ma(oA,gA,xA)},932483:oA=>{At.sa("Abs",oA,void 0)},932534:oA=>{At.sa("Neg",oA,void 0)},932585:oA=>{At.sa("Floor",oA,void 0)},932638:oA=>{At.sa("Ceil",oA,void 0)},932690:oA=>{At.sa("Reciprocal",oA,void 0)},932748:oA=>{At.sa("Sqrt",oA,void 0)},932800:oA=>{At.sa("Exp",oA,void 0)},932851:oA=>{At.sa("Erf",oA,void 0)},932902:oA=>{At.sa("Sigmoid",oA,void 0)},932957:(oA,gA,xA)=>{At.sa("HardSigmoid",oA,{alpha:gA,beta:xA})},933036:oA=>{At.sa("Log",oA,void 0)},933087:oA=>{At.sa("Sin",oA,void 0)},933138:oA=>{At.sa("Cos",oA,void 0)},933189:oA=>{At.sa("Tan",oA,void 0)},933240:oA=>{At.sa("Asin",oA,void 0)},933292:oA=>{At.sa("Acos",oA,void 0)},933344:oA=>{At.sa("Atan",oA,void 0)},933396:oA=>{At.sa("Sinh",oA,void 0)},933448:oA=>{At.sa("Cosh",oA,void 0)},933500:oA=>{At.sa("Asinh",oA,void 0)},933553:oA=>{At.sa("Acosh",oA,void 0)},933606:oA=>{At.sa("Atanh",oA,void 0)},933659:oA=>{At.sa("Tanh",oA,void 0)},933711:oA=>{At.sa("Not",oA,void 0)},933762:(oA,gA,xA)=>{At.sa("Clip",oA,{min:gA,max:xA})},933831:oA=>{At.sa("Clip",oA,void 0)},933883:(oA,gA)=>{At.sa("Elu",oA,{alpha:gA})},933941:oA=>{At.sa("Relu",oA,void 0)},933993:(oA,gA)=>{At.sa("LeakyRelu",oA,{alpha:gA})},934057:(oA,gA)=>{At.sa("ThresholdedRelu",oA,{alpha:gA})},934127:(oA,gA)=>{At.sa("Cast",oA,{to:gA})},934185:oA=>{At.sa("Add",oA,void 0)},934236:oA=>{At.sa("Sub",oA,void 0)},934287:oA=>{At.sa("Mul",oA,void 0)},934338:oA=>{At.sa("Div",oA,void 0)},934389:oA=>{At.sa("Pow",oA,void 0)},934440:oA=>{At.sa("Equal",oA,void 0)},934493:oA=>{At.sa("Greater",oA,void 0)},934548:oA=>{At.sa("GreaterOrEqual",oA,void 0)},934610:oA=>{At.sa("Less",oA,void 0)},934662:oA=>{At.sa("LessOrEqual",oA,void 0)},934721:(oA,gA,xA,DA,o0)=>{At.sa("ReduceMean",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},934880:(oA,gA,xA,DA,o0)=>{At.sa("ReduceMax",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},935038:(oA,gA,xA,DA,o0)=>{At.sa("ReduceMin",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},935196:(oA,gA,xA,DA,o0)=>{At.sa("ReduceProd",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},935355:(oA,gA,xA,DA,o0)=>{At.sa("ReduceSum",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},935513:(oA,gA,xA,DA,o0)=>{At.sa("ReduceL1",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},935670:(oA,gA,xA,DA,o0)=>{At.sa("ReduceL2",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},935827:(oA,gA,xA,DA,o0)=>{At.sa("ReduceLogSum",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},935988:(oA,gA,xA,DA,o0)=>{At.sa("ReduceSumSquare",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},936152:(oA,gA,xA,DA,o0)=>{At.sa("ReduceLogSumExp",oA,{keepDims:!!gA,noopWithEmptyAxes:!!xA,axes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},936316:oA=>{At.sa("Where",oA,void 0)},936369:(oA,gA,xA)=>{At.sa("Transpose",oA,{perm:gA?Array.from(cA.subarray(gA>>>0,xA>>>0)):[]})},936477:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1,a0,o1)=>{At.sa("ConvTranspose",oA,{format:J0?"NHWC":"NCHW",autoPad:gA,dilations:[xA],group:DA,kernel_shape:[o0],pads:[g0,N0],strides:[Z0],wIsConst:()=>!!wA[i1>>>0],outputPadding:u1?Array.from(cA.subarray(u1>>>0,S1>>>0)):[],outputShape:R1?Array.from(cA.subarray(R1>>>0,a0>>>0)):[],activation:$A(o1)})},936879:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1,a0)=>{At.sa("ConvTranspose",oA,{format:Z0?"NHWC":"NCHW",autoPad:gA,dilations:Array.from(cA.subarray(xA>>>0,(xA>>>0)+2>>>0)),group:DA,kernelShape:Array.from(cA.subarray(o0>>>0,(o0>>>0)+2>>>0)),pads:Array.from(cA.subarray(g0>>>0,(g0>>>0)+4>>>0)),strides:Array.from(cA.subarray(N0>>>0,(N0>>>0)+2>>>0)),wIsConst:()=>!!wA[J0>>>0],outputPadding:i1?Array.from(cA.subarray(i1>>>0,u1>>>0)):[],outputShape:S1?Array.from(cA.subarray(S1>>>0,R1>>>0)):[],activation:$A(a0)})},937444:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1,a0,o1)=>{At.sa("ConvTranspose",oA,{format:J0?"NHWC":"NCHW",autoPad:gA,dilations:[xA],group:DA,kernel_shape:[o0],pads:[g0,N0],strides:[Z0],wIsConst:()=>!!wA[i1>>>0],outputPadding:u1?Array.from(cA.subarray(u1>>>0,S1>>>0)):[],outputShape:R1?Array.from(cA.subarray(R1>>>0,a0>>>0)):[],activation:$A(o1)})},937846:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1,a0)=>{At.sa("ConvTranspose",oA,{format:Z0?"NHWC":"NCHW",autoPad:gA,dilations:Array.from(cA.subarray(xA>>>0,(xA>>>0)+2>>>0)),group:DA,kernelShape:Array.from(cA.subarray(o0>>>0,(o0>>>0)+2>>>0)),pads:Array.from(cA.subarray(g0>>>0,(g0>>>0)+4>>>0)),strides:Array.from(cA.subarray(N0>>>0,(N0>>>0)+2>>>0)),wIsConst:()=>!!wA[J0>>>0],outputPadding:i1?Array.from(cA.subarray(i1>>>0,u1>>>0)):[],outputShape:S1?Array.from(cA.subarray(S1>>>0,R1>>>0)):[],activation:$A(a0)})},938411:(oA,gA)=>{At.sa("GlobalAveragePool",oA,{format:gA?"NHWC":"NCHW"})},938502:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1,a0,o1,b1)=>{At.sa("AveragePool",oA,{format:b1?"NHWC":"NCHW",auto_pad:gA,ceil_mode:xA,count_include_pad:DA,storage_order:o0,dilations:[g0,N0],kernel_shape:[Z0,J0],pads:[i1,u1,S1,R1],strides:[a0,o1]})},938786:(oA,gA)=>{At.sa("GlobalAveragePool",oA,{format:gA?"NHWC":"NCHW"})},938877:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1,a0,o1,b1)=>{At.sa("AveragePool",oA,{format:b1?"NHWC":"NCHW",auto_pad:gA,ceil_mode:xA,count_include_pad:DA,storage_order:o0,dilations:[g0,N0],kernel_shape:[Z0,J0],pads:[i1,u1,S1,R1],strides:[a0,o1]})},939161:(oA,gA)=>{At.sa("GlobalMaxPool",oA,{format:gA?"NHWC":"NCHW"})},939248:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1,a0,o1,b1)=>{At.sa("MaxPool",oA,{format:b1?"NHWC":"NCHW",auto_pad:gA,ceil_mode:xA,count_include_pad:DA,storage_order:o0,dilations:[g0,N0],kernel_shape:[Z0,J0],pads:[i1,u1,S1,R1],strides:[a0,o1]})},939528:(oA,gA)=>{At.sa("GlobalMaxPool",oA,{format:gA?"NHWC":"NCHW"})},939615:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1,a0,o1,b1)=>{At.sa("MaxPool",oA,{format:b1?"NHWC":"NCHW",auto_pad:gA,ceil_mode:xA,count_include_pad:DA,storage_order:o0,dilations:[g0,N0],kernel_shape:[Z0,J0],pads:[i1,u1,S1,R1],strides:[a0,o1]})},939895:(oA,gA,xA,DA,o0)=>{At.sa("Gemm",oA,{alpha:gA,beta:xA,transA:DA,transB:o0})},939999:oA=>{At.sa("MatMul",oA,void 0)},940053:(oA,gA,xA,DA)=>{At.sa("ArgMax",oA,{keepDims:!!gA,selectLastIndex:!!xA,axis:DA})},940161:(oA,gA,xA,DA)=>{At.sa("ArgMin",oA,{keepDims:!!gA,selectLastIndex:!!xA,axis:DA})},940269:(oA,gA)=>{At.sa("Softmax",oA,{axis:gA})},940332:(oA,gA)=>{At.sa("Concat",oA,{axis:gA})},940392:(oA,gA,xA,DA,o0)=>{At.sa("Split",oA,{axis:gA,numOutputs:xA,splitSizes:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},940532:oA=>{At.sa("Expand",oA,void 0)},940586:(oA,gA)=>{At.sa("Gather",oA,{axis:Number(gA)})},940657:(oA,gA)=>{At.sa("GatherElements",oA,{axis:Number(gA)})},940736:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1)=>{At.sa("Resize",oA,{antialias:gA,axes:xA?Array.from(cA.subarray(xA>>>0,DA>>>0)):[],coordinateTransformMode:$A(o0),cubicCoeffA:g0,excludeOutside:N0,extrapolationValue:Z0,keepAspectRatioPolicy:$A(J0),mode:$A(i1),nearestMode:$A(u1)})},941082:(oA,gA,xA,DA,o0,g0,N0)=>{At.sa("Slice",oA,{starts:gA?Array.from(cA.subarray(gA>>>0,xA>>>0)):[],ends:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[],axes:g0?Array.from(cA.subarray(g0>>>0,N0>>>0)):[]})},941298:oA=>{At.sa("Tile",oA,void 0)},941350:(oA,gA,xA)=>{At.sa("LayerNormalization",oA,{axis:Number(gA),epsilon:Number(xA)})},941457:(oA,gA,xA)=>{At.sa("InstanceNormalization",oA,{epsilon:gA,format:xA?"NHWC":"NCHW"})},941571:(oA,gA,xA)=>{At.sa("InstanceNormalization",oA,{epsilon:gA,format:xA?"NHWC":"NCHW"})},941685:oA=>{At.sa("Range",oA,void 0)},941738:(oA,gA)=>{At.sa("Einsum",oA,{equation:$A(gA)})},941819:(oA,gA,xA,DA,o0)=>{At.sa("Pad",oA,{mode:gA,value:xA,pads:DA?Array.from(cA.subarray(DA>>>0,o0>>>0)):[]})},941946:(oA,gA,xA,DA,o0,g0)=>{At.sa("BatchNormalization",oA,{epsilon:gA,momentum:xA,spatial:!!o0,trainingMode:!!DA,format:g0?"NHWC":"NCHW"})},942115:(oA,gA,xA,DA,o0,g0)=>{At.sa("BatchNormalization",oA,{epsilon:gA,momentum:xA,spatial:!!o0,trainingMode:!!DA,format:g0?"NHWC":"NCHW"})},942284:(oA,gA,xA)=>{At.sa("CumSum",oA,{exclusive:Number(gA),reverse:Number(xA)})},942381:(oA,gA,xA,DA,o0,g0,N0,Z0,J0)=>{At.sa("Attention",oA,{numHeads:gA,isUnidirectional:xA,maskFilterValue:DA,scale:o0,doRotary:g0,qkvHiddenSizes:N0?Array.from(cA.subarray(Number(Z0)>>>0,Number(Z0)+N0>>>0)):[],pastPresentShareBuffer:!!J0})},942653:oA=>{At.sa("BiasAdd",oA,void 0)},942708:oA=>{At.sa("BiasSplitGelu",oA,void 0)},942769:oA=>{At.sa("FastGelu",oA,void 0)},942825:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1)=>{At.sa("Conv",oA,{format:J0?"NHWC":"NCHW",auto_pad:gA,dilations:[xA],group:DA,kernel_shape:[o0],pads:g0?Array.from(cA.subarray(g0>>>0,N0>>>0)):[],strides:[Z0],w_is_const:()=>!!wA[i1>>>0],activation:$A(u1),activation_params:S1?Array.from(sA.subarray(S1>>>0,R1>>>0)):[]})},943195:(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1,u1,S1,R1,a0,o1,b1)=>{At.sa("Conv",oA,{format:S1?"NHWC":"NCHW",auto_pad:gA,dilations:[xA,DA],group:o0,kernel_shape:[g0,N0],pads:Z0?Array.from(cA.subarray(Z0>>>0,J0>>>0)):[],strides:[i1,u1],w_is_const:()=>!!wA[R1>>>0],activation:$A(a0),activation_params:o1?Array.from(sA.subarray(o1>>>0,b1>>>0)):[]})},943586:oA=>{At.sa("Gelu",oA,void 0)},943638:(oA,gA,xA,DA,o0,g0)=>{At.sa("MatMulNBits",oA,{k:gA,n:xA,accuracyLevel:DA,bits:o0,blockSize:g0})},943765:(oA,gA,xA,DA,o0,g0)=>{At.sa("MultiHeadAttention",oA,{numHeads:gA,isUnidirectional:xA,maskFilterValue:DA,scale:o0,doRotary:g0})},943924:(oA,gA)=>{At.sa("SkipLayerNormalization",oA,{epsilon:gA})},944005:oA=>{At.Wa(oA)},944039:(oA,gA)=>At.Ya(oA,gA,At.Ea.Za,At.Ea.errors)};function k0(oA){this.name="ExitStatus",this.message=`Program terminated with exit(${oA})`,this.status=oA}function uA(oA){this.Ja=oA-24,this.Pa=function(gA){CA[this.Ja+4>>>2>>>0]=gA},this.Oa=function(gA){CA[this.Ja+8>>>2>>>0]=gA},this.eb=function(gA,xA){this.Na(),this.Pa(gA),this.Oa(xA)},this.Na=function(){CA[this.Ja+16>>>2>>>0]=0}}var ZA=0,jA=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,IA=(oA,gA,xA)=>{gA>>>=0;var DA=gA+xA;for(xA=gA;oA[xA]&&!(xA>=DA);)++xA;if(16<xA-gA&&oA.buffer&&jA)return jA.decode(oA.subarray(gA,xA));for(DA="";gA<xA;){var o0=oA[gA++];if(o0&128){var g0=oA[gA++]&63;if((o0&224)==192)DA+=String.fromCharCode((o0&31)<<6|g0);else{var N0=oA[gA++]&63;o0=(o0&240)==224?(o0&15)<<12|g0<<6|N0:(o0&7)<<18|g0<<12|N0<<6|oA[gA++]&63,65536>o0?DA+=String.fromCharCode(o0):(o0-=65536,DA+=String.fromCharCode(55296|o0>>10,56320|o0&1023))}}else DA+=String.fromCharCode(o0)}return DA},$A=(oA,gA)=>(oA>>>=0)?IA(NA,oA,gA):"",QA=oA=>{for(var gA=0,xA=0;xA<oA.length;++xA){var DA=oA.charCodeAt(xA);127>=DA?gA++:2047>=DA?gA+=2:55296<=DA&&57343>=DA?(gA+=4,++xA):gA+=3}return gA},n0=(oA,gA,xA,DA)=>{if(xA>>>=0,!(0<DA))return 0;var o0=xA;DA=xA+DA-1;for(var g0=0;g0<oA.length;++g0){var N0=oA.charCodeAt(g0);if(55296<=N0&&57343>=N0){var Z0=oA.charCodeAt(++g0);N0=65536+((N0&1023)<<10)|Z0&1023}if(127>=N0){if(xA>=DA)break;gA[xA++>>>0]=N0}else{if(2047>=N0){if(xA+1>=DA)break;gA[xA++>>>0]=192|N0>>6}else{if(65535>=N0){if(xA+2>=DA)break;gA[xA++>>>0]=224|N0>>12}else{if(xA+3>=DA)break;gA[xA++>>>0]=240|N0>>18,gA[xA++>>>0]=128|N0>>12&63}gA[xA++>>>0]=128|N0>>6&63}gA[xA++>>>0]=128|N0&63}}return gA[xA>>>0]=0,xA-o0},t0=oA=>oA%4===0&&(oA%100!==0||oA%400===0),GA=[0,31,60,91,121,152,182,213,244,274,305,335],A0=[0,31,59,90,120,151,181,212,243,273,304,334],y0=oA=>{var gA=QA(oA)+1,xA=u0(gA);return xA&&n0(oA,NA,xA,gA),xA},f0=[],P0=(oA,gA)=>{f0.length=0;for(var xA;xA=NA[oA++>>>0];){var DA=xA!=105;DA&=xA!=112,gA+=DA&&gA%8?4:0,f0.push(xA==112?CA[gA>>>2>>>0]:xA==105?cA[gA>>>2>>>0]:UA[gA>>>3>>>0]),gA+=DA?8:4}return f0},K0={},$0=()=>{if(!w0){var oA={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Qt||"./this.program"},gA;for(gA in K0)K0[gA]===void 0?delete oA[gA]:oA[gA]=K0[gA];var xA=[];for(gA in oA)xA.push(`${gA}=${oA[gA]}`);w0=xA}return w0},w0,E0=[null,[],[]],t1=[31,29,31,30,31,30,31,31,30,31,30,31],O1=[31,28,31,30,31,30,31,31,30,31,30,31];function v0(oA){var gA=Array(QA(oA)+1);return n0(oA,gA,0,gA.length),gA}function X0(oA,gA,xA,DA){function o0(a0,o1,b1){for(a0=typeof a0=="number"?a0.toString():a0||"";a0.length<o1;)a0=b1[0]+a0;return a0}function g0(a0,o1){return o0(a0,o1,"0")}function N0(a0,o1){function b1(Wy){return 0>Wy?-1:0<Wy?1:0}var cy;return(cy=b1(a0.getFullYear()-o1.getFullYear()))===0&&(cy=b1(a0.getMonth()-o1.getMonth()))===0&&(cy=b1(a0.getDate()-o1.getDate())),cy}function Z0(a0){switch(a0.getDay()){case 0:return new Date(a0.getFullYear()-1,11,29);case 1:return a0;case 2:return new Date(a0.getFullYear(),0,3);case 3:return new Date(a0.getFullYear(),0,2);case 4:return new Date(a0.getFullYear(),0,1);case 5:return new Date(a0.getFullYear()-1,11,31);case 6:return new Date(a0.getFullYear()-1,11,30)}}function J0(a0){var o1=a0.Ca;for(a0=new Date(new Date(a0.Da+1900,0,1).getTime());0<o1;){var b1=a0.getMonth(),cy=(t0(a0.getFullYear())?t1:O1)[b1];if(o1>cy-a0.getDate())o1-=cy-a0.getDate()+1,a0.setDate(1),11>b1?a0.setMonth(b1+1):(a0.setMonth(0),a0.setFullYear(a0.getFullYear()+1));else{a0.setDate(a0.getDate()+o1);break}}return b1=new Date(a0.getFullYear()+1,0,4),o1=Z0(new Date(a0.getFullYear(),0,4)),b1=Z0(b1),0>=N0(o1,a0)?0>=N0(b1,a0)?a0.getFullYear()+1:a0.getFullYear():a0.getFullYear()-1}oA>>>=0,gA>>>=0,xA>>>=0,DA>>>=0;var i1=CA[DA+40>>>2>>>0];DA={bb:cA[DA>>>2>>>0],ab:cA[DA+4>>>2>>>0],Ga:cA[DA+8>>>2>>>0],Ka:cA[DA+12>>>2>>>0],Ha:cA[DA+16>>>2>>>0],Da:cA[DA+20>>>2>>>0],xa:cA[DA+24>>>2>>>0],Ca:cA[DA+28>>>2>>>0],fb:cA[DA+32>>>2>>>0],$a:cA[DA+36>>>2>>>0],cb:i1?$A(i1):""},xA=$A(xA),i1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u1 in i1)xA=xA.replace(new RegExp(u1,"g"),i1[u1]);var S1="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),R1="January February March April May June July August September October November December".split(" ");i1={"%a":a0=>S1[a0.xa].substring(0,3),"%A":a0=>S1[a0.xa],"%b":a0=>R1[a0.Ha].substring(0,3),"%B":a0=>R1[a0.Ha],"%C":a0=>g0((a0.Da+1900)/100|0,2),"%d":a0=>g0(a0.Ka,2),"%e":a0=>o0(a0.Ka,2," "),"%g":a0=>J0(a0).toString().substring(2),"%G":a0=>J0(a0),"%H":a0=>g0(a0.Ga,2),"%I":a0=>(a0=a0.Ga,a0==0?a0=12:12<a0&&(a0-=12),g0(a0,2)),"%j":a0=>{for(var o1=0,b1=0;b1<=a0.Ha-1;o1+=(t0(a0.Da+1900)?t1:O1)[b1++]);return g0(a0.Ka+o1,3)},"%m":a0=>g0(a0.Ha+1,2),"%M":a0=>g0(a0.ab,2),"%n":()=>`
`,"%p":a0=>0<=a0.Ga&&12>a0.Ga?"AM":"PM","%S":a0=>g0(a0.bb,2),"%t":()=>"	","%u":a0=>a0.xa||7,"%U":a0=>g0(Math.floor((a0.Ca+7-a0.xa)/7),2),"%V":a0=>{var o1=Math.floor((a0.Ca+7-(a0.xa+6)%7)/7);if(2>=(a0.xa+371-a0.Ca-2)%7&&o1++,o1)o1==53&&(b1=(a0.xa+371-a0.Ca)%7,b1==4||b1==3&&t0(a0.Da)||(o1=1));else{o1=52;var b1=(a0.xa+7-a0.Ca-1)%7;(b1==4||b1==5&&t0(a0.Da%400-1))&&o1++}return g0(o1,2)},"%w":a0=>a0.xa,"%W":a0=>g0(Math.floor((a0.Ca+7-(a0.xa+6)%7)/7),2),"%y":a0=>(a0.Da+1900).toString().substring(2),"%Y":a0=>a0.Da+1900,"%z":a0=>{a0=a0.$a;var o1=0<=a0;return a0=Math.abs(a0)/60,(o1?"+":"-")+("0000"+(a0/60*100+a0%60)).slice(-4)},"%Z":a0=>a0.cb,"%%":()=>"%"},xA=xA.replace(/%%/g,"\0\0");for(u1 in i1)xA.includes(u1)&&(xA=xA.replace(new RegExp(u1,"g"),i1[u1](DA)));return xA=xA.replace(/\0\0/g,"%"),u1=v0(xA),u1.length>gA?0:(wA.set(u1,oA>>>0),u1.length-1)}var r1=oA=>{try{oA()}catch(gA){TA(gA)}};function L0(){var oA=M0,gA={};for(let[xA,DA]of Object.entries(oA))gA[xA]=typeof DA=="function"?function(){mA.push(xA);try{return DA.apply(null,arguments)}finally{hA||(mA.pop(),M1&&k1===1&&mA.length===0&&(k1=0,r1(sy),typeof Fibers<"u"&&Fibers.gb()))}}:DA;return gA}var k1=0,M1=null,N1=0,mA=[],HA={},WA={},c0=0,D0=null,W0=[];function l1(){return new Promise((oA,gA)=>{D0={resolve:oA,reject:gA}})}function P1(){var oA=u0(65548),gA=oA+12;CA[oA>>>2>>>0]=gA,CA[oA+4>>>2>>>0]=gA+65536,gA=mA[0];var xA=HA[gA];return xA===void 0&&(xA=c0++,HA[gA]=xA,WA[xA]=gA),cA[oA+8>>>2>>>0]=xA,oA}function V1(oA){if(!hA){if(k1===0){var gA=!1,xA=!1;oA((DA=0)=>{if(!hA&&(N1=DA,gA=!0,xA)){k1=2,r1(()=>d0(M1)),typeof Browser<"u"&&Browser.Ia.Qa&&Browser.Ia.resume(),DA=!1;try{var o0=(0,M0[WA[cA[M1+8>>>2>>>0]]])()}catch(Z0){o0=Z0,DA=!0}var g0=!1;if(!M1){var N0=D0;N0&&(D0=null,(DA?N0.reject:N0.resolve)(o0),g0=!0)}if(DA&&!g0)throw o0}}),xA=!0,gA||(k1=1,M1=P1(),typeof Browser<"u"&&Browser.Ia.Qa&&Browser.Ia.pause(),r1(()=>oy(M1)))}else k1===2?(k1=0,r1(e0),h1(M1),M1=null,W0.forEach(DA=>{var o0;if(!hA)try{DA();try{pA=pA=DA=pA,(o0=At.onExit)==null||o0.call(At,DA),hA=!0,Pt(DA,new k0(DA))}catch(g0){g0 instanceof k0||g0=="unwind"||Pt(1,g0)}}catch(g0){g0 instanceof k0||g0=="unwind"||Pt(1,g0)}})):TA(`invalid state: ${k1}`);return N1}}function F1(oA){return V1(gA=>{oA().then(gA)})}var m1={n:function(oA,gA,xA){return F1(async()=>{await At.Ua(oA,gA,xA)})},a:function(oA,gA,xA){throw oA>>>=0,new uA(oA).eb(gA>>>0,xA>>>0),ZA=oA,ZA},g:function(){return 0},J:function(){},A:function(){},C:function(){},L:function(){return 0},H:function(){},D:function(){},G:function(){},l:function(){},B:function(){},y:function(){},I:function(){},z:function(){},m:()=>1,q:function(oA,gA,xA){oA=gA+2097152>>>0<4194305-!!oA?(oA>>>0)+4294967296*gA:NaN,xA>>>=0,oA=new Date(1e3*oA),cA[xA>>>2>>>0]=oA.getUTCSeconds(),cA[xA+4>>>2>>>0]=oA.getUTCMinutes(),cA[xA+8>>>2>>>0]=oA.getUTCHours(),cA[xA+12>>>2>>>0]=oA.getUTCDate(),cA[xA+16>>>2>>>0]=oA.getUTCMonth(),cA[xA+20>>>2>>>0]=oA.getUTCFullYear()-1900,cA[xA+24>>>2>>>0]=oA.getUTCDay(),cA[xA+28>>>2>>>0]=(oA.getTime()-Date.UTC(oA.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},r:function(oA,gA,xA){oA=gA+2097152>>>0<4194305-!!oA?(oA>>>0)+4294967296*gA:NaN,xA>>>=0,oA=new Date(1e3*oA),cA[xA>>>2>>>0]=oA.getSeconds(),cA[xA+4>>>2>>>0]=oA.getMinutes(),cA[xA+8>>>2>>>0]=oA.getHours(),cA[xA+12>>>2>>>0]=oA.getDate(),cA[xA+16>>>2>>>0]=oA.getMonth(),cA[xA+20>>>2>>>0]=oA.getFullYear()-1900,cA[xA+24>>>2>>>0]=oA.getDay(),cA[xA+28>>>2>>>0]=(t0(oA.getFullYear())?GA:A0)[oA.getMonth()]+oA.getDate()-1|0,cA[xA+36>>>2>>>0]=-(60*oA.getTimezoneOffset()),gA=new Date(oA.getFullYear(),6,1).getTimezoneOffset();var DA=new Date(oA.getFullYear(),0,1).getTimezoneOffset();cA[xA+32>>>2>>>0]=(gA!=DA&&oA.getTimezoneOffset()==Math.min(DA,gA))|0},s:function(oA){oA>>>=0;var gA=new Date(cA[oA+20>>>2>>>0]+1900,cA[oA+16>>>2>>>0],cA[oA+12>>>2>>>0],cA[oA+8>>>2>>>0],cA[oA+4>>>2>>>0],cA[oA>>>2>>>0],0),xA=cA[oA+32>>>2>>>0],DA=gA.getTimezoneOffset(),o0=new Date(gA.getFullYear(),6,1).getTimezoneOffset(),g0=new Date(gA.getFullYear(),0,1).getTimezoneOffset(),N0=Math.min(g0,o0);return 0>xA?cA[oA+32>>>2>>>0]=+(o0!=g0&&N0==DA):0<xA!=(N0==DA)&&(o0=Math.max(g0,o0),gA.setTime(gA.getTime()+6e4*((0<xA?N0:o0)-DA))),cA[oA+24>>>2>>>0]=gA.getDay(),cA[oA+28>>>2>>>0]=(t0(gA.getFullYear())?GA:A0)[gA.getMonth()]+gA.getDate()-1|0,cA[oA>>>2>>>0]=gA.getSeconds(),cA[oA+4>>>2>>>0]=gA.getMinutes(),cA[oA+8>>>2>>>0]=gA.getHours(),cA[oA+12>>>2>>>0]=gA.getDate(),cA[oA+16>>>2>>>0]=gA.getMonth(),cA[oA+20>>>2>>>0]=gA.getYear(),oA=gA.getTime(),isNaN(oA)?(cA[W1()>>>2>>>0]=61,oA=-1):oA/=1e3,E1((T0=oA,1<=+Math.abs(T0)?0<T0?+Math.floor(T0/4294967296)>>>0:~~+Math.ceil((T0-+(~~T0>>>0))/4294967296)>>>0:0)),oA>>>0},o:function(){return-52},p:function(){},w:function(oA,gA,xA){function DA(J0){return(J0=J0.toTimeString().match(/\(([A-Za-z ]+)\)$/))?J0[1]:"GMT"}xA>>>=0;var o0=new Date().getFullYear(),g0=new Date(o0,0,1),N0=new Date(o0,6,1);o0=g0.getTimezoneOffset();var Z0=N0.getTimezoneOffset();CA[oA>>>0>>>2>>>0]=60*Math.max(o0,Z0),cA[gA>>>0>>>2>>>0]=+(o0!=Z0),oA=DA(g0),gA=DA(N0),oA=y0(oA),gA=y0(gA),Z0<o0?(CA[xA>>>2>>>0]=oA,CA[xA+4>>>2>>>0]=gA):(CA[xA>>>2>>>0]=gA,CA[xA+4>>>2>>>0]=oA)},e:()=>{TA("")},b:function(oA,gA,xA){return oA>>>=0,gA=P0(gA>>>0,xA>>>0),F0[oA].apply(null,gA)},i:function(oA,gA,xA){return oA>>>=0,gA=P0(gA>>>0,xA>>>0),F0[oA].apply(null,gA)},h:()=>Date.now(),x:function(){return 4294901760},c:()=>performance.now(),K:function(oA,gA,xA){return gA>>>=0,NA.copyWithin(oA>>>0>>>0,gA>>>0,gA+(xA>>>0)>>>0)},u:function(oA){oA>>>=0;var gA=NA.length;if(4294901760<oA)return!1;for(var xA=1;4>=xA;xA*=2){var DA=gA*(1+.2/xA);DA=Math.min(DA,oA+100663296);var o0=Math;DA=Math.max(oA,DA);e:{o0=(o0.min.call(o0,4294901760,DA+(65536-DA%65536)%65536)-lA.buffer.byteLength+65535)/65536;try{lA.grow(o0),LA();var g0=1;break e}catch{}g0=void 0}if(g0)return!0}return!1},E:function(oA,gA){oA>>>=0,gA>>>=0;var xA=0;return $0().forEach((DA,o0)=>{var g0=gA+xA;for(o0=CA[oA+4*o0>>>2>>>0]=g0,g0=0;g0<DA.length;++g0)wA[o0++>>>0>>>0]=DA.charCodeAt(g0);wA[o0>>>0>>>0]=0,xA+=DA.length+1}),0},F:function(oA,gA){oA>>>=0,gA>>>=0;var xA=$0();CA[oA>>>2>>>0]=xA.length;var DA=0;return xA.forEach(o0=>DA+=o0.length+1),CA[gA>>>2>>>0]=DA,0},f:()=>52,k:function(){return 52},t:function(){return 70},j:function(oA,gA,xA,DA){gA>>>=0,xA>>>=0,DA>>>=0;for(var o0=0,g0=0;g0<xA;g0++){var N0=CA[gA>>>2>>>0],Z0=CA[gA+4>>>2>>>0];gA+=8;for(var J0=0;J0<Z0;J0++){var i1=NA[N0+J0>>>0],u1=E0[oA];i1===0||i1===10?((oA===1?nA:aA)(IA(u1,0)),u1.length=0):u1.push(i1)}o0+=Z0}return CA[DA>>>2>>>0]=o0,0},v:X0,d:function(oA,gA,xA,DA){return X0(oA>>>0,gA>>>0,xA>>>0,DA>>>0)}},M0=function(){function oA(xA){return M0=xA.exports,M0=L0(),M0=R0(),lA=M0.M,LA(),kA.unshift(M0.N),KA--,KA==0&&yA&&(xA=yA,yA=null,xA()),M0}var gA={a:m1};if(KA++,At.instantiateWasm)try{return At.instantiateWasm(gA,oA)}catch(xA){aA(`Module.instantiateWasm callback failed with error: ${xA}`),Ut(xA)}return Q0(gA,function(xA){oA(xA.instance)}).catch(Ut),{}}();At._OrtInit=(oA,gA)=>(At._OrtInit=M0.O)(oA,gA),At._OrtGetLastError=(oA,gA)=>(At._OrtGetLastError=M0.P)(oA,gA),At._OrtCreateSessionOptions=(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1)=>(At._OrtCreateSessionOptions=M0.Q)(oA,gA,xA,DA,o0,g0,N0,Z0,J0,i1),At._OrtAppendExecutionProvider=(oA,gA)=>(At._OrtAppendExecutionProvider=M0.R)(oA,gA),At._OrtAddFreeDimensionOverride=(oA,gA,xA)=>(At._OrtAddFreeDimensionOverride=M0.S)(oA,gA,xA),At._OrtAddSessionConfigEntry=(oA,gA,xA)=>(At._OrtAddSessionConfigEntry=M0.T)(oA,gA,xA),At._OrtReleaseSessionOptions=oA=>(At._OrtReleaseSessionOptions=M0.U)(oA),At._OrtCreateSession=(oA,gA,xA)=>(At._OrtCreateSession=M0.V)(oA,gA,xA),At._OrtReleaseSession=oA=>(At._OrtReleaseSession=M0.W)(oA),At._OrtGetInputOutputCount=(oA,gA,xA)=>(At._OrtGetInputOutputCount=M0.X)(oA,gA,xA),At._OrtGetInputName=(oA,gA)=>(At._OrtGetInputName=M0.Y)(oA,gA),At._OrtGetOutputName=(oA,gA)=>(At._OrtGetOutputName=M0.Z)(oA,gA),At._OrtFree=oA=>(At._OrtFree=M0._)(oA),At._OrtCreateTensor=(oA,gA,xA,DA,o0,g0)=>(At._OrtCreateTensor=M0.$)(oA,gA,xA,DA,o0,g0),At._OrtGetTensorData=(oA,gA,xA,DA,o0)=>(At._OrtGetTensorData=M0.aa)(oA,gA,xA,DA,o0),At._OrtReleaseTensor=oA=>(At._OrtReleaseTensor=M0.ba)(oA),At._OrtCreateRunOptions=(oA,gA,xA,DA)=>(At._OrtCreateRunOptions=M0.ca)(oA,gA,xA,DA),At._OrtAddRunConfigEntry=(oA,gA,xA)=>(At._OrtAddRunConfigEntry=M0.da)(oA,gA,xA),At._OrtReleaseRunOptions=oA=>(At._OrtReleaseRunOptions=M0.ea)(oA),At._OrtCreateBinding=oA=>(At._OrtCreateBinding=M0.fa)(oA),At._OrtBindInput=(oA,gA,xA)=>(At._OrtBindInput=M0.ga)(oA,gA,xA),At._OrtBindOutput=(oA,gA,xA,DA)=>(At._OrtBindOutput=M0.ha)(oA,gA,xA,DA),At._OrtClearBoundOutputs=oA=>(At._OrtClearBoundOutputs=M0.ia)(oA),At._OrtReleaseBinding=oA=>(At._OrtReleaseBinding=M0.ja)(oA),At._OrtRunWithBinding=(oA,gA,xA,DA,o0)=>(At._OrtRunWithBinding=M0.ka)(oA,gA,xA,DA,o0),At._OrtRun=(oA,gA,xA,DA,o0,g0,N0,Z0)=>(At._OrtRun=M0.la)(oA,gA,xA,DA,o0,g0,N0,Z0),At._OrtEndProfiling=oA=>(At._OrtEndProfiling=M0.ma)(oA),At._JsepOutput=(oA,gA,xA)=>(At._JsepOutput=M0.na)(oA,gA,xA),At._JsepGetNodeName=oA=>(At._JsepGetNodeName=M0.oa)(oA);var W1=()=>(W1=M0.pa)(),u0=At._malloc=oA=>(u0=At._malloc=M0.qa)(oA),h1=At._free=oA=>(h1=At._free=M0.ra)(oA),E1=oA=>(E1=M0.ta)(oA),q1=()=>(q1=M0.ua)(),iy=oA=>(iy=M0.va)(oA),Ay=oA=>(Ay=M0.wa)(oA),oy=oA=>(oy=M0.ya)(oA),sy=()=>(sy=M0.za)(),d0=oA=>(d0=M0.Aa)(oA),e0=()=>(e0=M0.Ba)();At.___start_em_js=944151,At.___stop_em_js=944312;function R0(){var oA=M0;oA=Object.assign({},oA);var gA=DA=>()=>DA()>>>0,xA=DA=>o0=>DA(o0)>>>0;return oA.pa=gA(oA.pa),oA.qa=xA(oA.qa),oA.ua=gA(oA.ua),oA.wa=xA(oA.wa),oA}At.stackAlloc=Ay,At.stackSave=q1,At.stackRestore=iy,At.UTF8ToString=$A,At.stringToUTF8=(oA,gA,xA)=>n0(oA,NA,gA,xA),At.lengthBytesUTF8=QA;var z0;yA=function oA(){z0||g1(),z0||(yA=oA)};function g1(){if(!(0<KA)){if(At.preRun)for(typeof At.preRun=="function"&&(At.preRun=[At.preRun]);At.preRun.length;){var oA=At.preRun.shift();RA.unshift(oA)}for(;0<RA.length;)RA.shift()(At);if(!(0<KA||z0||(z0=!0,At.calledRun=!0,hA))){for(;0<kA.length;)kA.shift()(At);for(Et(At);0<OA.length;)OA.shift()(At)}}}return g1(),bt.ready}})();typeof o=="object"&&typeof s=="object"?s.exports=j:typeof define=="function"&&define.amd&&define([],()=>j)}),Ui=tr(()=>{}),Ni=tr(()=>{}),Wi={};rr(Wi,{cpus:()=>vd});var vd,Vi=F$1(()=>{vd=void 0}),Li=tr((o,s)=>{var j=(()=>{var et=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(et=et||__filename),function(bt={}){function At(){return RA.buffer!=yA.buffer&&U0(),yA}function Et(){return RA.buffer!=yA.buffer&&U0(),TA}function Ut(){return RA.buffer!=yA.buffer&&U0(),r0}function zt(){return RA.buffer!=yA.buffer&&U0(),qA}function It(){return RA.buffer!=yA.buffer&&U0(),XA}function Qt(){return RA.buffer!=yA.buffer&&U0(),S0}var Pt=bt,Yt,cr;Pt.ready=new Promise((rA,dA)=>{Yt=rA,cr=dA}),Pt.mountExternalData=(rA,dA)=>{(Pt.cb||(Pt.cb=new Map)).set(rA,dA)},Pt.unmountExternalData=()=>{delete Pt.cb};let _r=()=>{let rA=(vA,FA,JA)=>(...s0)=>{let _0=ly,q0=FA==null?void 0:FA();s0=vA(...s0);let c1=FA==null?void 0:FA();return q0!==c1&&(vA=c1,JA(q0),FA=JA=null),ly!=_0?_v():s0},dA=vA=>async(...FA)=>{var JA;try{if(Pt.bb)throw Error("Session already started");let s0=Pt.bb={Gb:FA[0],errors:[]},_0=await vA(...FA);if(Pt.bb!==s0)throw Error("Session mismatch");(JA=Pt.kb)==null||JA.flush();let q0=s0.errors;if(0<q0.length){let c1=await Promise.all(q0);if(c1=c1.filter(A1=>A1),0<c1.length)throw Error(c1.join(`
`))}return _0}finally{Pt.bb=null}};Pt._OrtCreateSession=rA(Pt._OrtCreateSession,()=>Pt._OrtCreateSession,vA=>Pt._OrtCreateSession=vA),Pt._OrtRun=dA(rA(Pt._OrtRun,()=>Pt._OrtRun,vA=>Pt._OrtRun=vA)),Pt._OrtRunWithBinding=dA(rA(Pt._OrtRunWithBinding,()=>Pt._OrtRunWithBinding,vA=>Pt._OrtRunWithBinding=vA)),Pt._OrtBindInput=rA(Pt._OrtBindInput,()=>Pt._OrtBindInput,vA=>Pt._OrtBindInput=vA),_r=void 0};Pt.jsepInit=(rA,dA)=>{if(_r==null||_r(),rA==="webgpu"){[Pt.kb,Pt.xb,Pt.Bb,Pt.lb,Pt.Ab,Pt.Ea,Pt.Cb,Pt.Eb,Pt.yb,Pt.zb,Pt.Db]=dA;let vA=Pt.kb;Pt.jsepRegisterBuffer=(FA,JA,s0,_0)=>vA.registerBuffer(FA,JA,s0,_0),Pt.jsepGetBuffer=FA=>vA.getBuffer(FA),Pt.jsepCreateDownloader=(FA,JA,s0)=>vA.createDownloader(FA,JA,s0),Pt.jsepOnReleaseSession=FA=>{vA.onReleaseSession(FA)},Pt.jsepOnRunStart=FA=>vA.onRunStart(FA)}};var vr=Object.assign({},Pt),Yr="./this.program",Kr=(rA,dA)=>{throw dA},jr=typeof window=="object",Hn=typeof importScripts=="function",tA=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",nA=Pt.ENVIRONMENT_IS_PTHREAD||!1,aA="";function lA(rA){return Pt.locateFile?Pt.locateFile(rA,aA):aA+rA}var hA,pA,wA;if(tA){var NA=(Xn(),Gt(Zn)),cA=(Jn(),Gt(Qn));aA=Hn?cA.dirname(aA)+"/":__dirname+"/",hA=(dA,vA)=>(dA=IA(dA)?new URL(dA):cA.normalize(dA),NA.readFileSync(dA,vA?void 0:"utf8")),wA=dA=>(dA=hA(dA,!0),dA.buffer||(dA=new Uint8Array(dA)),dA),pA=(dA,vA,FA,JA=!0)=>{dA=IA(dA)?new URL(dA):cA.normalize(dA),NA.readFile(dA,JA?void 0:"utf8",(s0,_0)=>{s0?FA(s0):vA(JA?_0.buffer:_0)})},!Pt.thisProgram&&1<process.argv.length&&(Yr=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),Kr=(dA,vA)=>{throw process.exitCode=dA,vA},Pt.inspect=()=>"[Emscripten Module object]";let rA;try{rA=Ui()}catch(dA){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),dA}global.Worker=rA.Worker}else(jr||Hn)&&(Hn?aA=self.location.href:typeof document<"u"&&document.currentScript&&(aA=document.currentScript.src),typeof et<"u"&&et&&(aA=et),aA.indexOf("blob:")!==0?aA=aA.substr(0,aA.replace(/[?#].*/,"").lastIndexOf("/")+1):aA="",tA||(hA=rA=>{var dA=new XMLHttpRequest;return dA.open("GET",rA,!1),dA.send(null),dA.responseText},Hn&&(wA=rA=>{var dA=new XMLHttpRequest;return dA.open("GET",rA,!1),dA.responseType="arraybuffer",dA.send(null),new Uint8Array(dA.response)}),pA=(rA,dA,vA)=>{var FA=new XMLHttpRequest;FA.open("GET",rA,!0),FA.responseType="arraybuffer",FA.onload=()=>{FA.status==200||FA.status==0&&FA.response?dA(FA.response):vA()},FA.onerror=vA,FA.send(null)}));tA&&typeof performance>"u"&&(global.performance=Ni().performance);var CA=console.log.bind(console),sA=console.error.bind(console);tA&&(CA=(...rA)=>NA.writeSync(1,rA.join(" ")+`
`),sA=(...rA)=>NA.writeSync(2,rA.join(" ")+`
`));var UA=CA,LA=sA;Object.assign(Pt,vr),vr=null,typeof WebAssembly!="object"&&ZA("no native wasm support detected");var RA,kA,OA=!1,KA,yA,TA,r0,qA,XA,S0;function U0(){var rA=RA.buffer;Pt.HEAP8=yA=new Int8Array(rA),Pt.HEAP16=new Int16Array(rA),Pt.HEAPU8=TA=new Uint8Array(rA),Pt.HEAPU16=new Uint16Array(rA),Pt.HEAP32=r0=new Int32Array(rA),Pt.HEAPU32=qA=new Uint32Array(rA),Pt.HEAPF32=XA=new Float32Array(rA),Pt.HEAPF64=S0=new Float64Array(rA)}var C0=16777216;if(nA)RA=Pt.wasmMemory;else if(Pt.wasmMemory)RA=Pt.wasmMemory;else if(RA=new WebAssembly.Memory({initial:C0/65536,maximum:65536,shared:!0}),!(RA.buffer instanceof SharedArrayBuffer))throw LA("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),tA&&LA("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");U0(),C0=RA.buffer.byteLength;var B0=[],Q0=[],T0=[],F0=0,k0=null;function uA(){if(F0--,F0==0&&k0){var rA=k0;k0=null,rA()}}function ZA(rA){throw rA="Aborted("+rA+")",LA(rA),OA=!0,KA=1,rA=new WebAssembly.RuntimeError(rA+". Build with -sASSERTIONS for more info."),cr(rA),rA}var jA=rA=>rA.startsWith("data:application/octet-stream;base64,"),IA=rA=>rA.startsWith("file://"),$A;$A="ort-wasm-simd-threaded.wasm",jA($A)||($A=lA($A));function QA(rA){if(wA)return wA(rA);throw"both async and sync fetching of the wasm failed"}function n0(rA){if(jr||Hn){if(typeof fetch=="function"&&!IA(rA))return fetch(rA,{credentials:"same-origin"}).then(dA=>{if(!dA.ok)throw"failed to load wasm binary file at '"+rA+"'";return dA.arrayBuffer()}).catch(()=>QA(rA));if(pA)return new Promise((dA,vA)=>{pA(rA,FA=>dA(new Uint8Array(FA)),vA)})}return Promise.resolve().then(()=>QA(rA))}function t0(rA,dA,vA){return n0(rA).then(FA=>WebAssembly.instantiate(FA,dA)).then(FA=>FA).then(vA,FA=>{LA(`failed to asynchronously prepare wasm: ${FA}`),ZA(FA)})}function GA(rA,dA){var vA=$A;return typeof WebAssembly.instantiateStreaming!="function"||jA(vA)||IA(vA)||tA||typeof fetch!="function"?t0(vA,rA,dA):fetch(vA,{credentials:"same-origin"}).then(FA=>WebAssembly.instantiateStreaming(FA,rA).then(dA,function(JA){return LA(`wasm streaming compile failed: ${JA}`),LA("falling back to ArrayBuffer instantiation"),t0(vA,rA,dA)}))}var A0,y0={933148:(rA,dA,vA,FA)=>{if(typeof Pt>"u"||!Pt.cb)return 1;if(rA=t1(rA>>>0),rA.startsWith("./")&&(rA=rA.substring(2)),rA=Pt.cb.get(rA),!rA)return 2;if(dA>>>=0,vA>>>=0,FA>>>=0,dA+vA>rA.byteLength)return 3;try{return Et().set(rA.subarray(dA,dA+vA),FA>>>0),0}catch{return 4}},933649:()=>{Pt.yb()},933680:()=>{Pt.zb()},933709:()=>{Pt.Db()},933734:rA=>Pt.xb(rA),933767:rA=>Pt.Bb(rA),933799:(rA,dA,vA)=>{Pt.lb(rA,dA,vA,!0)},933838:(rA,dA,vA)=>{Pt.lb(rA,dA,vA)},933871:rA=>{Pt.Ea("Abs",rA,void 0)},933922:rA=>{Pt.Ea("Neg",rA,void 0)},933973:rA=>{Pt.Ea("Floor",rA,void 0)},934026:rA=>{Pt.Ea("Ceil",rA,void 0)},934078:rA=>{Pt.Ea("Reciprocal",rA,void 0)},934136:rA=>{Pt.Ea("Sqrt",rA,void 0)},934188:rA=>{Pt.Ea("Exp",rA,void 0)},934239:rA=>{Pt.Ea("Erf",rA,void 0)},934290:rA=>{Pt.Ea("Sigmoid",rA,void 0)},934345:(rA,dA,vA)=>{Pt.Ea("HardSigmoid",rA,{alpha:dA,beta:vA})},934424:rA=>{Pt.Ea("Log",rA,void 0)},934475:rA=>{Pt.Ea("Sin",rA,void 0)},934526:rA=>{Pt.Ea("Cos",rA,void 0)},934577:rA=>{Pt.Ea("Tan",rA,void 0)},934628:rA=>{Pt.Ea("Asin",rA,void 0)},934680:rA=>{Pt.Ea("Acos",rA,void 0)},934732:rA=>{Pt.Ea("Atan",rA,void 0)},934784:rA=>{Pt.Ea("Sinh",rA,void 0)},934836:rA=>{Pt.Ea("Cosh",rA,void 0)},934888:rA=>{Pt.Ea("Asinh",rA,void 0)},934941:rA=>{Pt.Ea("Acosh",rA,void 0)},934994:rA=>{Pt.Ea("Atanh",rA,void 0)},935047:rA=>{Pt.Ea("Tanh",rA,void 0)},935099:rA=>{Pt.Ea("Not",rA,void 0)},935150:(rA,dA,vA)=>{Pt.Ea("Clip",rA,{min:dA,max:vA})},935219:rA=>{Pt.Ea("Clip",rA,void 0)},935271:(rA,dA)=>{Pt.Ea("Elu",rA,{alpha:dA})},935329:rA=>{Pt.Ea("Relu",rA,void 0)},935381:(rA,dA)=>{Pt.Ea("LeakyRelu",rA,{alpha:dA})},935445:(rA,dA)=>{Pt.Ea("ThresholdedRelu",rA,{alpha:dA})},935515:(rA,dA)=>{Pt.Ea("Cast",rA,{to:dA})},935573:rA=>{Pt.Ea("Add",rA,void 0)},935624:rA=>{Pt.Ea("Sub",rA,void 0)},935675:rA=>{Pt.Ea("Mul",rA,void 0)},935726:rA=>{Pt.Ea("Div",rA,void 0)},935777:rA=>{Pt.Ea("Pow",rA,void 0)},935828:rA=>{Pt.Ea("Equal",rA,void 0)},935881:rA=>{Pt.Ea("Greater",rA,void 0)},935936:rA=>{Pt.Ea("GreaterOrEqual",rA,void 0)},935998:rA=>{Pt.Ea("Less",rA,void 0)},936050:rA=>{Pt.Ea("LessOrEqual",rA,void 0)},936109:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceMean",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},936268:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceMax",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},936426:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceMin",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},936584:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceProd",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},936743:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceSum",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},936901:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceL1",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},937058:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceL2",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},937215:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceLogSum",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},937376:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceSumSquare",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},937540:(rA,dA,vA,FA,JA)=>{Pt.Ea("ReduceLogSumExp",rA,{keepDims:!!dA,noopWithEmptyAxes:!!vA,axes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},937704:rA=>{Pt.Ea("Where",rA,void 0)},937757:(rA,dA,vA)=>{Pt.Ea("Transpose",rA,{perm:dA?Array.from(Ut().subarray(dA>>>0,vA>>>0)):[]})},937865:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1,i0,d1)=>{Pt.Ea("ConvTranspose",rA,{format:c1?"NHWC":"NCHW",autoPad:dA,dilations:[vA],group:FA,kernel_shape:[JA],pads:[s0,_0],strides:[q0],wIsConst:()=>!!At()[A1>>>0],outputPadding:y1?Array.from(Ut().subarray(y1>>>0,_1>>>0)):[],outputShape:j1?Array.from(Ut().subarray(j1>>>0,i0>>>0)):[],activation:t1(d1)})},938267:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1,i0)=>{Pt.Ea("ConvTranspose",rA,{format:q0?"NHWC":"NCHW",autoPad:dA,dilations:Array.from(Ut().subarray(vA>>>0,(vA>>>0)+2>>>0)),group:FA,kernelShape:Array.from(Ut().subarray(JA>>>0,(JA>>>0)+2>>>0)),pads:Array.from(Ut().subarray(s0>>>0,(s0>>>0)+4>>>0)),strides:Array.from(Ut().subarray(_0>>>0,(_0>>>0)+2>>>0)),wIsConst:()=>!!At()[c1>>>0],outputPadding:A1?Array.from(Ut().subarray(A1>>>0,y1>>>0)):[],outputShape:_1?Array.from(Ut().subarray(_1>>>0,j1>>>0)):[],activation:t1(i0)})},938832:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1,i0,d1)=>{Pt.Ea("ConvTranspose",rA,{format:c1?"NHWC":"NCHW",autoPad:dA,dilations:[vA],group:FA,kernel_shape:[JA],pads:[s0,_0],strides:[q0],wIsConst:()=>!!At()[A1>>>0],outputPadding:y1?Array.from(Ut().subarray(y1>>>0,_1>>>0)):[],outputShape:j1?Array.from(Ut().subarray(j1>>>0,i0>>>0)):[],activation:t1(d1)})},939234:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1,i0)=>{Pt.Ea("ConvTranspose",rA,{format:q0?"NHWC":"NCHW",autoPad:dA,dilations:Array.from(Ut().subarray(vA>>>0,(vA>>>0)+2>>>0)),group:FA,kernelShape:Array.from(Ut().subarray(JA>>>0,(JA>>>0)+2>>>0)),pads:Array.from(Ut().subarray(s0>>>0,(s0>>>0)+4>>>0)),strides:Array.from(Ut().subarray(_0>>>0,(_0>>>0)+2>>>0)),wIsConst:()=>!!At()[c1>>>0],outputPadding:A1?Array.from(Ut().subarray(A1>>>0,y1>>>0)):[],outputShape:_1?Array.from(Ut().subarray(_1>>>0,j1>>>0)):[],activation:t1(i0)})},939799:(rA,dA)=>{Pt.Ea("GlobalAveragePool",rA,{format:dA?"NHWC":"NCHW"})},939890:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1,i0,d1,T1)=>{Pt.Ea("AveragePool",rA,{format:T1?"NHWC":"NCHW",auto_pad:dA,ceil_mode:vA,count_include_pad:FA,storage_order:JA,dilations:[s0,_0],kernel_shape:[q0,c1],pads:[A1,y1,_1,j1],strides:[i0,d1]})},940174:(rA,dA)=>{Pt.Ea("GlobalAveragePool",rA,{format:dA?"NHWC":"NCHW"})},940265:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1,i0,d1,T1)=>{Pt.Ea("AveragePool",rA,{format:T1?"NHWC":"NCHW",auto_pad:dA,ceil_mode:vA,count_include_pad:FA,storage_order:JA,dilations:[s0,_0],kernel_shape:[q0,c1],pads:[A1,y1,_1,j1],strides:[i0,d1]})},940549:(rA,dA)=>{Pt.Ea("GlobalMaxPool",rA,{format:dA?"NHWC":"NCHW"})},940636:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1,i0,d1,T1)=>{Pt.Ea("MaxPool",rA,{format:T1?"NHWC":"NCHW",auto_pad:dA,ceil_mode:vA,count_include_pad:FA,storage_order:JA,dilations:[s0,_0],kernel_shape:[q0,c1],pads:[A1,y1,_1,j1],strides:[i0,d1]})},940916:(rA,dA)=>{Pt.Ea("GlobalMaxPool",rA,{format:dA?"NHWC":"NCHW"})},941003:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1,i0,d1,T1)=>{Pt.Ea("MaxPool",rA,{format:T1?"NHWC":"NCHW",auto_pad:dA,ceil_mode:vA,count_include_pad:FA,storage_order:JA,dilations:[s0,_0],kernel_shape:[q0,c1],pads:[A1,y1,_1,j1],strides:[i0,d1]})},941283:(rA,dA,vA,FA,JA)=>{Pt.Ea("Gemm",rA,{alpha:dA,beta:vA,transA:FA,transB:JA})},941387:rA=>{Pt.Ea("MatMul",rA,void 0)},941441:(rA,dA,vA,FA)=>{Pt.Ea("ArgMax",rA,{keepDims:!!dA,selectLastIndex:!!vA,axis:FA})},941549:(rA,dA,vA,FA)=>{Pt.Ea("ArgMin",rA,{keepDims:!!dA,selectLastIndex:!!vA,axis:FA})},941657:(rA,dA)=>{Pt.Ea("Softmax",rA,{axis:dA})},941720:(rA,dA)=>{Pt.Ea("Concat",rA,{axis:dA})},941780:(rA,dA,vA,FA,JA)=>{Pt.Ea("Split",rA,{axis:dA,numOutputs:vA,splitSizes:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},941920:rA=>{Pt.Ea("Expand",rA,void 0)},941974:(rA,dA)=>{Pt.Ea("Gather",rA,{axis:Number(dA)})},942045:(rA,dA)=>{Pt.Ea("GatherElements",rA,{axis:Number(dA)})},942124:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1)=>{Pt.Ea("Resize",rA,{antialias:dA,axes:vA?Array.from(Ut().subarray(vA>>>0,FA>>>0)):[],coordinateTransformMode:t1(JA),cubicCoeffA:s0,excludeOutside:_0,extrapolationValue:q0,keepAspectRatioPolicy:t1(c1),mode:t1(A1),nearestMode:t1(y1)})},942470:(rA,dA,vA,FA,JA,s0,_0)=>{Pt.Ea("Slice",rA,{starts:dA?Array.from(Ut().subarray(dA>>>0,vA>>>0)):[],ends:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[],axes:s0?Array.from(Ut().subarray(s0>>>0,_0>>>0)):[]})},942686:rA=>{Pt.Ea("Tile",rA,void 0)},942738:(rA,dA,vA)=>{Pt.Ea("LayerNormalization",rA,{axis:Number(dA),epsilon:Number(vA)})},942845:(rA,dA,vA)=>{Pt.Ea("InstanceNormalization",rA,{epsilon:dA,format:vA?"NHWC":"NCHW"})},942959:(rA,dA,vA)=>{Pt.Ea("InstanceNormalization",rA,{epsilon:dA,format:vA?"NHWC":"NCHW"})},943073:rA=>{Pt.Ea("Range",rA,void 0)},943126:(rA,dA)=>{Pt.Ea("Einsum",rA,{equation:t1(dA)})},943207:(rA,dA,vA,FA,JA)=>{Pt.Ea("Pad",rA,{mode:dA,value:vA,pads:FA?Array.from(Ut().subarray(FA>>>0,JA>>>0)):[]})},943334:(rA,dA,vA,FA,JA,s0)=>{Pt.Ea("BatchNormalization",rA,{epsilon:dA,momentum:vA,spatial:!!JA,trainingMode:!!FA,format:s0?"NHWC":"NCHW"})},943503:(rA,dA,vA,FA,JA,s0)=>{Pt.Ea("BatchNormalization",rA,{epsilon:dA,momentum:vA,spatial:!!JA,trainingMode:!!FA,format:s0?"NHWC":"NCHW"})},943672:(rA,dA,vA)=>{Pt.Ea("CumSum",rA,{exclusive:Number(dA),reverse:Number(vA)})},943769:(rA,dA,vA,FA,JA,s0,_0,q0,c1)=>{Pt.Ea("Attention",rA,{numHeads:dA,isUnidirectional:vA,maskFilterValue:FA,scale:JA,doRotary:s0,qkvHiddenSizes:_0?Array.from(Ut().subarray(Number(q0)>>>0,Number(q0)+_0>>>0)):[],pastPresentShareBuffer:!!c1})},944041:rA=>{Pt.Ea("BiasAdd",rA,void 0)},944096:rA=>{Pt.Ea("BiasSplitGelu",rA,void 0)},944157:rA=>{Pt.Ea("FastGelu",rA,void 0)},944213:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1)=>{Pt.Ea("Conv",rA,{format:c1?"NHWC":"NCHW",auto_pad:dA,dilations:[vA],group:FA,kernel_shape:[JA],pads:s0?Array.from(Ut().subarray(s0>>>0,_0>>>0)):[],strides:[q0],w_is_const:()=>!!At()[A1>>>0],activation:t1(y1),activation_params:_1?Array.from(It().subarray(_1>>>0,j1>>>0)):[]})},944583:(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1,y1,_1,j1,i0,d1,T1)=>{Pt.Ea("Conv",rA,{format:_1?"NHWC":"NCHW",auto_pad:dA,dilations:[vA,FA],group:JA,kernel_shape:[s0,_0],pads:q0?Array.from(Ut().subarray(q0>>>0,c1>>>0)):[],strides:[A1,y1],w_is_const:()=>!!At()[j1>>>0],activation:t1(i0),activation_params:d1?Array.from(It().subarray(d1>>>0,T1>>>0)):[]})},944974:rA=>{Pt.Ea("Gelu",rA,void 0)},945026:(rA,dA,vA,FA,JA,s0)=>{Pt.Ea("MatMulNBits",rA,{k:dA,n:vA,accuracyLevel:FA,bits:JA,blockSize:s0})},945153:(rA,dA,vA,FA,JA,s0)=>{Pt.Ea("MultiHeadAttention",rA,{numHeads:dA,isUnidirectional:vA,maskFilterValue:FA,scale:JA,doRotary:s0})},945312:(rA,dA)=>{Pt.Ea("SkipLayerNormalization",rA,{epsilon:dA})},945393:rA=>{Pt.Cb(rA)},945427:(rA,dA)=>Pt.Eb(rA,dA,Pt.bb.Gb,Pt.bb.errors)};function f0(rA){this.name="ExitStatus",this.message=`Program terminated with exit(${rA})`,this.status=rA}var P0=rA=>{rA.terminate(),rA.onmessage=()=>{}},K0=rA=>{mA.Ya.length==0&&(M1(),mA.mb(mA.Ya[0]));var dA=mA.Ya.pop();if(!dA)return 6;mA.Za.push(dA),mA.Qa[rA.Xa]=dA,dA.Xa=rA.Xa;var vA={cmd:"run",start_routine:rA.Hb,arg:rA.ub,pthread_ptr:rA.Xa};return tA&&dA.unref(),dA.postMessage(vA,rA.Nb),0},$0=0,w0=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,E0=(rA,dA,vA)=>{dA>>>=0;var FA=dA+vA;for(vA=dA;rA[vA]&&!(vA>=FA);)++vA;if(16<vA-dA&&rA.buffer&&w0)return w0.decode(rA.buffer instanceof SharedArrayBuffer?rA.slice(dA,vA):rA.subarray(dA,vA));for(FA="";dA<vA;){var JA=rA[dA++];if(JA&128){var s0=rA[dA++]&63;if((JA&224)==192)FA+=String.fromCharCode((JA&31)<<6|s0);else{var _0=rA[dA++]&63;JA=(JA&240)==224?(JA&15)<<12|s0<<6|_0:(JA&7)<<18|s0<<12|_0<<6|rA[dA++]&63,65536>JA?FA+=String.fromCharCode(JA):(JA-=65536,FA+=String.fromCharCode(55296|JA>>10,56320|JA&1023))}}else FA+=String.fromCharCode(JA)}return FA},t1=(rA,dA)=>(rA>>>=0)?E0(Et(),rA,dA):"",O1=rA=>{var dA=e1();return rA=rA(),w1(dA),rA};function v0(rA,dA){var vA=arguments.length-2,FA=arguments;return O1(()=>{for(var JA=Av(8*vA),s0=JA>>>3,_0=0;_0<vA;_0++){var q0=FA[2+_0];Qt()[s0+_0>>>0]=q0}return K1(rA,vA,JA,dA)})}function X0(rA){var dA;if(nA)return v0(0,1,rA);KA=rA,0<$0||(mA.Ib(),(dA=Pt.onExit)==null||dA.call(Pt,rA),OA=!0),Kr(rA,new f0(rA))}var r1=rA=>{if(KA=rA,nA)throw WA(rA),"unwind";X0(rA)},L0=rA=>{rA instanceof f0||rA=="unwind"||Kr(1,rA)};function k1(){for(var rA=Pt.numThreads;rA--;)M1();B0.unshift(()=>{F0++,N1(()=>uA())})}function M1(){var rA=lA("ort-wasm-simd-threaded.worker.js");rA=new Worker(rA),mA.Ya.push(rA)}function N1(rA){nA?rA():Promise.all(mA.Ya.map(mA.mb)).then(rA)}var mA={Ya:[],Za:[],qb:[],Qa:{},hb(){nA?(mA.receiveObjectTransfer=mA.Fb,mA.threadInitTLS=mA.pb,mA.setExitStatus=mA.ob):k1()},ob:rA=>KA=rA,Qb:["$terminateWorker"],Ib:()=>{for(var rA of mA.Za)P0(rA);for(rA of mA.Ya)P0(rA);mA.Ya=[],mA.Za=[],mA.Qa=[]},nb:rA=>{var dA=rA.Xa;delete mA.Qa[dA],mA.Ya.push(rA),mA.Za.splice(mA.Za.indexOf(rA),1),rA.Xa=0,ty(dA)},Fb(){},pb(){mA.qb.forEach(rA=>rA())},mb:rA=>new Promise(dA=>{rA.onmessage=s0=>{s0=s0.data;var _0=s0.cmd;if(s0.targetThread&&s0.targetThread!=O0()){var q0=mA.Qa[s0.targetThread];q0?q0.postMessage(s0,s0.transferList):LA(`Internal error! Worker sent a message "${_0}" to target pthread ${s0.targetThread}, but that thread no longer exists!`)}else _0==="checkMailbox"?g1():_0==="spawnThread"?K0(s0):_0==="cleanupThread"?mA.nb(mA.Qa[s0.thread]):_0==="killThread"?(s0=s0.thread,_0=mA.Qa[s0],delete mA.Qa[s0],P0(_0),ty(s0),mA.Za.splice(mA.Za.indexOf(_0),1),_0.Xa=0):_0==="cancelThread"?mA.Qa[s0.thread].postMessage({cmd:"cancel"}):_0==="loaded"?(rA.loaded=!0,tA&&!rA.Xa&&rA.unref(),dA(rA)):_0==="alert"?alert(`Thread ${s0.threadId}: ${s0.text}`):s0.target==="setimmediate"?rA.postMessage(s0):_0==="callHandler"?Pt[s0.handler](...s0.args):_0&&LA(`worker sent an unknown command ${_0}`)},rA.onerror=s0=>{throw LA(`worker sent an error! ${s0.filename}:${s0.lineno}: ${s0.message}`),s0},tA&&(rA.on("message",s0=>rA.onmessage({data:s0})),rA.on("error",s0=>rA.onerror(s0)));var vA=[],FA=["onExit"],JA;for(JA of FA)Pt.hasOwnProperty(JA)&&vA.push(JA);rA.postMessage({cmd:"load",handlers:vA,urlOrBlob:Pt.mainScriptUrlOrBlob||et,wasmMemory:RA,wasmModule:kA})})};Pt.PThread=mA;var HA=rA=>{for(;0<rA.length;)rA.shift()(Pt)};Pt.establishStackSpace=()=>{var rA=O0(),dA=zt()[rA+52>>>2>>>0];rA=zt()[rA+56>>>2>>>0],U1(dA,dA-rA),w1(dA)};function WA(rA){if(nA)return v0(1,0,rA);r1(rA)}Pt.invokeEntryPoint=(rA,dA)=>{rA=y$.apply(null,[rA,dA]),0<$0?mA.ob(rA):uv(rA)};function c0(rA){this.gb=rA-24,this.tb=function(dA){zt()[this.gb+4>>>2>>>0]=dA},this.sb=function(dA){zt()[this.gb+8>>>2>>>0]=dA},this.hb=function(dA,vA){this.rb(),this.tb(dA),this.sb(vA)},this.rb=function(){zt()[this.gb+16>>>2>>>0]=0}}var D0=0;function W0(rA,dA,vA,FA){return nA?v0(2,1,rA,dA,vA,FA):l1(rA,dA,vA,FA)}function l1(rA,dA,vA,FA){if(rA>>>=0,dA>>>=0,vA>>>=0,FA>>>=0,typeof SharedArrayBuffer>"u")return LA("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var JA=[];return nA&&JA.length===0?W0(rA,dA,vA,FA):(rA={Hb:vA,Xa:rA,ub:FA,Nb:JA},nA?(rA.Pb="spawnThread",postMessage(rA,JA),0):K0(rA))}function P1(rA,dA,vA){return nA?v0(3,1,rA,dA,vA):0}function V1(rA,dA){if(nA)return v0(4,1,rA,dA)}var F1=rA=>{for(var dA=0,vA=0;vA<rA.length;++vA){var FA=rA.charCodeAt(vA);127>=FA?dA++:2047>=FA?dA+=2:55296<=FA&&57343>=FA?(dA+=4,++vA):dA+=3}return dA},m1=(rA,dA,vA,FA)=>{if(vA>>>=0,!(0<FA))return 0;var JA=vA;FA=vA+FA-1;for(var s0=0;s0<rA.length;++s0){var _0=rA.charCodeAt(s0);if(55296<=_0&&57343>=_0){var q0=rA.charCodeAt(++s0);_0=65536+((_0&1023)<<10)|q0&1023}if(127>=_0){if(vA>=FA)break;dA[vA++>>>0]=_0}else{if(2047>=_0){if(vA+1>=FA)break;dA[vA++>>>0]=192|_0>>6}else{if(65535>=_0){if(vA+2>=FA)break;dA[vA++>>>0]=224|_0>>12}else{if(vA+3>=FA)break;dA[vA++>>>0]=240|_0>>18,dA[vA++>>>0]=128|_0>>12&63}dA[vA++>>>0]=128|_0>>6&63}dA[vA++>>>0]=128|_0&63}}return dA[vA>>>0]=0,vA-JA},M0=(rA,dA,vA)=>m1(rA,Et(),dA,vA);function W1(rA,dA){if(nA)return v0(5,1,rA,dA)}function u0(rA,dA,vA){if(nA)return v0(6,1,rA,dA,vA)}function h1(rA,dA,vA){return nA?v0(7,1,rA,dA,vA):0}function E1(rA,dA){if(nA)return v0(8,1,rA,dA)}function q1(rA,dA,vA){if(nA)return v0(9,1,rA,dA,vA)}function iy(rA,dA,vA,FA){if(nA)return v0(10,1,rA,dA,vA,FA)}function Ay(rA,dA,vA,FA){if(nA)return v0(11,1,rA,dA,vA,FA)}function oy(rA,dA,vA,FA){if(nA)return v0(12,1,rA,dA,vA,FA)}function sy(rA){if(nA)return v0(13,1,rA)}function d0(rA,dA){if(nA)return v0(14,1,rA,dA)}function e0(rA,dA,vA){if(nA)return v0(15,1,rA,dA,vA)}var R0=()=>{if(!(0<$0))try{nA?uv(KA):r1(KA)}catch(rA){L0(rA)}};function z0(rA){rA>>>=0,typeof Atomics.Ob=="function"&&(Atomics.Ob(Ut(),rA>>>2,rA).value.then(g1),rA+=128,Atomics.store(Ut(),rA>>>2,1))}Pt.__emscripten_thread_mailbox_await=z0;var g1=()=>{var rA=O0();if(rA&&(z0(rA),!OA))try{Ev(),R0()}catch(dA){L0(dA)}};Pt.checkMailbox=g1;var oA=[],gA=rA=>rA%4===0&&(rA%100!==0||rA%400===0),xA=[0,31,60,91,121,152,182,213,244,274,305,335],DA=[0,31,59,90,120,151,181,212,243,273,304,334];function o0(rA,dA,vA,FA,JA,s0,_0,q0){return nA?v0(16,1,rA,dA,vA,FA,JA,s0,_0,q0):-52}function g0(rA,dA,vA,FA,JA,s0,_0){if(nA)return v0(17,1,rA,dA,vA,FA,JA,s0,_0)}var N0=rA=>{var dA=F1(rA)+1,vA=j0(dA);return vA&&M0(rA,vA,dA),vA},Z0=[],J0=(rA,dA)=>{Z0.length=0;for(var vA;vA=Et()[rA++>>>0];){var FA=vA!=105;FA&=vA!=112,dA+=FA&&dA%8?4:0,Z0.push(vA==112?zt()[dA>>>2>>>0]:vA==105?Ut()[dA>>>2>>>0]:Qt()[dA>>>3>>>0]),dA+=FA?8:4}return Z0},i1={},u1=()=>{if(!S1){var rA={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Yr||"./this.program"},dA;for(dA in i1)i1[dA]===void 0?delete rA[dA]:rA[dA]=i1[dA];var vA=[];for(dA in rA)vA.push(`${dA}=${rA[dA]}`);S1=vA}return S1},S1;function R1(rA,dA){if(nA)return v0(18,1,rA,dA);rA>>>=0,dA>>>=0;var vA=0;return u1().forEach((FA,JA)=>{var s0=dA+vA;for(JA=zt()[rA+4*JA>>>2>>>0]=s0,s0=0;s0<FA.length;++s0)At()[JA++>>>0>>>0]=FA.charCodeAt(s0);At()[JA>>>0>>>0]=0,vA+=FA.length+1}),0}function a0(rA,dA){if(nA)return v0(19,1,rA,dA);rA>>>=0,dA>>>=0;var vA=u1();zt()[rA>>>2>>>0]=vA.length;var FA=0;return vA.forEach(JA=>FA+=JA.length+1),zt()[dA>>>2>>>0]=FA,0}function o1(rA){return nA?v0(20,1,rA):52}function b1(rA,dA,vA,FA){return nA?v0(21,1,rA,dA,vA,FA):52}function cy(rA,dA,vA,FA,JA){return nA?v0(22,1,rA,dA,vA,FA,JA):70}var Wy=[null,[],[]];function $v(rA,dA,vA,FA){if(nA)return v0(23,1,rA,dA,vA,FA);dA>>>=0,vA>>>=0,FA>>>=0;for(var JA=0,s0=0;s0<vA;s0++){var _0=zt()[dA>>>2>>>0],q0=zt()[dA+4>>>2>>>0];dA+=8;for(var c1=0;c1<q0;c1++){var A1=Et()[_0+c1>>>0],y1=Wy[rA];A1===0||A1===10?((rA===1?UA:LA)(E0(y1,0)),y1.length=0):y1.push(A1)}JA+=q0}return zt()[FA>>>2>>>0]=JA,0}var Ky=[31,29,31,30,31,30,31,31,30,31,30,31],Uv=[31,28,31,30,31,30,31,31,30,31,30,31];function Pv(rA){var dA=Array(F1(rA)+1);return m1(rA,dA,0,dA.length),dA}var Y0=(rA,dA)=>{At().set(rA,dA>>>0)};function sv(rA,dA,vA,FA){function JA(i0,d1,T1){for(i0=typeof i0=="number"?i0.toString():i0||"";i0.length<d1;)i0=T1[0]+i0;return i0}function s0(i0,d1){return JA(i0,d1,"0")}function _0(i0,d1){function T1(Cv){return 0>Cv?-1:0<Cv?1:0}var dy;return(dy=T1(i0.getFullYear()-d1.getFullYear()))===0&&(dy=T1(i0.getMonth()-d1.getMonth()))===0&&(dy=T1(i0.getDate()-d1.getDate())),dy}function q0(i0){switch(i0.getDay()){case 0:return new Date(i0.getFullYear()-1,11,29);case 1:return i0;case 2:return new Date(i0.getFullYear(),0,3);case 3:return new Date(i0.getFullYear(),0,2);case 4:return new Date(i0.getFullYear(),0,1);case 5:return new Date(i0.getFullYear()-1,11,31);case 6:return new Date(i0.getFullYear()-1,11,30)}}function c1(i0){var d1=i0.$a;for(i0=new Date(new Date(i0.ab+1900,0,1).getTime());0<d1;){var T1=i0.getMonth(),dy=(gA(i0.getFullYear())?Ky:Uv)[T1];if(d1>dy-i0.getDate())d1-=dy-i0.getDate()+1,i0.setDate(1),11>T1?i0.setMonth(T1+1):(i0.setMonth(0),i0.setFullYear(i0.getFullYear()+1));else{i0.setDate(i0.getDate()+d1);break}}return T1=new Date(i0.getFullYear()+1,0,4),d1=q0(new Date(i0.getFullYear(),0,4)),T1=q0(T1),0>=_0(d1,i0)?0>=_0(T1,i0)?i0.getFullYear()+1:i0.getFullYear():i0.getFullYear()-1}rA>>>=0,dA>>>=0,vA>>>=0,FA>>>=0;var A1=zt()[FA+40>>>2>>>0];FA={Lb:Ut()[FA>>>2>>>0],Kb:Ut()[FA+4>>>2>>>0],eb:Ut()[FA+8>>>2>>>0],jb:Ut()[FA+12>>>2>>>0],fb:Ut()[FA+16>>>2>>>0],ab:Ut()[FA+20>>>2>>>0],Wa:Ut()[FA+24>>>2>>>0],$a:Ut()[FA+28>>>2>>>0],Rb:Ut()[FA+32>>>2>>>0],Jb:Ut()[FA+36>>>2>>>0],Mb:A1?t1(A1):""},vA=t1(vA),A1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var y1 in A1)vA=vA.replace(new RegExp(y1,"g"),A1[y1]);var _1="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),j1="January February March April May June July August September October November December".split(" ");A1={"%a":i0=>_1[i0.Wa].substring(0,3),"%A":i0=>_1[i0.Wa],"%b":i0=>j1[i0.fb].substring(0,3),"%B":i0=>j1[i0.fb],"%C":i0=>s0((i0.ab+1900)/100|0,2),"%d":i0=>s0(i0.jb,2),"%e":i0=>JA(i0.jb,2," "),"%g":i0=>c1(i0).toString().substring(2),"%G":i0=>c1(i0),"%H":i0=>s0(i0.eb,2),"%I":i0=>(i0=i0.eb,i0==0?i0=12:12<i0&&(i0-=12),s0(i0,2)),"%j":i0=>{for(var d1=0,T1=0;T1<=i0.fb-1;d1+=(gA(i0.ab+1900)?Ky:Uv)[T1++]);return s0(i0.jb+d1,3)},"%m":i0=>s0(i0.fb+1,2),"%M":i0=>s0(i0.Kb,2),"%n":()=>`
`,"%p":i0=>0<=i0.eb&&12>i0.eb?"AM":"PM","%S":i0=>s0(i0.Lb,2),"%t":()=>"	","%u":i0=>i0.Wa||7,"%U":i0=>s0(Math.floor((i0.$a+7-i0.Wa)/7),2),"%V":i0=>{var d1=Math.floor((i0.$a+7-(i0.Wa+6)%7)/7);if(2>=(i0.Wa+371-i0.$a-2)%7&&d1++,d1)d1==53&&(T1=(i0.Wa+371-i0.$a)%7,T1==4||T1==3&&gA(i0.ab)||(d1=1));else{d1=52;var T1=(i0.Wa+7-i0.$a-1)%7;(T1==4||T1==5&&gA(i0.ab%400-1))&&d1++}return s0(d1,2)},"%w":i0=>i0.Wa,"%W":i0=>s0(Math.floor((i0.$a+7-(i0.Wa+6)%7)/7),2),"%y":i0=>(i0.ab+1900).toString().substring(2),"%Y":i0=>i0.ab+1900,"%z":i0=>{i0=i0.Jb;var d1=0<=i0;return i0=Math.abs(i0)/60,(d1?"+":"-")+("0000"+(i0/60*100+i0%60)).slice(-4)},"%Z":i0=>i0.Mb,"%%":()=>"%"},vA=vA.replace(/%%/g,"\0\0");for(y1 in A1)vA.includes(y1)&&(vA=vA.replace(new RegExp(y1,"g"),A1[y1](FA)));return vA=vA.replace(/\0\0/g,"%"),y1=Pv(vA),y1.length>dA?0:(Y0(y1,rA),y1.length-1)}var Uy=rA=>{try{rA()}catch(dA){ZA(dA)}};function wv(){var rA=zA,dA={};for(let[vA,FA]of Object.entries(rA))dA[vA]=typeof FA=="function"?function(){Py.push(vA);try{return FA.apply(null,arguments)}finally{OA||(Py.pop(),ly&&vy===1&&Py.length===0&&(vy=0,$0+=1,Uy(b$),typeof Fibers<"u"&&Fibers.Sb()))}}:FA;return dA}var vy=0,ly=null,lv=0,Py=[],Gy={},Zy={},Dy=0,Hy=null,qy=[];function _v(){return new Promise((rA,dA)=>{Hy={resolve:rA,reject:dA}})}function Dv(){var rA=j0(65548),dA=rA+12;zt()[rA>>>2>>>0]=dA,zt()[rA+4>>>2>>>0]=dA+65536,dA=Py[0];var vA=Gy[dA];return vA===void 0&&(vA=Dy++,Gy[dA]=vA,Zy[vA]=dA),dA=vA,Ut()[rA+8>>>2>>>0]=dA,rA}function Xy(){var rA=Ut()[ly+8>>>2>>>0];return rA=zA[Zy[rA]],--$0,rA()}function xv(rA){if(!OA){if(vy===0){var dA=!1,vA=!1;rA((FA=0)=>{if(!OA&&(lv=FA,dA=!0,vA)){vy=2,Uy(()=>$$(ly)),typeof Browser<"u"&&Browser.ib.wb&&Browser.ib.resume(),FA=!1;try{var JA=Xy()}catch(q0){JA=q0,FA=!0}var s0=!1;if(!ly){var _0=Hy;_0&&(Hy=null,(FA?_0.reject:_0.resolve)(JA),s0=!0)}if(FA&&!s0)throw JA}}),vA=!0,dA||(vy=1,ly=Dv(),typeof Browser<"u"&&Browser.ib.wb&&Browser.ib.pause(),Uy(()=>v$(ly)))}else vy===2?(vy=0,Uy(w$),H1(ly),ly=null,qy.forEach(FA=>{if(!OA)try{FA(),R0()}catch(JA){L0(JA)}})):ZA(`invalid state: ${vy}`);return lv}}function AA(rA){return xv(dA=>{rA().then(dA)})}mA.hb();var EA=[X0,WA,W0,P1,V1,W1,u0,h1,E1,q1,iy,Ay,oy,sy,d0,e0,o0,g0,R1,a0,o1,b1,cy,$v],MA={r:function(rA,dA,vA){return AA(async()=>{await Pt.Ab(rA,dA,vA)})},b:function(rA,dA,vA){throw rA>>>=0,new c0(rA).hb(dA>>>0,vA>>>0),D0=rA,D0},N:function(rA){hy(rA>>>0,!Hn,1,!jr,131072,!1),mA.pb()},l:function(rA){rA>>>=0,nA?postMessage({cmd:"cleanupThread",thread:rA}):mA.nb(mA.Qa[rA])},J:l1,i:P1,T:V1,F:W1,H:u0,U:h1,R:E1,L:q1,Q:iy,p:Ay,G:oy,D:sy,S:d0,E:e0,q:()=>1,B:function(rA,dA){rA>>>=0,rA==dA>>>0?setTimeout(()=>g1()):nA?postMessage({targetThread:rA,cmd:"checkMailbox"}):(rA=mA.Qa[rA])&&rA.postMessage({cmd:"checkMailbox"})},K:function(rA,dA,vA,FA){dA>>>=0,oA.length=vA,FA=FA>>>0>>>3;for(var JA=0;JA<vA;JA++)oA[JA]=Qt()[FA+JA>>>0];return rA=0>rA?y0[-rA-1]:EA[rA],mA.vb=dA,dA=rA.apply(null,oA),mA.vb=0,dA},M:z0,W:function(rA){tA&&mA.Qa[rA>>>0].ref()},u:function(rA,dA,vA){rA=dA+2097152>>>0<4194305-!!rA?(rA>>>0)+4294967296*dA:NaN,vA>>>=0,rA=new Date(1e3*rA),Ut()[vA>>>2>>>0]=rA.getUTCSeconds(),Ut()[vA+4>>>2>>>0]=rA.getUTCMinutes(),Ut()[vA+8>>>2>>>0]=rA.getUTCHours(),Ut()[vA+12>>>2>>>0]=rA.getUTCDate(),Ut()[vA+16>>>2>>>0]=rA.getUTCMonth(),Ut()[vA+20>>>2>>>0]=rA.getUTCFullYear()-1900,Ut()[vA+24>>>2>>>0]=rA.getUTCDay(),rA=(rA.getTime()-Date.UTC(rA.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,Ut()[vA+28>>>2>>>0]=rA},v:function(rA,dA,vA){rA=dA+2097152>>>0<4194305-!!rA?(rA>>>0)+4294967296*dA:NaN,vA>>>=0,rA=new Date(1e3*rA),Ut()[vA>>>2>>>0]=rA.getSeconds(),Ut()[vA+4>>>2>>>0]=rA.getMinutes(),Ut()[vA+8>>>2>>>0]=rA.getHours(),Ut()[vA+12>>>2>>>0]=rA.getDate(),Ut()[vA+16>>>2>>>0]=rA.getMonth(),Ut()[vA+20>>>2>>>0]=rA.getFullYear()-1900,Ut()[vA+24>>>2>>>0]=rA.getDay(),dA=(gA(rA.getFullYear())?xA:DA)[rA.getMonth()]+rA.getDate()-1|0,Ut()[vA+28>>>2>>>0]=dA,Ut()[vA+36>>>2>>>0]=-(60*rA.getTimezoneOffset()),dA=new Date(rA.getFullYear(),6,1).getTimezoneOffset();var FA=new Date(rA.getFullYear(),0,1).getTimezoneOffset();rA=(dA!=FA&&rA.getTimezoneOffset()==Math.min(FA,dA))|0,Ut()[vA+32>>>2>>>0]=rA},w:function(rA){rA>>>=0;var dA=new Date(Ut()[rA+20>>>2>>>0]+1900,Ut()[rA+16>>>2>>>0],Ut()[rA+12>>>2>>>0],Ut()[rA+8>>>2>>>0],Ut()[rA+4>>>2>>>0],Ut()[rA>>>2>>>0],0),vA=Ut()[rA+32>>>2>>>0],FA=dA.getTimezoneOffset(),JA=new Date(dA.getFullYear(),6,1).getTimezoneOffset(),s0=new Date(dA.getFullYear(),0,1).getTimezoneOffset(),_0=Math.min(s0,JA);return 0>vA?Ut()[rA+32>>>2>>>0]=+(JA!=s0&&_0==FA):0<vA!=(_0==FA)&&(JA=Math.max(s0,JA),dA.setTime(dA.getTime()+6e4*((0<vA?_0:JA)-FA))),Ut()[rA+24>>>2>>>0]=dA.getDay(),vA=(gA(dA.getFullYear())?xA:DA)[dA.getMonth()]+dA.getDate()-1|0,Ut()[rA+28>>>2>>>0]=vA,Ut()[rA>>>2>>>0]=dA.getSeconds(),Ut()[rA+4>>>2>>>0]=dA.getMinutes(),Ut()[rA+8>>>2>>>0]=dA.getHours(),Ut()[rA+12>>>2>>>0]=dA.getDate(),Ut()[rA+16>>>2>>>0]=dA.getMonth(),Ut()[rA+20>>>2>>>0]=dA.getYear(),rA=dA.getTime(),isNaN(rA)?(Ut()[I0()>>>2>>>0]=61,rA=-1):rA/=1e3,p0((A0=rA,1<=+Math.abs(A0)?0<A0?+Math.floor(A0/4294967296)>>>0:~~+Math.ceil((A0-+(~~A0>>>0))/4294967296)>>>0:0)),rA>>>0},s:o0,t:g0,A:function(rA,dA,vA){function FA(A1){return(A1=A1.toTimeString().match(/\(([A-Za-z ]+)\)$/))?A1[1]:"GMT"}rA>>>=0,dA>>>=0,vA>>>=0;var JA=new Date().getFullYear(),s0=new Date(JA,0,1),_0=new Date(JA,6,1);JA=s0.getTimezoneOffset();var q0=_0.getTimezoneOffset(),c1=Math.max(JA,q0);zt()[rA>>>2>>>0]=60*c1,Ut()[dA>>>2>>>0]=+(JA!=q0),rA=FA(s0),dA=FA(_0),rA=N0(rA),dA=N0(dA),q0<JA?(zt()[vA>>>2>>>0]=rA,zt()[vA+4>>>2>>>0]=dA):(zt()[vA>>>2>>>0]=dA,zt()[vA+4>>>2>>>0]=rA)},d:()=>{ZA("")},c:function(rA,dA,vA){return rA>>>=0,dA=J0(dA>>>0,vA>>>0),y0[rA].apply(null,dA)},k:function(rA,dA,vA){return rA>>>=0,dA=J0(dA>>>0,vA>>>0),y0[rA].apply(null,dA)},m:()=>{},j:()=>Date.now(),V:()=>{throw $0+=1,"unwind"},C:function(){return 4294901760},f:()=>performance.timeOrigin+performance.now(),g:()=>tA?(Vi(),Gt(Wi)).cpus().length:navigator.hardwareConcurrency,y:function(rA){rA>>>=0;var dA=Et().length;if(rA<=dA||4294901760<rA)return!1;for(var vA=1;4>=vA;vA*=2){var FA=dA*(1+.2/vA);FA=Math.min(FA,rA+100663296);var JA=Math;FA=Math.max(rA,FA);e:{JA=(JA.min.call(JA,4294901760,FA+(65536-FA%65536)%65536)-RA.buffer.byteLength+65535)/65536;try{RA.grow(JA),U0();var s0=1;break e}catch{}s0=void 0}if(s0)return!0}return!1},O:R1,P:a0,I:r1,h:o1,o:b1,x:cy,n:$v,a:RA||Pt.wasmMemory,z:sv,e:function(rA,dA,vA,FA){return sv(rA>>>0,dA>>>0,vA>>>0,FA>>>0)}},zA=function(){function rA(vA,FA){return zA=vA.exports,zA=wv(),zA=_$(),mA.qb.push(zA.Da),Q0.unshift(zA.X),kA=FA,uA(),zA}var dA={a:MA};if(F0++,Pt.instantiateWasm)try{return Pt.instantiateWasm(dA,rA)}catch(vA){LA(`Module.instantiateWasm callback failed with error: ${vA}`),cr(vA)}return GA(dA,function(vA){rA(vA.instance,vA.module)}).catch(cr),{}}();Pt._OrtInit=(rA,dA)=>(Pt._OrtInit=zA.Y)(rA,dA),Pt._OrtGetLastError=(rA,dA)=>(Pt._OrtGetLastError=zA.Z)(rA,dA),Pt._OrtCreateSessionOptions=(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1)=>(Pt._OrtCreateSessionOptions=zA._)(rA,dA,vA,FA,JA,s0,_0,q0,c1,A1),Pt._OrtAppendExecutionProvider=(rA,dA)=>(Pt._OrtAppendExecutionProvider=zA.$)(rA,dA),Pt._OrtAddFreeDimensionOverride=(rA,dA,vA)=>(Pt._OrtAddFreeDimensionOverride=zA.aa)(rA,dA,vA),Pt._OrtAddSessionConfigEntry=(rA,dA,vA)=>(Pt._OrtAddSessionConfigEntry=zA.ba)(rA,dA,vA),Pt._OrtReleaseSessionOptions=rA=>(Pt._OrtReleaseSessionOptions=zA.ca)(rA),Pt._OrtCreateSession=(rA,dA,vA)=>(Pt._OrtCreateSession=zA.da)(rA,dA,vA),Pt._OrtReleaseSession=rA=>(Pt._OrtReleaseSession=zA.ea)(rA),Pt._OrtGetInputOutputCount=(rA,dA,vA)=>(Pt._OrtGetInputOutputCount=zA.fa)(rA,dA,vA),Pt._OrtGetInputName=(rA,dA)=>(Pt._OrtGetInputName=zA.ga)(rA,dA),Pt._OrtGetOutputName=(rA,dA)=>(Pt._OrtGetOutputName=zA.ha)(rA,dA),Pt._OrtFree=rA=>(Pt._OrtFree=zA.ia)(rA),Pt._OrtCreateTensor=(rA,dA,vA,FA,JA,s0)=>(Pt._OrtCreateTensor=zA.ja)(rA,dA,vA,FA,JA,s0),Pt._OrtGetTensorData=(rA,dA,vA,FA,JA)=>(Pt._OrtGetTensorData=zA.ka)(rA,dA,vA,FA,JA),Pt._OrtReleaseTensor=rA=>(Pt._OrtReleaseTensor=zA.la)(rA),Pt._OrtCreateRunOptions=(rA,dA,vA,FA)=>(Pt._OrtCreateRunOptions=zA.ma)(rA,dA,vA,FA),Pt._OrtAddRunConfigEntry=(rA,dA,vA)=>(Pt._OrtAddRunConfigEntry=zA.na)(rA,dA,vA),Pt._OrtReleaseRunOptions=rA=>(Pt._OrtReleaseRunOptions=zA.oa)(rA),Pt._OrtCreateBinding=rA=>(Pt._OrtCreateBinding=zA.pa)(rA),Pt._OrtBindInput=(rA,dA,vA)=>(Pt._OrtBindInput=zA.qa)(rA,dA,vA),Pt._OrtBindOutput=(rA,dA,vA,FA)=>(Pt._OrtBindOutput=zA.ra)(rA,dA,vA,FA),Pt._OrtClearBoundOutputs=rA=>(Pt._OrtClearBoundOutputs=zA.sa)(rA),Pt._OrtReleaseBinding=rA=>(Pt._OrtReleaseBinding=zA.ta)(rA),Pt._OrtRunWithBinding=(rA,dA,vA,FA,JA)=>(Pt._OrtRunWithBinding=zA.ua)(rA,dA,vA,FA,JA),Pt._OrtRun=(rA,dA,vA,FA,JA,s0,_0,q0)=>(Pt._OrtRun=zA.va)(rA,dA,vA,FA,JA,s0,_0,q0),Pt._OrtEndProfiling=rA=>(Pt._OrtEndProfiling=zA.wa)(rA),Pt._JsepOutput=(rA,dA,vA)=>(Pt._JsepOutput=zA.xa)(rA,dA,vA),Pt._JsepGetNodeName=rA=>(Pt._JsepGetNodeName=zA.ya)(rA);var I0=()=>(I0=zA.za)(),O0=Pt._pthread_self=()=>(O0=Pt._pthread_self=zA.Aa)(),j0=Pt._malloc=rA=>(j0=Pt._malloc=zA.Ba)(rA),H1=Pt._free=rA=>(H1=Pt._free=zA.Ca)(rA);Pt.__emscripten_tls_init=()=>(Pt.__emscripten_tls_init=zA.Da)();var hy=Pt.__emscripten_thread_init=(rA,dA,vA,FA,JA,s0)=>(hy=Pt.__emscripten_thread_init=zA.Fa)(rA,dA,vA,FA,JA,s0);Pt.__emscripten_thread_crashed=()=>(Pt.__emscripten_thread_crashed=zA.Ga)();var K1=(rA,dA,vA,FA)=>(K1=zA.Ha)(rA,dA,vA,FA),ty=rA=>(ty=zA.Ia)(rA),uv=Pt.__emscripten_thread_exit=rA=>(uv=Pt.__emscripten_thread_exit=zA.Ja)(rA),Ev=()=>(Ev=zA.Ka)(),p0=rA=>(p0=zA.La)(rA),U1=(rA,dA)=>(U1=zA.Ma)(rA,dA),e1=()=>(e1=zA.Na)(),w1=rA=>(w1=zA.Oa)(rA),Av=rA=>(Av=zA.Pa)(rA),y$=Pt.dynCall_ii=(rA,dA)=>(y$=Pt.dynCall_ii=zA.Ra)(rA,dA),v$=rA=>(v$=zA.Sa)(rA),b$=()=>(b$=zA.Ta)(),$$=rA=>($$=zA.Ua)(rA),w$=()=>(w$=zA.Va)();Pt.___start_em_js=945539,Pt.___stop_em_js=945700;function _$(){var rA=zA;rA=Object.assign({},rA);var dA=FA=>()=>FA()>>>0,vA=FA=>JA=>FA(JA)>>>0;return rA.za=dA(rA.za),rA.Aa=dA(rA.Aa),rA.Ba=vA(rA.Ba),rA.emscripten_main_runtime_thread_id=dA(rA.emscripten_main_runtime_thread_id),rA.Na=dA(rA.Na),rA.Pa=vA(rA.Pa),rA}Pt.wasmMemory=RA,Pt.stackAlloc=Av,Pt.stackSave=e1,Pt.stackRestore=w1,Pt.keepRuntimeAlive=()=>0<$0,Pt.UTF8ToString=t1,Pt.stringToUTF8=M0,Pt.lengthBytesUTF8=F1,Pt.ExitStatus=f0,Pt.PThread=mA;var Lv;k0=function rA(){Lv||Y1(),Lv||(k0=rA)};function Y1(){if(!(0<F0))if(nA)Yt(Pt),nA||HA(Q0),startWorker(Pt);else{if(Pt.preRun)for(typeof Pt.preRun=="function"&&(Pt.preRun=[Pt.preRun]);Pt.preRun.length;)B0.unshift(Pt.preRun.shift());HA(B0),0<F0||Lv||(Lv=!0,Pt.calledRun=!0,OA||(nA||HA(Q0),Yt(Pt),nA||HA(T0)))}}return Y1(),bt.ready}})();typeof o=="object"&&typeof s=="object"?s.exports=j:typeof define=="function"&&define.amd&&define([],()=>j)}),Fi=tr((o,s)=>{s.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'}),ji,_d,ra,na,an,qi,xd,Sd,Cd,Ki,Ge,nr=F$1(()=>{ji=Mi(),_d=Li(),na=!1,an=!1,qi=!1,xd=o=>{if(o===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+o+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+o+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},Sd=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Cd=(o,s)=>o?s?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":s?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ki=async o=>{if(na)return Promise.resolve();if(an)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(qi)throw new Error("previous call to 'initializeWebAssembly()' failed.");an=!0;let s=o.initTimeout,j=o.numThreads,et=o.simd,bt=xd(j),At=et&&Sd(),Et=o.wasmPaths,Ut=typeof Et=="string"?Et:void 0,zt=Cd(At,bt),It=typeof Et=="object"?Et[zt]:void 0,Qt=!1,Pt=[];if(s>0&&Pt.push(new Promise(Yt=>{setTimeout(()=>{Qt=!0,Yt()},s)})),Pt.push(new Promise((Yt,cr)=>{let _r=bt?_d:ji,vr={locateFile:(Yr,Kr)=>{if(bt&&Yr.endsWith(".worker.js")&&typeof Blob<"u")return URL.createObjectURL(new Blob([Fi()],{type:"text/javascript"}));if(Yr.endsWith(".wasm")){if(It)return It;let jr=Ut??Kr;return zt==="ort-wasm-simd.wasm"?jr+"ort-wasm-simd.jsep.wasm":zt==="ort-wasm-simd-threaded.wasm"?jr+"ort-wasm-simd-threaded.jsep.wasm":jr+zt}return Kr+Yr}};if(bt)if(vr.numThreads=j,typeof Blob>"u")vr.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let Yr=`var ortWasmThreaded=${_r.toString()};`;vr.mainScriptUrlOrBlob=new Blob([Yr],{type:"text/javascript"})}_r(vr).then(Yr=>{an=!1,na=!0,ra=Yr,Yt()},Yr=>{an=!1,qi=!0,cr(Yr)})})),await Promise.race(Pt),Qt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${s}ms`)},Ge=()=>{if(na&&ra)return ra;throw new Error("WebAssembly is not initialized yet.")}}),He,Cr,Be,on=F$1(()=>{nr(),He=(o,s)=>{let j=Ge(),et=j.lengthBytesUTF8(o)+1,bt=j._malloc(et);return j.stringToUTF8(o,bt,et),s.push(bt),bt},Cr=(o,s,j,et)=>{if(typeof o=="object"&&o!==null){if(j.has(o))throw new Error("Circular reference in options");j.add(o)}Object.entries(o).forEach(([bt,At])=>{let Et=s?s+bt:bt;if(typeof At=="object")Cr(At,Et+".",j,et);else if(typeof At=="string"||typeof At=="number")et(Et,At.toString());else if(typeof At=="boolean")et(Et,At?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof At}`)})},Be=o=>{let s=Ge(),j=s.stackSave();try{let et=s.stackAlloc(8);s._OrtGetLastError(et,et+4);let bt=s.HEAP32[et/4],At=s.HEAPU32[et/4+1],Et=At?s.UTF8ToString(At):"";throw new Error(`${o} ERROR_CODE: ${bt}, ERROR_MESSAGE: ${Et}`)}finally{s.stackRestore(j)}}}),Yi,Zi=F$1(()=>{nr(),on(),Yi=o=>{let s=Ge(),j=0,et=[],bt=o||{};try{if((o==null?void 0:o.logSeverityLevel)===void 0)bt.logSeverityLevel=2;else if(typeof o.logSeverityLevel!="number"||!Number.isInteger(o.logSeverityLevel)||o.logSeverityLevel<0||o.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${o.logSeverityLevel}`);if((o==null?void 0:o.logVerbosityLevel)===void 0)bt.logVerbosityLevel=0;else if(typeof o.logVerbosityLevel!="number"||!Number.isInteger(o.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${o.logVerbosityLevel}`);(o==null?void 0:o.terminate)===void 0&&(bt.terminate=!1);let At=0;return(o==null?void 0:o.tag)!==void 0&&(At=He(o.tag,et)),j=s._OrtCreateRunOptions(bt.logSeverityLevel,bt.logVerbosityLevel,!!bt.terminate,At),j===0&&Be("Can't create run options."),(o==null?void 0:o.extra)!==void 0&&Cr(o.extra,"",new WeakSet,(Et,Ut)=>{let zt=He(Et,et),It=He(Ut,et);s._OrtAddRunConfigEntry(j,zt,It)!==0&&Be(`Can't set a run config entry: ${Et} - ${Ut}.`)}),[j,et]}catch(At){throw j!==0&&s._OrtReleaseRunOptions(j),et.forEach(Et=>s._free(Et)),At}}}),Id,Ed,Ad,Td,Xi,Qi=F$1(()=>{nr(),on(),Id=o=>{switch(o){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${o}`)}},Ed=o=>{switch(o){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${o}`)}},Ad=o=>{o.extra||(o.extra={}),o.extra.session||(o.extra.session={});let s=o.extra.session;s.use_ort_model_bytes_directly||(s.use_ort_model_bytes_directly="1"),o.executionProviders&&o.executionProviders.some(j=>(typeof j=="string"?j:j.name)==="webgpu")&&(o.enableMemPattern=!1)},Td=(o,s,j)=>{for(let et of s){let bt=typeof et=="string"?et:et.name;switch(bt){case"webnn":if(bt="WEBNN",typeof et!="string"){let Et=et;if(Et!=null&&Et.deviceType){let Ut=He("deviceType",j),zt=He(Et.deviceType,j);Ge()._OrtAddSessionConfigEntry(o,Ut,zt)!==0&&Be(`Can't set a session config entry: 'deviceType' - ${Et.deviceType}.`)}if(Et!=null&&Et.numThreads){let Ut=Et.numThreads;(typeof Ut!="number"||!Number.isInteger(Ut)||Ut<0)&&(Ut=0);let zt=He("numThreads",j),It=He(Ut.toString(),j);Ge()._OrtAddSessionConfigEntry(o,zt,It)!==0&&Be(`Can't set a session config entry: 'numThreads' - ${Et.numThreads}.`)}if(Et!=null&&Et.powerPreference){let Ut=He("powerPreference",j),zt=He(Et.powerPreference,j);Ge()._OrtAddSessionConfigEntry(o,Ut,zt)!==0&&Be(`Can't set a session config entry: 'powerPreference' - ${Et.powerPreference}.`)}}break;case"webgpu":if(bt="JS",typeof et!="string"){let Et=et;if(Et!=null&&Et.preferredLayout){if(Et.preferredLayout!=="NCHW"&&Et.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${Et.preferredLayout}`);let Ut=He("preferredLayout",j),zt=He(Et.preferredLayout,j);Ge()._OrtAddSessionConfigEntry(o,Ut,zt)!==0&&Be(`Can't set a session config entry: 'preferredLayout' - ${Et.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${bt}`)}let At=He(bt,j);Ge()._OrtAppendExecutionProvider(o,At)!==0&&Be(`Can't append execution provider: ${bt}.`)}},Xi=o=>{let s=Ge(),j=0,et=[],bt=o||{};Ad(bt);try{let At=Id(bt.graphOptimizationLevel??"all"),Et=Ed(bt.executionMode??"sequential"),Ut=typeof bt.logId=="string"?He(bt.logId,et):0,zt=bt.logSeverityLevel??2;if(!Number.isInteger(zt)||zt<0||zt>4)throw new Error(`log serverity level is not valid: ${zt}`);let It=bt.logVerbosityLevel??0;if(!Number.isInteger(It)||It<0||It>4)throw new Error(`log verbosity level is not valid: ${It}`);let Qt=typeof bt.optimizedModelFilePath=="string"?He(bt.optimizedModelFilePath,et):0;if(j=s._OrtCreateSessionOptions(At,!!bt.enableCpuMemArena,!!bt.enableMemPattern,Et,!!bt.enableProfiling,0,Ut,zt,It,Qt),j===0&&Be("Can't create session options."),bt.executionProviders&&Td(j,bt.executionProviders,et),bt.enableGraphCapture!==void 0){if(typeof bt.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${bt.enableGraphCapture}`);let Pt=He("enableGraphCapture",et),Yt=He(bt.enableGraphCapture.toString(),et);s._OrtAddSessionConfigEntry(j,Pt,Yt)!==0&&Be(`Can't set a session config entry: 'enableGraphCapture' - ${bt.enableGraphCapture}.`)}if(bt.freeDimensionOverrides)for(let[Pt,Yt]of Object.entries(bt.freeDimensionOverrides)){if(typeof Pt!="string")throw new Error(`free dimension override name must be a string: ${Pt}`);if(typeof Yt!="number"||!Number.isInteger(Yt)||Yt<0)throw new Error(`free dimension override value must be a non-negative integer: ${Yt}`);let cr=He(Pt,et);s._OrtAddFreeDimensionOverride(j,cr,Yt)!==0&&Be(`Can't set a free dimension override: ${Pt} - ${Yt}.`)}return bt.extra!==void 0&&Cr(bt.extra,"",new WeakSet,(Pt,Yt)=>{let cr=He(Pt,et),_r=He(Yt,et);s._OrtAddSessionConfigEntry(j,cr,_r)!==0&&Be(`Can't set a session config entry: ${Pt} - ${Yt}.`)}),[j,et]}catch(At){throw j!==0&&s._OrtReleaseSessionOptions(j),et.forEach(Et=>s._free(Et)),At}}}),aa,Bt,Ir,sn,Er,un,ia,ie=F$1(()=>{aa=o=>{switch(o){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${o}`)}},Bt=o=>{switch(o){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${o}`)}},Ir=o=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][o],sn=o=>{switch(o){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${o}`)}},Er=o=>{switch(o){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${o}`)}},un=o=>o==="float32"||o==="float16"||o==="int32"||o==="int64"||o==="uint32"||o==="uint8"||o==="bool",ia=o=>{switch(o){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${o}`)}}}),Ar,oa=F$1(()=>{Ar=async o=>{if(typeof o=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(o))}catch(s){if(s.code==="ERR_FS_FILE_TOO_LARGE"){let j=(void 0)(o),et=[];for await(let bt of j)et.push(bt);return new Uint8Array(Buffer.concat(et))}throw s}else{let s=await fetch(o);if(!s.ok)throw new Error(`failed to load external data file: ${o}`);let j=s.headers.get("Content-Length"),et=j?parseInt(j,10):0;if(et<1073741824)return new Uint8Array(await s.arrayBuffer());{if(!s.body)throw new Error(`failed to load external data file: ${o}, no response body.`);let bt=s.body.getReader(),At;try{At=new ArrayBuffer(et)}catch(Ut){if(Ut instanceof RangeError){let zt=Math.ceil(et/65536);At=new WebAssembly.Memory({initial:zt,maximum:zt}).buffer}else throw Ut}let Et=0;for(;;){let{done:Ut,value:zt}=await bt.read();if(Ut)break;let It=zt.byteLength;new Uint8Array(At,Et,It).set(zt),Et+=It}return new Uint8Array(At,0,et)}}else return o instanceof Blob?new Uint8Array(await o.arrayBuffer()):o instanceof Uint8Array?o:new Uint8Array(o)}}),Od,kd,Ji,eo,to,Pd,De,Dt=F$1(()=>{ie(),Od=["V","I","W","E","F"],kd=(o,s)=>{console.log(`[${Od[o]},${new Date().toISOString()}]${s}`)},to=(o,s)=>{Ji=o,eo=s},Pd=(o,s)=>{let j=Er(o),et=Er(Ji);j>=et&&kd(j,typeof s=="function"?s():s)},De=(...o)=>{eo&&Pd(...o)}}),ro,no=F$1(()=>{ie(),ro=(o,s)=>new(sn(s))(o)}),ln=F$1(()=>{}),dn,Rd,ao,ua,sa,oo,so=F$1(()=>{Dt(),ln(),dn=o=>Math.ceil(o/16)*16,Rd=1,ao=()=>Rd++,ua=async(o,s,j,et)=>{let bt=dn(j),At=o.device.createBuffer({size:bt,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});try{let Et=o.getCommandEncoder();o.endComputePass(),Et.copyBufferToBuffer(s,0,At,0,bt),o.flush(),await At.mapAsync(GPUMapMode.READ);let Ut=At.getMappedRange();if(et){let zt=et();return zt.set(new Uint8Array(Ut,0,j)),zt}else return new Uint8Array(Ut.slice(0,j))}finally{At.destroy()}},sa=class{constructor(o){this.backend=o,this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.buffersForUploadingPending=[],this.buffersPending=[],this.externalBuffers=new Map,this.capturedPendingBuffers=new Map}upload(o,s){let j=s.buffer,et=s.byteOffset,bt=s.byteLength,At=dn(bt),Et=this.storageCache.get(o);if(!Et)throw new Error("gpu data for uploading does not exist");if(Et.originalSize!==bt)throw new Error(`inconsistent data size. gpu data size=${Et.originalSize}, data size=${bt}`);let Ut=this.backend.device.createBuffer({mappedAtCreation:!0,size:At,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),zt=Ut.getMappedRange();new Uint8Array(zt).set(new Uint8Array(j,et,bt)),Ut.unmap();let It=this.backend.getCommandEncoder();this.backend.endComputePass(),It.copyBufferToBuffer(Ut,0,Et.gpuData.buffer,0,At),De("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${o})`),this.buffersForUploadingPending.push(Ut)}memcpy(o,s){let j=this.storageCache.get(o);if(!j)throw new Error("source gpu data for memcpy does not exist");let et=this.storageCache.get(s);if(!et)throw new Error("destination gpu data for memcpy does not exist");if(j.originalSize!==et.originalSize)throw new Error("inconsistent source and destination gpu data size");let bt=dn(j.originalSize),At=this.backend.getCommandEncoder();this.backend.endComputePass(),At.copyBufferToBuffer(j.gpuData.buffer,0,et.gpuData.buffer,0,bt)}registerExternalBuffer(o,s,j){let et;if(j){if(et=this.externalBuffers.get(j),et===void 0)throw new Error("previous buffer is not registered");if(o===j)return De("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${s}) => id=${et}, buffer is the same, skip.`),et;if(this.backend.capturedCommandList.has(this.backend.currentSessionId))throw new Error(`Registering a different external buffer under graph capture mode is not supported yet.
             Please use the previous external buffer!`);this.externalBuffers.delete(j)}else et=ao();return this.storageCache.set(et,{gpuData:{id:et,type:0,buffer:o},originalSize:s}),this.externalBuffers.set(o,et),De("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${s}) => id=${et}, registered.`),et}unregisterExternalBuffer(o){let s=this.externalBuffers.get(o);s!==void 0&&(this.storageCache.delete(s),this.externalBuffers.delete(o),De("verbose",()=>`[WebGPU] GpuDataManager.unregisterExternalBuffer() => id=${s}`))}create(o,s=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){let j=dn(o),et,bt=(s&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE,At=(s&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM;if(bt||At){let Ut=bt?this.freeBuffers:this.freeUniformBuffers,zt=Ut.get(j);zt||(zt=[],Ut.set(j,zt)),zt.length>0?et=zt.pop():et=this.backend.device.createBuffer({size:j,usage:s})}else et=this.backend.device.createBuffer({size:j,usage:s});let Et={id:ao(),type:0,buffer:et};return this.storageCache.set(Et.id,{gpuData:Et,originalSize:o}),De("verbose",()=>`[WebGPU] GpuDataManager.create(size=${o}) => id=${Et.id}`),Et}get(o){var s;return(s=this.storageCache.get(o))==null?void 0:s.gpuData}release(o){let s=this.storageCache.get(o);if(!s)throw new Error("releasing data does not exist");return De("verbose",()=>`[WebGPU] GpuDataManager.release(id=${o}), gpuDataId=${s.gpuData.id}`),this.storageCache.delete(o),this.buffersPending.push(s.gpuData.buffer),s.originalSize}async download(o,s){let j=this.storageCache.get(o);if(!j)throw new Error("data does not exist");await ua(this.backend,j.gpuData.buffer,j.originalSize,s)}refreshPendingBuffers(){for(let o of this.buffersForUploadingPending)o.destroy();if(this.buffersForUploadingPending=[],this.buffersPending.length!==0)if(this.backend.sessionStatus==="default"){for(let o of this.buffersPending)(o.usage&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE?this.freeBuffers.get(o.size).push(o):(o.usage&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM?this.freeUniformBuffers.get(o.size).push(o):o.destroy();this.buffersPending=[]}else{let o=this.capturedPendingBuffers.get(this.backend.currentSessionId);o||(o=[],this.capturedPendingBuffers.set(this.backend.currentSessionId,o));for(let s of this.buffersPending)o.push(s);this.buffersPending=[]}}dispose(){this.freeBuffers.forEach(o=>{o.forEach(s=>{s.destroy()})}),this.freeUniformBuffers.forEach(o=>{o.forEach(s=>{s.destroy()})}),this.storageCache.forEach(o=>{o.gpuData.buffer.destroy()}),this.capturedPendingBuffers.forEach(o=>{o.forEach(s=>{s.destroy()})}),this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.capturedPendingBuffers=new Map}onReleaseSession(o){let s=this.capturedPendingBuffers.get(o);s&&(s.forEach(j=>{j.destroy()}),this.capturedPendingBuffers.delete(o))}},oo=(...o)=>new sa(...o)}),la,$e,Ye=F$1(()=>{la=class{constructor(o){Object.assign(this,o)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(o=>`${this[o]}`).join(";")),this.key}},$e=o=>new la(o)}),da,vt,M,qt,cn,pn,fn,_e=F$1(()=>{da=class{static calcMatMulShape(o,s){return o[1]!==s[0]?void 0:[o[0],s[1]]}},vt=class{static calcShape(o,s,j=!1){let et=o.length,bt=s.length;if(et===0)return s;if(bt===0)return o;let At=Math.max(o.length,s.length),Et=new Array(At);if(j){if(et<2||bt<2)return;let Ut=da.calcMatMulShape([o[et-2],o[et-1]],[s[bt-2],s[bt-1]]);if(Ut===void 0)return;[Et[At-2],Et[At-1]]=Ut}for(let Ut=j?3:1;Ut<=At;Ut++){let zt=et-Ut<0?1:o[et-Ut],It=bt-Ut<0?1:s[bt-Ut];if(zt!==It&&zt>1&&It>1)return;let Qt=Math.max(zt,It);if(zt&&It)Et[At-Ut]=Math.max(zt,It);else{if(Qt>1)return;Et[At-Ut]=0}}return Et}static isValidBroadcast(o,s){let j=o.length,et=s.length;if(j>et)return!1;for(let bt=1;bt<=j;bt++)if(o[j-bt]!==1&&o[j-bt]!==s[et-bt])return!1;return!0}},M=class uw{static size(s){return uw.getSizeFromDimensionRange(s,0,s.length)}static convertShape(s,j=4){let et=s.length;if(et===0)return[];let bt=new Array(et),At=et-1;for(;At>=0;){if(s[At]%j===0){bt[At]=s[At]/j;break}if(j%s[At]!==0)throw new Error("cannot convert shape");bt[At]=1,j/=s[At],At--}for(At--;At>=0;At--)bt[At]=s[At];return bt}static sizeFromDimension(s,j){if(j<0||j>s.length)throw new Error(`invalid dimension of ${j} for sizeFromDimension as Tensor has ${s.length} dimensions.`);return uw.getSizeFromDimensionRange(s,j,s.length)}static sizeToDimension(s,j){if(j<0||j>s.length)throw new Error(`invalid dimension of ${j} for sizeToDimension as Tensor has ${s.length} dimensions.`);return uw.getSizeFromDimensionRange(s,0,j)}static getSizeFromDimensionRange(s,j,et){let bt=1;for(let At=j;At<et;At++){if(s[At]<0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains negative values in them.");bt*=s[At]}return bt}static computeStrides(s){let j=s.length;if(j===0)return[];if(j===1)return[1];let et=new Array(j);et[j-1]=1,et[j-2]=s[j-1];for(let bt=j-3;bt>=0;--bt)et[bt]=et[bt+1]*s[bt+1];return et}static normalizeAxis(s,j){if(s<-j&&s>=j)throw new Error("unsupported axis for this operation.");return s<0?s+j:s}static normalizeAxes(s,j){return s.map(et=>this.normalizeAxis(et,j??s.length))}static sortBasedOnPerm(s,j){return j?j.map(et=>s[et]):s.slice().reverse()}static padShape(s,j){let et=s.length;return s.map((bt,At)=>bt+j[At]+j[At+et])}static areEqual(s,j){return s.length!==j.length?!1:s.every((et,bt)=>et===j[bt])}},qt=class m${static adjustPoolAttributes(s,j,et,bt,At,Et){if(!s&&et.length!==j.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(s)for(let Ut=0;Ut<j.length-2;Ut++)Ut>=et.length?et.push(j[Ut+2]):et[Ut]=j[Ut+2];for(let Ut=0;Ut<et.length;Ut++)if(Ut<bt.length){if(bt[Ut]<0)throw new Error("strides should be greater than or equal to 1")}else bt.push(1);for(let Ut=0;Ut<et.length;Ut++)if(Ut<At.length){if(At[Ut]<0)throw new Error("dilations should be greater than or equal to 1")}else At.push(1);for(let Ut=0;Ut<et.length*2;Ut++)if(Ut<Et.length){if(Et[Ut]<0)throw new Error("pad should be greater than or equal to 1")}else Et.push(0);for(let Ut=0;Ut<et.length;Ut++){if(et[Ut]<=0)throw new Error("kernel shapes need to be greater than 0");if(Et[Ut]>=et[Ut]||Et[Ut+et.length]>=et[Ut])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(s,j,et,bt,At,Et,Ut){if(Ut){if(At.length!==2*(s.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(j.length!==s.length-2)throw new Error("length of strides should be the length of data dimensions");if(bt.length!==s.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let zt=0;zt<s.length-2;zt++)m$.adjustPadAndReturnShape(s[zt+(Et?1:2)],j[zt],et[zt],bt[zt],At,zt,zt+s.length-2,Ut)}}static computePoolOutputShape(s,j,et,bt,At,Et,Ut){if(j.length<=0)throw new Error("input shape must be of size greater than 0");let zt=[j[0],j[1]];return m$.computeShapeHelper(s,j,zt,et,bt,At,Et,Ut),zt}static computeConvOutputShape(s,j,et,bt,At,Et,Ut){if(s.length<=0||j.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let zt=[s[0],j[0]];return m$.computeShapeHelper(!1,s,zt,et,bt,At,Et,Ut),zt}static computeShapeHelper(s,j,et,bt,At,Et,Ut,zt){if(s)for(let It=0;It<j.length-2;It++)et.push(1);else for(let It=0;It<j.length-2;It++)et.push(m$.adjustPadAndReturnShape(j[It+2],bt[It],At[It],Et[It],Ut,It,It+j.length-2,zt))}static adjustPadAndReturnShape(s,j,et,bt,At,Et,Ut,zt){let It=et*(bt-1)+1;if(zt&&zt!=="NOTSET")switch(zt){case"VALID":return At[Et]=0,At[Ut]=0,Math.floor((s-It)/j+1);case"SAME_LOWER":case"SAME_UPPER":if(et!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let Qt=((s+j-1)/j-1)*j+bt-s;return At[Et]=Math.floor(zt==="SAME_LOWER"?(Qt+1)/2:Qt/2),At[Ut]=Qt-At[Et],Math.floor((s+Qt-bt)/j+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((s+At[Et]+At[Ut]-It)/j+1)}},cn=class{static getShapeOfGemmResult(o,s,j,et,bt){if(o.length!==2||j.length!==2)throw new Error("shape need to be of size 2");let At,Et,Ut;s?(At=o[1],Et=o[0]):(At=o[0],Et=o[1]);let zt=-1;if(et?(Ut=j[0],zt=1):(Ut=j[1],zt=0),j[zt]!==Et)throw new Error("dimension mismatch");if(At<=0||Ut<=0||Et<=0)throw new Error("invalid shape specified");if(bt&&!vt.isValidBroadcast(bt,[At,Ut]))throw new Error("gemm: invalid bias shape for broadcast");return[At,Ut,Et]}},pn=-34028234663852886e22,fn=34028234663852886e22}),mn,pa,ke,at,K,Me,Xe,mt,it,re,fa,D,q,hn,ca,uo,ar,be=F$1(()=>{ie(),_e(),mn=64,pa=(o,s)=>{if(s===3)throw new Error("vec3 has same alignment as vec4, use vec4 instead");switch(o){case 10:return s>1?`vec${s}<f16>`:"f16";case 1:return s>1?`vec${s}<f32>`:"f32";case 6:return s>1?`vec${s}<i32>`:"i32";case 12:return s>1?`vec${s}<u32>`:"u32";case 7:if(s>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","i32"];case 13:if(s>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","u32"];case 9:if(s!==4)throw new Error("bool must be vec4");return["u32","vec4<bool>"];default:throw new Error(`Unknown data type: ${o}`)}},ke=(o,s=1)=>{let j=pa(o,s);return typeof j=="string"?j:j[0]},at=(o,s=1)=>{let j=pa(o,s);return typeof j=="string"?j:j[1]},K=(...o)=>{let s=[];return o.forEach(j=>{j.length!==0&&s.push({type:12,data:j},{type:12,data:M.computeStrides(j)})}),s},Me=o=>o%4===0?4:o%2===0?2:1,Xe=(o="f32",s,j="0")=>!s||s===1?`${o}(${j})`:`vec${s}<${o}>(${j})`,mt=(o,s,j)=>o==="f32"?j:s===1?`f32(${j})`:`vec${s}f(${j})`,it=(o,s)=>s===4?`(${o}.x + ${o}.y + ${o}.z + ${o}.w)`:s===2?`(${o}.x + ${o}.y)`:s===3?`(${o}.x + ${o}.y + ${o}.z)`:o,re=(o,s,j,et)=>o.startsWith("uniforms.")&&j>4?typeof s=="string"?et==="f16"?`${o}[(${s}) / 8][(${s}) % 8 / 4][(${s}) % 8 % 4]`:`${o}[(${s}) / 4][(${s}) % 4]`:et==="f16"?`${o}[${Math.floor(s/8)}][${Math.floor(s%8/4)}][${s%8%4}]`:`${o}[${Math.floor(s/4)}][${s%4}]`:j>1?`${o}[${s}]`:o,fa=(o,s,j,et,bt)=>{let At=typeof j=="number",Et=At?j:j.length,Ut=[...new Array(Et).keys()],zt=Et<2?"u32":Et<=4?`vec${Et}<u32>`:`array<u32, ${Et}>`,It=pa(s,bt),Qt=typeof It=="string"?It:It[1],Pt=typeof It=="string"?It:It[0],Yt={indices:zt,value:Qt,storage:Pt,tensor:s},cr=yA=>typeof yA=="string"?yA:`${yA}u`,_r={offsetToIndices:!1,indicesToOffset:!1,broadcastedIndicesToOffset:!1,set:!1,setByIndices:!1,get:!1,getByIndices:!1},vr=At?"uniforms.":"",Yr=`${vr}${o}_shape`,Kr=`${vr}${o}_strides`,jr="";for(let yA=0;yA<Et-1;yA++)jr+=`
    let dim${yA} = current / ${re(Kr,yA,Et)};
    let rest${yA} = current % ${re(Kr,yA,Et)};
    indices[${yA}] = dim${yA};
    current = rest${yA};
    `;jr+=`indices[${Et-1}] = current;`;let Hn=Et<2?"":`
  fn o2i_${o}(offset: u32) -> ${Yt.indices} {
    var indices: ${Yt.indices};
    var current = offset;
    ${jr}
    return indices;
  }`,tA=yA=>(_r.offsetToIndices=!0,Et<2?yA:`o2i_${o}(${yA})`),nA=[];if(Et>=2)for(let yA=Et-1;yA>=0;yA--)nA.push(`${re(Kr,yA,Et)} * (indices[${yA}])`);let aA=Et<2?"":`
  fn i2o_${o}(indices: ${Yt.indices}) -> u32 {
    return ${nA.join("+")};
  }`,lA=yA=>(_r.indicesToOffset=!0,Et<2?yA:`i2o_${o}(${yA})`),hA=(...yA)=>Et===0?"0u":`${Yt.indices}(${yA.map(cr).join(",")})`,pA=(yA,TA)=>Et<2?`${yA}`:`${re(yA,TA,Et)}`,wA=(yA,TA,r0)=>Et<2?`${yA}=${r0};`:`${re(yA,TA,Et)}=${r0};`,NA={},cA=(yA,TA)=>{_r.broadcastedIndicesToOffset=!0;let r0=`${TA.name}broadcastedIndicesTo${o}Offset`;if(r0 in NA)return`${r0}(${yA})`;let qA=[];for(let XA=Et-1;XA>=0;XA--){let S0=TA.indicesGet("outputIndices",XA+TA.rank-Et);qA.push(`${pA(Kr,XA)} * (${S0} % ${pA(Yr,XA)})`)}return NA[r0]=`fn ${r0}(outputIndices: ${TA.type.indices}) -> u32 {
             return ${qA.length>0?qA.join("+"):"0u"};
           }`,`${r0}(${yA})`},CA=(yA,TA)=>(()=>{if(Yt.storage===Yt.value)return`${o}[${yA}]=${TA};`;if(Yt.storage==="vec2<u32>"&&Yt.value==="i32")return`${o}[${yA}]=vec2<u32>(u32(${TA}), select(0u, 0xFFFFFFFFu, ${TA} < 0));`;if(Yt.storage==="vec2<u32>"&&Yt.value==="u32")return`${o}[${yA}]=vec2<u32>(u32(${TA}), 0u);`;if(Yt.storage==="u32"&&Yt.value==="vec4<bool>")return`${o}[${yA}]=dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(${TA}));`;throw new Error(`not supported combination of storage type ${Yt.storage} and value type ${Yt.value} yet`)})(),sA=yA=>(()=>{if(Yt.storage===Yt.value)return`${o}[${yA}]`;if(Yt.storage==="vec2<u32>"&&Yt.value==="i32")return`i32(${o}[${yA}].x)`;if(Yt.storage==="vec2<u32>"&&Yt.value==="u32")return`u32(${o}[${yA}].x)`;if(Yt.storage==="u32"&&Yt.value==="vec4<bool>")return`vec4<bool>(bool(${o}[${yA}] & 0xFFu), bool(${o}[${yA}] & 0xFF00u), bool(${o}[${yA}] & 0xFF0000u), bool(${o}[${yA}] & 0xFF000000u))`;throw new Error(`not supported combination of storage type ${Yt.storage} and value type ${Yt.value} yet`)})(),UA=Et<2?"":`
  fn get_${o}ByIndices(indices: ${Yt.indices}) -> ${Qt} {
    return ${sA(`i2o_${o}(indices)`)};
  }`,LA=Et<2?"":(()=>{let yA=Ut.map(r0=>`d${r0}: u32`).join(", "),TA=Ut.map(r0=>`d${r0}`).join(", ");return`
  fn get_${o}(${yA}) -> ${Qt} {
    return get_${o}ByIndices(${hA(TA)});
  }`})(),RA=(...yA)=>{if(yA.length!==Et)throw new Error(`indices length must be ${Et}`);let TA=yA.map(cr).join(",");return Et===0?sA("0u"):Et===1?sA(TA[0]):(_r.get=!0,_r.getByIndices=!0,_r.indicesToOffset=!0,`get_${o}(${TA})`)},kA=yA=>Et<2?sA(yA):(_r.getByIndices=!0,_r.indicesToOffset=!0,`get_${o}ByIndices(${yA})`),OA=Et<2?"":`
  fn set_${o}ByIndices(indices: ${Yt.indices}, value: ${Qt}) {
    ${CA(`i2o_${o}(indices)`,"value")}
  }`,KA=Et<2?"":(()=>{let yA=Ut.map(r0=>`d${r0}: u32`).join(", "),TA=Ut.map(r0=>`d${r0}`).join(", ");return`
  fn set_${o}(${yA}, value: ${Qt}) {
    set_${o}ByIndices(${hA(TA)}, value);
  }`})();return{impl:()=>{let yA=[],TA=!1;return _r.offsetToIndices&&(yA.push(Hn),TA=!0),_r.indicesToOffset&&(yA.push(aA),TA=!0),_r.broadcastedIndicesToOffset&&(Object.values(NA).forEach(r0=>yA.push(r0)),TA=!0),_r.set&&(yA.push(KA),TA=!0),_r.setByIndices&&(yA.push(OA),TA=!0),_r.get&&(yA.push(LA),TA=!0),_r.getByIndices&&(yA.push(UA),TA=!0),!At&&TA&&yA.unshift(`const ${Yr} = ${Yt.indices}(${j.join(",")});`,`const ${Kr} = ${Yt.indices}(${M.computeStrides(j).join(",")});`),yA.join(`
`)},type:Yt,offsetToIndices:tA,indicesToOffset:lA,broadcastedIndicesToOffset:cA,indices:hA,indicesGet:pA,indicesSet:wA,set:(...yA)=>{if(yA.length!==Et+1)throw new Error(`indices length must be ${Et}`);let TA=yA[Et];if(typeof TA!="string")throw new Error("value must be string");let r0=yA.slice(0,Et).map(cr).join(",");return Et===0?CA("0u",TA):Et===1?CA(r0[0],TA):(_r.set=!0,_r.setByIndices=!0,_r.indicesToOffset=!0,`set_${o}(${r0}, ${TA})`)},setByOffset:CA,setByIndices:(yA,TA)=>Et<2?CA(yA,TA):(_r.setByIndices=!0,_r.indicesToOffset=!0,`set_${o}ByIndices(${yA}, ${TA});`),get:RA,getByOffset:sA,getByIndices:kA,usage:et,name:o,strides:Kr,shape:Yr,rank:Et}},D=(o,s,j,et=1)=>fa(o,s,j,"input",et),q=(o,s,j,et=1)=>fa(o,s,j,"output",et),hn=(o,s,j,et=1)=>fa(o,s,j,"internal",et),ca=class{constructor(o){this.normalizedDispatchGroup=o,this.internalVariables=[],this.variables=[],this.uniforms=[],this.variableIndex=0}guardAgainstOutOfBoundsWorkgroupSizes(o){return`if (global_idx >= ${typeof o=="number"?`${o}u`:o}) { return; }`}mainStart(o=mn){let s=typeof o=="number"?o:o[0],j=typeof o=="number"?1:o[1],et=typeof o=="number"?1:o[2],bt=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1,At=bt?`@builtin(global_invocation_id) global_id : vec3<u32>,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(local_invocation_id) local_id : vec3<u32>`:`@builtin(local_invocation_id) local_id : vec3<u32>,
    @builtin(local_invocation_index) local_idx : u32,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(num_workgroups) num_workgroups : vec3<u32>`,Et=bt?"let global_idx = global_id.x; let local_idx = local_id.x;":`let global_idx = (workgroup_id.z * num_workgroups[0] * num_workgroups[1] +
          workgroup_id.y * num_workgroups[0] + workgroup_id.x) * ${s*j*et}u + local_idx;`;return`@compute @workgroup_size(${s}, ${j}, ${et})
  fn main(${At}) {
    ${Et}
  `}appendVariableUniforms(o){o.rank!==0&&(o.shape.startsWith("uniforms.")&&this.uniforms.push({name:o.shape.replace("uniforms.",""),type:"u32",length:o.rank}),o.strides.startsWith("uniforms.")&&this.uniforms.push({name:o.strides.replace("uniforms.",""),type:"u32",length:o.rank}))}declareVariable(o,s){if(o.usage==="internal")throw new Error("cannot use internal variable with declareVariable(). use registerInternalVariables() instead.");this.variables.push(o),this.appendVariableUniforms(o);let j=o.usage==="input"?"read":"read_write",et=o.type.storage;return`@group(0) @binding(${s}) var<storage, ${j}> ${o.name}: array<${et}>;`}declareVariables(...o){return o.map(s=>this.declareVariable(s,this.variableIndex++)).join(`
`)}registerInternalVariable(o){if(o.usage!=="internal")throw new Error("cannot use input or output variable with registerInternalVariable(). use declareVariables() instead.");this.internalVariables.push(o),this.appendVariableUniforms(o)}registerInternalVariables(...o){return o.forEach(s=>this.registerInternalVariable(s)),this}registerUniform(o,s,j=1){return this.uniforms.push({name:o,type:s,length:j}),this}registerUniforms(o){return this.uniforms=this.uniforms.concat(o),this}uniformDeclaration(){if(this.uniforms.length===0)return"";let o=[];for(let{name:s,type:j,length:et}of this.uniforms)if(et&&et>4)j==="f16"?o.push(`@align(16) ${s}:array<mat2x4<${j}>, ${Math.ceil(et/8)}>`):o.push(`${s}:array<vec4<${j}>, ${Math.ceil(et/4)}>`);else{let bt=et==null||et===1?j:`vec${et}<${j}>`;o.push(`${s}:${bt}`)}return`
      struct Uniforms { ${o.join(", ")} };
      @group(0) @binding(${this.variableIndex}) var<uniform> uniforms: Uniforms;`}get additionalImplementations(){return this.uniformDeclaration()+this.variables.map(o=>o.impl()).join(`
`)+this.internalVariables.map(o=>o.impl()).join(`
`)}},uo=o=>new ca(o),ar=(o,s)=>{let j=o.length,et=[];for(let bt=0;bt<j;bt++){let At=j-1-bt,Et=o[At]||1;(s[s.length-1-bt]||1)>1&&Et===1&&et.unshift(At)}return et}}),zd,lo,Bd,Dd,dt,co,po,ir=F$1(()=>{ie(),_e(),Ye(),be(),zd=o=>{if(!o||o.length!==1)throw new Error("Transpose requires 1 input.")},lo=(o,s)=>s&&s.length!==o?[...new Array(o).keys()].reverse():s,Bd=(o,s)=>M.sortBasedOnPerm(o,lo(o.length,s)),Dd=(o,s,j,et)=>{let bt=[];bt.push(`fn perm(i: ${et.type.indices}) -> ${j.type.indices} {
    var a: ${j.type.indices};`);for(let At=0;At<s;++At)bt.push(j.indicesSet("a",o[At],`i[${At}]`));return bt.push("return a;}"),bt.join(`
`)},dt=(o,s)=>{let j=o.dataType,et=o.dims.length,bt=lo(et,s),At=Bd(o.dims,bt),Et=q("output",j,At.length),Ut=D("a",j,et),zt=It=>`
  ${It.registerUniform("output_size","u32").declareVariables(Ut,Et)}

  ${Dd(bt,et,Ut,Et)}

  ${It.mainStart()}
    ${It.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let indices = ${Et.offsetToIndices("global_idx")};
    let aIndices = perm(indices);

    ${Et.setByOffset("global_idx",Ut.getByIndices("aIndices"))}
  }`;return{name:"Transpose",shaderCache:{hint:`${s}`,inputDependencies:["rank"]},getRunData:It=>{let Qt=M.size(At);return{outputs:[{dims:At,dataType:It[0].dataType}],dispatchGroup:{x:Math.ceil(Qt/64)},programUniforms:[{type:12,data:Qt},...K(It[0].dims,At)]}},getShaderSource:zt}},co=(o,s)=>{zd(o.inputs),o.compute(dt(o.inputs[0],s.perm))},po=o=>$e({perm:o.perm})}),Md,Ud,Nd,Wd,Vd,Gd,Hd,Ld,Fd,qd,$t,fo,mo,ho,go,yo,bo,wo,vo,$o,_o,xo=F$1(()=>{ie(),_e(),be(),gn(),ir(),Md={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate * candidate",logSumExp:"bestValue + exp(candidate)",l1:"bestValue + abs(candidate)",l2:"bestValue + candidate * candidate",logSum:"bestValue + candidate"},Ud={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate",logSumExp:"bestValue + candidate",l1:"bestValue + candidate",l2:"bestValue + candidate",logSum:"bestValue + candidate"},Nd={max:"_A[offset]",min:"_A[offset]",mean:"0",sum:"0",prod:"1",sumSquare:"0",logSumExp:"0",l1:"0",l2:"0",logSum:"0"},Wd={max:"bestValue",min:"bestValue",sum:"bestValue",prod:"bestValue",sumSquare:"bestValue",logSumExp:"log(bestValue)",l1:"bestValue",l2:"sqrt(bestValue)",logSum:"log(bestValue)"},Vd=(o,s)=>{let j=[];for(let et=s-o;et<s;++et)j.push(et);return j},Gd=(o,s)=>{let j=[],et=o.length;for(let At=0;At<et;At++)s.indexOf(At)===-1&&j.push(o[At]);let bt=s.map(At=>o[At]);return[j,bt]},Hd=(o,s)=>{let j=o.length+s.length,et=[],bt=0;for(let At=0;At<j;At++)s.indexOf(At)===-1?et.push(o[bt++]):et.push(1);return et},Ld=(o,s)=>{for(let j=0;j<o.length;++j)if(o[o.length-j-1]!==s-1-j)return!1;return!0},Fd=(o,s)=>{let j=[];if(!Ld(o,s)){for(let et=0;et<s;++et)o.indexOf(et)===-1&&j.push(et);o.forEach(et=>j.push(et))}return j},qd=(o,s,j,et,bt,At,Et)=>{let Ut=j[0].dims,zt=M.size(At),It=M.size(Et),Qt=D("_A",j[0].dataType,Ut),Pt=q("output",bt,At),Yt=32,cr=`
          var<workgroup> aBestValues : array<f32, ${Yt}>;
       `;return{name:o,shaderCache:s,getShaderSource:_r=>`
        ${_r.registerUniform("reduceSize","u32").declareVariables(Qt,Pt)}
        ${cr}
        fn DIV_CEIL(a : u32, b : u32) -> u32 {
          return ((a - 1u) / b + 1u);
         }
         ${_r.mainStart(Yt)}

          let outputIndex = global_idx / ${Yt};
          let offset = outputIndex * uniforms.reduceSize;

          var bestValue = f32(${Nd[et]});
          let Length = uniforms.reduceSize;
          for (var k = local_idx; k < Length; k = k + ${Yt}) {
           let candidate = f32(${Qt.getByOffset("offset + k")});
           bestValue = ${Md[et]};
          }
          aBestValues[local_idx] = bestValue;
          workgroupBarrier();

         var reduceSize = min(Length, ${Yt}u);
         for (var currentSize = reduceSize / 2u; reduceSize > 1u;
             currentSize = reduceSize / 2u) {
           let interval = DIV_CEIL(reduceSize, 2u);
           if (local_idx < currentSize) {
            let candidate = aBestValues[local_idx + interval];
            bestValue = ${Ud[et]};
            aBestValues[local_idx] = bestValue;
           }
           reduceSize = interval;
           workgroupBarrier();
         }

         if (local_idx == 0u) {
          ${Pt.setByOffset("outputIndex",`${et==="mean"?`${Pt.type.storage}(bestValue / f32(uniforms.reduceSize))`:`${Pt.type.storage}(${Wd[et]})`}`)};
         }
        }`,getRunData:()=>({outputs:[{dims:At,dataType:bt}],dispatchGroup:{x:zt},programUniforms:[{type:12,data:It}]})}},$t=(o,s,j,et)=>{let bt=o.inputs.length===1?j:ma(o.inputs,j),At=bt.axes;At.length===0&&!bt.noopWithEmptyAxes&&(At=o.inputs[0].dims.map((cr,_r)=>_r));let Et=M.normalizeAxes(At,o.inputs[0].dims.length),Ut=Et,zt=o.inputs[0],It=Fd(Ut,o.inputs[0].dims.length);It.length>0&&(zt=o.compute(dt(o.inputs[0],It),{inputs:[0],outputs:[-1]})[0],Ut=Vd(Ut.length,zt.dims.length));let[Qt,Pt]=Gd(zt.dims,Ut),Yt=Qt;bt.keepDims&&(Yt=Hd(Qt,Et)),o.compute(qd(s,{hint:bt.cacheKey,inputDependencies:["type"]},[zt],et,o.inputs[0].dataType,Yt,Pt),{inputs:[zt]})},fo=(o,s)=>{$t(o,"ReduceMeanShared",s,"mean")},mo=(o,s)=>{$t(o,"ReduceL1Shared",s,"l1")},ho=(o,s)=>{$t(o,"ReduceL2Shared",s,"l2")},go=(o,s)=>{$t(o,"ReduceLogSumExpShared",s,"logSumExp")},yo=(o,s)=>{$t(o,"ReduceMaxShared",s,"max")},bo=(o,s)=>{$t(o,"ReduceMinShared",s,"min")},wo=(o,s)=>{$t(o,"ReduceProdShared",s,"prod")},vo=(o,s)=>{$t(o,"ReduceSumShared",s,"sum")},$o=(o,s)=>{$t(o,"ReduceSumSquareShared",s,"sumSquare")},_o=(o,s)=>{$t(o,"ReduceLogSumShared",s,"logSum")}}),_t,jd,yn,ma,xt,Kd,Yd,Zd,Xd,Qd,Jd,ec,tc,rc,nc,St,So,Co,Io,Eo,Ao,To,Oo,ko,Po,Ro,gn=F$1(()=>{ie(),_e(),Ye(),be(),xo(),_t=o=>{if(!o||o.length===0||o.length>2)throw new Error("Reduce op requires 1 or 2 inputs.");if(o.length===2&&o[1].dims.length!==1)throw new Error("Invalid axes input dims.")},jd=o=>["","",`var value = ${o.getByIndices("input_indices")};`,""],yn=(o,s,j,et,bt,At,Et=!1,Ut=!1)=>{let zt=[],It=j[0].dims,Qt=It.length,Pt=M.normalizeAxes(bt,Qt),Yt=!Ut&&Pt.length===0;It.forEach((vr,Yr)=>{Yt||Pt.indexOf(Yr)>=0?Et&&zt.push(1):zt.push(vr)});let cr=zt.length,_r=M.size(zt);return{name:o,shaderCache:s,getShaderSource:vr=>{let Yr=[],Kr=D("_A",j[0].dataType,Qt),jr=q("output",At,cr),Hn=et(Kr,jr,Pt),tA=Hn[2];for(let nA=0,aA=0;nA<Qt;nA++)Yt||Pt.indexOf(nA)>=0?(Et&&aA++,tA=`for(var j${nA}: u32 = 0; j${nA} < ${It[nA]}; j${nA}++) {
                  ${Hn[2].includes("last_index")?`let last_index = j${nA};`:""}
                  ${Kr.indicesSet("input_indices",nA,`j${nA}`)}
                  ${tA}
                }`):(Yr.push(`${Kr.indicesSet("input_indices",nA,jr.indicesGet("output_indices",aA))};`),aA++);return`

        ${vr.registerUniform("output_size","u32").declareVariables(Kr,jr)}

        ${vr.mainStart()}
          ${vr.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          var input_indices: ${Kr.type.indices};
          let output_indices = ${jr.offsetToIndices("global_idx")};

          ${Yr.join(`
`)}
          ${Hn[0]}       // init ops for reduce max/min
          ${Hn[1]}
          ${tA}
          ${Hn[3]}
          ${Hn.length===4?jr.setByOffset("global_idx","value"):Hn.slice(4).join(`
`)}
        }`},getRunData:()=>({outputs:[{dims:zt,dataType:At}],dispatchGroup:{x:Math.ceil(_r/64)},programUniforms:[{type:12,data:_r},...K(It,zt)]})}},ma=(o,s)=>{let j=[];return o[1].dims[0]>0&&o[1].getBigInt64Array().forEach(et=>j.push(Number(et))),$e({axes:j,keepDims:s.keepDims,noopWithEmptyAxes:s.noopWithEmptyAxes})},xt=(o,s,j,et)=>{let bt=o.inputs,At=bt.length===1?j:ma(bt,j);o.compute(yn(s,{hint:At.cacheKey,inputDependencies:["rank"]},[bt[0]],At.noopWithEmptyAxes&&At.axes.length===0?jd:et,At.axes,bt[0].dataType,At.keepDims,At.noopWithEmptyAxes),{inputs:[0]})},Kd=(o,s)=>{_t(o.inputs),xt(o,"ReduceLogSum",s,(j,et)=>[`var value = ${et.type.storage}(0);`,"",`value += ${j.getByIndices("input_indices")};`,"value = log(value);"])},Yd=(o,s)=>{_t(o.inputs),xt(o,"ReduceL1",s,(j,et)=>[`var value = ${et.type.storage}(0);`,"",`value += abs(${j.getByIndices("input_indices")});`,""])},Zd=(o,s)=>{_t(o.inputs),xt(o,"ReduceL2",s,(j,et)=>[`var t = ${et.type.value}(0); var value = ${et.type.value}(0);`,"",`t = ${j.getByIndices("input_indices")}; value += (t * t);`,"value = sqrt(value);"])},Xd=(o,s)=>{_t(o.inputs),xt(o,"ReduceLogSumExp",s,(j,et)=>[`var value = ${et.type.storage}(0);`,"",`value += exp(${j.getByIndices("input_indices")});`,"value = log(value);"])},Qd=(o,s)=>{_t(o.inputs),xt(o,"ReduceMax",s,(j,et,bt)=>{let At=[];for(let Et=0;Et<j.rank;Et++)(bt.indexOf(Et)>=0||bt.length===0)&&At.push(j.indicesSet("input_indices",Et,0));return[`${At.join(`
`)}`,`var value = ${j.getByIndices("input_indices")};`,`value = max(value, ${j.getByIndices("input_indices")});`,""]})},Jd=(o,s)=>{_t(o.inputs),xt(o,"ReduceMean",s,(j,et,bt)=>{let At=1;for(let Et=0;Et<j.rank;Et++)(bt.indexOf(Et)>=0||bt.length===0)&&(At*=o.inputs[0].dims[Et]);return["var sum = f32(0);","",`sum += f32(${j.getByIndices("input_indices")});`,`let value = ${et.type.value}(sum / ${At});`]})},ec=(o,s)=>{_t(o.inputs),xt(o,"ReduceMin",s,(j,et,bt)=>{let At=[];for(let Et=0;Et<j.rank;Et++)(bt.indexOf(Et)>=0||bt.length===0)&&At.push(`input_indices[${Et}] = 0;`);return[`${At.join(`
`)}`,`var value = ${j.getByIndices("input_indices")};`,`value = min(value, ${j.getByIndices("input_indices")});`,""]})},tc=(o,s)=>{_t(o.inputs),xt(o,"ReduceProd",s,(j,et)=>[`var value = ${et.type.storage}(1);`,"",`value *= ${j.getByIndices("input_indices")};`,""])},rc=(o,s)=>{_t(o.inputs),xt(o,"ReduceSum",s,(j,et)=>[`var value = ${et.type.storage}(0);`,"",`value += ${j.getByIndices("input_indices")};`,""])},nc=(o,s)=>{_t(o.inputs),xt(o,"ReduceSumSquare",s,(j,et)=>[`var t = ${et.type.value}(0); var value = ${et.type.value}(0);`,"",`t = ${j.getByIndices("input_indices")}; value += t * t;`,""])},St=(o,s,j)=>{if(s.length===0)return j;let et=1,bt=1;for(let At=0;At<s.length;At++)s.indexOf(At)===-1?et*=o[At]:bt*=o[At];return bt<32&&et>1024},So=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?Jd(o,s):fo(o,s)},Co=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?Yd(o,s):mo(o,s)},Io=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?Zd(o,s):ho(o,s)},Eo=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?Xd(o,s):go(o,s)},Ao=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?Qd(o,s):yo(o,s)},To=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?ec(o,s):bo(o,s)},Oo=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?tc(o,s):wo(o,s)},ko=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?rc(o,s):vo(o,s)},Po=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?nc(o,s):$o(o,s)},Ro=(o,s)=>{St(o.inputs[0].dims,s.axes,s.noopWithEmptyAxes)?Kd(o,s):_o(o,s)}}),zo,Bo,Do,ha,Mo=F$1(()=>{ie(),Ye(),gn(),zo=o=>{if(!o||o.length===0||o.length>2)throw new Error("ArgMinMaxOp op requires 1 or 2 inputs.");if(o[0].dataType!==1)throw new Error("Invalid input type.")},Bo=(o,s)=>{zo(o.inputs);let j=(et,bt,At)=>{let Et=[];for(let Ut=0;Ut<et.rank;Ut++)(At.indexOf(Ut)>=0||At.length===0)&&Et.push(`input_indices[${Ut}] = 0;`);return[`${Et.join(`
`)}`,`var value = ${et.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${et.getByIndices("input_indices")} ${s.selectLastIndex>0?"<=":"<"} value) {
         value = ${et.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",bt.setByOffset("global_idx","best_index")]};o.compute(yn("ArgMin",{hint:s.cacheKey,inputDependencies:["rank"]},[o.inputs[0]],j,[s.axis],7,s.keepDims),{inputs:[0]})},Do=(o,s)=>{zo(o.inputs);let j=(et,bt,At)=>{let Et=[];for(let Ut=0;Ut<et.rank;Ut++)(At.indexOf(Ut)>=0||At.length===0)&&Et.push(`input_indices[${Ut}] = 0;`);return[`${Et.join(`
`)}`,`var value = ${et.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${et.getByIndices("input_indices")} ${s.selectLastIndex>0?">=":">"} value) {
         value = ${et.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",bt.setByOffset("global_idx","best_index")]};o.compute(yn("argMax",{hint:s.cacheKey,inputDependencies:["rank"]},[o.inputs[0]],j,[s.axis],7,s.keepDims),{inputs:[0]})},ha=o=>$e(o)}),ac,ic,oc,sc,bn,uc,Uo,ga=F$1(()=>{ie(),ln(),be(),ac=(o,s)=>{let j=o[0],et=o[1],bt=o[2],At=o[3],Et=o[4],Ut=o[5];if(Et&&Ut)throw new Error("Attention cannot have both past and relative_position_bias");if(j.dims.length!==3)throw new Error('Input "input" must have 3 dimensions');let zt=j.dims[0],It=j.dims[1],Qt=j.dims[2];if(bt.dims.length!==1)throw new Error('Input "bias" is expected to have 1 dimensions');if(et.dims.length!==2)throw new Error('Input "weights" is expected to have 2 dimensions');if(et.dims[0]!==Qt)throw new Error("Input 1 dimension 0 should have same length as dimension 2 of input 0");if(bt.dims[0]!==et.dims[1])throw new Error('Input "bias" dimension 0 should have same length as dimension 1 of input "weights"');let Pt=bt.dims[0]/3,Yt=Pt,cr=Yt;if(s.qkvHiddenSizes.length>0){if(s.qkvHiddenSizes.length!==3)throw new Error("qkv_hidden_sizes attribute should have 3 elements");for(let Hn of s.qkvHiddenSizes)if(Hn%s.numHeads!==0)throw new Error("qkv_hidden_sizes should be divisible by num_heads");Pt=s.qkvHiddenSizes[0],Yt=s.qkvHiddenSizes[1],cr=s.qkvHiddenSizes[2]}let _r=It;if(Pt!==Yt)throw new Error("qkv_hidden_sizes first element should be same as the second");if(bt.dims[0]!==Pt+Yt+cr)throw new Error('Input "bias" dimension 0 should have same length as sum of Q/K/V hidden sizes');let vr=0;if(Et){if(Yt!==cr)throw new Error('Input "past" expect k_hidden_size == v_hidden_size');if(Et.dims.length!==5)throw new Error('Input "past" must have 5 dimensions');if(Et.dims[0]!==2)throw new Error('Input "past" first dimension must be 2');if(Et.dims[1]!==zt)throw new Error('Input "past" second dimension must be batch_size');if(Et.dims[2]!==s.numHeads)throw new Error('Input "past" third dimension must be num_heads');if(Et.dims[4]!==Yt/s.numHeads)throw new Error('Input "past" fifth dimension must be k_hidden_size / num_heads');s.pastPresentShareBuffer||(vr=Et.dims[3])}let Yr=_r+vr,Kr=-1,jr=0;if(At)throw new Error("Mask not supported");if(Et)throw new Error("past is not supported");if(Ut)throw new Error("relativePositionBias is not supported");return{batchSize:zt,sequenceLength:It,pastSequenceLength:vr,kvSequenceLength:_r,totalSequenceLength:Yr,maxSequenceLength:Kr,inputHiddenSize:Qt,hiddenSize:Pt,vHiddenSize:cr,headSize:Math.floor(Pt/s.numHeads),vHeadSize:Math.floor(cr/s.numHeads),numHeads:s.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:s.maskFilterValue,maskType:jr,scale:s.scale,broadcastResPosBias:!1,passPastInKv:!1,qkvFormat:1}},ic=(o,s,j,et)=>{let bt=Me(et),At=64,Et=et/bt;Et<At?At=1:Et/8<64&&(At=Math.ceil(Et/8));let Ut=Math.ceil(et/bt/At),zt=[{type:s.dataType,data:1/et},{type:12,data:Et},{type:12,data:Ut}],It=ke(s.dataType,bt),Qt=Pt=>{let Yt=q("x",s.dataType,s.dims,bt),cr="thread_max_vector";bt===2?cr="max(thread_max_vector.x, thread_max_vector.y)":bt===4&&(cr="max(max(thread_max_vector.x, thread_max_vector.y), max(thread_max_vector.z, thread_max_vector.w))");let _r=at(s.dataType),vr=[{name:"d_inv",type:_r},{name:"d_comp",type:"u32"},{name:"elements_per_wg",type:"u32"}];return`
  var<workgroup> wgMax: array<f32, ${At}>;
  var<workgroup> wgSum: array<f32, ${At}>;
  ${Pt.registerUniforms(vr).declareVariables(Yt)}
  ${Pt.mainStart([At,1,1])}
    let localOffset = local_idx * uniforms.elements_per_wg;
    let offset: u32 = workgroup_id.x * uniforms.d_comp + localOffset;

    var thread_max_vector = ${Xe("f32",bt,"-3.402823e+38f")};
    for (var i: u32 = 0; i < uniforms.elements_per_wg && i + localOffset < uniforms.d_comp; i++) {
      thread_max_vector = max(${mt(_r,bt,"x[offset + i]")}, thread_max_vector);
    }
    wgMax[local_idx] = ${cr};
    workgroupBarrier();

    var maxValue = -3.402823e+38f;
    for (var i = 0u; i < ${At}; i++) {
      maxValue = max(wgMax[i], maxValue);
    }

    var sumVector = ${Xe("f32",bt,"0")};
    for (var i: u32 = 0; i < uniforms.elements_per_wg && i + localOffset < uniforms.d_comp; i++) {
      sumVector += exp(${mt(_r,bt,"x[offset + i]")} - maxValue);
    }
    wgSum[local_idx] = ${it("sumVector",bt)};
    workgroupBarrier();

    var sum: f32 = 0;
    for (var i = 0u; i < ${At}; i++) {
      sum += wgSum[i];
    }

    if (sum == 0) {
      for (var i: u32 = 0; i < uniforms.elements_per_wg && i + localOffset < uniforms.d_comp; i++) {
        x[offset + i] = ${Xe(_r,bt,"uniforms.d_inv")};
      }
    } else {
      for (var i: u32 = 0; i < uniforms.elements_per_wg && i + localOffset < uniforms.d_comp; i++) {
        let f32input = ${mt(_r,bt,"x[offset + i]")};
        x[offset + i] = ${Yt.type.value}(exp(f32input - maxValue) / sum);
      }
    }
  }`};o.compute({name:"AttentionProbsSoftmax",shaderCache:{hint:`${At};${It};${bt}`},getShaderSource:Qt,getRunData:()=>({outputs:[],dispatchGroup:{x:j},programUniforms:zt})},{inputs:[s],outputs:[]})},oc=(o,s,j,et,bt,At)=>{let Et=[bt.batchSize,bt.numHeads,bt.sequenceLength,bt.kvSequenceLength+bt.pastSequenceLength],Ut=At.scale===0?1/Math.sqrt(bt.headSize):At.scale,zt=Me(bt.headSize),It=bt.headSize/zt,Qt=12,Pt={x:Math.ceil(bt.totalSequenceLength/Qt),y:Math.ceil(bt.sequenceLength/Qt),z:bt.batchSize*bt.numHeads},Yt=[{type:12,data:bt.sequenceLength},{type:12,data:It},{type:12,data:bt.totalSequenceLength},{type:12,data:bt.kvSequenceLength},{type:s.dataType,data:Ut}],cr=[s,j],_r=Yr=>{let Kr=D("q",s.dataType,s.dims,zt),jr=D("key",j.dataType,j.dims,zt),Hn=q("output",s.dataType,Et),tA=ke(s.dataType),nA=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"alpha",type:tA}];return`
  const beta: ${tA} = 1.0;
  const TILE_SIZE = ${Qt}u;

  var<workgroup> tileQ: array<${Kr.type.storage}, ${Qt*Qt}>;
  var<workgroup> tileK: array<${Kr.type.storage}, ${Qt*Qt}>;
  ${Yr.registerUniforms(nA).declareVariables(Kr,jr,Hn)}
  ${Yr.mainStart([Qt,Qt,1])}
    // x holds the N and y holds the M
    let headIdx = workgroup_id.z;
    let m = workgroup_id.y * TILE_SIZE;
    let n = workgroup_id.x * TILE_SIZE;
    let lm = m + local_id.y;
    let ln = n + local_id.x;

    let qOffset = uniforms.M * uniforms.K * headIdx + m * uniforms.K;
    let kOffset = uniforms.kv_sequence_length * uniforms.K * headIdx + n * uniforms.K;

    var value = ${Xe(tA,zt)};
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m + local_id.y < uniforms.M && w + local_id.x < uniforms.K) {
        tileQ[TILE_SIZE * local_id.y + local_id.x] = q[qOffset + local_id.y * uniforms.K + w + local_id.x];
      }
      if (n + local_id.y < uniforms.N && w + local_id.x < uniforms.K) {
        tileK[TILE_SIZE * local_id.y + local_id.x] = key[kOffset + local_id.y * uniforms.K + w + local_id.x];
      }
      workgroupBarrier();

      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {
        value += tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * local_id.x + k];
      }

      workgroupBarrier();
    }

    let headOffset = headIdx * uniforms.M * uniforms.N;
    if (lm < uniforms.M && ln < uniforms.N) {
      let outputIdx = headOffset + lm * uniforms.N + ln;
      output[outputIdx] = ${it("value",zt)} * uniforms.alpha;
    }
  }`},vr=o.compute({name:"AttentionProbs",shaderCache:{hint:`${zt}`,inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:Et,dataType:s.dataType,gpuDataType:0}],dispatchGroup:Pt,programUniforms:Yt}),getShaderSource:_r},{inputs:cr,outputs:[-1]})[0];return ic(o,vr,bt.batchSize*bt.numHeads*bt.sequenceLength,bt.totalSequenceLength),vr},sc=(o,s,j,et)=>{let bt=[et.batchSize,et.sequenceLength,et.vHiddenSize],At=12,Et={x:Math.ceil(et.vHeadSize/At),y:Math.ceil(et.sequenceLength/At),z:et.batchSize*et.numHeads},Ut=[{type:12,data:et.sequenceLength},{type:12,data:et.totalSequenceLength},{type:12,data:et.vHeadSize},{type:12,data:et.numHeads},{type:12,data:et.vHiddenSize}],zt=It=>{let Qt=D("probs",s.dataType,s.dims),Pt=D("v",j.dataType,j.dims),Yt=q("output",s.dataType,bt),cr=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"v_hidden_size",type:"u32"}];return`
  const TILE_SIZE = ${At}u;
  var<workgroup> tileQ: array<${Qt.type.value}, ${At*At}>;
  var<workgroup> tileK: array<${Qt.type.value}, ${At*At}>;
  ${It.registerUniforms(cr).declareVariables(Qt,Pt,Yt)}
  ${It.mainStart([At,At,1])}
   let headIdx = workgroup_id.z;
   let m = workgroup_id.y * TILE_SIZE + local_id.y;
   let n = workgroup_id.x * TILE_SIZE + local_id.x;

   let offsetA = headIdx * (uniforms.M * uniforms.K) + m * uniforms.K;
   let offsetB = headIdx * (uniforms.N * uniforms.K) + n;

   var value = ${Qt.type.storage}(0);
   for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
     if (m < uniforms.M && w + local_id.x < uniforms.K) {
       tileQ[TILE_SIZE * local_id.y + local_id.x] = probs[offsetA + w + local_id.x];
     }
     if (n < uniforms.N && w + local_id.y < uniforms.K) {
       tileK[TILE_SIZE * local_id.y + local_id.x] = v[offsetB + (w + local_id.y) * uniforms.N];
     }
     workgroupBarrier();
     for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {
       value += tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * k + local_id.x];
     }
     workgroupBarrier();
   }

   // we need to transpose output from BNSH_v to BSND_v
   let batchIdx = workgroup_id.z / uniforms.num_heads;
   let currentBatchHeadNumber = workgroup_id.z % uniforms.num_heads;
   let headOffset = (batchIdx * uniforms.M * uniforms.num_heads + currentBatchHeadNumber) * uniforms.N;
   if (m < uniforms.M && n < uniforms.N) {
     let outputIdx = batchIdx * uniforms.M *uniforms.v_hidden_size + m * uniforms.v_hidden_size
       + currentBatchHeadNumber * uniforms.N + n;
     output[outputIdx] = value;
   }
  }`};return o.compute({name:"AttentionScore",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:bt,dataType:s.dataType,gpuDataType:0}],dispatchGroup:Et,programUniforms:Ut}),getShaderSource:zt},{inputs:[s,j],outputs:[0]})[0]},bn=(o,s,j,et,bt,At,Et,Ut,zt,It,Qt)=>{let Pt=oc(o,s,j,zt,It,Qt);sc(o,Pt,et,It)},uc=(o,s)=>{let j=[s.batchSize,s.numHeads,s.sequenceLength,s.headSize],et=s.sequenceLength,bt=s.inputHiddenSize,At=s.headSize,Et=12,Ut={x:Math.ceil(s.headSize/Et),y:Math.ceil(s.sequenceLength/Et),z:s.batchSize*s.numHeads},zt=[o.inputs[0],o.inputs[1],o.inputs[2]],It=[{type:12,data:et},{type:12,data:bt},{type:12,data:At},{type:12,data:s.numHeads},{type:12,data:s.headSize},{type:12,data:s.hiddenSize},{type:12,data:s.hiddenSize+s.hiddenSize+s.vHiddenSize}],Qt=Pt=>{let Yt=q("output_q",zt[0].dataType,j),cr=q("output_k",zt[0].dataType,j),_r=q("output_v",zt[0].dataType,j),vr=D("input",zt[0].dataType,zt[0].dims),Yr=D("weight",zt[1].dataType,zt[1].dims),Kr=D("bias",zt[2].dataType,zt[2].dims),jr=vr.type.storage,Hn=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"hidden_size",type:"u32"},{name:"ldb",type:"u32"}];return`
  const TILE_SIZE = ${Et}u;
  var<workgroup> tileInput: array<${jr}, ${Et*Et}>;
  var<workgroup> tileWeightQ: array<${jr}, ${Et*Et}>;
  var<workgroup> tileWeightK: array<${jr}, ${Et*Et}>;
  var<workgroup> tileWeightV: array<${jr}, ${Et*Et}>;
  ${Pt.registerUniforms(Hn).declareVariables(vr,Yr,Kr,Yt,cr,_r)}
  ${Pt.mainStart([Et,Et,1])}
    let batchIndex = workgroup_id.z / uniforms.num_heads;
    let headNumber = workgroup_id.z % uniforms.num_heads;
    let m = workgroup_id.y * TILE_SIZE + local_id.y;
    let n = workgroup_id.x * TILE_SIZE + local_id.x;

    let inputOffset = batchIndex * (uniforms.M * uniforms.K) + m * uniforms.K;
    let biasOffsetQ = headNumber * uniforms.head_size;
    let biasOffsetK = uniforms.hidden_size + biasOffsetQ;
    let biasOffsetV = uniforms.hidden_size + biasOffsetK;

    var valueQ = ${jr}(0);
    var valueK = ${jr}(0);
    var valueV = ${jr}(0);
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m < uniforms.M && w + local_id.x < uniforms.K) {
        tileInput[TILE_SIZE * local_id.y + local_id.x] = input[inputOffset + w + local_id.x];
      }
      if (n < uniforms.N && w + local_id.y < uniforms.K) {
        let offset = n + (w + local_id.y) * uniforms.ldb;
        tileWeightQ[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetQ + offset];
        tileWeightK[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetK + offset];
        tileWeightV[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetV + offset];
      }
      workgroupBarrier();
      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {
        let inputTileOffset = TILE_SIZE * local_id.y + k;
        let weightTileOffset = TILE_SIZE * k + local_id.x;
        valueQ += tileInput[inputTileOffset] * tileWeightQ[weightTileOffset];
        valueK += tileInput[inputTileOffset] * tileWeightK[weightTileOffset];
        valueV += tileInput[inputTileOffset] * tileWeightV[weightTileOffset];
      }

      workgroupBarrier();
    }

    let headOffset = (m * uniforms.N + n) % uniforms.head_size;
    valueQ += bias[headOffset + biasOffsetQ];
    valueK += bias[headOffset + biasOffsetK];
    valueV += bias[headOffset + biasOffsetV];

    let offset = workgroup_id.z * uniforms.M * uniforms.N;
    if (m < uniforms.M && n < uniforms.N) {
      let outputIdx = offset + m * uniforms.N + n;
      output_q[outputIdx] = valueQ;
      output_k[outputIdx] = valueK;
      output_v[outputIdx] = valueV;
    }
  }`};return o.compute({name:"AttentionPrepare",shaderCache:{inputDependencies:["type","type","type"]},getRunData:()=>({outputs:[{dims:j,dataType:o.inputs[0].dataType,gpuDataType:0},{dims:j,dataType:o.inputs[0].dataType,gpuDataType:0},{dims:j,dataType:o.inputs[0].dataType,gpuDataType:0}],dispatchGroup:Ut,programUniforms:It}),getShaderSource:Qt},{inputs:zt,outputs:[-1,-1,-1]})},Uo=(o,s)=>{let j=ac(o.inputs,s),[et,bt,At]=uc(o,j);return bn(o,et,bt,At,o.inputs[4],void 0,void 0,void 0,o.inputs[5],j,s)}}),lc,dc,cc,No,Wo=F$1(()=>{lt(),ie(),_e(),Ye(),be(),lc=(o,s)=>{if(!o||o.length!==5)throw new Error("BatchNormalization requires 5 inputs");let j=(et,bt,At)=>{let Et=bt.length;if(Et!==et.length)throw new Error(`${At}: num dimensions != ${Et}`);bt.forEach((Ut,zt)=>{if(Ut!==et[zt])throw new Error(`${At}: dim[${zt}] do not match`)})};if(o[0].dims.length>1){let et=s.format==="NHWC"?s.spatial?o[0].dims.slice(-1):o[0].dims.slice(-1).concat(o[0].dims.slice(1,o[0].dims.length-1)):o[0].dims.slice(1,s.spatial?2:void 0);j(o[1].dims,et,"Invalid input scale"),j(o[2].dims,et,"Invalid input B"),j(o[3].dims,et,"Invalid input mean"),j(o[4].dims,et,"Invalid input var")}else j(o[1].dims,[1],"Invalid input scale"),j(o[2].dims,[1],"Invalid input B"),j(o[3].dims,[1],"Invalid input mean"),j(o[4].dims,[1],"Invalid input var")},dc=(o,s)=>{let{epsilon:j,spatial:et,format:bt}=s,At=o[0].dims,Et=et?Me(At[At.length-1]):1,Ut=bt==="NHWC"&&At.length>1?Et:1,zt=M.size(At)/Et,It=et,Qt=It?At.length:At,Pt=D("x",o[0].dataType,o[0].dims,Et),Yt=D("scale",o[1].dataType,o[1].dims,Ut),cr=D("bias",o[2].dataType,o[2].dims,Ut),_r=D("inputMean",o[3].dataType,o[3].dims,Ut),vr=D("inputVar",o[4].dataType,o[4].dims,Ut),Yr=q("y",o[0].dataType,Qt,Et),Kr=()=>{let Hn="";if(et)Hn=`let cOffset = ${At.length===1?"0u":bt==="NHWC"?`outputIndices[${At.length-1}] / ${Et}`:"outputIndices[1]"};`;else if(bt==="NCHW")Hn=`
            ${Yr.indicesSet("outputIndices","0","0")}
            let cOffset = ${Yr.indicesToOffset("outputIndices")};`;else{Hn=`var cIndices = ${Yt.type.indices}(0);
                       cIndices[0] = outputIndices[${At.length-1}];`;for(let tA=1;tA<Yt.rank;tA++)Hn+=`cIndices[${tA}] = outputIndices[${tA}];`;Hn+=`let cOffset = ${Yt.indicesToOffset("cIndices")};`}return Hn},jr=Hn=>`
  const epsilon = ${j};
  ${Hn.registerUniform("outputSize","u32").declareVariables(Pt,Yt,cr,_r,vr,Yr)}
  ${Hn.mainStart()}
  ${Hn.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
    var outputIndices = ${Yr.offsetToIndices(`global_idx * ${Et}`)};
    ${Kr()}
    let scale = ${Yt.getByOffset("cOffset")};
    let bias = ${cr.getByOffset("cOffset")};
    let inputMean = ${_r.getByOffset("cOffset")};
    let inputVar = ${vr.getByOffset("cOffset")};
    let x = ${Pt.getByOffset("global_idx")};
    let value = (x - inputMean) * inverseSqrt(inputVar + epsilon) * scale + bias;
    ${Yr.setByOffset("global_idx","value")}
  }`;return{name:"BatchNormalization",shaderCache:{hint:`${s.epsilon}_${s.format}_${et}_${Et}`,inputDependencies:It?["rank","type","type","type","type"]:void 0},getShaderSource:jr,getRunData:()=>({outputs:[{dims:o[0].dims,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(zt/64)},programUniforms:It?[{type:12,data:zt},...K(At)]:[{type:12,data:zt}]})}},cc=o=>$e(o),No=(o,s)=>{let{inputs:j,outputCount:et}=o,bt=cc({...s,outputCount:et});if(Ae.webgpu.validateInputContent&&lc(j,bt),s.trainingMode)throw new Error("BatchNormalization trainingMode is not supported yet.");o.compute(dc(j,bt))}}),pc,fc,Vo,Go=F$1(()=>{_e(),be(),pc=o=>{if(o[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![320,640,1280].includes(o[0].dims[2]))throw new Error("number of channels should be 320, 640 or 1280");if(o[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(o[0].dims[2]!==o[1].dims[0])throw new Error("last dimension of input and bias are not the same")},fc=o=>{let s=o[0].dims,j=o[0].dims[2],et=M.size(s)/4,bt=o[0].dataType,At=D("input",bt,s,4),Et=D("bias",bt,[j],4),Ut=D("residual",bt,s,4),zt=q("output",bt,s,4);return{name:"BiasAdd",getRunData:()=>({outputs:[{dims:s,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(et/64)}}),getShaderSource:It=>`
  const channels = ${j}u / 4;
  ${It.declareVariables(At,Et,Ut,zt)}

  ${It.mainStart()}
    ${It.guardAgainstOutOfBoundsWorkgroupSizes(et)}
    let value = ${At.getByOffset("global_idx")}
      + ${Et.getByOffset("global_idx % channels")} + ${Ut.getByOffset("global_idx")};
    ${zt.setByOffset("global_idx","value")}
  }`}},Vo=o=>{pc(o.inputs),o.compute(fc(o.inputs))}}),mc,Oe,Ho,Lo,Fo,qo,jo,Ko,Yo,Zo,Xo,hc,Qo,Jo,es,ts,wn,rs,vn,ns,as,is,os,ss,us,ls,ds,cs,ps,fs,ms,hs,gs,ys,bs,ws,vs,ya,ba,$s,_s,xs,$n=F$1(()=>{ie(),_e(),Ye(),be(),mc=(o,s,j,et,bt,At)=>{let Et=Math.ceil(s/4),Ut="";typeof bt=="string"?Ut=`${bt}(a)`:Ut=bt("a");let zt=D("inputData",j,[Et],4),It=q("outputData",et,[Et],4);return`
      ${o.registerUniform("vec_size","u32").declareVariables(zt,It)}

  ${At??""}

  ${o.mainStart()}
    ${o.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}

    let a = ${zt.getByOffset("global_idx")};
    ${It.setByOffset("global_idx",Ut)}
  }`},Oe=(o,s,j,et,bt,At=o.dataType)=>({name:s,shaderCache:{hint:bt,inputDependencies:["type"]},getShaderSource:Et=>mc(Et,M.size(o.dims),o.dataType,At,j,et),getRunData:Et=>({outputs:[{dims:o.dims,dataType:At}],dispatchGroup:{x:Math.ceil(M.size(Et[0].dims)/64/4)},programUniforms:[{type:12,data:Math.ceil(M.size(o.dims)/4)}]})}),Ho=o=>{o.compute(Oe(o.inputs[0],"Abs","abs"))},Lo=o=>{o.compute(Oe(o.inputs[0],"Acos","acos"))},Fo=o=>{o.compute(Oe(o.inputs[0],"Acosh","acosh"))},qo=o=>{o.compute(Oe(o.inputs[0],"Asin","asin"))},jo=o=>{o.compute(Oe(o.inputs[0],"Asinh","asinh"))},Ko=o=>{o.compute(Oe(o.inputs[0],"Atan","atan"))},Yo=o=>{o.compute(Oe(o.inputs[0],"Atanh","atanh"))},Zo=o=>$e(o),Xo=(o,s)=>{let j;switch(s.to){case 10:j="vec4<f16>";break;case 1:j="vec4<f32>";break;case 12:j="vec4<u32>";break;case 6:j="vec4<i32>";break;case 9:j="vec4<bool>";break;default:throw new RangeError(`not supported type (specified in attribute 'to' from 'Cast' operator): ${s.to}`)}o.compute(Oe(o.inputs[0],"Cast",j,void 0,s.cacheKey,s.to))},hc=o=>{let s=o.length>=2&&o[1].data!==0?o[1].getFloat32Array()[0]:pn,j=o.length>=3&&o[2].data!==0?o[2].getFloat32Array()[0]:fn;return $e({min:s,max:j})},Qo=(o,s)=>{let j=o.inputs.length===1?s:hc(o.inputs),et=at(o.inputs[0].dataType);o.compute(Oe(o.inputs[0],"Clip",bt=>`clamp(${bt}, clip_min_, clip_max_)`,`
    const clip_min_: vec4<${et}> = vec4(${et}(${j.min}));
    const clip_max_: vec4<${et}> = vec4(${et}(${j.max}));
`,j.cacheKey),{inputs:[0]})},Jo=o=>{o.compute(Oe(o.inputs[0],"Ceil","ceil"))},es=o=>{o.compute(Oe(o.inputs[0],"Cos","cos"))},ts=o=>{o.compute(Oe(o.inputs[0],"Cosh","cosh"))},wn=o=>$e(o),rs=(o,s)=>{let j=at(o.inputs[0].dataType);o.compute(Oe(o.inputs[0],"Elu",et=>`elu_vf32(${et})`,`
  const elu_alpha_ = ${j}(${s.alpha});

  fn elu_f32(a: ${j}) -> ${j} {
  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);
  }

  fn elu_vf32(v: vec4<${j}>) -> vec4<${j}> {
  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));
  }`,s.cacheKey))},vn=(o="f32")=>`
const r0: ${o} = 0.3275911;
const r1: ${o} = 0.254829592;
const r2: ${o} = -0.284496736;
const r3: ${o} = 1.421413741;
const r4: ${o} = -1.453152027;
const r5: ${o} = 1.061405429;

fn erf_vf32(v: vec4<${o}>) -> vec4<${o}> {
  let absv = abs(v);
  let x = 1.0 / (1.0 + r0 * absv);
  return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));
}`,ns=o=>{let s=at(o.inputs[0].dataType);o.compute(Oe(o.inputs[0],"Erf",j=>`erf_vf32(${j})`,vn(s)))},as=o=>{o.compute(Oe(o.inputs[0],"Exp","exp"))},is=o=>{o.compute(Oe(o.inputs[0],"Floor","floor"))},os=o=>{let s=at(o.inputs[0].dataType);o.compute(Oe(o.inputs[0],"Gelu",j=>`0.5 * ${j} * (1.0 + erf_vf32(${j} * 0.7071067811865475))`,vn(s)))},ss=(o,s)=>{let j=at(o.inputs[0].dataType);o.compute(Oe(o.inputs[0],"LeakyRelu",et=>`select(leaky_relu_alpha_ * ${et}, ${et}, ${et} >= vec4<${j}>(0.0))`,`const leaky_relu_alpha_ = ${j}(${s.alpha});`,s.cacheKey))},us=o=>{o.compute(Oe(o.inputs[0],"Not",s=>`!${s}`))},ls=o=>{o.compute(Oe(o.inputs[0],"Neg",s=>`-${s}`))},ds=o=>{o.compute(Oe(o.inputs[0],"Reciprocal",s=>`1.0/${s}`))},cs=o=>{let s=at(o.inputs[0].dataType);o.compute(Oe(o.inputs[0],"Relu",j=>`select(vec4<${s}>(0.0), ${j}, ${j} > vec4<${s}>(0.0))`))},ps=o=>{o.compute(Oe(o.inputs[0],"Sigmoid",s=>`(1.0 / (1.0 + exp(-${s})))`))},fs=o=>$e(o),ms=(o,s)=>{let j=at(o.inputs[0].dataType);o.compute(Oe(o.inputs[0],"HardSigmoid",et=>`max(vec4<${j}>(0.0), min(vec4<${j}>(1.0), ${s.alpha} * ${et} + vec4<${j}>(${s.beta})))`,void 0,s.cacheKey))},hs=o=>{o.compute(Oe(o.inputs[0],"Sin","sin"))},gs=o=>{o.compute(Oe(o.inputs[0],"Sinh","sinh"))},ys=o=>{o.compute(Oe(o.inputs[0],"Sqrt","sqrt"))},bs=o=>{o.compute(Oe(o.inputs[0],"Tan","tan"))},ws=o=>`sign(${o}) * (1 - exp(-2 * abs(${o}))) / (1 + exp(-2 * abs(${o})))`,vs=o=>{o.compute(Oe(o.inputs[0],"Tanh",ws))},ya=(o="f32")=>`
const fast_gelu_a: ${o} = 0.5;
const fast_gelu_b: ${o} = 0.7978845608028654;
const fast_gelu_c: ${o} = 0.035677408136300125;

fn tanh_v(v: vec4<${o}>) -> vec4<${o}> {
  return ${ws("v")};
}
`,ba=o=>`(fast_gelu_a + fast_gelu_a * tanh_v(${o} * (fast_gelu_c * ${o} * ${o} + fast_gelu_b))) * ${o}`,$s=o=>{let s=at(o.inputs[0].dataType);o.compute(Oe(o.inputs[0],"FastGelu",ba,ya(s),void 0,o.inputs[0].dataType))},_s=(o,s)=>{let j=at(o.inputs[0].dataType);return o.compute(Oe(o.inputs[0],"ThresholdedRelu",et=>`select(vec4<${j}>(0.0), ${et}, ${et} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_ = vec4<${j}>(${s.alpha});`,s.cacheKey)),0},xs=o=>{o.compute(Oe(o.inputs[0],"Log","log"))}}),gc,yc,Cs,Is=F$1(()=>{_e(),be(),$n(),gc=o=>{if(o[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![2560,5120,10240].includes(o[0].dims[2]))throw new Error("hidden state should be 2560, 5120 or 10240");if(o[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(o[0].dims[2]!==o[1].dims[0])throw new Error("last dimension of input and bias are not the same")},yc=o=>{let s=o[0].dims.slice();s[2]=s[2]/2;let j=D("input",o[0].dataType,o[0].dims,4),et=D("bias",o[0].dataType,[o[0].dims[2]],4),bt=q("output",o[0].dataType,s,4),At=M.size(s)/4,Et=ke(o[0].dataType);return{name:"BiasSplitGelu",getRunData:()=>({outputs:[{dims:s,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(At/64)}}),getShaderSource:Ut=>`
  const M_SQRT2 = sqrt(2.0);
  const halfChannels = ${o[0].dims[2]/4/2}u;

  ${Ut.declareVariables(j,et,bt)}

  ${vn(Et)}

  ${Ut.mainStart()}
    ${Ut.guardAgainstOutOfBoundsWorkgroupSizes(At)}
    let biasIdx = global_idx % halfChannels;
    let batchIndex = global_idx / halfChannels;
    let inputOffset = biasIdx + batchIndex * halfChannels * 2;
    let valueLeft = input[inputOffset] + bias[biasIdx];
    let valueRight = input[inputOffset + halfChannels] + bias[biasIdx + halfChannels];
    let geluRight = valueRight * 0.5 * (erf_vf32(valueRight / M_SQRT2) + 1);

    ${bt.setByOffset("global_idx","valueLeft * geluRight")}
  }`}},Cs=o=>{gc(o.inputs),o.compute(yc(o.inputs))}}),bc,wc,Ct,Es,As,Ts,Os,ks,Ps,Rs,zs,Bs,Ds,Ms=F$1(()=>{ie(),_e(),be(),bc=(o,s,j,et,bt,At,Et,Ut,zt,It,Qt,Pt)=>{let Yt,cr;typeof Ut=="string"?Yt=cr=(jr,Hn)=>`${Ut}((${jr}),(${Hn}))`:typeof Ut=="function"?Yt=cr=Ut:(Yt=Ut.scalar,cr=Ut.vector);let _r=q("outputData",Qt,et.length,4),vr=D("aData",zt,s.length,4),Yr=D("bData",It,j.length,4),Kr;if(bt)if(At){let jr=M.size(s)===1,Hn=M.size(j)===1,tA=s.length>0&&s[s.length-1]%4===0,nA=j.length>0&&j[j.length-1]%4===0;jr||Hn?Kr=_r.setByOffset("global_idx",cr(jr?`${vr.type.value}(${vr.getByOffset("0")}.x)`:vr.getByOffset("global_idx"),Hn?`${Yr.type.value}(${Yr.getByOffset("0")}.x)`:Yr.getByOffset("global_idx"))):Kr=`
            let outputIndices = ${_r.offsetToIndices("global_idx * 4u")};
            let offsetA = ${vr.broadcastedIndicesToOffset("outputIndices",_r)};
            let offsetB = ${Yr.broadcastedIndicesToOffset("outputIndices",_r)};
            ${_r.setByOffset("global_idx",cr(Et||tA?vr.getByOffset("offsetA / 4u"):`${vr.type.value}(${vr.getByOffset("offsetA / 4u")}[offsetA % 4u])`,Et||nA?Yr.getByOffset("offsetB / 4u"):`${Yr.type.value}(${Yr.getByOffset("offsetB / 4u")}[offsetB % 4u])`))}
          `}else Kr=_r.setByOffset("global_idx",cr(vr.getByOffset("global_idx"),Yr.getByOffset("global_idx")));else{if(!At)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");let jr=(Hn,tA,nA="")=>{let aA=`aData[indexA${tA}][componentA${tA}]`,lA=`bData[indexB${tA}][componentB${tA}]`;return`
            let outputIndices${tA} = ${_r.offsetToIndices(`global_idx * 4u + ${tA}u`)};
            let offsetA${tA} = ${vr.broadcastedIndicesToOffset(`outputIndices${tA}`,_r)};
            let offsetB${tA} = ${Yr.broadcastedIndicesToOffset(`outputIndices${tA}`,_r)};
            let indexA${tA} = offsetA${tA} / 4u;
            let indexB${tA} = offsetB${tA} / 4u;
            let componentA${tA} = offsetA${tA} % 4u;
            let componentB${tA} = offsetB${tA} % 4u;
            ${Hn}[${tA}] = ${nA}(${Yt(aA,lA)});
          `};Qt===9?Kr=`
            var data = vec4<u32>(0);
            ${jr("data",0,"u32")}
            ${jr("data",1,"u32")}
            ${jr("data",2,"u32")}
            ${jr("data",3,"u32")}
            outputData[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:Kr=`
            ${jr("outputData[global_idx]",0)}
            ${jr("outputData[global_idx]",1)}
            ${jr("outputData[global_idx]",2)}
            ${jr("outputData[global_idx]",3)}
          `}return`
        ${o.registerUniform("vec_size","u32").declareVariables(vr,Yr,_r)}

        ${Pt??""}

        ${o.mainStart()}
        ${o.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${Kr}
      }`},wc=(o,s,j,et,bt,At,Et=j.dataType)=>{let Ut=!M.areEqual(j.dims,et.dims),zt=j.dims,It=M.size(j.dims),Qt=!1,Pt=!1,Yt=[Ut];if(Ut){let cr=vt.calcShape(j.dims,et.dims,!1);if(!cr)throw new Error("Can't perform binary op on the given tensors");zt=cr,It=M.size(zt);let _r=M.size(j.dims)===1,vr=M.size(et.dims)===1,Yr=j.dims.length>0&&j.dims[j.dims.length-1]%4===0,Kr=et.dims.length>0&&et.dims[et.dims.length-1]%4===0;Yt.push(_r),Yt.push(vr),Yt.push(Yr),Yt.push(Kr);let jr=1;for(let Hn=1;Hn<zt.length;Hn++){let tA=j.dims[j.dims.length-Hn]??1,nA=et.dims[et.dims.length-Hn]??1;if(tA===nA)jr*=tA;else break}jr%4===0?(Pt=!0,Qt=!0):(_r||vr||Yr||Kr)&&(Qt=!0)}else Qt=!0;return Yt.push(Qt),{name:o,shaderCache:{hint:s+Yt.map(cr=>cr.toString()).join("_"),inputDependencies:["rank","rank"]},getShaderSource:cr=>bc(cr,j.dims,et.dims,zt,Qt,Ut,Pt,bt,j.dataType,et.dataType,Et,At),getRunData:()=>({outputs:[{dims:zt,dataType:Et}],dispatchGroup:{x:Math.ceil(It/64/4)},programUniforms:[{type:12,data:Math.ceil(M.size(zt)/4)},...K(j.dims,et.dims,zt)]})}},Ct=(o,s,j,et,bt,At)=>{o.compute(wc(s,bt??"",o.inputs[0],o.inputs[1],j,et,At))},Es=o=>{Ct(o,"Add",(s,j)=>`${s}+${j}`)},As=o=>{Ct(o,"Div",(s,j)=>`${s}/${j}`)},Ts=o=>{Ct(o,"Equal",{scalar:(s,j)=>`u32(${s}==${j})`,vector:(s,j)=>`vec4<u32>(${s}==${j})`},void 0,void 0,9)},Os=o=>{Ct(o,"Mul",(s,j)=>`${s}*${j}`)},ks=o=>{let s=D("input",o.inputs[0].dataType,o.inputs[0].dims).type.value;Ct(o,"Pow",{scalar:(j,et)=>`pow_custom(${j},${et})`,vector:(j,et)=>`pow_vector_custom(${j},${et})`},`
    fn pow_custom(a : ${s}, b : ${s}) -> ${s} {
      if (b == ${s}(0.0)) {
        return ${s}(1.0);
      } else if (a < ${s}(0.0) && f32(b) != floor(f32(b))) {
        return ${s}(pow(f32(a), f32(b))); // NaN
      }
      return select(sign(a), ${s}(1.0), round(f32(abs(b) % ${s}(2.0))) != 1.0) * ${s}(${s==="i32"?"round":""}(pow(f32(abs(a)), f32(b))));
    }
    fn pow_vector_custom(a : vec4<${s}>, b : vec4<${s}>) -> vec4<${s}> {
      // TODO: implement vectorized pow
      return vec4<${s}>(pow_custom(a.x, b.x), pow_custom(a.y, b.y), pow_custom(a.z, b.z), pow_custom(a.w, b.w));
    }
      `)},Ps=o=>{Ct(o,"Sub",(s,j)=>`${s}-${j}`)},Rs=o=>{Ct(o,"Greater",{scalar:(s,j)=>`u32(${s}>${j})`,vector:(s,j)=>`vec4<u32>(${s}>${j})`},void 0,void 0,9)},zs=o=>{Ct(o,"Less",{scalar:(s,j)=>`u32(${s}<${j})`,vector:(s,j)=>`vec4<u32>(${s}<${j})`},void 0,void 0,9)},Bs=o=>{Ct(o,"GreaterOrEqual",{scalar:(s,j)=>`u32(${s}>=${j})`,vector:(s,j)=>`vec4<u32>(${s}>=${j})`},void 0,void 0,9)},Ds=o=>{Ct(o,"LessOrEqual",{scalar:(s,j)=>`u32(${s}<=${j})`,vector:(s,j)=>`vec4<u32>(${s}<=${j})`},void 0,void 0,9)}}),$c,_c,xc,Sc,Us,Ns,Ws=F$1(()=>{ie(),_e(),Ye(),be(),$c=(o,s)=>{if(!o||o.length<1)throw new Error("too few inputs");let j=0,et=o[j],bt=et.dataType,At=et.dims.length;o.forEach((Et,Ut)=>{if(Ut!==j){if(Et.dataType!==bt)throw new Error("input tensors should be one type");if(Et.dims.length!==At)throw new Error("input tensors should have the same shape");Et.dims.forEach((zt,It)=>{if(It!==s&&zt!==et.dims[It])throw new Error("non concat dimensions must match")})}})},_c=(o,s)=>`
  fn calculateInputIndex(index: u32) -> u32 {
    let sizeInConcatAxis = array<u32, ${o}u>(${s});
    for (var i: u32 = 0u; i < ${o}; i += 1u ) {
      if (index < sizeInConcatAxis[i]) {
        return i;
      }
    }
    return ${o}u;
  }`,xc=(o,s)=>{let j=o.length,et=[];for(let bt=0;bt<j;++bt){let At=s.setByOffset("global_idx",o[bt].getByIndices("indices"));j===1?et.push(At):bt===0?et.push(`if (inputIndex == ${bt}u) { ${At} }`):bt===j-1?et.push(`else { ${At} }`):et.push(`else if (inputIndex == ${bt}) { ${At} }`)}return et.join(`
`)},Sc=(o,s,j,et)=>{let bt=M.size(j),At=new Array(o.length),Et=new Array(o.length),Ut=0,zt=[],It=[],Qt=[{type:12,data:bt}];for(let vr=0;vr<o.length;++vr)Ut+=o[vr].dims[s],At[vr]=Ut,It.push(o[vr].dims.length),Et[vr]=D(`input${vr}`,et,It[vr]),zt.push("rank"),Qt.push({type:12,data:At[vr]});for(let vr=0;vr<o.length;++vr)Qt.push(...K(o[vr].dims));Qt.push(...K(j));let Pt=q("output",et,j.length),Yt=Pt.indicesGet("indices",s),cr=Array.from(Array(At.length).keys()).map(vr=>`uniforms.sizeInConcatAxis${vr}`).join(","),_r=vr=>`

  ${(()=>{vr.registerUniform("outputSize","u32");for(let Yr=0;Yr<o.length;Yr++)vr.registerUniform(`sizeInConcatAxis${Yr}`,"u32");return vr.declareVariables(...Et,Pt)})()}

  ${_c(At.length,cr)}

  ${vr.mainStart()}
    ${vr.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

    var indices = ${Pt.offsetToIndices("global_idx")};

    let inputIndex = calculateInputIndex(${Yt});
    if (inputIndex != 0u) {
      let sizeInConcatAxis = array<u32, ${At.length}u>(${cr});
      ${Yt} -= sizeInConcatAxis[inputIndex - 1u];
    }

    ${xc(Et,Pt)}
  }`;return{name:"Concat",shaderCache:{hint:`${s}`,inputDependencies:zt},getRunData:()=>({outputs:[{dims:j,dataType:et}],dispatchGroup:{x:Math.ceil(bt/64)},programUniforms:Qt}),getShaderSource:_r}},Us=(o,s)=>{let j=o.inputs,et=j[0].dims,bt=M.normalizeAxis(s.axis,et.length);$c(j,bt);let At=et.slice();At[bt]=j.reduce((Ut,zt)=>Ut+(zt.dims.length>bt?zt.dims[bt]:0),0);let Et=j.filter(Ut=>M.size(Ut.dims)>0);o.compute(Sc(Et,bt,At,j[0].dataType),{inputs:Et})},Ns=o=>$e({axis:o.axis})}),ht,gt,yt,_n,Mt=F$1(()=>{ie(),_e(),ht=(o,s,j="f32")=>{switch(o.activation){case"Relu":return`value = max(value, ${s}(0.0));`;case"Sigmoid":return`value = (${s}(1.0) / (${s}(1.0) + exp(-value)));`;case"Clip":return`value = clamp(value, ${s}(${j}(uniforms.clip_min)), ${s}(${j}(uniforms.clip_max)));`;case"HardSigmoid":return`value = max(${s}(0.0), min(${s}(1.0), ${j}(uniforms.alpha) * value + ${j}(uniforms.beta)));`;case"LeakyRelu":return`value = select(${j}(uniforms.alpha) * value, value, value >= ${s}(0.0));`;case"":return"";default:throw new Error(`Unsupported activation ${o.activation}`)}},gt=(o,s)=>{o.activation==="Clip"?s.push({type:1,data:o.clipMax},{type:1,data:o.clipMin}):o.activation==="HardSigmoid"?s.push({type:1,data:o.alpha},{type:1,data:o.beta}):o.activation==="LeakyRelu"&&s.push({type:1,data:o.alpha})},yt=(o,s)=>{o.activation==="Clip"?s.push({name:"clip_max",type:"f32"},{name:"clip_min",type:"f32"}):o.activation==="HardSigmoid"?s.push({name:"alpha",type:"f32"},{name:"beta",type:"f32"}):o.activation==="LeakyRelu"&&s.push({name:"alpha",type:"f32"})},_n=o=>{let s=(o==null?void 0:o.activation)||"";if(s==="HardSigmoid"){let[j,et]=(o==null?void 0:o.activation_params)||[.2,.5];return{activation:s,alpha:j,beta:et}}else if(s==="Clip"){let[j,et]=(o==null?void 0:o.activation_params)||[pn,fn];return{activation:s,clipMax:et,clipMin:j}}else if(s==="LeakyRelu"){let[j]=(o==null?void 0:o.activation_params)||[.01];return{activation:s,alpha:j}}return{activation:s}}}),Qe,xn,Sn=F$1(()=>{Qe=(o,s)=>{switch(o){case 1:return s;case 2:return`vec2<${s}>`;case 3:return`vec3<${s}>`;case 4:return`vec4<${s}>`;default:throw new Error(`${o}-component is not supported.`)}},xn=o=>`
      ${o?"value = value + getBiasByOutputCoords(coords);":""}
      `}),Cn,wa=F$1(()=>{Cn=o=>`
fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
}
fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
    i32(${o}.x), i32(${o}.y), i32(${o}.z), 1));
}
`}),Cc,Ic,Tr,Vs,Ec,Or,Ac,In,kr=F$1(()=>{ie(),_e(),be(),Mt(),Sn(),Cc=(o,s)=>o?`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          kStart + inputRow,
          globalRowStart / innerElementSize + inputCol${s?", batchIndices":""});
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          globalRow + innerRow,
          kStart / innerElementSize + inputCol${s?", batchIndices":""});
        `,Ic=(o,s)=>o?`
        let ACached0 = mm_Asub[k * innerElementSize][localRow];
        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];
        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];
        ${s===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}
        for (var i = 0; i < rowPerThread; i = i + 1) {
          acc[i] = BCached0 * ACached0[i] + acc[i];
          acc[i] = BCached1 * ACached1[i] + acc[i];
          acc[i] = BCached2 * ACached2[i] + acc[i];
          ${s===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}
        }`:`
        for (var i = 0; i < rowPerThread; i = i + 1) {
          let ACached = mm_Asub[tileRow + i][k];
          acc[i] = BCached0 * ACached.x + acc[i];
          acc[i] = BCached1 * ACached.y + acc[i];
          acc[i] = BCached2 * ACached.z + acc[i];
          ${s===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}
        }`,Tr=(o,s,j="f32",et,bt=!1,At=32,Et=!1,Ut=32)=>{let zt=s[1]*o[1],It=s[0]*o[0],Qt=bt?zt:At,Pt=bt?At:zt,Yt=Qt/s[0],cr=At/s[1];if(!((bt&&Yt===4&&o[1]===4||!bt&&(Yt===3||Yt===4))&&Qt%s[0]===0&&At%s[1]===0&&o[0]===4))throw new Error(`If transposeA ${bt} is true, innerElementSize ${Yt} and workPerThread[1] ${o[1]} must be 4.
      Otherwise, innerElementSize ${Yt} must be 3 or 4.
  tileAWidth ${Qt} must be divisible by workgroupSize[0]${s[0]}. tileInner ${At} must be divisible by workgroupSize[1] ${s[1]}. colPerThread ${o[0]} must be 4.`);return`
var<workgroup> mm_Asub: array<array<vec${Yt}<${j}>, ${Qt/Yt}>, ${Pt}>;
var<workgroup> mm_Bsub: array<array<vec4<${j}>, ${It/o[0]}>, ${At}>;

const rowPerThread = ${o[1]};
const colPerThread = ${o[0]};
const innerElementSize = ${Yt};
const tileInner = ${At};

@compute @workgroup_size(${s[0]}, ${s[1]}, ${s[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
  let localRow = i32(localId.y);
  let tileRow = localRow * rowPerThread;
  let tileCol = i32(localId.x);

  let globalRow =i32(globalId.y) * rowPerThread;
  let globalCol = i32(globalId.x);
  let batch = ${Et?"0":"i32(globalId.z)"};
  ${et?`let batchIndices = ${et.offsetToIndices("u32(batch)")};`:""}
  let globalRowStart = i32(workgroupId.y) * ${zt};

  let num_tiles = ${Et?`${Math.ceil(Ut/At)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
  var kStart = ${Et?`i32(globalId.z) * ${Ut}`:"0"};

  var acc: array<vec4<${j}>, rowPerThread>;

  // Loop over shared dimension.
  let tileRowB = localRow * ${cr};
  for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let inputRow = tileRow + innerRow;
          let inputCol = tileCol;
          ${Cc(bt,et)}
      }

      // Load one tile of B into local memory.
      for (var innerRow = 0; innerRow < ${cr}; innerRow = innerRow + 1) {
          let inputRow = tileRowB + innerRow;
          let inputCol = tileCol;
          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol${et?", batchIndices":""});
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {
          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];
          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];
          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];
          ${Yt===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}

          ${Ic(bt,Yt)}
      }

      workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
  }
}`},Vs=(o,s)=>o?`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              kStart + inputRow,
              globalRowStart + inputCol${s?", batchIndices":""});
            `:`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              globalRowStart + inputRow,
              kStart + inputCol${s?", batchIndices":""});
            `,Ec=o=>o?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];",Or=(o,s,j="f32",et,bt=!1,At=32,Et=!1,Ut=32,zt=!1)=>{let It=o[1]*s[1],Qt=o[0]*s[0],Pt=bt?It:At,Yt=bt?At:It;if(!(Yt%s[1]===0&&Pt%s[0]===0&&At%s[1]===0))throw new Error(`tileAHight ${Yt} must be divisible by workgroupSize[1]${s[1]}, tileAWidth ${Pt} must be divisible by workgroupSize[0]${s[0]}, tileInner ${At} must be divisible by workgroupSize[1]${s[1]}`);let cr=Yt/s[1],_r=Pt/s[0],vr=At/s[1],Yr=zt?`
    let localRow = i32(localId.y);
    let localCol = i32(localId.x);
    let globalRowStart = i32(workgroupId.y) * ${It};
    let globalColStart = i32(workgroupId.x) * ${Qt};

    // Loop over shared dimension.
    for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var inputRow = localRow; inputRow < ${Yt}; inputRow = inputRow + ${s[1]}) {
        for (var inputCol = localCol; inputCol < ${Pt}; inputCol = inputCol + ${s[0]}) {
          ${Vs(bt,et)}
        }
      }
      // Load one tile of B into local memory.
      for (var inputRow = localRow; inputRow < ${At}; inputRow = inputRow + ${s[1]}) {
            for (var inputCol = localCol; inputCol < ${Qt}; inputCol = inputCol + ${s[0]}) {
          mm_Bsub[inputRow][inputCol] = mm_readB(batch,
            kStart + inputRow,
            globalColStart + inputCol${et?", batchIndices":""});
        }
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      var BCached : array<${j}, colPerThread>;
      for (var k = 0; k < tileInner; k = k + 1) {
        for (var inner = 0; inner < colPerThread; inner = inner + 1) {
          BCached[inner] = mm_Bsub[k][localCol + inner * ${s[0]}];
        }
        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let ACached = ${bt?`mm_Asub[k][localRow + innerRow * ${s[1]}];`:`mm_Asub[localRow + innerRow * ${s[1]}][k];`}
          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
            acc[innerRow][innerCol] = acc[innerRow][innerCol] +
                ACached * BCached[innerCol];
          }
        }
      }
      workgroupBarrier();
    }
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      let gRow = globalRowStart + localRow + innerRow * ${s[1]};
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        let gCol = globalColStart + localCol + innerCol * ${s[0]};
        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
      }
    }
    `:`
let tileRow = i32(localId.y) * rowPerThread;
let tileCol = i32(localId.x) * colPerThread;

let globalRow = i32(globalId.y) * rowPerThread;
let globalCol = i32(globalId.x) * colPerThread;
let globalRowStart = i32(workgroupId.y) * ${It};

let tileRowA = i32(localId.y) * ${cr};
let tileColA = i32(localId.x) * ${_r};
let tileRowB = i32(localId.y) * ${vr};
// Loop over shared dimension.
for (var t = 0; t < num_tiles; t = t + 1) {
  // Load one tile of A into local memory.
  for (var innerRow = 0; innerRow < ${cr}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < ${_r}; innerCol = innerCol + 1) {
      let inputRow = tileRowA + innerRow;
      let inputCol = tileColA + innerCol;
      ${Vs(bt,et)}
    }
  }

  // Load one tile of B into local memory.
  for (var innerRow = 0; innerRow < ${vr}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
      let inputRow = tileRowB + innerRow;
      let inputCol = tileCol + innerCol;
      mm_Bsub[inputRow][inputCol] = mm_readB(batch,
        kStart + inputRow,
        globalCol + innerCol${et?", batchIndices":""});
    }
  }
  kStart = kStart + tileInner;
  workgroupBarrier();

  // Compute acc values for a single thread.
  var BCached : array<${j}, colPerThread>;
  for (var k = 0; k < tileInner; k = k + 1) {
    for (var inner = 0; inner < colPerThread; inner = inner + 1) {
      BCached[inner] = mm_Bsub[k][tileCol + inner];
    }

    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      ${Ec(bt)}
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];
      }
    }
  }

  workgroupBarrier();
}

for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
    mm_write(batch, globalRow + innerRow, globalCol + innerCol,
        acc[innerRow][innerCol]);
  }
}
`;return`
  var<workgroup> mm_Asub : array<array<${j}, ${Pt}>, ${Yt}>;
  var<workgroup> mm_Bsub : array<array<${j}, ${Qt}>, ${At}>;
  const rowPerThread = ${o[1]};
  const colPerThread = ${o[0]};
  const tileInner = ${At};

@compute @workgroup_size(${s[0]}, ${s[1]}, ${s[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
    let batch = ${Et?"0":"i32(globalId.z)"};
    ${et?`let batchIndices = ${et.offsetToIndices("u32(batch)")};`:""}
    let num_tiles = ${Et?`${Math.ceil(Ut/At)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
    var kStart = ${Et?`i32(globalId.z) * ${Ut}`:"0"};

    var acc : array<array<${j}, colPerThread>, rowPerThread>;

    // Without this initialization strange values show up in acc.
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = 0.0;
      }
    }
    ${Yr}
  }
`},Ac=(o,s,j,et,bt,At=!1)=>{let[Et,Ut,zt]=bt,[It,Qt,Pt,Yt]=et,cr=ar(Et,zt),_r=ar(Ut,zt),vr=ke(et[0].type.tensor),Yr=()=>{let jr=Qt.rank,Hn=It.rank,tA=`var aIndices: ${Qt.type.indices};`;for(let nA=jr-2-1,aA=Hn-1;nA>=0;nA--,aA--)tA+=`
aIndices[${nA}] = ${Hn>1?`batchIndices[${aA}]`:"batchIndices"};`;return cr.forEach(nA=>{tA+=`
aIndices[${nA}] = 0;`}),tA+=`
aIndices[${jr-2}] = u32(row);
                   aIndices[${jr-1}] = u32(colIn);`,tA},Kr=()=>{let jr=Pt.rank,Hn=It.rank,tA=`var bIndices: ${Pt.type.indices};`;for(let nA=jr-2-1,aA=Hn-1;nA>=0;nA--,aA--)tA+=`
bIndices[${nA}] = ${Hn>1?`batchIndices[${aA}]`:"batchIndices"};`;return _r.forEach(nA=>{tA+=`
bIndices[${nA}] = 0;`}),tA+=`
bIndices[${jr-2}] = u32(row);
                   bIndices[${jr-1}] = u32(colIn);`,tA};return`
    fn mm_readA(batch: i32, row: i32, colIn: i32, batchIndices: ${It.type.indices}) -> ${Qe(o,vr)} {
      var value = ${Qe(o,vr)}(0.0);
      let col = colIn * ${o};
      if(row < uniforms.dim_a_outer && col < uniforms.dim_inner)
      {
        ${Yr()}
        value = ${Qt.getByIndices("aIndices")};
      }
      return value;
    }

    fn mm_readB(batch: i32, row: i32, colIn: i32, batchIndices: ${It.type.indices}) -> ${Qe(o,vr)} {
      var value = ${Qe(o,vr)}(0.0);
      let col = colIn * ${o};
      if(row < uniforms.dim_inner && col < uniforms.dim_b_outer)
      {
        ${Kr()}
        value = ${Pt.getByIndices("bIndices")};
      }
      return value;
    }

    fn mm_write(batch: i32, row: i32, colIn: i32, valueIn: ${Qe(o,vr)}) {
      let col = colIn * ${o};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {
        var value = valueIn;
        let coords = vec3<i32>(batch, row, colIn);
        ${s?`value = value + ${At?"bias[colIn]":`${Qe(o,vr)}(bias[row])`};`:""}
        ${j}
        ${Yt.setByIndices("vec3<u32>(coords)","value")}
      }
    }
    `},In=(o,s,j,et,bt=!1)=>{let At=o[0].dims,Et=o[1].dims,Ut=At.slice(0,-2),zt=Et.slice(0,-2),It=et?et.slice(0,-2):j.slice(0,-2),Qt=M.size(It),Pt=At[At.length-2],Yt=At[At.length-1],cr=Et[Et.length-1],_r=Yt%4===0&&cr%4===0,vr=Pt<=8?[4,1,1]:[4,4,1],Yr=[8,8,1],Kr=[Math.ceil(cr/Yr[0]/vr[0]),Math.ceil(Pt/Yr[1]/vr[1]),Math.ceil(Qt/Yr[2]/vr[2])],jr=_r?4:1,Hn=[...Ut,Pt,Yt/jr],tA=Hn.length,nA=[...zt,Yt,cr/jr],aA=nA.length,lA=[Qt,Pt,cr/jr],hA=[{type:6,data:Pt},{type:6,data:cr},{type:6,data:Yt}];gt(s,hA),hA.push(...K(It,Hn,nA));let pA=["rank","rank"],wA=o.length>2;wA&&(hA.push(...K(o[2].dims)),pA.push("rank")),hA.push(...K(lA));let NA=cA=>{let CA=It.length,sA=hn("batchDims",o[0].dataType,CA,1),UA=ke(o[0].dataType),LA=D("a",o[0].dataType,tA,jr),RA=D("b",o[1].dataType,aA,jr),kA=q("result",o[0].dataType,lA.length,jr),OA=[LA,RA];if(wA){let qA=bt?jr:1;OA.push(D("bias",o[2].dataType,o[2].dims.length,qA))}let KA=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"}];yt(s,KA);let yA=ke(kA.type.tensor),TA=ht(s,kA.type.value,yA),r0=Ac(jr,wA,TA,[sA,LA,RA,kA],[Ut,zt,It],bt);return`
  ${cA.registerUniforms(KA).registerInternalVariables(sA).declareVariables(...OA,kA)}
  ${r0}
  ${_r?Tr(vr,Yr,UA,sA):Or(vr,Yr,UA,sA)}
                   `};return{name:"MatMul",shaderCache:{hint:`${vr};${s.activation};${_r};${bt}`,inputDependencies:pA},getRunData:()=>({outputs:[{dims:j,dataType:o[0].dataType}],dispatchGroup:{x:Kr[0],y:Kr[1],z:Kr[2]},programUniforms:hA}),getShaderSource:NA}}}),Tc,Gs,Hs=F$1(()=>{ie(),Dt(),be(),Mt(),Sn(),wa(),kr(),Tc=(o,s,j,et,bt=!1,At,Et=4,Ut=4,zt=4,It="f32")=>{let Qt=pA=>{switch(pA){case 1:return"resData = x[xIndex];";case 3:return`resData = vec3<${It}>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);`;case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${pA} is not supported.`)}},Pt=pA=>{switch(pA){case 1:return"return w[row * i32(uniforms.w_shape[3]) + colIn];";case 4:return"return w[row * i32(uniforms.w_shape[3]) / 4 + colIn];";default:throw new Error(`innerElementSize ${pA} is not supported.`)}},Yt=o?`
    let coord = vec4<i32>(batch, xRow, xCol, xCh);
    `:`
    let coord = vec4<i32>(batch, xCh, xRow, xCol);
    `,cr=o?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,_r=o?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",vr=o?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",Yr=o?"row":"col",Kr=o?"col":"row",jr=`
    let inChannels = i32(uniforms.w_shape[2]);
    let outWidth = ${o?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
    let outRow = ${Yr} / outWidth;
    let outCol = ${Yr} % outWidth;

    let WRow = ${Kr} / (i32(uniforms.w_shape[1]) * inChannels);
    let WCol = ${Kr} / inChannels % i32(uniforms.w_shape[1]);
    let xRow = outRow * uniforms.stride[0] + uniforms.dilation[0] * WRow - uniforms.pad[0];
    let xCol = outCol * uniforms.stride[1] + uniforms.dilation[1] * WCol - uniforms.pad[1];
    let xCh = ${Kr} % inChannels;
    var resData = ${Qe(Et,It)}(0.0);
    // The bounds checking is always needed since we use it to pad zero for
    // the 'same' padding type.
    if (xRow >= 0 && xRow < ${_r} && xCol >= 0 && xCol < ${vr}) {
      ${Yt}
      let xIndex = getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape));
      ${Qt(Et)}
    }
    return resData;`,Hn=o?s&&et?`
    let col = colIn * ${Et};
    ${jr}`:`
    let col = colIn * ${Et};
    if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {
      ${jr}
    }
    return ${Qe(Et,It)}(0.0);`:et&&j?`
    let col = colIn * ${Et};
    ${jr}`:`
    let col = colIn * ${Et};
    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
      ${jr}
    }
    return ${Qe(Et,It)}(0.0);`,tA=`${Pt(Ut)}`,nA=Qe(zt,It),aA=Qe(o?Et:Ut,It),lA=Qe(o?Ut:Et,It),hA=ht(At,nA,It);return`
    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${aA} {
      ${o?Hn:tA}
    }

    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${lA} {
      ${o?tA:Hn}
    }

    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${nA}) {
      let col = colIn * ${zt};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer)
      {
      var value = valueIn;
      let outWidth = ${o?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
      ${cr}
      ${xn(bt)}
      ${hA}
      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
      }
    }`},Gs=(o,s,j,et,bt,At,Et,Ut)=>{let zt=s.format==="NHWC",It=zt?o[0].dims[3]:o[0].dims[1],Qt=j[0],Pt=zt?j[2]:j[3],Yt=zt?j[1]:j[2],cr=zt?j[3]:j[1],_r=zt&&(It%4===0||It%3===0)&&cr%4===0,vr=zt?cr:Pt*Yt,Yr=zt?Pt*Yt:cr,Kr=[8,8,1],jr=et<=8?[4,1,1]:[4,4,1],Hn=[Math.ceil(vr/Kr[0]/jr[0]),Math.ceil(Yr/Kr[1]/jr[1]),Math.ceil(Qt/Kr[2]/jr[2])];De("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${Hn}`);let tA=_r?zt&&It%4!==0?3:4:1,nA=Kr[1]*jr[1],aA=Kr[0]*jr[0],lA=Math.max(Kr[0]*tA,Kr[1]),hA=et%nA===0,pA=bt%aA===0,wA=At%lA===0,NA=_r?[tA,4,4]:[1,1,1],cA=[{type:6,data:et},{type:6,data:bt},{type:6,data:At},{type:6,data:[s.pads[0],s.pads[1]]},{type:6,data:s.strides},{type:6,data:s.dilations}];gt(s,cA),cA.push(...K(o[0].dims,o[1].dims));let CA=["rank","rank"];Et&&(cA.push(...K(o[2].dims)),CA.push("rank")),cA.push(...K(j));let sA=UA=>{let LA=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"pad",type:"i32",length:2},{name:"stride",type:"i32",length:2},{name:"dilation",type:"i32",length:2}];yt(s,LA);let RA=_r?4:1,kA=ke(o[0].dataType),OA=`
      fn setOutputAtIndex(flatIndex : i32, value : ${_r?`vec4<${kA}>`:kA}) {
        result[flatIndex] = ${_r?`vec4<${kA}>`:kA}(value);
      }
      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${_r?`vec4<${kA}>`:kA}) {
        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));
        setOutputAtIndex(flatIndex ${_r?"/ 4":""}, value);
      }`,KA=D("x",o[0].dataType,o[0].dims.length,tA===3?1:tA),yA=D("w",o[1].dataType,o[1].dims.length,RA),TA=[KA,yA],r0=q("result",o[0].dataType,j.length,RA);if(Et){let qA=D("bias",o[2].dataType,o[2].dims.length,RA);TA.push(qA),OA+=`
        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${_r?`vec4<${kA}>`:kA} {
          return bias[coords.${zt?"w":"y"}${_r?"/ 4":""}];
        }`}return`
        ${Cn("uniforms.result_strides")}
        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,
        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,
        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };
        ${UA.registerUniforms(LA).declareVariables(...TA,r0)}
        ${OA}
        ${Tc(zt,hA,pA,wA,Et,s,NA[0],NA[1],NA[2],kA)}
        ${_r?Tr(jr,Kr,kA,void 0,!zt,lA):Or(jr,Kr,kA,void 0,!zt,lA,!1,void 0,Ut)}`};return{name:"Conv2DMatMul",shaderCache:{hint:`${s.cacheKey};${tA};${_r};${hA};${pA};${wA};${nA};${aA};${lA}`,inputDependencies:CA},getRunData:()=>({outputs:[{dims:j,dataType:o[0].dataType}],dispatchGroup:{x:Hn[0],y:Hn[1],z:Hn[2]},programUniforms:cA}),getShaderSource:sA}}}),va,Ls,Fs=F$1(()=>{ie(),_e(),be(),$a(),Mt(),va=(o,s,j)=>{let et=o.length>2,bt=et?"value += b[output_channel];":"",At=o[0].dims,Et=o[1].dims,Ut=Et[0]/s.group,zt=s.format==="NHWC",It=En(At,Et,s.dilations,s.pads,s.strides,zt),Qt=M.size(It),Pt=[{type:12,data:Qt},{type:12,data:s.dilations},{type:12,data:[s.strides[0],s.strides[1]]},{type:12,data:[s.pads[0],s.pads[1]]},{type:12,data:Ut}];gt(s,Pt),Pt.push(...K(At,Et,It));let Yt=["rank","rank"];et&&(Pt.push(...K(o[2].dims)),Yt.push("rank")),Pt.push(...K(It));let cr=_r=>{let vr=q("output",o[0].dataType,It.length),Yr=ke(vr.type.tensor),Kr=ht(s,vr.type.value,Yr),jr=D("x",o[0].dataType,At.length),Hn=D("w",o[1].dataType,Et.length),tA=[jr,Hn];et&&tA.push(D("b",o[2].dataType,o[2].dims));let nA=[{name:"output_size",type:"u32"},{name:"dilations",type:"u32",length:s.dilations.length},{name:"strides",type:"u32",length:2},{name:"pads",type:"u32",length:2},{name:"output_channels_per_group",type:"u32"}];return yt(s,nA),`
  ${_r.registerUniforms(nA).declareVariables(...tA,vr)}

  ${_r.mainStart()}
    ${_r.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let outputIndices = ${vr.offsetToIndices("global_idx")};
    let batch: u32 = outputIndices[0];
    let output_channel: u32 = outputIndices[${zt?3:1}];
    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${zt?1:2}], outputIndices[${zt?2:3}]) * uniforms.strides - uniforms.pads;
    let group_id: u32 = output_channel / uniforms.output_channels_per_group;

    var value: ${vr.type.value} = ${vr.type.value}(0);
    for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[1]; wInChannel++) {
      let input_channel = group_id * uniforms.w_shape[1] + wInChannel;
      for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[2]; wHeight++) {
        let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];

        if (xHeight < 0u || xHeight >= uniforms.x_shape[${zt?1:2}]) {
          continue;
        }

        for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[3]; wWidth++) {
          let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];
          if (xWidth < 0u || xWidth >= uniforms.x_shape[${zt?2:3}]) {
            continue;
          }

          let xVal = ${zt?jr.get("batch","xHeight","xWidth","input_channel"):jr.get("batch","input_channel","xHeight","xWidth")};
          let wVal = ${Hn.get("output_channel","wInChannel","wHeight","wWidth")};
          value += xVal*wVal;
        }
      }
    }
    ${bt}
    ${Kr}
    ${vr.setByOffset("global_idx","value")}
  }`};return{name:"GroupedConv",shaderCache:{hint:s.cacheKey,inputDependencies:Yt},getRunData:()=>({outputs:[{dims:j?j(It):It,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(Qt/64)},programUniforms:Pt}),getShaderSource:cr}},Ls=(o,s,j)=>{let et=o.length>2,bt=Me(j[3]),At=Me(j[2]),Et=M.size(j)/bt/At,Ut=[o[0].dims[0],o[0].dims[1],o[0].dims[2],o[0].dims[3]/bt],zt=[o[1].dims[0],o[1].dims[1],o[1].dims[2],o[1].dims[3]/bt],It=[j[0],j[1],j[2],j[3]/bt],Qt=[{type:12,data:Et},{type:6,data:[s.strides[0],s.strides[1]]},{type:6,data:[s.pads[0],s.pads[1]]}];gt(s,Qt),Qt.push(...K(Ut,zt,It));let Pt=(At-1)*s.strides[1]+zt[1],Yt=cr=>{let _r=q("output",o[0].dataType,It.length,bt),vr=ke(_r.type.tensor),Yr=ht(s,_r.type.value,vr),Kr=D("x",o[0].dataType,Ut.length,bt),jr=D("w",o[1].dataType,zt.length,bt),Hn=[Kr,jr];et&&Hn.push(D("b",o[2].dataType,o[2].dims,bt));let tA=et?"value += b[output_channel];":"",nA=[{name:"output_size",type:"u32"},{name:"strides",type:"i32",length:2},{name:"pads",type:"i32",length:2}];return yt(s,nA),`
  ${cr.registerUniforms(nA).declareVariables(...Hn,_r)}
  ${cr.mainStart()}
    ${cr.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let width0 = uniforms.output_shape[3];
    let output_channel = global_idx % width0;
    var index1 = global_idx / width0;
    let width1 = uniforms.output_shape[2] / ${At}u;
    let col = (index1 % width1) * ${At}u;
    index1 = index1 / width1;
    let row = index1 % uniforms.output_shape[1];
    let batch = index1 / uniforms.output_shape[1];

    let x_corner = vec2<i32>(i32(row), i32(col)) * uniforms.strides - uniforms.pads;

    var x_vals: array<${Kr.type.value}, ${Pt}>;
    var values: array<${_r.type.value}, ${At}>;
    let input_channel = output_channel;
    // Use constant instead of uniform can give better performance for w's height/width.
    for (var w_height: u32 = 0u; w_height < ${zt[0]}; w_height++) {
      let x_height = x_corner.x + i32(w_height);
      if (x_height >= 0 && u32(x_height) < uniforms.x_shape[1]) {
        for (var i = 0; i < ${Pt}; i++) {
          let x_width = x_corner.y + i;
          if (x_width >= 0 && u32(x_width) < uniforms.x_shape[2]) {
            x_vals[i] = ${Kr.get("batch","u32(x_height)","u32(x_width)","input_channel")};
          } else {
            x_vals[i] = ${Kr.type.value}(0);
          }
        }
        for (var w_width: u32 = 0u; w_width < ${zt[1]}; w_width++) {
          let w_val = ${jr.get("w_height","w_width","0","output_channel")};
          for (var i = 0u; i < ${At}u; i++) {
            values[i] = fma(x_vals[i * u32(uniforms.strides[1]) + w_width], w_val, values[i]);
          }
        }
      }
    }

    for (var i = 0u; i < ${At}u; i++) {
      var value = values[i];
      ${tA}
      ${Yr}
      ${_r.set("batch","row","col + i","output_channel","value")};
    }
  }`};return{name:"GroupedConv-Vectorize",shaderCache:{hint:`${s.cacheKey};${bt};${At};${Pt};${zt[0]};${zt[1]}`,inputDependencies:et?["rank","rank","type"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:j,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(Et/64)},programUniforms:Qt}),getShaderSource:Yt}}}),_a,Oc,qs,xa=F$1(()=>{ie(),_e(),kr(),be(),Mt(),_a=(o,s,j,et,bt=!1)=>{let At=o[0].dims,Et=o[1].dims,Ut=At[At.length-2],zt=Et[Et.length-1],It=At[At.length-1],Qt=Me(zt),Pt=Me(It),Yt=Me(Ut),cr=M.size(j)/Qt/Yt,_r=o.length>2,vr=et?et.slice(0,-2):j.slice(0,-2),Yr=[M.size(vr),Ut,zt],Kr=[{type:12,data:cr},{type:12,data:Ut},{type:12,data:zt},{type:12,data:It}];gt(s,Kr),Kr.push(...K(vr,At,Et)),_r&&Kr.push(...K(o[2].dims)),Kr.push(...K(Yr));let jr=Hn=>{let tA=hn("batch_dims",o[0].dataType,vr.length),nA=D("a",o[0].dataType,At.length,Pt),aA=D("b",o[1].dataType,Et.length,Qt),lA=q("output",o[0].dataType,Yr.length,Qt),hA=ke(lA.type.tensor),pA=ht(s,lA.type.value,hA),wA=[nA,aA],NA="";if(_r){let OA=bt?Qt:1;wA.push(D("bias",o[2].dataType,o[2].dims.length,OA)),NA=`${bt?`value += bias[col / ${OA}];`:`value += ${lA.type.value}(bias[row + i]);`}`}let cA=At.slice(0,-2),CA=Et.slice(0,-2),sA=ar(cA,vr),UA=ar(CA,vr),LA=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"}];yt(s,LA);let RA=(OA,KA)=>{let yA=OA.rank,TA=OA.name;if(yA===2)return`var ${TA}_indices = ${OA.type.indices}(0u, 0u);`;let r0=tA.rank,qA=`var ${TA}_indices: ${OA.type.indices};`;for(let XA=yA-2-1,S0=r0-1;XA>=0;XA--,S0--)qA+=`
${TA}_indices[${XA}] = ${r0>1?`batch_indices[${S0}]`:"batch_indices"};`;return KA.forEach(XA=>{qA+=`
${TA}_indices[${XA}] = 0;`}),qA+=`${TA}_indices[${yA-2}] = 0u;
                     ${TA}_indices[${yA-1}] = 0u;`,qA},kA=()=>{let OA=`var a_data: ${nA.type.value};`;for(let KA=0;KA<Pt;KA++)OA+=`
              let b_data${KA} = b[(b_offset + (k + ${KA}) * uniforms.N + col) / ${Qt}];`;for(let KA=0;KA<Yt;KA++){OA+=`a_data = a[(a_offset + (row + ${KA}) * uniforms.K + k) / ${Pt}];`;for(let yA=0;yA<Pt;yA++)OA+=`
            values[${KA}] = fma(${aA.type.value}(a_data${Pt===1?"":`[${yA}]`}), b_data${yA}, values[${KA}]);
`}return OA};return`
  ${Hn.registerUniforms(LA).registerInternalVariables(tA).declareVariables(...wA,lA)}
  ${Hn.mainStart()}
    ${Hn.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let col = (global_idx % (uniforms.N / ${Qt})) * ${Qt};
    var index1 = global_idx / (uniforms.N / ${Qt});
    let stride1 = uniforms.M / ${Yt};
    let row = (index1 % stride1) * ${Yt};
    let batch = index1 / stride1;

    ${j.length===2?"":`let batch_indices = ${tA.offsetToIndices("batch")};`}
    ${RA(nA,sA)}
    let a_offset = ${nA.indicesToOffset("a_indices")};
    ${RA(aA,UA)}
    let b_offset = ${aA.indicesToOffset("b_indices")};
    var values: array<${lA.type.value}, ${Yt}>;
    for (var k: u32 = 0u; k < uniforms.K; k = k + ${Pt}) {
      ${kA()}
    }
    for (var i = 0u; i < ${Yt}u; i++) {
      var value = values[i];
      ${NA}
      ${pA}
      let cur_indices = ${lA.type.indices}(batch, row + i, col);
      let offset = ${lA.indicesToOffset("cur_indices")};
      ${lA.setByOffset(`offset / ${Qt}`,"value")};
    }
  }
  `};return{name:"MatMulNaive",shaderCache:{hint:`${s.activation};${Qt};${Pt};${Yt};${bt}`,inputDependencies:_r?["rank","rank","rank"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:j,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(cr/64)},programUniforms:Kr}),getShaderSource:jr}},Oc=o=>{if(!o||o.length!==2)throw new Error("MatMul requires 2 inputs.");if(o[0].dims[o[0].dims.length-1]!==o[1].dims[o[1].dims.length-2])throw new Error("shared dimension does not match.")},qs=o=>{Oc(o.inputs);let s=vt.calcShape(o.inputs[0].dims,o.inputs[1].dims,!0);if(!s)throw new Error("Can't use matmul on the given tensors");let j=s[s.length-1],et=o.inputs[0].dims[o.inputs[0].dims.length-1];j<8&&et<8?o.compute(_a(o.inputs,{activation:""},s)):o.compute(In(o.inputs,{activation:""},s))}}),En,Sa,kc,js,Ca,Pc,Rc,Ia,$a=F$1(()=>{_e(),Hs(),kr(),Fs(),Mt(),xa(),ir(),En=(o,s,j,et,bt,At)=>{let Et=o[0],Ut=o.slice(At?1:2,At?3:4),zt=Ut.length,It=s[0],Qt=s.slice(2).map((Yt,cr)=>Yt+(Yt-1)*(j[cr]-1)),Pt=Ut.map((Yt,cr)=>Yt+et[cr]+et[cr+zt]).map((Yt,cr)=>Math.floor((Yt-Qt[cr]+bt[cr])/bt[cr]));return Pt.splice(0,0,Et),Pt.splice(At?3:1,0,It),Pt},Sa=[2,3,1,0],kc=(o,s)=>{if(!o||o.length!==2&&o.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(o[0].dims.length!==4&&o[0].dims.length!==3)throw new Error("currently only support conv 1D and 2D");if(o[0].dims.length!==o[1].dims.length)throw new Error("filter does not have same dimension as input");let j=o[0].dims[s.format==="NHWC"?o[0].dims.length-1:1],et=o[1].dims[1]*s.group;if(j!==et)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(o.length===3&&(o[2].dims.length!==1||o[1].dims[0]!==o[2].dims[0]))throw new Error("invalid bias");let bt=o[0].dims.length-2;if(s.dilations.length!==bt)throw new Error(`dilations should be ${bt}D`);if(s.strides.length!==bt)throw new Error(`strides should be ${bt}D`);if(s.pads.length!==bt*2)throw new Error(`pads should be ${bt*2}D`);if(s.kernelShape.length!==0&&s.kernelShape.length!==o[1].dims.length-2)throw new Error("invalid kernel shape")},js=(o,s)=>{let j=o.kernelShape.slice();for(let At=2;At<s[1].dims.length;++At)j[At-2]===0&&(j[At-2]=s[1].dims[At]);let et=o.pads.slice();qt.adjustPadsBasedOnAutoPad(s[0].dims,o.strides,o.dilations,j,et,o.format==="NHWC",o.autoPad);let bt=Object.assign({},o);return Object.assign(bt,{kernelShape:j,pads:et}),bt},Ca=o=>{let s=_n(o),j=o.format,et=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][o.auto_pad],bt=o.dilations,At=o.group,Et=o.kernel_shape,Ut=o.pads,zt=o.strides,It=o.w_is_const();return{autoPad:et,format:j,dilations:bt,group:At,kernelShape:Et,pads:Ut,strides:zt,wIsConst:It,...s,cacheKey:`${o.format};${s.activation};`}},Pc=(o,s,j)=>{let et=js(j,s),bt=j.format==="NHWC";if(j.group!==1){if(!o.adapterInfo.isArchitecture("ampere")&&bt&&s[1].dims[0]===j.group&&s[1].dims[1]===1&&j.dilations[0]===1&&j.dilations[1]===1){let aA=En(s[0].dims,s[1].dims,j.dilations,et.pads,j.strides,bt),lA=o.kernelCustomData.wT??o.compute(dt(s[1],Sa),{inputs:[1],outputs:[j.wIsConst?-2:-1]})[0];j.wIsConst&&!o.kernelCustomData.wT&&(o.kernelCustomData.wT=lA);let hA=[s[0],lA];s.length===3&&hA.push(s[2]),o.compute(Ls(hA,et,aA),{inputs:hA})}else o.compute(va(s,et));return}let At=s.length===3,Et=s[0].dims[bt?1:2],Ut=s[0].dims[bt?2:3],zt=s[0].dims[bt?3:1],It=s[1].dims[2],Qt=s[1].dims[3],Pt=En(s[0].dims,s[1].dims,j.dilations,et.pads,j.strides,bt),Yt=Pt[bt?1:2],cr=Pt[bt?2:3],_r=Pt[bt?3:1],vr=bt&&It===Et&&Qt===Ut&&j.pads[0]===0&&j.pads[1]===0;if(vr||It===1&&Qt===1&&j.dilations[0]===1&&j.dilations[1]===1&&j.strides[0]===1&&j.strides[1]===1&&j.pads[0]===0&&j.pads[1]===0){let aA=Pt[0],lA,hA,pA,wA=[];if(bt){let CA=o.kernelCustomData.wT??o.compute(dt(s[1],Sa),{inputs:[1],outputs:[j.wIsConst?-2:-1]})[0];if(j.wIsConst&&!o.kernelCustomData.wT&&(o.kernelCustomData.wT=CA),vr){let sA=Et*Ut*zt;lA=s[0].reshape([1,aA,sA]),hA=CA.reshape([1,sA,_r]),pA=[1,aA,_r]}else lA=s[0].reshape([aA,Et*Ut,zt]),hA=CA.reshape([1,zt,_r]),pA=[aA,Yt*cr,_r];wA.push(lA),wA.push(hA)}else lA=s[0].reshape([aA,zt,Et*Ut]),hA=s[1].reshape([1,_r,zt]),pA=[aA,_r,Yt*cr],wA.push(hA),wA.push(lA);At&&wA.push(s[2]);let NA=pA[2],cA=wA[0].dims[wA[0].dims.length-1];NA<8&&cA<8?o.compute(_a(wA,et,Pt,pA,bt),{inputs:wA}):o.compute(In(wA,et,Pt,pA,bt),{inputs:wA});return}let Yr=!0,Kr=o.kernelCustomData.wT??o.compute(dt(s[1],Sa),{inputs:[1],outputs:[j.wIsConst?-2:-1]})[0];j.wIsConst&&!o.kernelCustomData.wT&&(o.kernelCustomData.wT=Kr);let jr=[s[0],Kr];At&&jr.push(s[2]);let Hn=bt?Yt*cr:_r,tA=bt?_r:Yt*cr,nA=It*Qt*zt;o.compute(Gs(jr,et,Pt,Hn,tA,nA,At,Yr),{inputs:jr})},Rc=(o,s)=>{let j=s.format==="NHWC",et=[o.inputs[0].reshape(j?[o.inputs[0].dims[0],1,o.inputs[0].dims[1],o.inputs[0].dims[2]]:[o.inputs[0].dims[0],o.inputs[0].dims[1],1,o.inputs[0].dims[2]]),o.inputs[1].reshape([o.inputs[1].dims[0],o.inputs[1].dims[1],1,o.inputs[1].dims[2]])];o.inputs.length===3&&et.push(o.inputs[2]);let bt=[0,s.pads[0],0,s.pads[1]],At=[1].concat(s.strides),Et=[1].concat(s.dilations),Ut=[1].concat(s.kernelShape),zt=js({...s,pads:bt,strides:At,dilations:Et,kernelShape:Ut},et);o.compute(va(et,zt,It=>j?[It[0],It[2],It[3]]:[]))},Ia=(o,s)=>{kc(o.inputs,s),o.inputs[0].dims.length===3?Rc(o,s):Pc(o,o.inputs,s)}}),zc,Ks,Ys=F$1(()=>{ie(),Dt(),be(),Mt(),Sn(),wa(),kr(),zc=(o,s=!1,j,et,bt=4)=>{let At=Yr=>{switch(Yr){case 1:return"return w[getIndexFromCoords4D(coord, vec4<i32>(uniforms.w_shape))];";case 4:return`
            let coord1 = vec4<i32>(coordX, coordY, col + 1, rowInner);
            let coord2 = vec4<i32>(coordX, coordY, col + 2, rowInner);
            let coord3 = vec4<i32>(coordX, coordY, col + 3, rowInner);
            let v0 = w[getIndexFromCoords4D(coord, vec4<i32>(uniforms.w_shape))];
            let v1 = w[getIndexFromCoords4D(coord1, vec4<i32>(uniforms.w_shape))];
            let v2 = w[getIndexFromCoords4D(coord2, vec4<i32>(uniforms.w_shape))];
            let v3 = w[getIndexFromCoords4D(coord3, vec4<i32>(uniforms.w_shape))];
            return ${et}(v0, v1, v2, v3);
            `;default:throw new Error(`innerElementSize ${Yr} is not supported.`)}},Et=o?`
      let coord = vec4<i32>(batch, iXR, iXC, xCh);
      `:`
      let coord = vec4<i32>(batch, xCh, iXR, iXC);
      `,Ut=o?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,zt=o?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",It=o?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",Qt=o?"row":"col",Pt=o?"col":"row",Yt=`
      let inChannels = ${o?"i32(uniforms.x_shape[3])":"i32(uniforms.x_shape[1])"};
      let outWidth = ${o?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
      let outRow = ${Qt} / outWidth;
      let outCol = ${Qt} % outWidth;

      let WRow = ${Pt} / (uniforms.filter_dims[1] * inChannels);
      let WCol = ${Pt} / inChannels % uniforms.filter_dims[1];
      let xR = f32(outRow - uniforms.pads[0] + uniforms.dilations[0] * WRow) / f32(uniforms.strides[0]);
      let xC = f32(outCol - uniforms.pads[1] + uniforms.dilations[1] * WCol) / f32(uniforms.strides[1]);
      if (xR < 0.0 || xR >= f32(${zt}) || fract(xR) > 0.0) {
        return ${et}(0.0);
      }
      if (xC < 0.0 || xC >= f32(${It}) || fract(xC) > 0.0) {
        return ${et}(0.0);
      }
      let iXR = i32(xR);
      let iXC = i32(xC);
      let xCh = ${Pt} % inChannels;
      ${Et}
      return x[getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape))/${bt}];`,cr=o?`
      let col = colIn * ${bt};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {
        ${Yt}
      }
      return ${et}(0.0);`:`
      let col = colIn * ${bt};
      if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
        ${Yt}
      }
      return ${et}(0.0);`,_r=`
      let col = colIn * ${bt};
      let inChannels = ${o?"i32(uniforms.x_shape[3])":"i32(uniforms.x_shape[1])"};
      let coordX = uniforms.filter_dims[0] - 1 - row / (uniforms.filter_dims[1] * inChannels);
      let coordY = uniforms.filter_dims[1] - 1 - (row / inChannels) % uniforms.filter_dims[1];
      if (${o?"row < uniforms.dim_inner && col < uniforms.dim_b_outer":"row < uniforms.dim_inner && col < uniforms.dim_a_outer"}  && coordX >= 0 && coordY >= 0) {
        let rowInner = row % inChannels;
        let coord = vec4<i32>(coordX, coordY, col, rowInner);
        ${At(bt)}
      }
      return ${et}(0.0);
      `,vr=ht(j,et);return`
  fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${et} {
    ${o?cr:_r}
  }

  fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${et} {
    ${o?_r:cr}
  }

  fn mm_write(batch: i32, row : i32, colIn : i32, valueInput : ${et}) {
    let col = colIn * ${bt};
    if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {
      var value = valueInput;
      let outWidth = ${o?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
      ${Ut}
      ${xn(s)}
      ${vr}
      result[getIndexFromCoords4D(coords, vec4<i32>(uniforms.result_shape))/${bt}] = value;
    }
  }`},Ks=(o,s,j,et,bt,At,Et,Ut)=>{let zt=s.format==="NHWC",It=zt?o[0].dims[3]:o[0].dims[1],Qt=j[0],Pt=zt?j[2]:j[3],Yt=zt?j[1]:j[2],cr=zt?j[3]:j[1],_r=zt?It%4===0&&cr%4===0:Pt%4===0&&cr%4===0,vr=zt?cr:Pt*Yt,Yr=zt?Pt*Yt:cr,Kr=_r?[8,8,1]:[vr<=4||Yr<=4?4:16,vr>4&&Yr<=4?4:16,1],jr=_r?[4,4,1]:[vr<=4?1:4,vr>4&&Yr<=4?1:4,1],Hn=[Math.ceil(vr/Kr[0]/jr[0]),Math.ceil(Yr/Kr[1]/jr[1]),Math.ceil(Qt/Kr[2]/jr[2])];De("verbose",()=>`[conv_backprop_mm_webgpu] dispatch = ${Hn}`);let tA=_r?4:1,nA=Math.max(Kr[0]*tA,Kr[1]),aA=_r?4:1,lA=[s.kernelShape[zt?1:2],s.kernelShape[zt?2:3]],hA=[lA[0]+(s.dilations[0]<=1?0:(lA[0]-1)*(s.dilations[0]-1)),lA[1]+(s.dilations[1]<=1?0:(lA[1]-1)*(s.dilations[1]-1))],pA=[hA[0]-1-Math.floor((s.pads[0]+s.pads[2])/2),hA[1]-1-Math.floor((s.pads[1]+s.pads[3])/2)],wA=[{type:6,data:et},{type:6,data:bt},{type:6,data:At},{type:6,data:s.strides},{type:6,data:s.dilations},{type:6,data:lA},{type:6,data:pA}];gt(s,wA),wA.push(...K(o[0].dims,o[1].dims));let NA=["rank","rank"];Et&&(wA.push(...K(o[2].dims)),NA.push("rank")),wA.push(...K(j));let cA=CA=>{let sA=D("x",o[0].dataType,o[0].dims.length,aA),UA=D("w",o[1].dataType,o[1].dims.length,1),LA=q("result",o[0].dataType,j.length,aA),RA=[sA,UA],kA="";if(Et){let yA=D("bias",o[2].dataType,o[2].dims.length,aA);RA.push(yA),kA+=`
          fn getBiasByOutputCoords(coords : vec4<i32>) -> ${yA.type.value} {
            return bias[coords.${zt?"w":"y"}${_r?"/ 4":""}];
          }`}let OA=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"strides",type:"i32",length:2},{name:"dilations",type:"i32",length:2},{name:"filter_dims",type:"i32",length:lA.length},{name:"pads",type:"i32",length:pA.length}];yt(s,OA);let KA=ke(o[0].dataType,1);if(KA!=="f16"&&KA!=="f32")throw new Error(`elemType ${KA} is not supported.`);return`
        ${Cn("uniforms.result_strides")}
        ${CA.registerUniforms(OA).declareVariables(...RA,LA)};
        ${kA}
        ${zc(zt,Et,s,sA.type.value,tA)}
        ${_r?Tr(jr,Kr,KA,void 0,!zt,nA):Or(jr,Kr,KA,void 0,!zt,nA,!1,void 0,Ut)}`};return{name:"Conv2DTransposeMatMul",shaderCache:{hint:`${s.cacheKey};${jr};${Kr};${_r}`,inputDependencies:NA},getRunData:()=>({outputs:[{dims:j,dataType:o[0].dataType}],dispatchGroup:{x:Hn[0],y:Hn[1],z:Hn[2]},programUniforms:wA}),getShaderSource:cA}}}),Bc,Ea,Zs=F$1(()=>{ie(),Dt(),_e(),be(),Bc=(o,s,j,et,bt,At=!1,Et,Ut,zt=!1)=>{let It=zt?1:2,Qt=zt?2:3,Pt=zt?3:1,Yt=At?2:1,cr=`
  fn setOutputAtIndex(flatIndex : u32, value : ${At?`vec4<${Et}>`:Et}) {
    result[flatIndex] = ${At?`vec4<${Et}>`:Et}(value);
  }`;et&&(cr+=`
    fn getBiasByOutputCoords(coords : vec4<u32>) -> ${At?`vec4<${Et}>`:Et} {
      return bias[coords.${zt?"w":"y"}${At?"/ 4":""}];
    }`);let _r=At?4:1,vr=D("W",s[1].dataType,s[1].dims.length,_r),Yr=D("Dy",s[0].dataType,s[0].dims.length,_r),Kr=[Yr,vr];et&&Kr.push(D("bias",s[2].dataType,[j[Pt]].length,_r));let jr=q("result",s[0].dataType,j.length,_r),Hn=`{
        let batch: u32 = ${bt?"global_id.z":"workgroup_id.z"} / uniforms.result_shape[1];
        let r = ${bt?"global_id.z":"workgroup_id.z"} % uniforms.result_shape[1];
        let c = ${bt?"global_id.y":"workgroup_id.y"} * ${Yt};
        let d1: u32 = ${bt?"global_id.x":"workgroup_id.x"} * 4;

        let dyCorner = vec2<i32>(i32(r), i32(c)) - vec2<i32>(uniforms.pads);

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        var dotProd: array<vec4<${Et}>, ${Yt}>;
        for (var i = 0; i < ${Yt}; i++) {
          dotProd[i] = vec4<${Et}>(0.0);
        }
        for (var wR: u32 = 0; wR < uniforms.filter_dims[0]; wR = wR + 1) {
          var dyR = (${Et}(dyCorner.x) + ${Et}(wR)) / ${Et}(uniforms.strides.x);
          let wRPerm = uniforms.filter_dims[0] - 1 - wR;
          if (dyR < 0.0 || dyR >= ${Et}(uniforms.Dy_shape[1]) ||
              fract(dyR) > 0.0 || wRPerm < 0) {
            continue;
          }
          let idyR: u32 = u32(dyR);

          for (var wC: u32 = 0; wC < uniforms.filter_dims[1]; wC = wC + 1) {
            let dyC = (${Et}(dyCorner.y) + ${Et}(wC)) / ${Et}(uniforms.strides.y);
            let dyC2 = (${Et}(dyCorner.y) + 1.0 + ${Et}(wC)) / ${Et}(uniforms.strides.y);
            let wCPerm = uniforms.filter_dims[1] - 1 - wC;
            if (wCPerm < 0) {
              continue;
            }
            var bDyCVal = true;
            var bDyCVal2 = true;
            if (dyC < 0.0 || dyC >= ${Et}(uniforms.Dy_shape[2]) ||
                fract(dyC) > 0.0) {
              bDyCVal = false;
            }
            if (dyC2 < 0.0 || dyC2 >= ${Et}(uniforms.Dy_shape[2]) ||
                fract(dyC2) > 0.0) {
              bDyCVal2 = false;
            }

            let idyC: u32 = u32(dyC);
            let idyC2: u32 = u32(dyC2);
            if (bDyCVal && bDyCVal2) {
              let d2Length = uniforms.Dy_shape[3];
              for (var d2 :u32 = 0; d2 < d2Length; d2 = d2 + 4) {
                let wValue0 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1","d2")};
                let wValue1 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1 + 1","d2")};
                let wValue2 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1 + 2","d2")};
                let wValue3 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1 + 3","d2")};

                var xValue = ${Yr.get("batch","idyR","idyC","d2")};
                let tmpval = vec4<${Et}>(dot(xValue, wValue0),
                                      dot(xValue, wValue1),
                                      dot(xValue, wValue2),
                                      dot(xValue, wValue3));
                dotProd[0] = dotProd[0] + tmpval;

                xValue =  ${Yr.get("batch","idyR","idyC2","d2")};

                dotProd[1] = dotProd[1] + vec4<${Et}>(dot(xValue, wValue0),
                                                    dot(xValue, wValue1),
                                                    dot(xValue, wValue2),
                                                    dot(xValue, wValue3));
              }
            } else if (bDyCVal) {
              let d2Length = uniforms.Dy_shape[${Pt}];
              for (var d2: u32 = 0; d2 < d2Length; d2 = d2 + 4) {
                let wValue0 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1","d2")};
                let wValue1 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1 + 1","d2")};
                let wValue2 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1 + 2","d2")};
                let wValue3 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1 + 3","d2")};

                var xValue = ${Yr.get("batch","idyR","idyC","d2")};
                let tmpval = vec4<${Et}>(dot(xValue, wValue0),
                                      dot(xValue, wValue1),
                                      dot(xValue, wValue2),
                                      dot(xValue, wValue3));
                dotProd[0] = dotProd[0] + tmpval;
              }
            } else if (bDyCVal2) {
              let d2Length = uniforms.Dy_shape[3];
              for (var d2: u32 = 0; d2 < d2Length; d2 = d2 + 4) {
                let wValue0 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1","d2")};
                let wValue1 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1 + 1","d2")};
                let wValue2 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1 + 2","d2")};
                let wValue3 = ${vr.get("u32(wRPerm)","u32(wCPerm)","d1 + 3","d2")};

                var xValue = ${Yr.get("batch","idyR","idyC2","d2")};
                let tmpval = vec4<${Et}>(dot(xValue, wValue0),
                                      dot(xValue, wValue1),
                                      dot(xValue, wValue2),
                                      dot(xValue, wValue3));
                dotProd[1] = dotProd[1] + tmpval;
              }
            }
          }
        }

        for (var i: u32 = 0; i < ${Yt}; i = i + 1) {
          let value = dotProd[i] + ${et?"bias[c+i]":`vec4<${Et}>(0.0)`};
          ${jr.set("batch","r","c + i","d1","value")};
        }
      }`,tA=`
          let outputIndices = ${jr.offsetToIndices("global_idx")};
          let batch = ${jr.indicesGet("outputIndices",0)};
          let d1 = ${jr.indicesGet("outputIndices",Pt)};
          let r = ${jr.indicesGet("outputIndices",It)};
          let c = ${jr.indicesGet("outputIndices",Qt)};
          let dyCorner = vec2<i32>(i32(r), i32(c)) - uniforms.pads;
          let dyRCorner = dyCorner.x;
          let dyCCorner = dyCorner.y;
          let groupId = d1 / uniforms.output_channels_per_group;
          let wOutChannel = d1 - groupId * uniforms.output_channels_per_group;
          // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
          // ? = to be determined. : = across all values in that axis.
          var dotProd = ${Et}(0.0);
          for (var wR: u32 = 0; wR < uniforms.effective_filter_dims.x; wR = wR + 1) {
            if (wR % uniforms.dilations.x != 0) {
              continue;
            }
            let dyR = (${Et}(dyRCorner) + ${Et}(wR)) / ${Et}(uniforms.strides[0]);
            let wRPerm = uniforms.filter_dims.x - 1 - wR / uniforms.dilations.x;
            if (dyR < 0.0 || dyR >= ${Et}(uniforms.Dy_shape[${It}]) || fract(dyR) > 0.0 ||
                wRPerm < 0) {
              continue;
            }
            let idyR: u32 = u32(dyR);

            for (var wC: u32 = 0; wC < uniforms.effective_filter_dims.y; wC = wC + 1) {
              if (wC % uniforms.dilations.y != 0) {
                continue;
              }
              let dyC = (${Et}(dyCCorner) + ${Et}(wC)) / ${Et}(uniforms.strides.y);
              let wCPerm = uniforms.filter_dims.y - 1 - wC / uniforms.dilations.y;
              if (dyC < 0.0 || dyC >= ${Et}(uniforms.Dy_shape[${Qt}]) ||
                  fract(dyC) > 0.0 || wCPerm < 0) {
                continue;
              }
              let idyC: u32 = u32(dyC);
              var inputChannel = groupId * uniforms.input_channels_per_group;
              for (var d2: u32 = 0; d2 < uniforms.input_channels_per_group; d2 = d2 + 1) {
                let xValue = ${zt?Yr.get("batch","idyR","idyC","inputChannel"):Yr.get("batch","inputChannel","idyR","idyC")};
                let wValue = ${vr.get("inputChannel","wOutChannel","u32(wRPerm)","u32(wCPerm)")};
                dotProd = dotProd + xValue * wValue;
                inputChannel = inputChannel + 1;
              }
            }
          }
          let value = dotProd + ${et?"bias[d1]":`${Et}(0.0)`};
          ${jr.setByOffset("global_idx","value")};
        `;return`
  ${o.registerUniforms(Ut).declareVariables(...Kr,jr)}
  ${cr}

    ${o.mainStart()}
    ${o.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")};
  ${At?Hn:tA}}`},Ea=(o,s,j)=>{let et=o.length>2,bt=s.outputShape,At=M.size(bt),Et=[Math.ceil(At/64),1,1];De("verbose",()=>`[conv2d_backprop_webgpu] dispatch = ${Et}`);let Ut=s.format==="NHWC",zt=["rank","rank"],It=[s.strides[0],s.strides[1]],Qt=[s.kernelShape[Ut?1:2],s.kernelShape[Ut?2:3]],Pt=[s.dilations[0],s.dilations[1]],Yt=[Qt[0]+(s.dilations[0]<=1?0:(s.kernelShape[Ut?1:2]-1)*(s.dilations[0]-1)),Qt[1]+(s.dilations[1]<=1?0:(s.kernelShape[Ut?2:3]-1)*(s.dilations[1]-1))],cr=[Yt[0]-1-Math.floor((s.pads[0]+s.pads[2])/2),Yt[1]-1-Math.floor(s.pads[1]+s.pads[3])/2],_r=!1,vr=s.group,Yr=o[1].dims,Kr=Yr[0]/vr,jr=Yr[1],Hn=[{type:6,data:At},{type:12,data:It},{type:12,data:Qt},{type:12,data:Pt},{type:12,data:Yt},{type:6,data:cr},{type:12,data:Kr},{type:12,data:jr},...K(o[0].dims,o[1].dims)];et&&(Hn.push(...K(o[2].dims)),zt.push("rank")),Hn.push(...K(bt));let tA=Et[1]===1&&Et[2]===1,nA=aA=>{let lA=[{name:"output_size",type:"u32"},{name:"strides",type:"u32",length:It.length},{name:"filter_dims",type:"u32",length:Qt.length},{name:"dilations",type:"u32",length:Qt.length},{name:"effective_filter_dims",type:"u32",length:Yt.length},{name:"pads",type:"i32",length:cr.length},{name:"input_channels_per_group",type:"u32"},{name:"output_channels_per_group",type:"u32"}],hA=ke(o[0].dataType);return`${Bc(aA,o,bt,et,tA,_r,hA,lA,Ut)}`};return{name:"ConvTranspose2D",shaderCache:{hint:`${s.cacheKey};`,inputDependencies:zt},getRunData:()=>({dispatchGroup:{x:Et[0],y:Et[1],z:Et[2]},outputs:[{dims:j?j(bt):bt,dataType:o[0].dataType}],programUniforms:Hn}),getShaderSource:nA}}}),Dc,Mc,Uc,Xs,Qs,Nc,Wc,Vc,Gc,Js,eu=F$1(()=>{Ys(),Zs(),Mt(),ir(),Dc=(o,s,j,et,bt,At)=>(o-1)*s+j+(et-1)*bt+1-At,Mc=(o,s,j,et,bt)=>{let At=Math.floor(o/2);s==="SAME_UPPER"?(j[et]=At,j[bt]=o-At):s==="SAME_LOWER"&&(j[et]=o-At,j[bt]=At)},Uc=(o,s,j,et,bt,At,Et,Ut,zt,It)=>{let Qt=o.length-2,Pt=It.length===0;if(zt.length===0)for(let _r=0;_r<Qt;++_r)zt.push(0);let Yt=o[0],cr=s[Ut?3:1]*bt;for(let _r=0,vr=o.length-Qt-(Ut?1:0);_r<Qt;++_r,++vr){let Yr=o[vr],Kr=Pt?Yr*Et[_r]:It[_r],jr=Dc(Yr,Et[_r],At[_r],s[vr],j[_r],Kr);Mc(jr,et,At,_r,_r+Qt),Pt&&It.push(Et[_r]*(Yr-1)+zt[_r]+(s[vr]-1)*j[_r]+1-At[_r]-At[_r+Qt])}It.splice(0,0,Yt),It.splice(Ut?3:1,0,cr)},Xs=(o,s)=>{let j=o.kernelShape.slice();if(o.kernelShape.length===0||o.kernelShape.reduce((Pt,Yt)=>Pt*Yt,1)===0){j.length=0;for(let Pt=2;Pt<s[1].dims.length;++Pt)j.push(s[1].dims[Pt])}let et=o.format==="NHWC";j.splice(0,0,s[1].dims[0]),j.splice(et?3:1,0,s[1].dims[1]);let bt=o.pads.slice(),At=o.outputShape.slice(),Et=o.outputPadding.slice(),Ut=s[0].dims,zt=o.dilations.slice();if(zt.reduce((Pt,Yt)=>Pt+Yt,0)===0){let Pt=s[0].dims.length-2;zt=new Array(Pt).fill(1)}let It=o.strides.slice();if(It.reduce((Pt,Yt)=>Pt+Yt,0)===0){let Pt=s[0].dims.length-2;It=new Array(Pt).fill(1)}Uc(Ut,j,zt,o.autoPad,o.group,bt,It,et,Et,At);let Qt=Object.assign({},o);return Object.assign(Qt,{kernelShape:j,pads:bt,outputPadding:Et,outputShape:At,dilations:zt,strides:It}),Qt},Qs=o=>{let s=_n(o),j=o.format,et=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][typeof o.autoPad>"u"?0:o.autoPad],bt=o.dilations,At=o.group,Et=o.kernelShape,Ut=o.pads,zt=o.strides,It=o.wIsConst(),Qt=o.outputPadding,Pt=o.outputShape;return{autoPad:et,format:j,dilations:bt,group:At,kernelShape:Et,outputPadding:Qt,outputShape:Pt,pads:Ut,strides:zt,wIsConst:It,...s,cacheKey:`${o.format};${s.activation};`}},Nc=(o,s)=>{if(!o||o.length!==2&&o.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(o[0].dims.length!==4&&o[0].dims.length!==3)throw new Error("currently only support 2-dimensional conv");if(o[0].dims.length!==o[1].dims.length)throw new Error("filter does not have same dimension as input");let j=o[0].dims[s.format==="NHWC"?o[0].dims.length-1:1],et=o[1].dims[0];if(j!==et)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let bt=o[1].dims[1]*s.group;if(o.length===3&&(o[2].dims.length!==1||o[2].dims[0]!==bt))throw new Error("invalid bias");let At=o[0].dims.length-2;if(s.dilations.reduce((Et,Ut)=>Et+Ut,0)>0&&s.dilations.length!==At)throw new Error(`dilations should be ${At}D`);if(s.strides.reduce((Et,Ut)=>Et+Ut,0)>0&&s.strides.length!==At)throw new Error(`strides should be ${At}D`);if(s.pads.reduce((Et,Ut)=>Et+Ut,0)>0&&s.pads.length!==At*2)throw new Error(`pads should be ${At*2}D`);if(s.outputPadding.length!==At&&s.outputPadding.length!==0)throw new Error(`output_padding should be ${At}D`);if(s.kernelShape.reduce((Et,Ut)=>Et+Ut,0)>0&&s.kernelShape.length!==0&&s.kernelShape.length!==o[1].dims.length-2)throw new Error("invalid kernel shape");if(s.outputShape.length!==0&&s.outputShape.length!==o[0].dims.length-2)throw new Error("invalid output shape")},Wc=[2,3,1,0],Vc=(o,s,j)=>{let et=Xs(j,s),bt=j.format==="NHWC",At=et.outputShape,Et=At[bt?3:1],Ut=s[0].dims[bt?3:1];if(et.group!==1||Et===1&&Ut===1){o.compute(Ea(s,et));return}let zt=At[bt?1:2],It=At[bt?2:3],Qt=s[1].dims[2],Pt=s[1].dims[3],Yt=bt?zt*It:Et,cr=bt?Et:zt*It,_r=Qt*Pt*Ut,vr=!0,Yr=o.kernelCustomData.wT??o.compute(dt(s[1],Wc),{inputs:[1],outputs:[j.wIsConst?-2:-1]})[0];j.wIsConst&&!o.kernelCustomData.wT&&(o.kernelCustomData.wT=Yr);let Kr=[s[0],Yr],jr=s.length===3;jr&&(!bt&&s[2].dims.length===1?Kr.push(s[2].reshape([s[2].dims[0],1,1])):Kr.push(s[2])),o.compute(Ks(Kr,et,At,Yt,cr,_r,jr,vr),{inputs:Kr})},Gc=(o,s)=>{let j=s.format==="NHWC",et=[o.inputs[0].reshape(j?[o.inputs[0].dims[0],1,o.inputs[0].dims[1],o.inputs[0].dims[2]]:[o.inputs[0].dims[0],o.inputs[0].dims[1],1,o.inputs[0].dims[2]]),o.inputs[1].reshape([o.inputs[1].dims[0],o.inputs[1].dims[1],1,o.inputs[1].dims[2]])];et.length===3&&et.push(o.inputs[2]);let bt=s.kernelShape;(bt.length===0||bt[0]===0)&&(bt=[o.inputs[1].dims[2]]);let At=s.dilations;(At.length===0||At[0]===0)&&(At=[1]);let Et=s.strides;(Et.length===0||Et[0]===0)&&(Et=[1]);let Ut=s.pads;Ut.length===0&&(Ut=[0,0]),Ut=[0,Ut[0],0,Ut[1]],Et=[1].concat(Et),At=[1].concat(At),bt=[1].concat(bt);let zt=Xs({...s,pads:Ut,strides:Et,dilations:At,kernelShape:bt},et);o.compute(Ea(et,zt,It=>j?[It[0],It[2],It[3]]:[It[0],It[1],It[3]]))},Js=(o,s)=>{Nc(o.inputs,s),o.inputs[0].dims.length===3?Gc(o,s):Vc(o,o.inputs,s)}}),Hc,tu,ru,nu=F$1(()=>{ie(),_e(),Ye(),be(),Hc=(o,s,j,et)=>{let bt=M.size(s),At=s.length,Et=D("input",o,At),Ut=q("output",o,At),zt=j.dataType===6?j.getInt32Array()[0]:Number(j.getBigInt64Array()[0]),It=M.normalizeAxis(zt,At),Qt=Pt=>{let Yt=` i32(${Et.indicesGet("inputIndices","uniforms.axis")}) `,cr=re("uniforms.input_shape","uniforms.axis",At),_r=et.reverse?Yt+(et.exclusive?" + 1":""):"0",vr=et.reverse?cr:Yt+(et.exclusive?"":" + 1");return`
                ${Pt.registerUniform("outputSize","u32").registerUniform("axis","u32").declareVariables(Et,Ut)}
                ${Pt.mainStart()}
                  ${Pt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
                  var inputIndices = ${Ut.offsetToIndices("global_idx")};
                  var sum = ${Ut.type.value}(0);
                  let first : i32 = ${_r};
                  let last : i32 = ${vr};
                  for (var i : i32 = first; i < last; i++) {
                    ${Et.indicesSet("inputIndices","uniforms.axis","u32(i)")};
                    sum = sum + ${Et.getByIndices("inputIndices")};
                  }
                  ${Ut.setByOffset("global_idx","sum")};
                }`};return{name:"CumSum",shaderCache:{hint:et.cacheKey,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:s,dataType:o}],dispatchGroup:{x:Math.ceil(bt/64)},programUniforms:[{type:12,data:bt},{type:6,data:It},...K(s,s)]}),getShaderSource:Qt}},tu=(o,s)=>{let j=o.inputs[0].dims,et=o.inputs[0].dataType,bt=o.inputs[1];o.compute(Hc(et,j,bt,s),{inputs:[0]})},ru=o=>{let s=o.exclusive===1,j=o.reverse===1;return $e({exclusive:s,reverse:j})}}),Aa,An,au,Lc,Fc,Ta,Oa,iu,qc,ou,su,uu=F$1(()=>{ie(),_e(),Ye(),be(),Aa="[a-zA-Z]|\\.\\.\\.",An="("+Aa+")+",au="^"+An+"$",Lc="("+An+",)*"+An,Fc="^"+Lc+"$",Ta=class{constructor(o=-1){this.symbolToIndices=new Map,this.inputIndex=o}addSymbol(o,s){let j=this.symbolToIndices.get(o);j===void 0?j=[s]:j.push(s),this.symbolToIndices.set(o,j)}},Oa=class{constructor(o,s){var bt;this.equation=s,this.hasEllipsis=!1,this.symbolToInfo=new Map,this.lhs=new Array,this.outputDims=[];let[j,et]=s.includes("->")?s.split("->",2):[s,""];if(!j.match(RegExp(Fc)))throw new Error("Invalid LHS term");if(j.split(",").forEach((At,Et)=>{let Ut=o[Et].dims.slice();if(!At.match(RegExp(au)))throw new Error("Invalid LHS term");let zt=this.processTerm(At,!0,Ut,Et);this.lhs.push(zt)}),et==="")et+=[...this.symbolToInfo.entries()].filter(([At,Et])=>Et.count===1||At==="...").map(([At])=>At).join("");else if(!et.match(RegExp(An)))throw new Error("Invalid RHS");(bt=et.match(RegExp(Aa,"g")))==null||bt.forEach(At=>{if(At==="...")this.outputDims=this.outputDims.concat(this.ellipsisDims);else{let Et=this.symbolToInfo.get(At);if(Et===void 0)throw new Error("Invalid RHS symbol");this.outputDims.push(Et.dimValue)}}),this.rhs=this.processTerm(et,!1,this.outputDims)}addSymbol(o,s,j){let et=this.symbolToInfo.get(o);if(et!==void 0){if(et.dimValue!==s&&et.count!==1)throw new Error("Dimension mismatch");et.count++,et.inputIndices.push(j)}else et={count:1,dimValue:s,inputIndices:[j]};this.symbolToInfo.set(o,et)}processTerm(o,s,j,et=-1){let bt=j.length,At=!1,Et=[],Ut=0;if(!o.match(RegExp(au))&&!s&&o!=="")throw new Error("Invalid LHS term");let zt=o.match(RegExp(Aa,"g")),It=new Ta(et);return zt==null||zt.forEach((Qt,Pt)=>{if(Qt==="..."){if(At)throw new Error("Only one ellipsis is allowed per input term");At=!0;let Yt=bt-zt.length+1;if(Yt<0)throw new Error("Ellipsis out of bounds");if(Et=j.slice(Ut,Ut+Yt),this.hasEllipsis){if(this.ellipsisDims.length!==Et.length||this.ellipsisDims.toString()!==Et.toString())throw new Error("Ellipsis dimensions mismatch")}else if(s)this.hasEllipsis=!0,this.ellipsisDims=Et;else throw new Error("Ellipsis must be specified in the LHS");for(let cr=0;cr<Et.length;cr++){let _r=String.fromCharCode(48+cr);It.addSymbol(_r,Pt+cr),this.addSymbol(_r,j[Ut++],et)}}else It.addSymbol(Qt,Pt+(this.hasEllipsis?this.ellipsisDims.length-1:0)),this.addSymbol(Qt,j[Ut++],et)}),It}},iu=o=>o+"_max",qc=(o,s,j,et)=>{let bt=o.map(It=>It.length).map((It,Qt)=>D(`input${Qt}`,s,It)),At=M.size(et),Et=q("output",s,et.length),Ut=[...j.symbolToInfo.keys()].filter(It=>!j.rhs.symbolToIndices.has(It)),zt=It=>{let Qt=[],Pt="var prod = 1.0;",Yt="var sum = 0.0;",cr="sum += prod;",_r=[],vr=[],Yr=[],Kr=[],jr=j.symbolToInfo.size===j.rhs.symbolToIndices.size;j.symbolToInfo.forEach((tA,nA)=>{var aA;if(j.rhs.symbolToIndices.has(nA)){let lA=(aA=j.rhs.symbolToIndices.get(nA))==null?void 0:aA[0];lA!==void 0&&j.lhs.forEach((hA,pA)=>{if(tA.inputIndices.includes(pA)){let wA=hA.symbolToIndices.get(nA);if(wA===void 0)throw new Error("Invalid symbol error");wA.forEach(NA=>{Qt.push(`${bt[pA].indicesSet(`input${pA}Indices`,NA,Et.indicesGet("outputIndices",lA))}`)})}})}else j.lhs.forEach((lA,hA)=>{if(tA.inputIndices.includes(hA)){let pA=lA.symbolToIndices.get(nA);if(pA===void 0)throw new Error("Invalid symbol error");pA.forEach(wA=>{_r.push(`${bt[hA].indicesSet(`input${hA}Indices`,wA,`${nA}`)}`)}),Kr.push(`prod *= ${bt[hA].getByIndices(`input${hA}Indices`)};`)}}),vr.push(`for(var ${nA}: u32 = 0; ${nA} < uniforms.${iu(nA)}; ${nA}++) {`),Yr.push("}")});let Hn=jr?[...Qt,`let sum = ${bt.map((tA,nA)=>tA.getByIndices(`input${nA}Indices`)).join(" * ")};`]:[...Qt,Yt,...vr,..._r,Pt,...Kr,cr,...Yr];return`
            ${It.registerUniforms(Ut.map(tA=>({name:`${iu(tA)}`,type:"u32"}))).registerUniform("outputSize","u32").declareVariables(...bt,Et)}

            ${It.mainStart()}
            ${It.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
            var outputIndices = ${Et.offsetToIndices("global_idx")};
            ${bt.map((tA,nA)=>`var input${nA}Indices: ${bt[nA].type.indices};`).join(`
`)}
            ${Hn.join(`
`)};
            ${Et.setByOffset("global_idx","sum")};
          }`};return{name:"Einsum",shaderCache:{hint:j.equation,inputDependencies:o.map(()=>"rank")},getRunData:()=>{let It=Ut.filter(Pt=>j.symbolToInfo.has(Pt)).map(Pt=>{var Yt;return{type:12,data:((Yt=j.symbolToInfo.get(Pt))==null?void 0:Yt.dimValue)||0}});It.push({type:12,data:At});let Qt=o.map((Pt,Yt)=>[...K(Pt)]).reduce((Pt,Yt)=>Pt.concat(Yt),It);return Qt.push(...K(et)),{outputs:[{dims:et,dataType:s}],dispatchGroup:{x:Math.ceil(At/64)},programUniforms:Qt}},getShaderSource:zt}},ou=(o,s)=>{let j=new Oa(o.inputs,s.equation),et=j.outputDims,bt=o.inputs.map((At,Et)=>At.dims);o.compute(qc(bt,o.inputs[0].dataType,j,et))},su=o=>{let s=o.equation.replace(/\s+/g,"");return $e({equation:s})}}),jc,lu,Kc,Yc,du,cu=F$1(()=>{ie(),_e(),be(),jc=o=>{if(!o||o.length!==2)throw new Error("Expand requires 2 input.");let s=o[0].dims,j=Array.from(o[1].getBigInt64Array(),Number),et=j.length<s.length?0:j.length-s.length,bt=s.length<j.length?0:s.length-j.length;for(;et<j.length&&bt<s.length;++et,++bt)if(j[et]!==s[bt]&&j[et]!==1&&s[bt]!==1)throw new Error("Expand requires shape to be broadcastable to input")},lu=(o,s)=>{let j=o.length-s.length,et=[];for(let bt=0;bt<j;++bt)et.push(o[bt]);for(let bt=0;bt<s.length;++bt)et.push(s[bt]===1?o[bt+j]:s[bt]);return et},Kc=(o,s)=>o.length>s.length?lu(o,s):lu(s,o),Yc=o=>{let s=o[0].dims,j=Array.from(o[1].getBigInt64Array(),Number),et=Kc(s,j),bt=o[0].dataType,At=bt===9?4:1,Et=Math.ceil(M.size(et)/At),Ut=It=>{let Qt=D("input",bt,s.length,At),Pt=q("output",bt,et.length,At),Yt;if(bt===9){let cr=(_r,vr,Yr="")=>`
          let outputIndices${vr} = ${Pt.offsetToIndices(`outputOffset + ${vr}u`)};
          let offset${vr} = ${Qt.broadcastedIndicesToOffset(`outputIndices${vr}`,Pt)};
          let index${vr} = offset${vr} / 4u;
          let component${vr} = offset${vr} % 4u;
          ${_r}[${vr}] = ${Yr}(${Qt.getByOffset(`index${vr}`)}[component${vr}]);
        `;Yt=`
        let outputOffset = global_idx * ${At};
        var data = vec4<u32>(0);
        ${cr("data",0,"u32")}
        ${cr("data",1,"u32")}
        ${cr("data",2,"u32")}
        ${cr("data",3,"u32")}
        ${Pt.setByOffset("global_idx","data")}
      }`}else Yt=`
        let outputIndices = ${Pt.offsetToIndices("global_idx")};
        let inputOffset = ${Qt.broadcastedIndicesToOffset("outputIndices",Pt)};
        ${Pt.setByOffset("global_idx",Qt.getByOffset("inputOffset"))}
      }`;return`
    ${It.registerUniform("vec_size","u32").declareVariables(Qt,Pt)}
    ${It.mainStart()}
    ${It.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
    ${Yt}`},zt=[{type:12,data:Et},...K(s,et)];return{name:"Expand",shaderCache:{hint:`${et.length}`,inputDependencies:["rank"]},getShaderSource:Ut,getRunData:()=>({outputs:[{dims:et,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(Et/64)},programUniforms:zt})}},du=o=>{jc(o.inputs),o.compute(Yc(o.inputs),{inputs:[0]})}}),Zc,pu,fu=F$1(()=>{ie(),_e(),be(),$n(),Zc=o=>{let s=o[0].dataType,j=M.size(o[0].dims),et=M.size(o[1].dims),bt=et%4===0,At=Et=>{let Ut=D("x",s,[1],4),zt=D("bias",s,[1],4),It=q("y",s,[1],4),Qt=[{name:"output_vec_size",type:"u32"},{name:"bias_size",type:"u32"}],Pt=cr=>`
      let bias${cr}_offset: u32 = (global_idx * 4 + ${cr}) % uniforms.bias_size;
      let bias${cr} = ${zt.getByOffset(`bias${cr}_offset / 4`)}[bias${cr}_offset % 4];`,Yt=bt?`
      let bias = ${zt.getByOffset("global_idx % (uniforms.bias_size / 4)")};`:`${Pt(0)}${Pt(1)}${Pt(2)}${Pt(3)}
      let bias = ${Ut.type.value}(bias0, bias1, bias2, bias3);`;return`${Et.registerUniforms(Qt).declareVariables(Ut,zt,It)}

    ${ya(at(s))}

    ${Et.mainStart(mn)}
      ${Et.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_vec_size")}

      let x = ${Ut.getByOffset("global_idx")};
      ${Yt}
      let x_in = x + bias;
      ${It.setByOffset("global_idx",ba("x_in"))}
    }`};return{name:"FastGeluWithBias",shaderCache:{hint:`${bt}`,inputDependencies:["type","type"]},getShaderSource:At,getRunData:Et=>({outputs:[{dims:Et[0].dims,dataType:Et[0].dataType}],programUniforms:[{type:12,data:Math.ceil(j/4)},{type:12,data:et}],dispatchGroup:{x:Math.ceil(j/mn/4)}})}},pu=o=>{o.inputs.length<2||M.size(o.inputs[1].dims)===0?$s(o):o.compute(Zc(o.inputs))}}),Xc,Qc,mu,hu,gu=F$1(()=>{ie(),_e(),Ye(),be(),Xc=o=>{if(!o||o.length!==2)throw new Error("Gather requires 2 inputs.")},Qc=(o,s)=>{let j=o[0].dims,et=o[1].dims,bt=j.length,At=M.normalizeAxis(s.axis,bt),Et=j.slice(0);Et.splice(At,1,...et);let Ut=j[At],zt=o[0].dataType===9?4:1,It=Math.ceil(M.size(Et)/zt),Qt=[{type:12,data:It},{type:6,data:Ut},{type:12,data:At},...K(o[0].dims,o[1].dims,Et)],Pt=Yt=>{let cr=D("data",o[0].dataType,o[0].dims.length,zt),_r=D("inputIndices",o[1].dataType,o[1].dims.length),vr=q("output",o[0].dataType,Et.length,zt),Yr=jr=>{let Hn=et.length,tA=`var indicesIndices${jr}  = ${_r.type.indices}(0);`;for(let nA=0;nA<Hn;nA++)tA+=`${Hn>1?`indicesIndices${jr}[${nA}]`:`indicesIndices${jr}`} = ${Et.length>1?`outputIndices${jr}[uniforms.axis + ${nA}]`:`outputIndices${jr}`};`;tA+=`
          var idx${jr} = ${_r.getByIndices(`indicesIndices${jr}`)};
          if (idx${jr} < 0) {
            idx${jr} = idx${jr} + uniforms.axisDimLimit;
          }
          var dataIndices${jr} : ${cr.type.indices};
        `;for(let nA=0,aA=0;nA<bt;nA++)nA===At?(tA+=`${bt>1?`dataIndices${jr}[${nA}]`:`dataIndices${jr}`} = u32(idx${jr});`,aA+=Hn):(tA+=`${bt>1?`dataIndices${jr}[${nA}]`:`dataIndices${jr}`} = ${Et.length>1?`outputIndices${jr}[${aA}]`:`outputIndices${jr}`};`,aA++);return tA},Kr;if(o[0].dataType===9){let jr=(Hn,tA,nA="")=>`
          let outputIndices${tA} = ${vr.offsetToIndices(`outputOffset + ${tA}u`)};
          ${Yr(tA)};
          let offset${tA} = ${cr.indicesToOffset(`dataIndices${tA}`)};
          let index${tA} = offset${tA} / 4u;
          let component${tA} = offset${tA} % 4u;
          ${Hn}[${tA}] = ${nA}(${cr.getByOffset(`index${tA}`)}[component${tA}]);
        `;Kr=`
        let outputOffset = global_idx * ${zt};
        var value = vec4<u32>(0);
        ${jr("value",0,"u32")}
        ${jr("value",1,"u32")}
        ${jr("value",2,"u32")}
        ${jr("value",3,"u32")}
        ${vr.setByOffset("global_idx","value")}
      `}else Kr=`
      let outputIndices = ${vr.offsetToIndices("global_idx")};
      ${Yr("")};
      let value = ${cr.getByIndices("dataIndices")};
      ${vr.setByOffset("global_idx","value")};
      `;return`
      ${Yt.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(cr,_r,vr)}
      ${Yt.mainStart()}
        ${Yt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        ${Kr}
      }`};return{name:"Gather",shaderCache:{hint:s.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:Et,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(It/64)},programUniforms:Qt}),getShaderSource:Pt}},mu=o=>$e({axis:o.axis}),hu=(o,s)=>{let j=o.inputs;Xc(j),o.compute(Qc(o.inputs,s))}}),Jc,ep,yu,bu,wu=F$1(()=>{ie(),_e(),Ye(),be(),Jc=o=>{if(!o||o.length!==2)throw new Error("GatherElements requires 2 inputs.");if(o[0].dims.length<1)throw new Error("GatherElements requires that the data input be rank >= 1.");if(o[0].dims.length!==o[1].dims.length)throw new Error(`GatherElements requires that the data input and
                     indices input tensors be of same rank.`)},ep=(o,s)=>{let j=o[0].dims,et=o[0].dataType,bt=j.length,At=o[1].dims,Et=o[1].dataType,Ut=M.normalizeAxis(s.axis,bt),zt=j[Ut],It=At.slice(0),Qt=M.size(It),Pt=D("input",et,bt),Yt=D("indicesInput",Et,At.length),cr=q("output",et,It.length),_r=[{type:12,data:Qt},{type:6,data:zt},{type:12,data:Ut}];return _r.push(...K(j,At,It)),{name:"GatherElements",shaderCache:{inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:It,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(Qt/64)},programUniforms:_r}),getShaderSource:vr=>`
      ${vr.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(Pt,Yt,cr)}
      ${vr.mainStart()}
      ${vr.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

      let outputIndices = ${cr.offsetToIndices("global_idx")};

      var idx = ${Yt.getByOffset("global_idx")};
      if (idx < 0) {
        idx = idx + uniforms.axisDimLimit;
      }
      var inputIndices = ${Pt.type.indices}(outputIndices);
      ${Pt.indicesSet("inputIndices","uniforms.axis","u32(idx)")};
      let value = ${Pt.getByIndices("inputIndices")};

      ${cr.setByOffset("global_idx","value")};
  }`}},yu=o=>$e({axis:o.axis}),bu=(o,s)=>{let j=o.inputs;Jc(j),o.compute(ep(o.inputs,s))}}),tp,rp,vu,$u,_u=F$1(()=>{ie(),_e(),be(),tp=o=>{if(!o)throw new Error("Input is missing");if(o.length<2||o.length>3)throw new Error("Invaid input number.");if(o.length===3&&o[2].dims.length>2)throw new Error("Invalid input shape of C");if(o[0].dataType!==o[1].dataType||o.length===3&&o[0].dataType!==o[2].dataType)throw new Error("Input types are mismatched")},rp=(o,s)=>{let j=o[0].dims.slice(),et=o[1].dims.slice(),[bt,At,Et]=cn.getShapeOfGemmResult(j,s.transA,et,s.transB,o.length===3?o[2].dims:void 0),Ut=[bt,At];if(!Ut)throw new Error("Can't use gemm on the given tensors");let zt=M.size(Ut),It=[{type:12,data:zt},{type:12,data:bt},{type:12,data:At},{type:12,data:Et},{type:1,data:s.alpha},{type:1,data:s.beta}],Qt=["type","type"];o.length===3&&(It.push(...K(o[2].dims)),Qt.push("rank")),It.push(...K(Ut));let Pt=Yt=>{let cr="";s.transA&&s.transB?cr="value += a[k * uniforms.M + m] * b[n * uniforms.K + k];":s.transA&&!s.transB?cr="value += a[k * uniforms.M + m] * b[k * uniforms.N + n];":!s.transA&&s.transB?cr="value += a[m * uniforms.K + k] * b[n * uniforms.K + k];":!s.transA&&!s.transB&&(cr="value += a[m * uniforms.K + k] * b[k * uniforms.N + n];");let _r=s.alpha===1?"":"value *= uniforms.alpha;",vr=D("a",o[0].dataType,o[0].dims),Yr=D("b",o[1].dataType,o[1].dims),Kr=vr.type.value,jr=null,Hn=[vr,Yr];o.length===3&&(jr=D("c",o[2].dataType,o[2].dims.length),Hn.push(jr));let tA=q("output",o[0].dataType,Ut.length);Hn.push(tA);let nA=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}];return`
  ${Yt.registerUniforms(nA).declareVariables(...Hn)}

  ${Yt.mainStart()}
    ${Yt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let m = global_idx / uniforms.N;
    let n = global_idx % uniforms.N;

    var value = ${Kr}(0);
    for (var k: u32 = 0u; k < uniforms.K; k++) {
      ${cr}
    }

    ${_r}
    ${jr!=null?`let cOffset = ${jr.broadcastedIndicesToOffset("vec2(m, n)",tA)}; value += ${Kr}(uniforms.beta) * ${jr.getByOffset("cOffset")};`:""}
    output[global_idx] = value;
  }`};return{name:"Gemm",shaderCache:{hint:`${s.cacheKey}`,inputDependencies:Qt},getRunData:()=>({outputs:[{dims:Ut,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(zt/64)},programUniforms:It}),getShaderSource:Pt}},vu=o=>{let s=o.transA,j=o.transB,et=o.alpha,bt=o.beta;return{transA:s,transB:j,alpha:et,beta:bt,cacheKey:`${o.transA};${o.transB};${o.alpha===1}`}},$u=(o,s)=>{tp(o.inputs),o.compute(rp(o.inputs,s))}}),np,ap,ip,xu,Su=F$1(()=>{ie(),_e(),be(),np=(o,s)=>{let j=o[0].dims,et=j,bt=2,At=M.sizeToDimension(j,bt),Et=M.sizeFromDimension(j,bt),Ut=Me(Et),zt=Et/Ut,It=[j[0],j[1],zt],Qt=["rank","type","type"],Pt=[{type:12,data:Et},{type:12,data:zt}];Pt.push(...K(It,It));let Yt=cr=>{let _r=D("x",o[0].dataType,It.length,Ut),vr=D("scale",o[1].dataType,o[1].dims),Yr=D("bias",o[2].dataType,o[2].dims),Kr=q("output",o[0].dataType,It.length,Ut),jr=[_r,vr,Yr,Kr],Hn=_r.type.value,tA=Ut===1?"f32":`vec${Ut}<f32>`,nA=64,aA=[{name:"normSize",type:"u32"},{name:"normPackedSize",type:"u32"}];return`
  var<workgroup> meanShared : f32;
  var<workgroup> squaredNormShared : f32;
  var<workgroup> workgroupShared : array<${tA}, ${nA}>;
  const workgroupSize = ${nA}u;
  ${cr.registerUniforms(aA).declareVariables(...jr)}
  ${cr.mainStart(nA)}
    let norm = global_idx / workgroupSize;
    let batch = norm / uniforms.x_shape[1];
    let channel = norm % uniforms.x_shape[1];
    let localIndex = local_id.x;

    // initialize workgroup memory
    var initial = ${tA}(0);
    for (var h = localIndex; h < uniforms.normPackedSize; h += workgroupSize) {
      initial = initial + ${tA}(${_r.get("batch","channel","h")});
    }
    workgroupShared[localIndex] = initial;
    workgroupBarrier();

    // Calculate the mean of current channel data.
    for (var currSize = workgroupSize >> 1;  currSize > 0; currSize = currSize >> 1) {
      if (localIndex < currSize) {
        workgroupShared[localIndex] = workgroupShared[localIndex] + workgroupShared[localIndex + currSize];
      }
      workgroupBarrier();
    }
    if (localIndex == 0) {
      meanShared = ${it("workgroupShared[0]",Ut)} / f32(uniforms.normSize);
    }
    workgroupBarrier();

    // reinitialize workgroup memory.
    initial = ${tA}(0);
    for (var h = localIndex; h < uniforms.normPackedSize; h += workgroupSize) {
      let deviation =  ${tA}(${_r.get("batch","channel","h")}) - ${tA}(meanShared);
      initial = initial + deviation * deviation;
    }
    workgroupShared[localIndex] = initial;
    workgroupBarrier();

    // Calculate the sum of square of deviation of current channel data.
    for (var currSize = workgroupSize >> 1;  currSize > 0; currSize = currSize >> 1) {
      if (localIndex < currSize) {
        workgroupShared[localIndex] = workgroupShared[localIndex] + workgroupShared[localIndex + currSize];
      }
      workgroupBarrier();
    }
    if (localIndex == 0) {
      squaredNormShared = ${it("workgroupShared[0]",Ut)};
    }
    workgroupBarrier();

    let invStdDev = inverseSqrt(squaredNormShared / f32(uniforms.normSize) + f32(${s.epsilon}));
    let channelScale = invStdDev * f32(${vr.getByOffset("channel")});
    let channelShift = f32(${Yr.getByOffset("channel")}) - meanShared * channelScale;
    for (var h = localIndex; h < uniforms.normPackedSize; h += workgroupSize) {
      let value = ${_r.get("batch","channel","h")} * ${Hn}(${tA}(channelScale)) + ${Hn}(${tA}(channelShift));
      ${Kr.set("batch","channel","h","value")};
    }
  }`};return{name:"InstanceNormalization",shaderCache:{hint:`${s.epsilon};${Ut}`,inputDependencies:Qt},getRunData:()=>({outputs:[{dims:et,dataType:o[0].dataType}],dispatchGroup:{x:At},programUniforms:Pt}),getShaderSource:Yt}},ap=(o,s,j,et,bt,At,Et,Ut)=>{let zt=Me(Et),It=64,Qt=zt===1?"vec2f":`mat2x${zt}f`,Pt=zt===1?"f32":`vec${zt}f`,Yt=(aA,lA)=>`${Qt}(${aA}, ${lA})`,cr=bt*Et/zt,_r=Math.ceil(At/It),vr=["type"],Yr=[{type:12,data:_r},{type:12,data:At},{type:12,data:Math.floor(Et/zt)},{type:12,data:Math.floor(At*Et/zt)}],Kr=aA=>{let lA=D("input",s.dataType,s.dims,zt);return`
  ${aA.declareVariables(lA)}
  @group(0) @binding(1) var<storage, read_write> output : array<${Qt}>;
  struct Uniforms {wg_size:u32, H:u32, C:u32, image_size:u32};
  @group(0) @binding(2) var<uniform> uniforms: Uniforms;

  ${aA.mainStart(It)}
    let currentImageNumber = global_idx / ${It} / uniforms.C;
    let currentChannelNumber = (global_idx / ${It}) % uniforms.C;
    let wgId = global_idx % ${It};
    let wgOffset = wgId * uniforms.wg_size;
    if (wgOffset >= uniforms.H) {
        return;
    }
    let wgMax = min(wgOffset + uniforms.wg_size, uniforms.H);

    let offset = currentImageNumber * uniforms.image_size + currentChannelNumber;
    var sum = ${Xe("f32",zt)};
    var squaredSum = ${Xe("f32",zt)};
    for (var i: u32 = wgOffset; i < wgMax; i++) {
        let value = ${Pt}(input[offset + i * uniforms.C]);
        sum += value;
        squaredSum += value * value;
    }
    output[global_idx] = ${Yt("sum","squaredSum")};
  }`},jr=o.compute({name:"InstanceNormComputeMean",shaderCache:{hint:`${zt}`,inputDependencies:vr},getRunData:()=>({outputs:[{dims:[bt,Et,It,2],dataType:1}],dispatchGroup:{x:bt*Et/zt},programUniforms:Yr}),getShaderSource:Kr},{inputs:[s],outputs:[-1]})[0],Hn=[{type:12,data:cr},{type:12,data:At},{type:12,data:Math.floor(Et/zt)},{type:12,data:Math.floor(It*Et/zt)}],tA=["type","type","type"],nA=aA=>{let lA=D("scale",j.dataType,j.dims,zt),hA=D("bias",et.dataType,et.dims,zt);return`
  @group(0) @binding(0) var<storage, read> input : array<${Qt}>;
  @group(0) @binding(1) var<storage, read> scale : array<${lA.type.storage}>;
  @group(0) @binding(2) var<storage, read> bias : array<${hA.type.storage}>;
  @group(0) @binding(3) var<storage, read_write> output : array<${Qt}>;
  struct Uniforms {units_of_work : u32, H: u32, C : u32, image_size : u32};
  @group(0) @binding(4) var<uniform> uniforms: Uniforms;

  ${aA.mainStart()}
    ${aA.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.units_of_work")}
    let currentImageNumber = global_idx / uniforms.C;
    let currentChannelNumber = global_idx % uniforms.C;

    let offset = currentImageNumber * uniforms.image_size;
    var sum = ${Xe("f32",zt)};
    var squaredSum = ${Xe("f32",zt)};
    for (var i: u32 = 0; i < min(${It}, uniforms.H); i++) {
        let value = input[offset + i + currentChannelNumber * ${It}];
        sum += value[0];
        squaredSum += value[1];
    }
    sum = sum / f32(uniforms.H);
    squaredSum = squaredSum / f32(uniforms.H);
    let invStdDev = inverseSqrt(squaredSum - sum * sum + f32(${Ut}));
    let channelScale = invStdDev * ${Pt}(scale[currentChannelNumber]);
    let channelShift = ${Pt}(bias[currentChannelNumber]) - sum * channelScale;

    output[global_idx] = ${Yt("channelScale","channelShift")};
  }`};return o.compute({name:"InstanceNormComputeChannelScaleShift",shaderCache:{hint:`${zt};${Ut}`,inputDependencies:tA},getRunData:()=>({outputs:[{dims:[bt,Et,2],dataType:1}],dispatchGroup:{x:Math.ceil(cr/64)},programUniforms:Hn}),getShaderSource:nA},{inputs:[jr,j,et],outputs:[-1]})[0]},ip=(o,s,j)=>{let et=s[0].dims,bt=et,At=et[0],Et=et[et.length-1],Ut=M.sizeFromDimension(et,1)/Et,zt=Me(Et),It=M.size(bt)/zt,Qt=[{type:12,data:Ut},{type:12,data:Math.floor(Et/zt)}],Pt=["type","type"],Yt=ap(o,s[0],s[1],s[2],At,Ut,Et,j.epsilon),cr=_r=>{let vr=ke(s[0].dataType),Yr=zt===1?"vec2f":`mat2x${zt}f`,Kr=zt===1?vr:`vec${zt}<${vr}>`,jr=D("input",s[0].dataType,s[0].dims,zt),Hn=q("output",s[0].dataType,bt,zt);return`
  @group(0) @binding(0) var<storage, read> input : array<${jr.type.storage}>;
  @group(0) @binding(1) var<storage, read> scaleInput : array<${Yr}>;
  @group(0) @binding(2) var<storage, read_write> output : array<${Hn.type.storage}>;
  struct Uniforms {H: u32, C : u32};
  @group(0) @binding(3) var<uniform> uniforms: Uniforms;

  ${_r.mainStart()}
    let currentImageNumber = global_idx / (uniforms.C * uniforms.H);
    let currentChannelNumber = global_idx % uniforms.C;

    let scaleOffset = currentImageNumber * uniforms.C + currentChannelNumber;
    let scale = scaleInput[scaleOffset];
    output[global_idx] = fma(input[global_idx], ${Kr}(scale[0]), ${Kr}(scale[1]));
  }`};o.compute({name:"InstanceNormalizationNHWC",shaderCache:{hint:`${zt}`,inputDependencies:Pt},getRunData:()=>({outputs:[{dims:bt,dataType:s[0].dataType}],dispatchGroup:{x:Math.ceil(It/64)},programUniforms:Qt}),getShaderSource:cr},{inputs:[s[0],Yt]})},xu=(o,s)=>{s.format==="NHWC"?ip(o,o.inputs,s):o.compute(np(o.inputs,s))}}),op,sp,Cu,Iu=F$1(()=>{ie(),_e(),be(),op=o=>{if(!o||o.length<2)throw new Error("layerNorm requires at least 2 inputs.")},sp=(o,s,j)=>{let et=o[0].dims,bt=o[1],At=o[2],Et=et,Ut=M.normalizeAxis(s.axis,et.length),zt=M.sizeToDimension(et,Ut),It=M.sizeFromDimension(et,Ut),Qt=M.size(bt.dims),Pt=At?M.size(At.dims):0;if(Qt!==It||At&&Pt!==It)throw new Error(`Size of X.shape()[axis:] == ${It}.
       Size of scale and bias (if provided) must match this.
       Got scale size of ${Qt} and bias size of ${Pt}`);let Yt=[];for(let tA=0;tA<et.length;++tA)tA<Ut?Yt.push(et[tA]):Yt.push(1);let cr=Me(It),_r=["type","type"],vr=[{type:12,data:zt},{type:1,data:It},{type:12,data:Math.floor(It/cr)},{type:1,data:s.epsilon}];At&&_r.push("type");let Yr=j>1,Kr=j>2,jr=tA=>{let nA=ke(o[0].dataType),aA=[D("x",o[0].dataType,o[0].dims,cr),D("scale",bt.dataType,bt.dims,cr)];At&&aA.push(D("bias",At.dataType,At.dims,cr)),aA.push(q("output",o[0].dataType,Et,cr)),Yr&&aA.push(q("mean_data_output",1,Yt)),Kr&&aA.push(q("inv_std_output",1,Yt));let lA=[{name:"norm_count",type:"u32"},{name:"norm_size",type:"f32"},{name:"norm_size_vectorized",type:"u32"},{name:"epsilon",type:"f32"}];return`
  ${tA.registerUniforms(lA).declareVariables(...aA)}
  ${tA.mainStart()}
    ${tA.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.norm_count")}
    let offset = global_idx * uniforms.norm_size_vectorized;
    var mean_vector = ${Xe("f32",cr)};
    var mean_square_vector = ${Xe("f32",cr)};

    for (var h: u32 = 0u; h < uniforms.norm_size_vectorized; h++) {
      let value = ${mt(nA,cr,"x[h + offset]")};
      mean_vector += value;
      mean_square_vector += value * value;
    }
    let mean = ${it("mean_vector",cr)} / uniforms.norm_size;
    let inv_std_dev = inverseSqrt(${it("mean_square_vector",cr)} / uniforms.norm_size - mean * mean + uniforms.epsilon);

    for (var j: u32 = 0; j < uniforms.norm_size_vectorized; j++) {
      let f32input = ${mt(nA,cr,"x[j + offset]")};
      let f32scale = ${mt(nA,cr,"scale[j]")};
      output[j + offset] = ${aA[0].type.value}((f32input - mean) * inv_std_dev * f32scale
        ${At?`+ ${mt(nA,cr,"bias[j]")}`:""}
      );
    }

    ${Yr?"mean_data_output[global_idx] = mean":""};
    ${Kr?"inv_std_output[global_idx] = inv_std_dev":""};
  }`},Hn=[{dims:Et,dataType:o[0].dataType}];return Yr&&Hn.push({dims:Yt,dataType:1}),Kr&&Hn.push({dims:Yt,dataType:1}),{name:"LayerNormalization",shaderCache:{hint:`${cr};${j}`,inputDependencies:_r},getRunData:()=>({outputs:Hn,dispatchGroup:{x:Math.ceil(zt/64)},programUniforms:vr}),getShaderSource:jr}},Cu=(o,s)=>{op(o.inputs),o.compute(sp(o.inputs,s,o.outputCount))}}),up,lp,Eu,Au,Tu=F$1(()=>{ie(),_e(),Ye(),be(),up=(o,s)=>{if(o.length<3||o.length>4)throw new Error("MatMulNBits requires 3 or 4 inputs");let j=o[0],et=j.dims.length;if(j.dims[et-1]!==s.k)throw new Error("The last dim of input shape does not match the k value");let bt=Math.floor((s.k+s.blockSize-1)/s.blockSize),At=s.blockSize/8*s.bits,Et=o[1];if(!M.areEqual(Et.dims,[s.n,bt,At]))throw new Error("The second inputs must be 3D tensor with shape N X nBlocksPerCol X blobSize");let Ut=o[2].dims;if(M.size(Ut)!==s.n*bt)throw new Error("scales input size error.");if(o.length===4){let zt=o[3].dims,It=s.bits>4?s.n*bt:s.n*Math.floor((bt+1)/2);if(M.size(zt)!==It)throw new Error("zeroPoints input size error.")}},lp=(o,s)=>{let j=o[0].dims,et=j.length,bt=j.slice(0,et-1).concat(s.n),At=j[et-2],Et=s.blockSize/8*s.bits/4,Ut=Me(At),zt=Me(s.n),It=Me(s.k),Qt=Me(Et),Pt=M.size(bt)/zt/Ut,Yt=[{type:12,data:Pt},{type:12,data:s.k},{type:12,data:s.n},{type:12,data:s.accuracyLevel},{type:12,data:s.bits},{type:12,data:s.blockSize}],cr=j.slice();cr.splice(-1,1,s.k/It);let _r=M.convertShape(o[1].dims).slice();_r.splice(-1,1,Et/Qt),Yt.push(...K(cr)),Yt.push(...K(_r)),Yt.push(...K(o[2].dims)),o.length===4&&Yt.push(...K(M.convertShape(o[3].dims)));let vr=bt.slice();vr.splice(-1,1,s.n/zt),Yt.push(...K(vr));let Yr=Kr=>{let jr=D("a",o[0].dataType,cr.length,It),Hn=D("b",12,_r.length,Qt),tA=D("scales",o[2].dataType,o[2].dims.length),nA=[jr,Hn,tA],aA=o.length===4?D("zero_points",12,o[3].dims.length):void 0;aA&&nA.push(aA);let lA=q("output",o[0].dataType,bt.length,zt),hA=[{name:"output_size",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"accuracy_level",type:"u32"},{name:"bits",type:"u32"},{name:"block_size",type:"u32"}],pA=Math.floor((s.k+s.blockSize-1)/s.blockSize),wA=ke(o[0].dataType),NA=(()=>{switch(It){case 1:return`array<${wA}, 8>`;case 2:return`mat4x2<${wA}>`;case 4:return`mat2x4<${wA}>`;default:throw new Error(`${It}-component is not supported.`)}})(),cA=`
        fn dequantize(quantized: ${NA}, zero_point: ${wA}, scale: ${wA}) -> ${NA} {
          ${It===1?`var dequantized = ${NA}(${Array.from({length:8},(UA,LA)=>`(quantized[${LA}] - zero_point) * scale`).join(", ")});
              return dequantized;`:`var zero_points: ${NA} = ${NA}(${Array(8).fill("zero_point").join(",")});
              return (quantized - zero_points) * scale;`}
        }`,CA=`
        fn ortUnpack8x4snorm(value: u32) -> ${NA} {
          var quantized: ${NA};
          var offset: u32 = 0;
          let count: u32 = 4;
          for (var i: u32 = 0; i < 8u; i++) {
            var result = ${wA}(extractBits(value, offset, count));
            ${(()=>{switch(It){case 1:return"quantized[i] = result;";case 2:return"quantized[i / 2][i % 2] = result;";case 4:return"quantized[i / 4][i % 4] = result;";default:throw new Error(`${It}-component is not supported.`)}})()}
            offset += count;
          }
          return quantized;
        }`,sA=aA?`
          zero_point_offset += 4;
          if (zero_point_offset == 32) {
            zero_point_offset = 0;
            zero_point_index++;
            zero_point_word = ${aA.getByOffset("zero_point_index")};
          }`:"";return`
        ${cA};
        ${CA};
        ${Kr.registerUniforms(hA).declareVariables(...nA,lA)}
        ${Kr.mainStart()}
          ${Kr.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          var output_values: array<${lA.type.value}, ${Ut}>;
          var output_indices = ${lA.offsetToIndices("global_idx")};
          var n = ${lA.indicesGet("output_indices",et-1)};
          var m = ${lA.indicesGet("output_indices",et-2)};
          var a_indices: ${jr.type.indices} = output_indices;
          // Two zero points are packed into one byte because uniforms.bits <= 4.
          // zero_point_offset is either 0 or 4. It is bit offset within one byte.
          // TODO support zero_point_offset for bits > 4
          ${aA?`
          var zero_point_index: u32 = n * ${zt} * ((${pA} + 1) / 2) / 4;
          var zero_point_word: u32 = ${aA.getByOffset("zero_point_index")};
          var zero_point_offset: u32 = 0;`:""}
          var scale_index = n * ${pA*zt};
          var b_indices: ${Hn.type.indices};
          for (var c: u32 = 0; c < ${zt}; c++) {
            ${Hn.indicesSet("b_indices","0",`n * ${zt} + c`)};
            var block_offset: u32 = 0;
            for (var block: u32 = 0; block < ${pA}; block++) {
              // The scale and zero points are computed per block.
              let scale = ${tA.getByOffset("scale_index")};
              // The default zero point is 8 for unsigned 4-bit quantization.
              let zero_point = ${wA}(${aA?"extractBits(zero_point_word, zero_point_offset, 4)":8});
              ${Hn.indicesSet("b_indices","1","block")};
              var word_offset: u32 = block_offset;
              for (var word: u32 = 0; word < ${Et}; word += ${Qt}) {
                ${Hn.indicesSet("b_indices","2","word")};
                let b_data = ${Hn.getByIndices("b_indices")};
                for (var i: u32 = 0; i < ${Qt}; i++) {
                  let b_value = ${Qt===1?"b_data":"b_data[word + i]"};
                  let b_quantized_values: ${NA} = ortUnpack8x4snorm(b_value);
                  let b_dequantized_values = dequantize(b_quantized_values, zero_point, scale);
                  // Number of B elements per 32-bit word is 32/bits = 32/4 = 8
                  var offset: u32 = word_offset;
                  for (var j: u32 = 0; j < 8/${It}; j++) {
                    ${jr.indicesSet("a_indices",et-1,`offset/${It}`)};
                    for (var k: u32 = 0; k < ${Ut}u; k++) {
                      ${jr.indicesSet("a_indices",et-2,`m * ${Ut} + k`)};
                      let a_data = ${jr.getByIndices("a_indices")};
                      output_values[k]${zt>1?"[c]":""} += ${It===1?"a_data * b_dequantized_values[j]":"dot(a_data, b_dequantized_values[j])"};
                    }
                    offset += ${It};
                  }
                  word_offset += 8;
                }
              }
              scale_index++;
              ${sA}
              block_offset += uniforms.block_size;
            }
            // Drop the trailing 4 bits if the zero_poit_offset is not a byte boundary to align with the next byte.
            ${aA?`if (zero_point_offset % 8 > 0) {
                ${sA}
              }`:""}
            }
            for (var k: u32 = 0u; k < ${Ut}u; k++) {
              ${lA.indicesSet("output_indices",et-2,`${Ut+" * m + k"}`)};
              ${lA.setByIndices("output_indices","output_values[k]")}
            }
        }`};return{name:"MatMulNBits",shaderCache:{hint:`${s.cacheKey};${o.length}`,inputDependencies:Array(o.length).fill("rank")},getRunData:()=>({outputs:[{dims:bt,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(Pt/64)},programUniforms:Yt}),getShaderSource:Yr}},Eu=(o,s)=>{up(o.inputs,s),o.compute(lp(o.inputs,s))},Au=o=>$e(o)}),dp,ku,Ou,cp,ka,Pu,Ru=F$1(()=>{ie(),_e(),Ye(),ln(),ga(),be(),ir(),dp=(o,s)=>{let j=o[0],et=o[1],bt=o[2],At=o[3],Et=o[4],Ut=o[5],zt=o[6],It=o[7];if(j.dims.length!==3&&j.dims.length!==5)throw new Error("Input query is expected to have 3 or 5 dimensions");let Qt=!1,Pt=j.dims[0],Yt=j.dims[1],cr=j.dims.length===3?Qt?j.dims[2]/3:j.dims[2]:s.numHeads*j.dims[4],_r=Yt,vr=0,Yr=0,Kr=Math.floor(cr/s.numHeads);if(zt&&It){if(zt.dims.length!==4)throw new Error('Input "past_key" is expected to have 4 dimensions');if(It.dims.length!==4)throw new Error('Input "past_value" is expected to have 4 dimensions');vr=zt.dims[2],Yr=zt.dims[2]}else if(zt||It)throw new Error('Input "past_key" and "past_value" shall be both present or both absent');let jr;if(et){if(j.dims.length!==3)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(et.dims.length<3||et.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(j.dims[0]!==et.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(et.dims.length===3){if(et.dims[2]!==j.dims[2])throw new Error('Input "query" and "key" shall have same dim 2 (hidden_size)');jr=2,_r=et.dims[1]}else if(et.dims.length===5){if(et.dims[2]!==s.numHeads||et.dims[3]!==2||et.dims[4]!==Kr)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(bt)throw new Error('Expect "value" be none when "key" has packed kv format.');jr=5,_r=et.dims[1]}else{if(et.dims[1]!==s.numHeads||et.dims[3]!==Kr)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');jr=0,_r=et.dims[2]}}else{if(j.dims.length!==3&&j.dims.length!==5)throw new Error('Input "query" is expected to have 3 or 5 dimensions when key is empty');if(j.dims.length===5&&(j.dims[2]!==s.numHeads||j.dims[3]!==3))throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');jr=3}if(At){if(At.dims.length!==1)throw new Error('Input "bias" is expected to have 1 dimension');if(bt&&j.dims.length===5&&j.dims[3]===2)throw new Error("bias is not allowed for packed kv.")}let Hn=0;if(Et){Hn=8;let hA=Et.dims;throw hA.length===1?hA[0]===Pt?Hn=1:hA[0]===3*Pt+2&&(Hn=3):hA.length===2&&hA[0]===Pt&&hA[1]===_r&&(Hn=5),Hn===8?new Error('Input "key_padding_mask" shape shall be (batch_size) or (batch_size, kv_sequence_length)'):new Error("Mask not supported")}let tA=!1,nA=cr;if(bt){if(bt.dims.length!==3&&bt.dims.length!==4)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(j.dims[0]!==bt.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(bt.dims.length===3){if(_r!==bt.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');nA=bt.dims[2]}else{if(_r!==bt.dims[2])throw new Error('Input "past_key" and "past_value" shall have the same dim 2 (kv_sequence_length)');nA=bt.dims[1]*bt.dims[3],tA=!0}}let aA=vr+_r,lA=!1;if(Et)throw new Error("Key padding mask is not supported");if(Ut)throw new Error("extraAddQk is not supported");if(zt)throw new Error("pastKey is not supported");if(It)throw new Error("pastValue is not supported");return{batchSize:Pt,sequenceLength:Yt,pastSequenceLength:vr,kvSequenceLength:_r,totalSequenceLength:aA,maxSequenceLength:Yr,inputHiddenSize:0,hiddenSize:cr,vHiddenSize:nA,headSize:Kr,vHeadSize:Math.floor(nA/s.numHeads),numHeads:s.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:s.maskFilterValue,maskType:Hn,scale:s.scale,broadcastResPosBias:lA,passPastInKv:tA,qkvFormat:jr}},ku=o=>$e({...o}),Ou=$e({perm:[0,2,1,3]}),cp=(o,s,j,et,bt,At,Et)=>{let Ut=[et,bt,At],zt=M.size(Ut),It=[{type:12,data:zt},{type:12,data:Et},{type:12,data:At}],Qt=Pt=>{let Yt=q("qkv_with_bias",s.dataType,Ut),cr=D("qkv",s.dataType,Ut),_r=D("bias",j.dataType,Ut),vr=[{name:"output_size",type:"u32"},{name:"bias_offset",type:"u32"},{name:"hidden_size",type:"u32"}];return`
  ${Pt.registerUniforms(vr).declareVariables(cr,_r,Yt)}
  ${Pt.mainStart()}
    ${Pt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let bias_offset_idx = (global_idx % uniforms.hidden_size) + uniforms.bias_offset;

    qkv_with_bias[global_idx] = qkv[global_idx] + bias[bias_offset_idx];
  }`};return o.compute({name:"MultiHeadAttentionAddBias",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:Ut,dataType:s.dataType,gpuDataType:0}],dispatchGroup:{x:Math.ceil(zt/64)},programUniforms:It}),getShaderSource:Qt},{inputs:[s,j],outputs:[-1]})[0]},ka=(o,s,j,et,bt,At,Et,Ut)=>{let zt=At;if(Et){if(et===1)throw new Error("AddBiasReshape is not implemented. Please export your model with packed QKV or KV");return zt=cp(o,At,Et,s,et,j*bt,Ut),zt=zt.reshape([s,et,j,bt]),o.compute(dt(zt,Ou.perm),{inputs:[zt],outputs:[-1]})[0]}else return At.dims.length===3&&(zt=At.reshape([s,et,j,bt])),o.compute(dt(zt,Ou.perm),{inputs:[zt],outputs:[-1]})[0]},Pu=(o,s)=>{var Ut;let j=dp(o.inputs,s);if(o.inputs[0].dims.length===5)throw new Error("Packed QKV is not implemented");if(((Ut=o.inputs[1])==null?void 0:Ut.dims.length)===5)throw new Error("Packed KV is not implemented");let et=o.inputs[1]&&o.inputs[2]&&o.inputs[1].dims.length===4&&o.inputs[2].dims.length===4,bt=ka(o,j.batchSize,j.numHeads,j.sequenceLength,j.headSize,o.inputs[0],o.inputs[3],0);if(et)return bn(o,bt,o.inputs[1],o.inputs[2],o.inputs[4],void 0,void 0,void 0,o.inputs[5],j,s);let At=ka(o,j.batchSize,j.numHeads,j.kvSequenceLength,j.headSize,o.inputs[1],o.inputs[3],j.hiddenSize),Et=ka(o,j.batchSize,j.numHeads,j.kvSequenceLength,j.vHeadSize,o.inputs[2],o.inputs[3],2*j.hiddenSize);bn(o,bt,At,Et,o.inputs[4],void 0,o.inputs[6],o.inputs[7],o.inputs[5],j,s)}}),pp,fp,mp,hp,gp,yp,bp,wp,zu,Bu=F$1(()=>{ie(),_e(),be(),pp=o=>{if(!o||o.length<1)throw new Error("Too few inputs");if(o[0].dataType!==1&&o[0].dataType!==10)throw new Error("Input type must be float or float16.");if(o.length>=2){let s=o[0].dims.length*2===o[1].dims[0];if(o.length===4&&(s=o[3].dims[0]*2===o[1].dims[0]),!s)throw new Error("The pads should be a 1D tensor of shape [2 * input_rank] or [2 * num_axes].")}},fp=(o,s,j)=>{let et="";for(let bt=s-1;bt>=0;--bt)et+=`
            k = i32(${o.indicesGet("indices",bt)}) - ${re("uniforms.pads",bt,j)};
            if (k < 0) {
              break;
            }
            if (k >= i32(${re("uniforms.x_shape",bt,s)})) {
              break;
            }
            offset += k * i32(${re("uniforms.x_strides",bt,s)});
        `;return`
          value = ${o.type.value}(uniforms.constant_value);
          for (var i = 0; i < 1; i++) {
            var offset = 0;
            var k = 0;
            ${et}
            value = x[offset];
          }
      `},mp=(o,s,j)=>{let et="";for(let bt=s-1;bt>=0;--bt)et+=`
                k = i32(${o.indicesGet("indices",bt)}) - ${re("uniforms.pads",bt,j)};
                if (k < 0) {
                  k = -k;
                }
                {
                  let _2n_1 = 2 * (i32(${re("uniforms.x_shape",bt,s)}) - 1);
                  k = k % _2n_1;
                  if(k >= i32(${re("uniforms.x_shape",bt,s)})) {
                    k = _2n_1 - k;
                  }
                }
                offset += k * i32(${re("uniforms.x_strides",bt,s)});
            `;return`
              var offset = 0;
              var k = 0;
              ${et}
              value = x[offset];
          `},hp=(o,s,j)=>{let et="";for(let bt=s-1;bt>=0;--bt)et+=`
                k = i32(${o.indicesGet("indices",bt)}) - ${re("uniforms.pads",bt,j)};
                if (k < 0) {
                  k = 0;
                }
                if (k >= i32(${re("uniforms.x_shape",bt,s)})) {
                  k = i32(${re("uniforms.x_shape",bt,s)}) - 1;
                }
                offset += k * i32(${re("uniforms.x_strides",bt,s)});
            `;return`
              var offset = 0;
              var k = 0;
              ${et}
              value = x[offset];
          `},gp=(o,s,j)=>{let et="";for(let bt=s-1;bt>=0;--bt)et+=`
                k = i32(${o.indicesGet("indices",bt)}) - ${re("uniforms.pads",bt,j)};
                if (k < 0)  {
                  k += i32(${re("uniforms.x_shape",bt,s)}]);
                }
                if (k >= i32(${re("uniforms.x_shape",bt,s)})) {
                  k -= i32(${re("uniforms.x_shape",bt,s)});
                }
                offset += k * i32(${re("uniforms.x_strides",bt,s)});
            `;return`
              var offset = 0;
              var k = 0;
              ${et}
              value = x[offset];
          `},yp=(o,s,j)=>{switch(j.mode){case 0:return fp(o,s,j.pads.length);case 1:return mp(o,s,j.pads.length);case 2:return hp(o,s,j.pads.length);case 3:return gp(o,s,j.pads.length);default:throw new Error("Invalid mode")}},bp=(o,s)=>{let j=M.padShape(o[0].dims.slice(),s.pads),et=o[0].dims,bt=M.size(j),At=[{type:12,data:bt},{type:12,data:s.pads}];s.mode===0&&At.push({type:o[0].dataType,data:s.value}),At.push(...K(o[0].dims,j));let Et=["rank"],Ut=zt=>{let It=q("output",o[0].dataType,j.length),Qt=D("x",o[0].dataType,et.length),Pt=Qt.type.value,Yt=yp(It,et.length,s),cr=[{name:"output_size",type:"u32"},{name:"pads",type:"i32",length:s.pads.length}];return s.mode===0&&cr.push({name:"constant_value",type:Pt}),`
            ${zt.registerUniforms(cr).declareVariables(Qt,It)}
            ${zt.mainStart()}
            ${zt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

            let indices = ${It.offsetToIndices("global_idx")};

            var value = ${Pt}(0);
            ${Yt}
            output[global_idx] = value;
        }`};return{name:"Pad",shaderCache:{hint:`${s.mode}`,inputDependencies:Et},getRunData:()=>({outputs:[{dims:j,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(M.size(j)/64)},programUniforms:At}),getShaderSource:Ut}},wp=(o,s)=>{if(o.length>1){let j=o[1].getBigInt64Array(),et=o.length>=3&&o[2].data?o[2].getFloat32Array()[0]:0,bt=o[0].dims.length,At=new Int32Array(2*bt).fill(0);if(o.length>=4){let Ut=o[3].getBigInt64Array();for(let zt=0;zt<Ut.length;zt++)At[Number(Ut[zt])]=Number(j[zt]),At[Number(Ut[zt])+bt]=Number(j[zt+Ut.length])}else j.forEach((Ut,zt)=>At[Number(zt)]=Number(Ut));let Et=[];return At.forEach(Ut=>Et.push(Ut)),{mode:s.mode,value:et,pads:Et}}else return s},zu=(o,s)=>{pp(o.inputs);let j=wp(o.inputs,s);o.compute(bp(o.inputs,j),{inputs:[0]})}}),Tn,Du,Mu,Uu,Nu,vp,$p,Wu,Vu,Gu,Hu,Lu,Fu,qu,ju,Ku,Yu,Zu,Xu,Qu=F$1(()=>{lt(),ie(),_e(),be(),Tn=o=>{if(Ae.webgpu.validateInputContent&&(!o||o.length!==1))throw new Error("Pool ops requires 1 input.")},Du=(o,s,j)=>{let et=s.format==="NHWC",bt=o.dims.slice();et&&bt.splice(1,0,bt.pop());let At=Object.hasOwnProperty.call(s,"dilations"),Et=s.kernelShape.slice(),Ut=s.strides.slice(),zt=At?s.dilations.slice():[],It=s.pads.slice();qt.adjustPoolAttributes(j,bt,Et,Ut,zt,It);let Qt=qt.computePoolOutputShape(j,bt,Ut,zt,Et,It,s.autoPad),Pt=Object.assign({},s);At?Object.assign(Pt,{kernelShape:Et,strides:Ut,pads:It,dilations:zt,cacheKey:s.cacheKey}):Object.assign(Pt,{kernelShape:Et,strides:Ut,pads:It,cacheKey:s.cacheKey});let Yt=Qt.slice();return Yt.push(Yt.splice(1,1)[0]),[Pt,et?Yt:Qt]},Mu=(o,s)=>{let j=s.format==="NHWC",et=M.size(o),bt=M.size(s.kernelShape),At=[{type:12,data:et},{type:12,data:bt}],Et=[{name:"outputSize",type:"u32"},{name:"kernelSize",type:"u32"}];if(s.kernelShape.length<=2){let Ut=s.kernelShape[s.kernelShape.length-1],zt=s.strides[s.strides.length-1],It=s.pads[s.pads.length/2-1],Qt=s.pads[s.pads.length-1],Pt=!!(It+Qt);At.push({type:12,data:Ut},{type:12,data:zt},{type:12,data:It},{type:12,data:Qt}),Et.push({name:"kw",type:"u32"},{name:"sw",type:"u32"},{name:"pwStart",type:"u32"},{name:"pwEnd",type:"u32"});let Yt=!1;if(s.kernelShape.length===2){let cr=s.kernelShape[s.kernelShape.length-2],_r=s.strides[s.strides.length-2],vr=s.pads[s.pads.length/2-2],Yr=s.pads[s.pads.length-2];Yt=!!(vr+Yr),At.push({type:12,data:cr},{type:12,data:_r},{type:12,data:vr},{type:12,data:Yr}),Et.push({name:"kh",type:"u32"},{name:"sh",type:"u32"},{name:"phStart",type:"u32"},{name:"phEnd",type:"u32"})}return[At,Et,!0,Pt,Yt]}else{if(j)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let Ut=M.computeStrides(s.kernelShape);At.push({type:12,data:Ut},{type:12,data:s.pads},{type:12,data:s.strides}),Et.push({name:"kernelStrides",type:"u32",length:Ut.length},{name:"pads",type:"u32",length:s.pads.length},{name:"strides",type:"u32",length:s.strides.length});let zt=s.pads.reduce((It,Qt)=>It+Qt);return[At,Et,!!zt,!1,!1]}},Uu=(o,s,j,et,bt,At,Et,Ut,zt,It,Qt,Pt)=>{let Yt=bt.format==="NHWC",cr=s.type.value,_r=q("output",s.type.tensor,et);if(bt.kernelShape.length<=2){let vr="",Yr="",Kr="",jr=j-(Yt?2:1);if(Qt?vr=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${jr}] = indices[${jr}] * uniforms.sw - uniforms.pwStart + i;
                  if (xIndices[${jr}] < 0 || xIndices[${jr}]
                      >= uniforms.x_shape[${jr}]) {
                    pad++;
                    continue;
                  }
                  let x_val = x[${s.indicesToOffset("xIndices")}];
                  ${At}
                }`:vr=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${jr}] = indices[${jr}] * uniforms.sw - uniforms.pwStart + i;
                  let x_val = x[${s.indicesToOffset("xIndices")}];
                  ${At}
                }`,bt.kernelShape.length===2){let Hn=j-(Yt?3:2);Pt?Yr=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${Hn}] = indices[${Hn}] * uniforms.sh - uniforms.phStart + j;
                  if (xIndices[${Hn}] < 0 || xIndices[${Hn}] >= uniforms.x_shape[${Hn}]) {
                    pad += i32(uniforms.kw);
                    continue;
                  }
              `:Yr=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${Hn}] = indices[${Hn}] * uniforms.sh - uniforms.phStart + j;
                `,Kr=`
              }
            `}return`
            ${o.registerUniforms(zt).declareVariables(s,_r)}

            ${o.mainStart()}
              ${o.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

              let indices = ${_r.offsetToIndices("global_idx")};
              var xIndices = ${_r.offsetToIndices("global_idx")};

              var value = ${cr}(${Ut});
              var pad = 0;
              ${Yr}
              ${vr}
              ${Kr}
              ${Et}

              output[global_idx] = value;
            }`}else{if(Yt)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let vr=bt.kernelShape.length,Yr=bt.pads.length,Kr="";return It?Kr=`
                if (xIndices[j] >= uniforms.x_shape[j]) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                let x_val = x[${s.indicesToOffset("xIndices")}];
                ${At}
              }`:Kr=`
              }
              let x_val = x[${s.indicesToOffset("xIndices")}];
              ${At}
            `,`
            ${o.registerUniforms(zt).declareVariables(s,_r)}

            ${o.mainStart()}
              ${o.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
              let indices = ${_r.offsetToIndices("global_idx")};
              var xIndices = ${_r.offsetToIndices("global_idx")};

              var offsets: array<u32, ${vr}>;

              var value = ${cr}(${Ut});
              var pad = 0;
              var isPad = false;

              for (var i: u32 = 0u; i < uniforms.kernelSize; i++) {
                var offset = i;
                for (var j = 0u; j < ${vr-1}u; j++) {
                  offsets[j] = offset / ${re("uniforms.kernelStrides","j",vr)};
                  offset -= offsets[j] * ${re("uniforms.kernelStrides","j",vr)};
                }
                offsets[${vr-1}] = offset;

                isPad = false;
                for (var j = ${j-vr}u; j < ${j}u; j++) {
                  xIndices[j] = indices[j] * ${re("uniforms.strides",`j - ${j-vr}u`,vr)}
                    + offsets[j - ${j-vr}u] - ${re("uniforms.pads","j - 2u",Yr)};
                  ${Kr}
              }
              ${Et}

              output[global_idx] = value;
            }`}},Nu=o=>`${o.format};${o.ceilMode};${o.autoPad};${o.kernelShape.length}`,vp=o=>`${Nu(o)};${o.countIncludePad}`,$p=o=>`${Nu(o)};${o.storageOrder};${o.dilations}`,Wu=o=>({format:o.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][o.auto_pad],ceilMode:o.ceil_mode,kernelShape:o.kernel_shape,strides:o.strides,pads:o.pads}),Vu=(o,s,j,et)=>{let[bt,At]=Du(s,et,j),Et=D("x",s.dataType,s.dims.length),Ut=Et.type.value,zt="value += x_val;",It="";bt.countIncludePad?It+=`value /= ${Ut}(uniforms.kernelSize);`:It+=`value /= ${Ut}(i32(uniforms.kernelSize) - pad);`;let[Qt,Pt,Yt,cr,_r]=Mu(At,bt);Qt.push(...K(s.dims,At));let vr=["rank"];return{name:o,shaderCache:{hint:`${et.cacheKey};${Yt};${cr};${_r}`,inputDependencies:vr},getRunData:()=>({outputs:[{dims:At,dataType:s.dataType}],dispatchGroup:{x:Math.ceil(M.size(At)/64)},programUniforms:Qt}),getShaderSource:Yr=>Uu(Yr,Et,s.dims.length,At.length,bt,zt,It,0,Pt,Yt,cr,_r)}},Gu=o=>{let s=o.count_include_pad!==0,j=Wu(o);if(j.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");let et={countIncludePad:s,...j,cacheKey:""};return{...et,cacheKey:vp(et)}},Hu=(o,s)=>{Tn(o.inputs),o.compute(Vu("AveragePool",o.inputs[0],!1,s))},Lu={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[]},Fu=o=>{let s=o.format;return{format:s,...Lu,cacheKey:s}},qu=(o,s)=>{Tn(o.inputs),o.compute(Vu("GlobalAveragePool",o.inputs[0],!0,s))},ju=(o,s,j,et)=>{let[bt,At]=Du(s,et,j),Et=`
      value = max(x_val, value);
    `,Ut="",zt=D("x",s.dataType,s.dims.length),It=["rank"],[Qt,Pt,Yt,cr,_r]=Mu(At,bt);return Qt.push(...K(s.dims,At)),{name:o,shaderCache:{hint:`${et.cacheKey};${Yt};${cr};${_r}`,inputDependencies:It},getRunData:()=>({outputs:[{dims:At,dataType:s.dataType}],dispatchGroup:{x:Math.ceil(M.size(At)/64)},programUniforms:Qt}),getShaderSource:vr=>Uu(vr,zt,s.dims.length,At.length,bt,Et,Ut,s.dataType===10?-65504:-1e5,Pt,Yt,cr,_r)}},Ku=(o,s)=>{Tn(o.inputs),o.compute(ju("MaxPool",o.inputs[0],!1,s))},Yu=o=>{let s=o.storage_order,j=o.dilations,et=Wu(o);if(s!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(et.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");let bt={storageOrder:s,dilations:j,...et,cacheKey:""};return{...bt,cacheKey:$p(bt)}},Zu=o=>{let s=o.format;return{format:s,...Lu,cacheKey:s}},Xu=(o,s)=>{Tn(o.inputs),o.compute(ju("GlobalMaxPool",o.inputs[0],!0,s))}}),xp,Sp,Ju,el=F$1(()=>{lt(),ie(),be(),xp=(o,s,j)=>{let et=o===s,bt=o<s&&j<0,At=o>s&&j>0;if(et||bt||At)throw new Error("Range these inputs' contents are invalid.")},Sp=(o,s,j,et)=>{let bt=Math.abs(Math.ceil((s-o)/j)),At=[bt],Et=bt,Ut=[{type:12,data:Et},{type:et,data:o},{type:et,data:j},...K(At)],zt=It=>{let Qt=q("output",et,At.length),Pt=Qt.type.value,Yt=[{name:"outputSize",type:"u32"},{name:"start",type:Pt},{name:"delta",type:Pt}];return`
        ${It.registerUniforms(Yt).declareVariables(Qt)}
        ${It.mainStart()}
        ${It.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        output[global_idx] = uniforms.start + ${Pt}(global_idx) * uniforms.delta;
      }`};return{name:"Range",shaderCache:{hint:`${et}`},getShaderSource:zt,getRunData:()=>({outputs:[{dims:At,dataType:et}],dispatchGroup:{x:Math.ceil(Et/64)},programUniforms:Ut})}},Ju=o=>{let s=0,j=0,et=0;o.inputs[0].dataType===6?(s=o.inputs[0].getInt32Array()[0],j=o.inputs[1].getInt32Array()[0],et=o.inputs[2].getInt32Array()[0]):o.inputs[0].dataType===1&&(s=o.inputs[0].getFloat32Array()[0],j=o.inputs[1].getFloat32Array()[0],et=o.inputs[2].getFloat32Array()[0]),Ae.webgpu.validateInputContent&&xp(s,j,et),o.compute(Sp(s,j,et,o.inputs[0].dataType),{inputs:[]})}}),Cp,Ip,Ep,Ap,Tp,Op,kp,Pp,Rp,zp,Bp,tl,Dp,Mp,Up,Np,Wp,rl,nl,al=F$1(()=>{ie(),_e(),Ye(),be(),Cp=(o,s)=>{if(o.every(j=>j>0||(()=>{throw new Error("Resize requires scales input values to be positive")})),o.length>0){if(s.mode==="linear"){if(!(o.length===2||o.length===3||o.length===4&&o[0]===1&&o[1]===1||o.length===4&&o[0]===1&&o[3]===1||o.length===5&&o[0]===1&&o[1]===1))throw new Error(`For linear mode, Resize requires scales to be 2D, 3D, 4D with either two outermost or one innermost and
            one outermost scale values equal to 1, or 5D with two outermost scale values equal to 1`)}else if(s.mode==="cubic"&&!(o.length===2||o.length===4&&o[0]===1&&o[1]===1||o.length===4&&o[0]===1&&o[3]===1))throw new Error("Resize requires scales input size to be 2 or 4 for cubic mode")}},Ip=(o,s,j)=>{s.every(bt=>bt>=0&&bt<j||(()=>{throw new Error("Resize requires axes input values to be positive and less than rank")}));let et=new Array(j).fill(1);return s.forEach((bt,At)=>et[bt]=o[At]),et},Ep=(o,s,j,et,bt,At)=>{let[Et,Ut,zt]=j>10?[1,2,3]:[-1,o.length>1?1:-1,-1],It=o[0].dims.length;if(Et>0&&o.length>Et&&o[Et].dims.length>0)o[Et].getFloat32Array().forEach(Qt=>At.push(Qt));else if(s.coordinateTransformMode==="tf_crop_and_resize")throw new Error("Resize requires RoI input to be specified when coordinateTransformMode is tfCropAndResize");if(Ut>0&&o.length>Ut&&o[Ut].dims.length>0){if(o[Ut].getFloat32Array().forEach(Qt=>et.push(Qt)),et.length!==0&&et.length!==It&&j>=18&&et.length!==s.axes.length)throw new Error("Resize requires scales input size to be same as input rank or axes size for opset 18 and up");Cp(et,s),s.axes.length>0&&Ip(et,s.axes,It).forEach((Qt,Pt)=>et[Pt]=Qt)}if(zt>0&&o.length>zt&&(o[zt].getBigInt64Array().forEach(Qt=>bt.push(Number(Qt))),bt.length!==It||j>=18&&bt.length===s.axes.length))throw new Error("Resize requires sizes input size to be same as input rank or axes size for opset 18 and up");if(s.axes.length>0){if(et.length!==s.axes.length)throw new Error('Resize requires "scales" input size to be of axes rank when axes attributes is specified');if(bt.length!==s.axes.length)throw new Error('Resize requires "sizes" input size to be of rank axes rank when axes attributes is specified')}if(typeof et<"u"&&typeof bt<"u"&&et.length>0&&bt.length>It)throw new Error("Resize requires only of scales or sizes to be specified")},Ap=(o,s)=>`fn getOriginalCoordinateFromResizedCoordinate(xResized: u32, xScale: f32, lengthResized: u32,
     lengthOriginal: u32, roiStart: f32, roiEnd: f32) -> ${s} { `+(()=>{switch(o){case"asymmetric":return`return ${s}(xResized) / ${s}(xScale);`;case"pytorch_half_pixel":return`if (lengthResized > 1) {
                    return (${s}(xResized) + 0.5) / ${s}(xScale) - 0.5;
                  } else {
                    return 0.0;
                  }`;case"tf_half_pixel_for_nn":return`return (${s}(xResized) + 0.5) / ${s}(xScale);`;case"align_corners":return`if (lengthResized == 1) {
                    return 0.0;
                  } else {
                    // The whole part and the fractional part are calculated separately due to inaccuracy of floating
                    // point division. As an example, f32(21) / f32(7) may evaluate to 2.99... instead of 3, causing an
                    // offset-by-one error later in floor().
                    let whole = ${s}(xResized * (lengthOriginal - 1) / (lengthResized - 1));
                    let fract =
                        ${s}(xResized * (lengthOriginal - 1) % (lengthResized - 1)) / ${s}(lengthResized - 1);
                    return whole + fract;
                  }`;case"tf_crop_and_resize":return`if (lengthResized > 1) {
                    return ${s}(roiStart) * ${s}(lengthOriginal - 1) +
                        (${s}(xResized) * ${s}(roiEnd - roiStart) * ${s}(lengthOriginal - 1)) /
                        ${s}(lengthResized - 1);
                  } else {
                    return 0.5 * ${s}(roiStart + roiEnd) * ${s}(lengthOriginal - 1);
                  }`;case"half_pixel_symmetric":return`const outputWidth = ${s}xScale * ${s}(lengthResized);
                  const adjustment = ${s}(lengthResized) / outputWidth;
                  const center = ${s}(lengthOriginal) / 2;
                  const offset = center * (1 - adjustment);
                  return offset + ((${s}(xResized) + 0.5) / ${s}(xScale)) - 0.5;`;case"half_pixel":return`return ((${s}(xResized) + 0.5) / ${s}(xScale)) - 0.5;`;default:throw new Error(`Coordinate transform mode ${o} is not supported`)}})()+"}",Tp=(o,s,j)=>`fn getNearestPixelFromOriginal(xOriginal: ${j}, isDownSample: bool) -> ${j} {`+(()=>{switch(o){case"round_prefer_ceil":return"if (fract(xOriginal) == 0.5) {             return ceil(xOriginal);           } else {             return round(xOriginal);           }";case"floor":return"return floor(xOriginal);";case"ceil":return"return ceil(xOriginal);";case"round_prefer_floor":return"if (fract(xOriginal) == 0.5) {                     return floor(xOriginal);                   } else {                     return round(xOriginal);                   }";case"simple":default:if(s<11)return"if (isDownSample)                     {                       return ceil(xOriginal);                     } else {                       return xOriginal;                     }";throw new Error(`Nearest mode ${o} is not supported`)}})()+"}",Op=(o,s,j)=>{let et=new Array(j).fill(0).concat(new Array(j).fill(1)),bt=o.length===0?et:o.slice();return s.length>0?(s.forEach((At,Et)=>{et[At]=bt[Et],et[Et+j]=bt[s.length+Et]}),et):bt},kp=(o,s,j,et)=>{let bt=[];if(j.length>0)if(et.length>0){if(o.forEach(At=>bt.push(At)),Math.max(...et)>o.length)throw new Error("axes is out of bound");et.forEach((At,Et)=>bt[At]=j[Et])}else j.forEach(At=>bt.push(At));else{if(s.length===0)throw new Error("Resize requires either scales or sizes.");bt=o.map((At,Et)=>Math.round(At*s[Et]))}return bt},Pp=(o,s,j)=>{let et=(()=>{switch(j.keepAspectRatioPolicy){case"not_larger":return j.axes.length>0?Math.min(...j.axes.map(At=>s[At]),Number.MAX_VALUE):Math.min(...s,Number.MAX_VALUE);case"not_smaller":return j.axes.length>0?Math.max(...j.axes.map(At=>s[At]),Number.MIN_VALUE):Math.max(...s,Number.MIN_VALUE);default:throw new Error(`Keep aspect ratio policy ${j.keepAspectRatioPolicy} is not supported`)}})();s.fill(1,0,s.length);let bt=o.slice();return j.axes.length>0?(j.axes.forEach(At=>s[At]=et),j.axes.forEach(At=>bt[At]=Math.round(o[At]*s[At]))):(s.fill(et,0,s.length),bt.forEach((At,Et)=>bt[Et]=Math.round(At*s[Et]))),bt},Rp=(o,s,j,et,bt)=>`
    fn calculateOriginalIndicesFromOutputIndices(output_indices: ${o.type.indices}) -> array<${o.type.value}, ${j.length}> {
      var original_indices: array<${o.type.value}, ${j.length}>;
      for (var i:u32 = 0; i < ${j.length}; i++) {
        var output_index = ${o.indicesGet("output_indices","i")};
        var scale = ${re("uniforms.scales","i",et)};
        var roi_low = ${re("uniforms.roi","i",bt)};
        var roi_hi = ${re("uniforms.roi",`i + ${s.length}`,bt)};
        if (scale == 1.0) {
          original_indices[i] = ${o.type.value}(output_index);
        } else {
          var input_shape_i = ${re("uniforms.input_shape","i",s.length)};
          var output_shape_i = ${re("uniforms.output_shape","i",j.length)};
          original_indices[i] = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                           input_shape_i, roi_low, roi_hi);
        }
      }
      return original_indices;
    }`,zp=(o,s,j,et,bt,At,Et)=>`
    fn calculateInputIndicesFromOutputIndices(output_indices: ${s.type.indices}) -> ${o.type.indices} {
      var input_indices: ${o.type.indices};
      for (var i:u32 = 0; i < ${et.length}; i++) {
        var output_index = ${s.indicesGet("output_indices","i")};
        var input_index: u32;
        var scale = ${re("uniforms.scales","i",bt)};
        if (scale == 1.0) {
          input_index = output_index;
        } else {
          var roi_low = ${re("uniforms.roi","i",At)};
          var roi_hi = ${re("uniforms.roi",`i + ${j.length}`,At)};
          var input_shape_i = ${re("uniforms.input_shape","i",j.length)};
          var output_shape_i = ${re("uniforms.output_shape","i",et.length)};
          var original_idx = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                        input_shape_i, roi_low, roi_hi);
          if (!${Et} || (original_idx >= 0 && original_idx < ${s.type.value}(input_shape_i))) {
            if (original_idx < 0) {
              input_index = 0;
            } else if (original_idx > ${s.type.value}(input_shape_i - 1)) {
              input_index = input_shape_i - 1;
            } else {
              input_index = u32(getNearestPixelFromOriginal(original_idx, scale < 1));
            }
          } else {
            input_index = u32(original_idx);
          }
        }
        ${o.indicesSet("input_indices","i"," input_index")}
      }
      return input_indices;
    }`,Bp=(o,s)=>`
    fn checkInputIndices(input_indices: ${o.type.indices}) -> bool {
      for (var i:u32 = 0; i < ${s.length}; i++) {
        var input_index = ${o.indicesGet("input_indices","i")};
        if (input_index < 0 || input_index >= ${re("uniforms.input_shape","i",s.length)}) {
          return false;
        }
      }
      return true;
    }`,tl=(o,s,j,et)=>o.rank>et?`
    ${o.indicesSet("input_indices",s,"channel")};
    ${o.indicesSet("input_indices",j,"batch")};
`:"",Dp=(o,s,j,et,bt)=>{let[At,Et,Ut,zt]=j.length===2?[-1,0,1,-1]:[0,2,3,1],It=o.type.value;return`
    fn getInputValue(batch: u32, channel: u32, row: u32, col: u32) -> ${It} {
      var input_indices: ${o.type.indices};
      ${o.indicesSet("input_indices",Et,`max(0, min(row, ${j[Et]} - 1))`)};
      ${o.indicesSet("input_indices",Ut,`max(0, min(col, ${j[Ut]} - 1))`)};
      ${tl(o,zt,At,2)}
      return ${o.getByIndices("input_indices")};
    }

    fn bilinearInterpolation(output_indices: ${s.type.indices}) -> ${It} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var row:${It} = originalIndices[${Et}];
      var col:${It} = originalIndices[${Ut}];
      ${et?`if (row < 0 || row > (${j[Et]} - 1) || col < 0 || col > (${j[Ut]} - 1)) {
        return ${bt};
      }`:""};
      row = max(0, min(row, ${j[Et]} - 1));
      col = max(0, min(col, ${j[Ut]} - 1));
      var row1: u32 = u32(row);
      var col1: u32 = u32(col);
      var row2: u32 = u32(row + 1);
      var col2: u32 = u32(col + 1);
      var channel: u32 = ${j.length>2?`u32(originalIndices[${zt}])`:"0"};
      var batch: u32 =  ${j.length>2?`u32(originalIndices[${At}])`:"0"};
      var x11: ${It} = getInputValue(batch, channel, row1, col1);
      var x12: ${It} = getInputValue(batch, channel, row1, col2);
      var x21: ${It} = getInputValue(batch, channel, row2, col1);
      var x22: ${It} = getInputValue(batch, channel, row2, col2);
      var dx1: ${It} = abs(row - ${It}(row1));
      var dx2: ${It} = abs(${It}(row2) - row);
      var dy1: ${It} = abs(col - ${It}(col1));
      var dy2: ${It} = abs(${It}(col2) - col);
      if (row1 == row2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (col1 == col2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      return (x11 * dx2 * dy2 + x12 * dx2 * dy1 + x21 * dx1 * dy2 + x22 * dx1 * dy1);
    }`},Mp=(o,s,j,et,bt,At,Et,Ut,zt,It)=>{let Qt=j.length===2,[Pt,Yt]=Qt?[0,1]:[2,3],cr=o.type.value,_r=vr=>{let Yr=vr===Pt?"row":"col";return`
      fn ${Yr}CubicInterpolation(input_indices: ${o.type.indices}, output_indices: ${s.type.indices}) -> ${cr} {
        var output_index = ${s.indicesGet("output_indices",vr)};
        var originalIdx: ${cr} = getOriginalCoordinateFromResizedCoordinate(output_index, ${bt[vr]},
        ${et[vr]}, ${j[vr]}, ${At[vr]}, ${At[vr]} + ${j.length});
        var fractOriginalIdx: ${cr} = originalIdx - floor(originalIdx);
        var coefs = getCubicInterpolationCoefs(fractOriginalIdx);

        if (${Ut} && (originalIdx < 0 || originalIdx > (${j[vr]} - 1))) {
          return ${zt};
        }
        var data: array<${cr}, 4> = array<${cr}, 4>(0.0, 0.0, 0.0, 0.0);
        for (var i: i32 = -1; i < 3; i++) {
          var ${Yr}: ${cr} = originalIdx + ${cr}(i);
          if (${Yr} < 0 || ${Yr} >= ${j[vr]}) {
            ${It?`coefs[i + 1] = 0.0;
                        continue;`:Ut?`return ${zt};`:`${Yr} = max(0, min(${Yr}, ${j[vr]} - 1));`};
          }
        var input_indices_copy: ${o.type.indices} = input_indices;
          ${o.indicesSet("input_indices_copy",vr,`u32(${Yr})`)};
          data[i + 1] = ${vr===Pt?o.getByIndices("input_indices_copy"):"rowCubicInterpolation(input_indices_copy, output_indices)"};
        }
        return cubicInterpolation1D(data, coefs);
      }`};return`
    ${_r(Pt)};
    ${_r(Yt)};
  fn getCubicInterpolationCoefs(s: ${cr}) -> array<${cr}, 4> {
    var absS = abs(s);
    var coeffs: array<${cr}, 4> = array<${cr}, 4>(0.0, 0.0, 0.0, 0.0);
    var oneMinusAbsS: ${cr} = 1.0 - absS;
    var twoMinusAbsS: ${cr} = 2.0 - absS;
    var onePlusAbsS: ${cr} = 1.0 + absS;
    coeffs[0] = ((${Et} * onePlusAbsS - 5 * ${Et}) * onePlusAbsS + 8 * ${Et}) * onePlusAbsS - 4 * ${Et};
    coeffs[1] = ((${Et} + 2) * absS - (${Et} + 3)) * absS * absS + 1;
    coeffs[2] = ((${Et} + 2) * oneMinusAbsS - (${Et} + 3)) * oneMinusAbsS * oneMinusAbsS + 1;
    coeffs[3] = ((${Et} * twoMinusAbsS - 5 * ${Et}) * twoMinusAbsS + 8 * ${Et}) * twoMinusAbsS - 4 * ${Et};
    return coeffs;
  }

  fn cubicInterpolation1D(x: array<${cr}, 4>, coefs: array<${cr}, 4>) -> ${cr} {
    var coefsSum: ${cr} = coefs[0] + coefs[1] + coefs[2] + coefs[3];
    return (x[0] * coefs[0] + x[1] * coefs[1]+ x[2] * coefs[2]+ x[3] * coefs[3]) / coefsSum;
  }

  fn bicubicInterpolation(output_indices: ${s.type.indices}) -> ${cr} {
    var input_indices: ${o.type.indices} = output_indices;
    return colCubicInterpolation(input_indices, output_indices);
  }
    `},Up=(o,s,j,et,bt)=>{let[At,Et,Ut,zt,It]=j.length===3?[-1,0,1,2,-1]:[0,2,3,4,1],Qt=o.type.value;return`
    fn getInputValue(batch: u32, channel: u32, depth:u32, height: u32, width: u32) -> ${Qt} {
      var input_indices: ${o.type.indices};
      ${o.indicesSet("input_indices",Et,`max(0, min(depth, ${j[Et]} - 1))`)};
      ${o.indicesSet("input_indices",Ut,`max(0, min(height, ${j[Ut]} - 1))`)};
      ${o.indicesSet("input_indices",zt,`max(0, min(width, ${j[zt]} - 1))`)};
      ${tl(o,It,At,3)}
      return ${o.getByIndices("input_indices")};
    }

    fn trilinearInterpolation(output_indices: ${s.type.indices}) -> ${Qt} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var depth:${Qt} = originalIndices[${Et}];
      var height:${Qt} = originalIndices[${Ut}];
      var width:${Qt} = originalIndices[${zt}];
      ${et?`if (depth < 0 || depth > (${j[Et]} - 1) || height < 0 || height > (${j[Ut]} - 1) || width < 0 || (width > ${j[zt]} - 1)) {
      return ${bt};
        }`:""};

    depth = max(0, min(depth, ${j[Et]} - 1));
      height = max(0, min(height, ${j[Ut]} - 1));
      width = max(0, min(width, ${j[zt]} - 1));
      var depth1: u32 = u32(depth);
      var height1: u32 = u32(height);
      var width1: u32 = u32(width);
      var depth2: u32 = u32(depth + 1);
      var height2: u32 = u32(height + 1);
      var width2: u32 = u32(width + 1);
      var channel: u32 = ${j.length>3?`u32(originalIndices[${It}])`:"0"};
      var batch: u32 =  ${j.length>3?`u32(originalIndices[${At}])`:"0"};

      var x111: ${Qt} = getInputValue(batch, channel, depth1, height1, width1);
      var x112: ${Qt} = getInputValue(batch, channel, depth1, height1, width2);
      var x121: ${Qt} = getInputValue(batch, channel, depth1, height2, width1);
      var x122: ${Qt} = getInputValue(batch, channel, depth1, height2, width2);
      var x211: ${Qt} = getInputValue(batch, channel, depth2, height1, width1);
      var x212: ${Qt} = getInputValue(batch, channel, depth2, height1, width2);
      var x221: ${Qt} = getInputValue(batch, channel, depth2, height2, width1);
      var x222: ${Qt} = getInputValue(batch, channel, depth2, height2, width2);
      var dx1: ${Qt} = abs(depth - ${Qt}(depth1));
      var dx2: ${Qt} = abs(${Qt}(depth2) - depth);
      var dy1: ${Qt} = abs(height - ${Qt}(height1));
      var dy2: ${Qt} = abs(${Qt}(height2) - height);
      var dz1: ${Qt} = abs(width - ${Qt}(width1));
      var dz2: ${Qt} = abs(${Qt}(width2) - width);
      if (depth1 == depth2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (height1 == height2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      if (width1 == width2) {
        dz1 = 0.5;
        dz2 = 0.5;
      }
      return (x111 * dx2 * dy2 * dz2 + x112 * dx2 * dy2 * dz1 + x121 * dx2 * dy1 *dz2 + x122 * dx2 * dy1 * dz1 +
              x211 * dx1 * dy2 * dz2 + x212 * dx1 * dy2 * dz1 + x221 * dx1 * dy1 *dz2 + x222 * dx1 * dy1 * dz1);
    }`},Np=(o,s,j,et,bt,At)=>{let Et=o.dims,Ut=Op(At,s.axes,Et.length),zt=kp(Et,et,bt,s.axes),It=et.slice();et.length===0&&(It=Et.map((jr,Hn)=>jr===0?1:zt[Hn]/jr),s.keepAspectRatioPolicy!=="stretch"&&(zt=Pp(Et,It,s)));let Qt=q("output",o.dataType,zt.length),Pt=D("input",o.dataType,Et.length),Yt=M.size(zt),cr=Et.length===zt.length&&Et.every((jr,Hn)=>jr===zt[Hn]),_r=s.coordinateTransformMode==="tf_crop_and_resize",vr=s.extrapolationValue,Yr=Pt.type.value,Kr=jr=>`
      ${cr?"":`
      ${Ap(s.coordinateTransformMode,Yr)};
      ${(()=>{switch(s.mode){case"nearest":return`
              ${Bp(Pt,Et)};
              ${Tp(s.nearestMode,j,Yr)};
              ${zp(Pt,Qt,Et,zt,It.length,Ut.length,_r)};
              `;case"linear":return`
              ${Rp(Qt,Et,zt,It.length,Ut.length)};
              ${(()=>{if(Et.length===2||Et.length===4)return`${Dp(Pt,Qt,Et,_r,vr)}`;if(Et.length===3||Et.length===5)return`${Up(Pt,Qt,Et,_r,vr)}`;throw Error("Linear mode only supports input dims 2, 3, 4 and 5 are supported in linear mode.")})()};
            `;case"cubic":return`
            ${(()=>{if(Et.length===2||Et.length===4)return`${Mp(Pt,Qt,Et,zt,It,Ut,s.cubicCoeffA,_r,s.extrapolationValue,s.excludeOutside)}`;throw Error("Cubic mode only supports input dims 2 and 4 are supported in linear mode.")})()};
            `;default:throw Error("Invalid resize mode")}})()};
      `}
      ${jr.registerUniform("output_size","u32").registerUniform("scales","f32",It.length).registerUniform("roi","f32",Ut.length).declareVariables(Pt,Qt)}
      ${jr.mainStart()}
        ${jr.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
        ${cr?"output[global_idx] = input[global_idx];":`
        let output_indices = ${Qt.offsetToIndices("global_idx")};
        var input_indices: ${Pt.type.indices};
        ${(()=>{switch(s.mode){case"nearest":return`input_indices = calculateInputIndicesFromOutputIndices(output_indices);
                if (checkInputIndices(input_indices)) {
                  output[global_idx] = ${Pt.getByIndices("input_indices")};
                } else {
                  output[global_idx] = ${s.extrapolationValue};
                }`;case"linear":return`output[global_idx] = ${Et.length===2||Et.length===4?"bilinearInterpolation":"trilinearInterpolation"}(output_indices);`;case"cubic":return"output[global_idx] = bicubicInterpolation(output_indices);";default:throw Error(`Unsupported resize mode: ${s.mode}`)}})()};
`}
      }`;return{name:"Resize",shaderCache:{hint:`${s.cacheKey}|${j}|${It.length>0?It:""}|${bt.length>0?bt:""}|${Ut.length>0?Ut:""}|${cr}|${Et}`,inputDependencies:["rank"]},getShaderSource:Kr,getRunData:()=>({outputs:[{dims:zt,dataType:o.dataType}],dispatchGroup:{x:Math.ceil(Yt/64)},programUniforms:[{type:12,data:Yt},{type:1,data:It},{type:1,data:Ut},...K(Et,zt)]})}},Wp=o=>{let s=o.customDataBuffer;return new Uint32Array(s,s.byteOffset,1)[0]},rl=(o,s)=>{let j=[],et=[],bt=[],At=Wp(o);if(s.antialias!==0)throw Error("Only default value (0) for Antialias attribute is supported");Ep(o.inputs,s,At,j,et,bt),o.compute(Np(o.inputs[0],s,At,j,et,bt),{inputs:[0]})},nl=o=>{let s=o.antialias,j=o.axes,et=o.coordinateTransformMode,bt=o.cubicCoeffA,At=o.excludeOutside!==0,Et=o.extrapolationValue,Ut=o.keepAspectRatioPolicy,zt=o.mode,It=o.nearestMode===""?"simple":o.nearestMode;return $e({antialias:s,axes:j,coordinateTransformMode:et,cubicCoeffA:bt,excludeOutside:At,extrapolationValue:Et,keepAspectRatioPolicy:Ut,mode:zt,nearestMode:It})}}),Vp,Gp,il,ol=F$1(()=>{ie(),_e(),be(),Vp=o=>{if(!o||o.length<3)throw new Error("layerNorm requires at least 3 inputs.");let s=o[0],j=o[1],et=o[2];if(s.dataType!==j.dataType||s.dataType!==et.dataType)throw new Error("All inputs must have the same data type");if(s.dims.length!==3&&s.dims.length!==2)throw new Error("Input must be 2D or 3D");if(j.dims.length!==3&&j.dims.length!==2)throw new Error("Skip must be 2D or 3D");let bt=s.dims[s.dims.length-1],At=s.dims[s.dims.length-2];if(j.dims[j.dims.length-1]!==bt)throw new Error("Skip must have the same hidden size as input");if(j.dims[j.dims.length-2]!==At)throw new Error("Skip must have the same sequence length as input");if(et.dims.length!==1)throw new Error("Gamma must be 1D");if(et.dims[et.dims.length-1]!==bt)throw new Error("Gamma must have the same hidden size as input");if(o.length>3){let Et=o[3];if(Et.dims.length!==1)throw new Error("Beta must be 1D");if(Et.dims[Et.dims.length-1]!==bt)throw new Error("Beta must have the same hidden size as input")}if(o.length>4){let Et=o[4];if(Et.dims.length!==1)throw new Error("Bias must be 1D");if(Et.dims[Et.dims.length-1]!==bt)throw new Error("Bias must have the same hidden size as input")}},Gp=(o,s,j,et)=>{let bt=o[0].dims,At=M.size(bt),Et=bt,Ut=At,zt=bt.slice(-1)[0],It=et?bt.slice(0,-1).concat(1):[],Qt=o.length>3,Pt=o.length>4,Yt=et&&j>1,cr=et&&j>2,_r=j>3,vr=Me(zt),Yr=[{type:12,data:Ut},{type:12,data:vr},{type:12,data:zt},{type:1,data:s.epsilon}],Kr=Hn=>{let tA=[{name:"output_size",type:"u32"},{name:"components",type:"u32"},{name:"hidden_size",type:"u32"},{name:"epsilon",type:"f32"}],nA=[D("x",o[0].dataType,o[0].dims,vr),D("skip",o[1].dataType,o[1].dims,vr),D("gamma",o[2].dataType,o[2].dims,vr)];Qt&&nA.push(D("beta",o[3].dataType,o[3].dims,vr)),Pt&&nA.push(D("bias",o[4].dataType,o[4].dims,vr)),nA.push(q("output",o[0].dataType,Et,vr)),Yt&&nA.push(q("mean_output",1,It)),cr&&nA.push(q("inv_std_output",1,It)),_r&&nA.push(q("input_skip_bias_sum",o[0].dataType,Et,vr));let aA=ke(o[0].dataType);return`

      ${Hn.registerUniforms(tA).declareVariables(...nA)}

      ${Hn.mainStart()}
        ${Hn.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size / uniforms.hidden_size")}
        let hidden_size_vectorized: u32 = uniforms.hidden_size / uniforms.components;
        let offset = global_idx * hidden_size_vectorized;
        var sum = ${Xe("f32",vr)};
        var squareSum = ${Xe("f32",vr)};
        for (var i: u32 = 0; i < hidden_size_vectorized; i++) {
          let skip_value = skip[offset + i];
          let bias_value = ${Pt?"bias[i]":"0.0"};
          let input_value = x[offset + i];
          let value = input_value + skip_value + bias_value;
          ${_r?"input_skip_bias_sum[offset + i] = value;":""}
          output[offset + i] = value;
          let f32_value = ${mt(aA,vr,"value")};
          sum += f32_value;
          squareSum += f32_value * f32_value;
        }
        let mean = ${it("sum",vr)} / f32(uniforms.hidden_size);
        let inv_std_dev = inverseSqrt(${it("squareSum",vr)} / f32(uniforms.hidden_size) - mean * mean + uniforms.epsilon);
        ${Yt?"mean_output[global_idx] = mean;":""}
        ${cr?"inv_std_output[global_idx] = inv_std_dev;":""}
        for (var i: u32 = 0; i < hidden_size_vectorized; i++) {
          output[offset + i] = (output[offset + i] - ${aA}(mean)) * ${aA}(inv_std_dev) * gamma[i] + ${Qt?"beta[i]":"0.0"};
        }
      }`},jr=[{dims:Et,dataType:o[0].dataType}];return j>1&&jr.push({dims:It,dataType:1}),j>2&&jr.push({dims:It,dataType:1}),j>3&&jr.push({dims:bt,dataType:o[0].dataType}),{name:"SkipLayerNormalization",shaderCache:{hint:`${vr};${Yt};${cr};${_r}`,inputDependencies:o.map((Hn,tA)=>"type")},getShaderSource:Kr,getRunData:()=>({outputs:jr,dispatchGroup:{x:Math.ceil(Ut/zt/64)},programUniforms:Yr})}},il=(o,s)=>{Vp(o.inputs);let j=[0];o.outputCount>1&&j.push(-3),o.outputCount>2&&j.push(-3),o.outputCount>3&&j.push(3),o.compute(Gp(o.inputs,s,o.outputCount,!1),{outputs:j})}}),Hp,On,Lp,sl,Fp,qp,ul,ll,dl=F$1(()=>{ie(),_e(),Ye(),be(),Hp=(o,s)=>{if(!o||o.length<1)throw new Error("too few inputs");if(s.axes.length!==0){if(s.axes.length!==s.starts.length||s.axes.length!==s.ends.length)throw new Error("axes, starts and ends must have the same length")}else if(s.starts.length!==s.ends.length)throw new Error("starts and ends must have the same length");o.slice(1).forEach((j,et)=>{if(o[et+1].dataType!==6&&o[et+1].dataType!==7)throw new Error(`Input ${et} must be an array of int32 or int64`)})},On=(o,s)=>{let j=[];if(o.length>s)if(o[s].dataType===7)o[s].getBigInt64Array().forEach(et=>j.push(Number(et)));else if(o[s].dataType===6)o[s].getInt32Array().forEach(et=>j.push(Number(et)));else throw new Error(`Input ${s} must be an array of int32 or int64`);return j},Lp=(o,s)=>{if(o.length>1){let j=On(o,1),et=On(o,2),bt=On(o,3);return bt.length===0&&(bt=[...Array(o[0].dims.length).keys()]),$e({starts:j,ends:et,axes:bt})}else return s},sl=(o,s,j,et,bt)=>{let At=o;return o<0&&(At+=j[et[s]]),bt[s]<0?Math.max(0,Math.min(At,j[et[s]]-1)):Math.max(0,Math.min(At,j[et[s]]))},Fp=(o,s,j)=>`fn calculateInputIndices(output_indices: ${s.type.indices}) -> ${o.type.indices} {
          var input_indices: ${o.type.indices};
          var carry = 0u;
          for (var i = ${j.length}; i >= 0; i--) {
            let input_shape_i = ${re("uniforms.input_shape","i",j.length)};
            let steps_i = ${re("uniforms.steps","i",j.length)};
            let signs_i = ${re("uniforms.signs","i",j.length)};
            let starts_i = ${re("uniforms.starts","i",j.length)};
            var output_index = ${s.indicesGet("output_indices","i")};
            var input_index = output_index * steps_i + starts_i + carry;
            carry = input_index / input_shape_i;
            input_index = input_index % input_shape_i;
            if (signs_i < 0) {
              input_index = input_shape_i - input_index - 1u + starts_i;
            }
            ${o.indicesSet("input_indices","i","input_index")};
          }
          return input_indices;
      }`,qp=(o,s)=>{let j=o[0].dims,et=M.size(j),bt=s.axes.length>0?M.normalizeAxes(s.axes,j.length):[...Array(j.length).keys()],At=On(o,4);At.forEach(Kr=>Kr!==0||(()=>{throw new Error("step cannot be 0")})),At.length===0&&(At=Array(bt.length).fill(1));let Et=s.starts.map((Kr,jr)=>sl(Kr,jr,j,bt,At)),Ut=s.ends.map((Kr,jr)=>sl(Kr,jr,j,bt,At));if(bt.length!==Et.length||bt.length!==Ut.length)throw new Error("start, ends and axes should have the same number of elements");if(bt.length!==j.length)for(let Kr=0;Kr<j.length;++Kr)bt.includes(Kr)||(Et.splice(Kr,0,0),Ut.splice(Kr,0,j[Kr]),At.splice(Kr,0,1));let zt=At.map(Kr=>Math.sign(Kr));At.forEach((Kr,jr,Hn)=>{if(Kr<0){let tA=(Ut[jr]-Et[jr])/Kr,nA=Et[jr],aA=nA+tA*At[jr];Et[jr]=aA,Ut[jr]=nA,Hn[jr]=-Kr}});let It=j.slice(0);bt.forEach((Kr,jr)=>{It[Kr]=Math.ceil((Ut[Kr]-Et[Kr])/At[Kr])});let Qt={dims:It,dataType:o[0].dataType},Pt=q("output",o[0].dataType,It.length),Yt=D("input",o[0].dataType,o[0].dims.length),cr=M.size(It),_r=[{name:"outputSize",type:"u32"},{name:"starts",type:"u32",length:Et.length},{name:"signs",type:"i32",length:zt.length},{name:"steps",type:"u32",length:At.length}],vr=[{type:12,data:cr},{type:12,data:Et},{type:6,data:zt},{type:12,data:At},...K(o[0].dims,It)],Yr=Kr=>`
      ${Kr.registerUniforms(_r).declareVariables(Yt,Pt)}
        ${Fp(Yt,Pt,j)}
        ${Kr.mainStart()}
          ${Kr.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
          let output_indices = ${Pt.offsetToIndices("global_idx")};
          let input_indices = calculateInputIndices(output_indices);
          ${Pt.setByOffset("global_idx",Yt.getByIndices("input_indices"))}
      }`;return{name:"Slice",shaderCache:{hint:`${zt.length}_${Et.length}_${At.length}`,inputDependencies:["rank"]},getShaderSource:Yr,getRunData:()=>({outputs:[Qt],dispatchGroup:{x:Math.ceil(et/64)},programUniforms:vr})}},ul=(o,s)=>{Hp(o.inputs,s);let j=Lp(o.inputs,s);o.compute(qp(o.inputs,j),{inputs:[0]})},ll=o=>{let s=o.starts,j=o.ends,et=o.axes;return $e({starts:s,ends:j,axes:et})}}),jp,Kp,cl,pl,fl=F$1(()=>{ie(),_e(),Ye(),be(),jp=o=>{if(!o||o.length!==1)throw new Error("Softmax op requires 1 input.")},Kp=(o,s)=>{let j=o.dims,et=M.size(j),bt=64,At=s.axis;if(At<0&&(At=j.length+At),At<j.length-1)throw new Error("softmax only supports last axis for now.");let Et=j[At],Ut=et/Et,zt=Me(Et),It=Et/zt,Qt=(Yr,Kr)=>Kr===4?`max(max(${Yr}.x, ${Yr}.y), max(${Yr}.z, ${Yr}.w))`:Kr===2?`max(${Yr}.x, ${Yr}.y)`:Kr===3?`max(max(${Yr}.x, ${Yr}.y), ${Yr}.z)`:Yr,Pt=D("x",o.dataType,o.dims,zt),Yt=q("result",o.dataType,o.dims,zt),cr=Pt.type.value,_r=ke(o.dataType)==="f32"?`var threadMax = ${cr}(-3.402823e+38f);`:`var threadMax = ${cr}(-65504.0h);`,vr=Yr=>`
      var<workgroup> rowMaxShared : ${cr};
      var<workgroup> rowSumShared : ${cr};
      var<workgroup> threadShared : array<${cr}, ${bt}>;

      fn getValue(row: i32, col: i32, row_stride: i32) -> ${cr} {
        let index = row * row_stride + col;
        return x[index];
      }

      fn setValue(row: i32, col: i32, row_stride: i32, value: ${cr}) {
        let index = row * row_stride + col;
        result[index] = value;
      }
      ${Yr.registerUniform("packedCols","i32").declareVariables(Pt,Yt)}
      ${Yr.mainStart()}
        let gindex = i32(global_idx);
        let lindex = i32(local_idx);
        const wg = ${bt};
        let row = gindex / wg;
        let cols = uniforms.packedCols;
        let row_stride : i32 = uniforms.packedCols;

        // find the rows max
        ${_r}
        for (var col = lindex; col < cols; col += wg) {
          let value = getValue(row, col, row_stride);
          threadMax = max(threadMax, value);
        }
        if (lindex < cols) {
          threadShared[lindex] = threadMax;
        }
        workgroupBarrier();

        var reduceSize = min(cols, wg);
        for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {
          reduceSize = currSize + (reduceSize & 1);
          if (lindex < currSize) {
            threadShared[lindex] = max(threadShared[lindex], threadShared[lindex + reduceSize]);
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowMaxShared = ${cr}(${Qt("threadShared[0]",zt)});
        }
        workgroupBarrier();

        // find the rows sum
        var threadSum = ${cr}(0.0);
        for (var col = lindex; col < cols; col += wg) {
          let subExp = exp(getValue(row, col, row_stride) - rowMaxShared);
          threadSum += subExp;
        }
        threadShared[lindex] = threadSum;
        workgroupBarrier();

        for (var currSize = wg >> 1;  currSize > 0; currSize = currSize >> 1) {
          if (lindex < currSize) {
            threadShared[lindex] = threadShared[lindex] + threadShared[lindex + currSize];
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowSumShared = ${cr}(${it("threadShared[0]",zt)});
        }
        workgroupBarrier();

        // calculate final value for each element in the row
        for (var col = lindex; col < cols; col += wg) {
          let value = exp(getValue(row, col, row_stride) - rowMaxShared) / rowSumShared;
          setValue(row, col, row_stride, value);
        }
      }`;return{name:"Softmax",shaderCache:{hint:`${zt}`,inputDependencies:["type"]},getRunData:()=>({outputs:[{dims:j,dataType:o.dataType}],dispatchGroup:{x:Ut},programUniforms:[{type:12,data:It}]}),getShaderSource:vr}},cl=(o,s)=>{jp(o.inputs),o.compute(Kp(o.inputs[0],s))},pl=o=>$e({axis:o.axis})}),Yp,Zp,Xp,Qp,Jp,ml,hl,gl=F$1(()=>{ie(),_e(),Ye(),be(),Yp=o=>{if(!o||o.length<1)throw new Error("too few inputs")},Zp=(o,s)=>{let j=[],et=s.numOutputs;return o[1].dims[0]>0&&(o[1].getBigInt64Array().forEach(bt=>j.push(Number(bt))),et=j.length),$e({numOutputs:et,axis:s.axis,splitSizes:j})},Xp=o=>`
fn calculateOutputIndex(index: u32) -> u32 {
    for (var i: u32 = 0u; i < ${o}u; i += 1u ) {
    if (index < ${re("uniforms.size_in_split_axis","i",o)}) {
        return i;
    }
    }
    return ${o}u;
}`,Qp=o=>{let s=o.length,j=[];for(let et=0;et<s;++et){let bt=o[et].setByIndices("indices","input[global_idx]");s===1?j.push(bt):et===0?j.push(`if (output_number == ${et}u) { ${bt} }`):et===s-1?j.push(`else { ${bt} }`):j.push(`else if (output_number == ${et}) { ${bt} }`)}return`
      fn writeBufferData(output_number: u32, indices: ${o[0].type.indices}, global_idx: u32) {
        ${j.join(`
`)}
      }`},Jp=(o,s)=>{let j=o[0].dims,et=M.size(j),bt=o[0].dataType,At=M.normalizeAxis(s.axis,j.length),Et=new Array(s.numOutputs),Ut=D("input",bt,j.length),zt=new Array(s.numOutputs),It=[],Qt=[],Pt=0,Yt=[{type:12,data:et}];for(let _r=0;_r<s.numOutputs;_r++){Pt+=s.splitSizes[_r],zt[_r]=Pt;let vr=j.slice();vr[s.axis]=s.splitSizes[_r],Qt.push(vr),Et[_r]=q(`output${_r}`,bt,vr.length),It.push({dims:Qt[_r],dataType:o[0].dataType})}Yt.push({type:12,data:zt},...K(j,...Qt));let cr=_r=>`
  ${_r.registerUniform("input_size","u32").registerUniform("size_in_split_axis","u32",zt.length).declareVariables(Ut,...Et)}
  ${Xp(zt.length)}
  ${Qp(Et)}

  ${_r.mainStart()}
    ${_r.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.input_size")}

    var indices = ${Ut.offsetToIndices("global_idx")};
    var index = ${Ut.indicesGet("indices",At)};
    let output_number = calculateOutputIndex(index);
    if (output_number != 0) {
      index -= ${re("uniforms.size_in_split_axis","output_number - 1u",zt.length)};
      ${Ut.indicesSet("indices",At,"index")};
    }
    writeBufferData(output_number, indices, global_idx);
  }`;return{name:"Split",shaderCache:{hint:s.cacheKey,inputDependencies:["rank"]},getShaderSource:cr,getRunData:()=>({outputs:It,dispatchGroup:{x:Math.ceil(et/64)},programUniforms:Yt})}},ml=(o,s)=>{Yp(o.inputs);let j=o.inputs.length===1?s:Zp(o.inputs,s);o.compute(Jp(o.inputs,j),{inputs:[0]})},hl=o=>{let s=o.axis,j=o.splitSizes,et=o.numOutputs<0?j.length:o.numOutputs;if(et!==j.length)throw new Error("numOutputs and splitSizes lengh must be equal");return $e({axis:s,numOutputs:et,splitSizes:j})}}),yl,ef,tf,rf,bl,wl=F$1(()=>{ie(),_e(),be(),yl=o=>Array.from(o.getBigInt64Array(),Number),ef=o=>{if(!o||o.length!==2)throw new Error("Tile requires 2 inputs.");if(o[0].dataType!==1&&o[0].dataType!==6&&o[0].dataType!==12)throw new Error("Tile only support float, int32, and uint32 data types");if(o[1].dataType!==7)throw new Error("Tile `repeats` input should be of int64 data type");if(o[1].dims.length!==1)throw new Error("Tile `repeats` input should be 1-D");if(yl(o[1]).length!==o[0].dims.length)throw new Error("Tile `repeats` input should have same number of elements as rank of input data tensor")},tf=(o,s)=>{let j=[];for(let et=0;et<o.length;++et)j.push(o[et]*s[et]);return j},rf=o=>{let s=o[0].dims,j=yl(o[1]),et=tf(s,j),bt=M.size(et),At=o[0].dataType,Et=D("input",At,s.length),Ut=q("output",At,et.length),zt=It=>`
      const inputShape = ${Et.indices(...s)};
      ${It.registerUniform("output_size","u32").declareVariables(Et,Ut)}
      ${It.mainStart()}
      ${It.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let output_indices = ${Ut.offsetToIndices("global_idx")};
      var input_indices: ${Et.type.indices};
      for (var i = 0; i < ${s.length}; i++) {
        let input_dim_i = ${Et.indicesGet("uniforms.input_shape","i")};
        let input_dim_value = ${Ut.indicesGet("output_indices","i")}  % input_dim_i;

        ${Et.indicesSet("input_indices","i","input_dim_value")}
      }
      ${Ut.setByOffset("global_idx",Et.getByIndices("input_indices"))}
    }`;return{name:"Tile",shaderCache:{hint:`${j}`,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:et,dataType:o[0].dataType}],dispatchGroup:{x:Math.ceil(bt/64)},programUniforms:[{type:12,data:bt},...K(o[0].dims,et)]}),getShaderSource:zt}},bl=o=>{ef(o.inputs),o.compute(rf(o.inputs),{inputs:[0]})}}),nf,af,vl,$l=F$1(()=>{ie(),_e(),be(),nf=(o,s,j,et,bt)=>{let At=q("output_data",bt,j.length,4),Et=D("a_data",s[1].dataType,s[1].dims.length,4),Ut=D("b_data",s[2].dataType,s[2].dims.length,4),zt=D("c_data",s[0].dataType,s[0].dims.length,4),It,Qt=(Pt,Yt,cr)=>`select(${Yt}, ${Pt}, ${cr})`;if(!et)It=At.setByOffset("global_idx",Qt(Et.getByOffset("global_idx"),Ut.getByOffset("global_idx"),zt.getByOffset("global_idx")));else{let Pt=(Yt,cr,_r="")=>{let vr=`a_data[index_a${cr}][component_a${cr}]`,Yr=`b_data[index_b${cr}][component_b${cr}]`,Kr=`bool(c_data[index_c${cr}] & (0xffu << (component_c${cr} * 8)))`;return`
            let output_indices${cr} = ${At.offsetToIndices(`global_idx * 4u + ${cr}u`)};
            let offset_a${cr} = ${Et.broadcastedIndicesToOffset(`output_indices${cr}`,At)};
            let offset_b${cr} = ${Ut.broadcastedIndicesToOffset(`output_indices${cr}`,At)};
            let offset_c${cr} = ${zt.broadcastedIndicesToOffset(`output_indices${cr}`,At)};
            let index_a${cr} = offset_a${cr} / 4u;
            let index_b${cr} = offset_b${cr} / 4u;
            let index_c${cr} = offset_c${cr} / 4u;
            let component_a${cr} = offset_a${cr} % 4u;
            let component_b${cr} = offset_b${cr} % 4u;
            let component_c${cr} = offset_c${cr} % 4u;
            ${Yt}[${cr}] = ${_r}(${Qt(vr,Yr,Kr)});
          `};bt===9?It=`
            var data = vec4<u32>(0);
            ${Pt("data",0,"u32")}
            ${Pt("data",1,"u32")}
            ${Pt("data",2,"u32")}
            ${Pt("data",3,"u32")}
            output_data[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:It=`
            ${Pt("output_data[global_idx]",0)}
            ${Pt("output_data[global_idx]",1)}
            ${Pt("output_data[global_idx]",2)}
            ${Pt("output_data[global_idx]",3)}
          `}return`
        ${o.registerUniform("vec_size","u32").declareVariables(zt,Et,Ut,At)}
        ${o.mainStart()}
        ${o.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${It}
      }`},af=o=>{let s=o[1].dims,j=o[2].dims,et=o[0].dims,bt=o[1].dataType,At=!(M.areEqual(s,j)&&M.areEqual(j,et)),Et=s,Ut=M.size(s);if(At){let It=vt.calcShape(vt.calcShape(s,j,!1),et,!1);if(!It)throw new Error("Can't perform where op on the given tensors");Et=It,Ut=M.size(Et)}let zt=Math.ceil(Ut/4);return{name:"Where",shaderCache:{inputDependencies:["rank","rank","rank"]},getShaderSource:It=>nf(It,o,Et,At,bt),getRunData:()=>({outputs:[{dims:Et,dataType:bt}],dispatchGroup:{x:Math.ceil(Ut/64/4)},programUniforms:[{type:12,data:zt},...K(et,s,j,Et)]})}},vl=o=>{o.compute(af(o.inputs))}}),_l,xl=F$1(()=>{Mo(),ga(),Wo(),Go(),Is(),Ms(),Ws(),$a(),eu(),nu(),uu(),cu(),fu(),gu(),wu(),_u(),Su(),Iu(),xa(),Tu(),Ru(),Bu(),Qu(),el(),gn(),al(),ol(),dl(),fl(),gl(),wl(),ir(),$n(),$l(),_l=new Map([["Abs",[Ho]],["Acos",[Lo]],["Acosh",[Fo]],["Add",[Es]],["ArgMax",[Do,ha]],["ArgMin",[Bo,ha]],["Asin",[qo]],["Asinh",[jo]],["Atan",[Ko]],["Atanh",[Yo]],["Attention",[Uo]],["AveragePool",[Hu,Gu]],["BatchNormalization",[No]],["BiasAdd",[Vo]],["BiasSplitGelu",[Cs]],["Cast",[Xo,Zo]],["Ceil",[Jo]],["Clip",[Qo]],["Concat",[Us,Ns]],["Conv",[Ia,Ca]],["ConvTranspose",[Js,Qs]],["Cos",[es]],["Cosh",[ts]],["CumSum",[tu,ru]],["Div",[As]],["Einsum",[ou,su]],["Elu",[rs,wn]],["Equal",[Ts]],["Erf",[ns]],["Exp",[as]],["Expand",[du]],["FastGelu",[pu]],["Floor",[is]],["FusedConv",[Ia,Ca]],["Gather",[hu,mu]],["GatherElements",[bu,yu]],["Gelu",[os]],["Gemm",[$u,vu]],["GlobalAveragePool",[qu,Fu]],["GlobalMaxPool",[Xu,Zu]],["Greater",[Rs]],["GreaterOrEqual",[Bs]],["HardSigmoid",[ms,fs]],["InstanceNormalization",[xu]],["LayerNormalization",[Cu]],["LeakyRelu",[ss,wn]],["Less",[zs]],["LessOrEqual",[Ds]],["Log",[xs]],["MatMul",[qs]],["MatMulNBits",[Eu,Au]],["MaxPool",[Ku,Yu]],["Mul",[Os]],["MultiHeadAttention",[Pu,ku]],["Neg",[ls]],["Not",[us]],["Pad",[zu]],["Pow",[ks]],["Range",[Ju]],["Reciprocal",[ds]],["ReduceMin",[To]],["ReduceMean",[So]],["ReduceMax",[Ao]],["ReduceSum",[ko]],["ReduceProd",[Oo]],["ReduceL1",[Co]],["ReduceL2",[Io]],["ReduceLogSum",[Ro]],["ReduceLogSumExp",[Eo]],["ReduceSumSquare",[Po]],["Relu",[cs]],["Resize",[rl,nl]],["Sigmoid",[ps]],["Sin",[hs]],["Sinh",[gs]],["Slice",[ul,ll]],["SkipLayerNormalization",[il]],["Split",[ml,hl]],["Sqrt",[ys]],["Softmax",[cl,pl]],["Sub",[Ps]],["Tan",[bs]],["Tanh",[vs]],["ThresholdedRelu",[_s,wn]],["Tile",[bl]],["Transpose",[co,po]],["Where",[vl]]])}),kn,Sl=F$1(()=>{lt(),Dt(),be(),kn=class{constructor(o){this.backend=o,this.repo=new Map,this.attributesBound=!1}getArtifact(o){return this.repo.get(o)}setArtifact(o,s){this.repo.set(o,s)}run(o,s,j,et,bt){st(o.programInfo.name);let At=this.backend.device,Et=this.backend.getComputePassEncoder();this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2);let Ut=[];for(let It of s)Ut.push({binding:Ut.length,resource:{buffer:It.buffer}});for(let It of j)Ut.push({binding:Ut.length,resource:{buffer:It.buffer}});bt&&Ut.push({binding:Ut.length,resource:bt});let zt=At.createBindGroup({layout:o.computePipeline.getBindGroupLayout(0),entries:Ut,label:o.programInfo.name});if(this.backend.sessionStatus==="capturing"){let It={kernelId:this.backend.currentKernelId,computePipeline:o.computePipeline,bindGroup:zt,dispatchGroup:et};this.backend.capturedCommandList.get(this.backend.currentSessionId).push(It)}Et.setPipeline(o.computePipeline),Et.setBindGroup(0,zt),Et.dispatchWorkgroups(...et),this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2+1),this.backend.pendingDispatchNumber++,(this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber||this.backend.queryType==="at-passes")&&this.backend.endComputePass(),this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber&&this.backend.flush(),nt(o.programInfo.name)}dispose(){}build(o,s){st(o.name);let j=this.backend.device,et=[];j.features.has("shader-f16")&&et.push("enable f16;");let bt=uo(s),At=o.getShaderSource(bt),Et=`${et.join(`
`)}
${bt.additionalImplementations}
${At}`,Ut=j.createShaderModule({code:Et,label:o.name});De("verbose",()=>`[WebGPU] ${o.name} shader code: ${Et}`);let zt=j.createComputePipeline({compute:{module:Ut,entryPoint:"main"},layout:"auto",label:o.name});return nt(o.name),{programInfo:o,computePipeline:zt}}normalizeDispatchGroupSize(o){let s=typeof o=="number"?o:o.x,j=typeof o=="number"?1:o.y||1,et=typeof o=="number"?1:o.z||1,bt=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(s<=bt&&j<=bt&&et<=bt)return[s,j,et];let At=s*j*et,Et=Math.ceil(Math.sqrt(At));if(Et>bt){if(Et=Math.ceil(Math.cbrt(At)),Et>bt)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[Et,Et,Et]}else return[Et,Et,1]}}}),of,sf,Pa,Pn,Cl=F$1(()=>{lt(),ie(),Dt(),no(),so(),xl(),Sl(),of=(o,s)=>{if(s.length!==o.length)throw new Error(`inputDependencies length ${s.length} is not equal to inputTensors length ${o.length}.`);let j=[];for(let et=0;et<o.length;++et){let bt=o[et].dataType;switch(s[et]){case"none":{j.push("");break}case"type":{j.push(`${bt}`);break}case"rank":{let At=o[et].dims.length;j.push(`${bt};${At}`);break}case"dims":{let At=o[et].dims.join(",");j.push(`${bt};${At}`);break}default:throw new Error(`unsupported input dependency: ${s[et]}`)}}return j.join("|")},sf=(o,s,j)=>{var bt,At;let et=o.name;return(bt=o.shaderCache)!=null&&bt.hint&&(et+="["+o.shaderCache.hint+"]"),et+=":"+j+`:${of(s,((At=o.shaderCache)==null?void 0:At.inputDependencies)??new Array(s.length).fill("dims"))}`,et},Pa=class{constructor(o){o&&(this.architecture=o.architecture,this.vendor=o.vendor)}isArchitecture(o){return this.architecture===o}isVendor(o){return this.vendor===o}},Pn=class{constructor(){this.currentSessionId=null,this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.maxDispatchNumber=16,this.pendingDispatchNumber=0,this.pendingKernels=[],this.pendingQueries=new Map,this.sessionStatus="default",this.capturedCommandList=new Map,this.capturedPendingKernels=new Map,this.sessionExternalDataMapping=new Map}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let o=this.kernelCustomData.get(this.currentKernelId);return o||(o={},this.kernelCustomData.set(this.currentKernelId,o)),o}async initialize(o,s){this.env=o;let j=[],et={requiredLimits:{maxComputeWorkgroupStorageSize:s.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:s.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:s.limits.maxStorageBufferBindingSize,maxBufferSize:s.limits.maxBufferSize,maxComputeInvocationsPerWorkgroup:s.limits.maxComputeInvocationsPerWorkgroup,maxComputeWorkgroupSizeX:s.limits.maxComputeWorkgroupSizeX,maxComputeWorkgroupSizeY:s.limits.maxComputeWorkgroupSizeY,maxComputeWorkgroupSizeZ:s.limits.maxComputeWorkgroupSizeZ},requiredFeatures:j};s.features.has("chromium-experimental-timestamp-query-inside-passes")?j.push("chromium-experimental-timestamp-query-inside-passes"):s.features.has("timestamp-query")&&j.push("timestamp-query"),s.features.has("shader-f16")&&j.push("shader-f16"),this.device=await s.requestDevice(et),this.adapterInfo=new Pa(await s.requestAdapterInfo()),this.gpuDataManager=oo(this),this.programManager=new kn(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,to(o.logLevel,!!o.debug),this.device.onuncapturederror=bt=>{bt.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${bt.error.message}`)},Object.defineProperty(this.env.webgpu,"device",{value:this.device,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this.env.webgpu,"adapter",{value:s,writable:!1,enumerable:!0,configurable:!1}),this.setQueryType()}dispose(){typeof this.querySet<"u"&&this.querySet.destroy(),this.gpuDataManager.dispose()}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){if(!this.computePassEncoder){let o=this.getCommandEncoder(),s={};this.queryType==="at-passes"&&(s.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:this.pendingDispatchNumber*2,endOfPassWriteIndex:this.pendingDispatchNumber*2+1}),this.computePassEncoder=o.beginComputePass(s)}return this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){if(!this.commandEncoder)return;st(),this.endComputePass();let o;this.queryType!=="none"&&(this.commandEncoder.resolveQuerySet(this.querySet,0,this.pendingDispatchNumber*2,this.queryResolveBuffer,0),o=this.device.createBuffer({size:this.pendingDispatchNumber*2*8,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.pendingQueries.set(o,this.pendingKernels),this.pendingKernels=[],this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,o,0,this.pendingDispatchNumber*2*8)),this.device.queue.submit([this.commandEncoder.finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0,this.queryType!=="none"&&o.mapAsync(GPUMapMode.READ).then(()=>{var et;let s=new BigUint64Array(o.getMappedRange()),j=this.pendingQueries.get(o);for(let bt=0;bt<s.length/2;bt++){let At=j[bt],Et=At.kernelId,Ut=this.kernels.get(Et),zt=Ut.kernelType,It=Ut.kernelName,Qt=At.programName,Pt=At.inputTensorViews,Yt=At.outputTensorViews,cr=s[bt*2],_r=s[bt*2+1];typeof this.queryTimeBase>"u"&&(this.queryTimeBase=cr);let vr=Number(cr-this.queryTimeBase),Yr=Number(_r-this.queryTimeBase);if(!Number.isSafeInteger(vr)||!Number.isSafeInteger(Yr))throw new RangeError("incorrect timestamp range");if((et=this.env.webgpu.profiling)!=null&&et.ondata)this.env.webgpu.profiling.ondata({version:1,inputsMetadata:Pt.map(Kr=>({dims:Kr.dims,dataType:Bt(Kr.dataType)})),outputsMetadata:Yt.map(Kr=>({dims:Kr.dims,dataType:Bt(Kr.dataType)})),kernelId:Et,kernelType:zt,kernelName:It,programName:Qt,startTime:vr,endTime:Yr});else{let Kr="";Pt.forEach((Hn,tA)=>{Kr+=`input[${tA}]: [${Hn.dims}] | ${Bt(Hn.dataType)}, `});let jr="";Yt.forEach((Hn,tA)=>{jr+=`output[${tA}]: [${Hn.dims}] | ${Bt(Hn.dataType)}, `}),console.log(`[profiling] kernel "${Et}|${zt}|${It}|${Qt}" ${Kr}${jr}execution time: ${Yr-vr} ns`)}tn("GPU",`${Qt}::${cr}::${_r}`)}o.unmap(),this.pendingQueries.delete(o)}),nt()}run(o,s,j,et,bt){st(o.name);let At=[];for(let Kr=0;Kr<s.length;++Kr){let jr=s[Kr].data;if(jr===0)continue;let Hn=this.gpuDataManager.get(jr);if(!Hn)throw new Error(`no GPU data for input: ${jr}`);At.push(Hn)}let{outputs:Et,dispatchGroup:Ut,programUniforms:zt}=o.getRunData(s),It=j.length===0?Et.map((Kr,jr)=>jr):j;if(It.length!==Et.length)throw new Error(`Output size ${It.length} must be equal to ${Et.length}.`);let Qt=[],Pt=[];for(let Kr=0;Kr<Et.length;++Kr){if(!Number.isInteger(It[Kr])||It[Kr]<-3||It[Kr]>=Et.length)throw new Error(`Invalid output index: ${It[Kr]}`);if(It[Kr]===-3)continue;let jr=It[Kr]===-1,Hn=It[Kr]===-2,tA=jr||Hn?bt(Et[Kr].dataType,Et[Kr].dims):et(It[Kr],Et[Kr].dataType,Et[Kr].dims);if(Qt.push(tA),tA.data===0)continue;let nA=this.gpuDataManager.get(tA.data);if(!nA)throw new Error(`no GPU data for output: ${tA.data}`);if(jr&&this.temporaryData.push(nA),Hn){let aA=this.kernelPersistentData.get(this.currentKernelId);aA||(aA=[],this.kernelPersistentData.set(this.currentKernelId,aA)),aA.push(nA)}Pt.push(nA)}if(At.length!==s.length||Pt.length!==Qt.length){if(Pt.length===0)return nt(o.name),Qt;throw new Error(`Program ${o.name} has zero-sized tensor(s) in inputs or outputs. This is not supported now.`)}let Yt;if(zt){let Kr=0,jr=[];zt.forEach(aA=>{let lA=typeof aA.data=="number"?[aA.data]:aA.data;if(lA.length===0)return;let hA=aA.type===10?2:4,pA,wA;aA.type===10?(wA=lA.length>4?16:lA.length>2?8:lA.length*hA,pA=lA.length>4?16:hA*lA.length):(wA=lA.length<=2?lA.length*hA:16,pA=16),Kr=Math.ceil(Kr/wA)*wA,jr.push(Kr);let NA=aA.type===10?8:4;Kr+=lA.length>4?Math.ceil(lA.length/NA)*pA:lA.length*hA});let Hn=16;Kr=Math.ceil(Kr/Hn)*Hn;let tA=new ArrayBuffer(Kr);zt.forEach((aA,lA)=>{let hA=jr[lA],pA=typeof aA.data=="number"?[aA.data]:aA.data;if(aA.type===6)new Int32Array(tA,hA,pA.length).set(pA);else if(aA.type===12)new Uint32Array(tA,hA,pA.length).set(pA);else if(aA.type===10)new Uint16Array(tA,hA,pA.length).set(pA);else if(aA.type===1)new Float32Array(tA,hA,pA.length).set(pA);else throw new Error(`Unsupported uniform type: ${Bt(aA.type)}`)});let nA=this.gpuDataManager.create(Kr,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.device.queue.writeBuffer(nA.buffer,0,tA,0,Kr),this.gpuDataManager.release(nA.id),Yt={offset:0,size:Kr,buffer:nA.buffer}}let cr=this.programManager.normalizeDispatchGroupSize(Ut),_r=cr[1]===1&&cr[2]===1,vr=sf(o,s,_r),Yr=this.programManager.getArtifact(vr);if(Yr||(Yr=this.programManager.build(o,cr),this.programManager.setArtifact(vr,Yr),De("info",()=>`[artifact] key: ${vr}, programName: ${o.name}`)),De("info",()=>`[ProgramManager] run "${o.name}" (key=${vr}) with ${cr[0]}x${cr[1]}x${cr[2]}`),this.queryType!=="none"||this.sessionStatus==="capturing"){let Kr={kernelId:this.currentKernelId,programName:Yr.programInfo.name,inputTensorViews:s,outputTensorViews:Qt};this.pendingKernels.push(Kr),this.sessionStatus==="capturing"&&this.capturedPendingKernels.get(this.currentSessionId).push(Kr)}return this.programManager.run(Yr,At,Pt,cr,Yt),nt(o.name),Qt}upload(o,s){this.gpuDataManager.upload(o,s)}memcpy(o,s){this.gpuDataManager.memcpy(o,s)}async download(o,s){await this.gpuDataManager.download(o,s)}alloc(o){return this.gpuDataManager.create(o).id}free(o){return this.gpuDataManager.release(o)}createKernel(o,s,j,et){let bt=_l.get(o);if(!bt)throw new Error(`kernel not implemented: ${o}`);let At={kernelType:o,kernelName:et,kernelEntry:bt[0],attributes:[bt[1],j]};this.kernels.set(s,At)}releaseKernel(o){let s=this.kernelPersistentData.get(o);if(s){for(let j of s)this.gpuDataManager.release(j.id);this.kernelPersistentData.delete(o)}this.kernelCustomData.delete(o),this.kernels.delete(o)}computeKernel(o,s,j){let et=this.kernels.get(o);if(!et)throw new Error(`kernel not created: ${o}`);let bt=et.kernelType,At=et.kernelName,Et=et.kernelEntry,Ut=et.attributes;if(this.currentKernelId!==null)throw new Error(`kernel "[${bt}] ${At}" is not allowed to be called recursively`);this.currentKernelId=o,Ut[0]&&(Ut[1]=Ut[0](Ut[1]),Ut[0]=void 0),De("info",()=>`[WebGPU] Start to run kernel "[${bt}] ${At}"...`);let zt=this.env.debug;this.temporaryData=[];try{return zt&&this.device.pushErrorScope("validation"),Et(s,Ut[1]),0}catch(It){return j.push(Promise.resolve(`[WebGPU] Kernel "[${bt}] ${At}" failed. ${It}`)),1}finally{zt&&j.push(this.device.popErrorScope().then(It=>It?`GPU validation error for kernel "[${bt}] ${At}": ${It.message}`:null));for(let It of this.temporaryData)this.gpuDataManager.release(It.id);this.temporaryData=[],this.currentKernelId=null}}registerBuffer(o,s,j,et){let bt=this.sessionExternalDataMapping.get(o);bt||(bt=new Map,this.sessionExternalDataMapping.set(o,bt));let At=bt.get(s),Et=this.gpuDataManager.registerExternalBuffer(j,et,At==null?void 0:At[1]);return bt.set(s,[Et,j]),Et}unregisterBuffers(o){let s=this.sessionExternalDataMapping.get(o);s&&(s.forEach(j=>this.gpuDataManager.unregisterExternalBuffer(j[1])),this.sessionExternalDataMapping.delete(o))}getBuffer(o){let s=this.gpuDataManager.get(o);if(!s)throw new Error(`no GPU data for buffer: ${o}`);return s.buffer}createDownloader(o,s,j){return async()=>{let et=await ua(this,o,s);return ro(et.buffer,j)}}writeTimestamp(o){this.queryType==="inside-passes"&&this.computePassEncoder.writeTimestamp(this.querySet,o)}setQueryType(){var o;this.queryType="none",(((o=this.env.webgpu.profiling)==null?void 0:o.mode)==="default"||(typeof this.env.trace>"u"?this.env.wasm.trace:this.env.trace))&&(this.device.features.has("chromium-experimental-timestamp-query-inside-passes")?this.queryType="inside-passes":this.device.features.has("timestamp-query")&&(this.queryType="at-passes"),this.queryType!=="none"&&typeof this.querySet>"u"&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxDispatchNumber*2}),this.queryResolveBuffer=this.device.createBuffer({size:this.maxDispatchNumber*2*8,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE})))}captureBegin(){De("info","captureBegin"),this.capturedCommandList.get(this.currentSessionId)||this.capturedCommandList.set(this.currentSessionId,[]),this.capturedPendingKernels.get(this.currentSessionId)||this.capturedPendingKernels.set(this.currentSessionId,[]),this.flush(),this.sessionStatus="capturing"}captureEnd(){De("info","captureEnd"),this.flush(),this.sessionStatus="default"}replay(){De("info","replay"),this.sessionStatus="replaying";let o=this.capturedCommandList.get(this.currentSessionId),s=this.capturedPendingKernels.get(this.currentSessionId),j=o.length;this.pendingKernels=[];for(let et=0;et<j;et++){let bt=this.getComputePassEncoder(),At=o[et];this.writeTimestamp(this.pendingDispatchNumber*2),bt.setPipeline(At.computePipeline),bt.setBindGroup(0,At.bindGroup),bt.dispatchWorkgroups(...At.dispatchGroup),this.writeTimestamp(this.pendingDispatchNumber*2+1),this.pendingDispatchNumber++,this.queryType!=="none"&&this.pendingKernels.push(s[et]),(this.pendingDispatchNumber>=this.maxDispatchNumber||this.queryType==="at-passes")&&this.endComputePass(),this.pendingDispatchNumber>=this.maxDispatchNumber&&this.flush()}this.flush(),this.sessionStatus="default"}onReleaseSession(o){this.unregisterBuffers(o),this.capturedCommandList.has(o)&&this.capturedCommandList.delete(o),this.capturedPendingKernels.has(o)&&this.capturedPendingKernels.delete(o),this.gpuDataManager.onReleaseSession(o)}onRunStart(o){this.currentSessionId=o,this.setQueryType()}}}),Il={};rr(Il,{init:()=>uf});var Pr,Ra,uf,El=F$1(()=>{ie(),Cl(),Dt(),_e(),Pr=class $x{constructor(s,j,et,bt){this.module=s,this.dataType=j,this.data=et,this.dims=bt}getFloat32Array(){if(this.dataType!==1)throw new Error("Invalid data type");let s=M.size(this.dims);return s===0?new Float32Array:new Float32Array(this.module.HEAP8.buffer,this.data,s)}getBigInt64Array(){if(this.dataType!==7)throw new Error("Invalid data type");let s=M.size(this.dims);return s===0?new BigInt64Array:new BigInt64Array(this.module.HEAP8.buffer,this.data,s)}getInt32Array(){if(this.dataType!==6)throw new Error("Invalid data type");let s=M.size(this.dims);return s===0?new Int32Array:new Int32Array(this.module.HEAP8.buffer,this.data,s)}reshape(s){if(M.size(s)!==M.size(this.dims))throw new Error("Invalid new shape");return new $x(this.module,this.dataType,this.data,s)}},Ra=class{constructor(o,s,j){this.module=o,this.backend=s,this.customDataOffset=0,this.customDataSize=0,this.adapterInfo=s.adapterInfo;let et=o.HEAPU32,bt=j>>>2;this.opKernelContext=et[bt++];let At=et[bt++];this.outputCount=et[bt++],this.customDataOffset=et[bt++],this.customDataSize=et[bt++];let Et=[];for(let Ut=0;Ut<At;Ut++){let zt=et[bt++],It=et[bt++],Qt=et[bt++],Pt=[];for(let Yt=0;Yt<Qt;Yt++)Pt.push(et[bt++]);Et.push(new Pr(o,zt,It,Pt))}this.inputs=Et}get kernelCustomData(){return this.backend.currentKernelCustomData}get customDataBuffer(){return this.module.HEAPU8.subarray(this.customDataOffset,this.customDataOffset+this.customDataSize)}compute(o,s){var Et;let j=((Et=s==null?void 0:s.inputs)==null?void 0:Et.map(Ut=>typeof Ut=="number"?this.inputs[Ut]:Ut))??this.inputs,et=(s==null?void 0:s.outputs)??[],bt=(Ut,zt,It)=>new Pr(this.module,zt,this.output(Ut,It),It),At=(Ut,zt)=>{let It=Ir(Ut);if(!It)throw new Error(`Unsupported data type: ${Ut}`);let Qt=It*M.size(zt),Pt=Qt>0?this.backend.gpuDataManager.create(Qt).id:0;return new Pr(this.module,Ut,Pt,zt)};return this.backend.run(o,j,et,bt,At)}output(o,s){let j=this.module.stackSave();try{let et=this.module.stackAlloc((1+s.length)*4),bt=et>>2;this.module.HEAPU32[bt++]=s.length;for(let At=0;At<s.length;At++)this.module.HEAPU32[bt++]=s[At];return this.module._JsepOutput(this.opKernelContext,o,et)}catch(et){throw new Error(`Failed to generate kernel's output[${o}] with dims [${s}]. If you are running with pre-allocated output, please make sure the output type/dims are correct. Error: ${et}`)}finally{this.module.stackRestore(j)}}},uf=async(o,s,j,et)=>{let bt=s.jsepInit;if(!bt)throw new Error("Failed to initialize JSEP. The WebAssembly module is not built with JSEP support.");if(o==="webgpu"){let At=new Pn;await At.initialize(j,et),bt("webgpu",[At,Et=>At.alloc(Et),Et=>At.free(Et),(Et,Ut,zt,It=!1)=>{if(It)De("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${Et}, dst=${Ut}, size=${zt}`),At.memcpy(Et,Ut);else{De("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${Et}, gpuDataId=${Ut}, size=${zt}`);let Qt=s.HEAPU8.subarray(Et>>>0,(Et>>>0)+zt);At.upload(Ut,Qt)}},async(Et,Ut,zt)=>{De("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${Et}, dataOffset=${Ut}, size=${zt}`),await At.download(Et,()=>s.HEAPU8.subarray(Ut>>>0,(Ut>>>0)+zt))},(Et,Ut,zt)=>At.createKernel(Et,Ut,zt,s.UTF8ToString(s._JsepGetNodeName(Ut))),Et=>At.releaseKernel(Et),(Et,Ut,zt,It)=>{De("verbose",()=>`[WebGPU] jsepRun: sessionHandle=${zt}, kernel=${Et}, contextDataOffset=${Ut}`);let Qt=new Ra(s,At,Ut);return At.computeKernel(Et,Qt,It)},()=>At.captureBegin(),()=>At.captureEnd(),()=>At.replay()])}else bt("webnn")}}),lf,Tl,Ol,jt,df,za,kl,Pl,Al,Rl,zl,Bl,Dl=F$1(()=>{Zi(),Qi(),ie(),nr(),on(),oa(),lf=(o,s)=>{Ge()._OrtInit(o,s)!==0&&Be("Can't initialize onnxruntime.")},Tl=async o=>{lf(o.wasm.numThreads,Er(o.logLevel))},Ol=async(o,s)=>{{let j=(El(),Gt(Il)).init;if(s==="webgpu"){if(typeof navigator>"u"||!navigator.gpu)throw new Error("WebGPU is not supported in current environment");let et=o.webgpu.adapter;if(et){if(typeof et.limits!="object"||typeof et.features!="object"||typeof et.requestDevice!="function")throw new Error("Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.")}else{let bt=o.webgpu.powerPreference;if(bt!==void 0&&bt!=="low-power"&&bt!=="high-performance")throw new Error(`Invalid powerPreference setting: "${bt}"`);let At=o.webgpu.forceFallbackAdapter;if(At!==void 0&&typeof At!="boolean")throw new Error(`Invalid forceFallbackAdapter setting: "${At}"`);if(et=await navigator.gpu.requestAdapter({powerPreference:bt,forceFallbackAdapter:At}),!et)throw new Error('Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.')}if(!o.wasm.simd)throw new Error("Not supported for WebGPU=ON and SIMD=OFF. Please set `env.wasm.simd` to true when using `webgpu` EP");await j("webgpu",Ge(),o,et)}if(s==="webnn"){if(typeof navigator>"u"||!navigator.ml)throw new Error("WebNN is not supported in current environment");await j("webnn",Ge(),o)}}},jt=new Map,df=o=>{let s=Ge(),j=s.stackSave();try{let et=s.stackAlloc(8);return s._OrtGetInputOutputCount(o,et,et+4)!==0&&Be("Can't get session input/output count."),[s.HEAP32[et/4],s.HEAP32[et/4+1]]}finally{s.stackRestore(j)}},za=o=>{let s=Ge(),j=s._malloc(o.byteLength);if(j===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${o.byteLength}.`);return s.HEAPU8.set(o,j),[j,o.byteLength]},kl=async(o,s)=>{var Pt,Yt;let j,et,bt=Ge();Array.isArray(o)?[j,et]=o:o.buffer===bt.HEAPU8.buffer?[j,et]=[o.byteOffset,o.byteLength]:[j,et]=za(o);let At=0,Et=0,Ut=0,zt=[],It=[],Qt=[];try{if([Et,zt]=Xi(s),(s==null?void 0:s.externalData)&&bt.mountExternalData){let tA=[];for(let nA of s.externalData){let aA=typeof nA=="string"?nA:nA.path;tA.push(Ar(typeof nA=="string"?nA:nA.data).then(lA=>{bt.mountExternalData(aA,lA)}))}await Promise.all(tA)}At=await bt._OrtCreateSession(j,et,Et),At===0&&Be("Can't create a session.");let[cr,_r]=df(At),vr=!!(s!=null&&s.enableGraphCapture),Yr=[],Kr=[],jr=[];for(let tA=0;tA<cr;tA++){let nA=bt._OrtGetInputName(At,tA);nA===0&&Be("Can't get an input name."),It.push(nA),Yr.push(bt.UTF8ToString(nA))}for(let tA=0;tA<_r;tA++){let nA=bt._OrtGetOutputName(At,tA);nA===0&&Be("Can't get an output name."),Qt.push(nA);let aA=bt.UTF8ToString(nA);Kr.push(aA);{if(vr&&(s==null?void 0:s.preferredOutputLocation)===void 0){jr.push("gpu-buffer");continue}let lA=typeof(s==null?void 0:s.preferredOutputLocation)=="string"?s.preferredOutputLocation:((Pt=s==null?void 0:s.preferredOutputLocation)==null?void 0:Pt[aA])??"cpu";if(lA!=="cpu"&&lA!=="cpu-pinned"&&lA!=="gpu-buffer")throw new Error(`Not supported preferred output location: ${lA}.`);if(vr&&lA!=="gpu-buffer")throw new Error(`Not supported preferred output location: ${lA}. Only 'gpu-buffer' location is supported when enableGraphCapture is true.`);jr.push(lA)}}let Hn=null;return jr.some(tA=>tA==="gpu-buffer")&&(Ut=bt._OrtCreateBinding(At),Ut===0&&Be("Can't create IO binding."),Hn={handle:Ut,outputPreferredLocations:jr,outputPreferredLocationsEncoded:jr.map(tA=>ia(tA))}),jt.set(At,[At,It,Qt,Hn,vr,!1]),[At,Yr,Kr]}catch(cr){throw It.forEach(_r=>bt._OrtFree(_r)),Qt.forEach(_r=>bt._OrtFree(_r)),Ut!==0&&bt._OrtReleaseBinding(Ut),At!==0&&bt._OrtReleaseSession(At),cr}finally{bt._free(j),Et!==0&&bt._OrtReleaseSessionOptions(Et),zt.forEach(cr=>bt._free(cr)),(Yt=bt.unmountExternalData)==null||Yt.call(bt)}},Pl=o=>{var zt;let s=Ge(),j=jt.get(o);if(!j)throw new Error(`cannot release session. invalid session id: ${o}`);let[et,bt,At,Et,Ut]=j;Et&&(Ut&&s._OrtClearBoundOutputs(Et.handle),s._OrtReleaseBinding(Et.handle)),(zt=s.jsepOnReleaseSession)==null||zt.call(s,o),bt.forEach(It=>s._OrtFree(It)),At.forEach(It=>s._OrtFree(It)),s._OrtReleaseSession(et),jt.delete(o)},Al=(o,s,j,et,bt,At=!1)=>{if(!o){s.push(0);return}let Et=Ge(),Ut=o[0],zt=o[1],It=o[3],Qt,Pt;if(Ut==="string"&&It==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(At&&It!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${bt} when enableGraphCapture is true.`);if(It==="gpu-buffer"){let _r=o[2].gpuBuffer,vr=Ir(aa(Ut));Pt=zt.reduce((Kr,jr)=>Kr*jr,1)*vr;let Yr=Et.jsepRegisterBuffer;if(!Yr)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');Qt=Yr(et,bt,_r,Pt)}else{let _r=o[2];if(Array.isArray(_r)){Pt=4*_r.length,Qt=Et._malloc(Pt),j.push(Qt);let vr=Qt/4;for(let Yr=0;Yr<_r.length;Yr++){if(typeof _r[Yr]!="string")throw new TypeError(`tensor data at index ${Yr} is not a string`);Et.HEAPU32[vr++]=He(_r[Yr],j)}}else Pt=_r.byteLength,Qt=Et._malloc(Pt),j.push(Qt),Et.HEAPU8.set(new Uint8Array(_r.buffer,_r.byteOffset,Pt),Qt)}let Yt=Et.stackSave(),cr=Et.stackAlloc(4*zt.length);try{let _r=cr/4;zt.forEach(Yr=>Et.HEAP32[_r++]=Yr);let vr=Et._OrtCreateTensor(aa(Ut),Qt,Pt,cr,zt.length,ia(It));vr===0&&Be(`Can't create tensor for input/output. session=${et}, index=${bt}.`),s.push(vr)}finally{Et.stackRestore(Yt)}},Rl=async(o,s,j,et,bt,At)=>{var wA,NA;let Et=Ge(),Ut=jt.get(o);if(!Ut)throw new Error(`cannot run inference. invalid session id: ${o}`);let zt=Ut[0],It=Ut[1],Qt=Ut[2],Pt=Ut[3],Yt=Ut[4],cr=Ut[5],_r=s.length,vr=et.length,Yr=0,Kr=[],jr=[],Hn=[],tA=[],nA=Et.stackSave(),aA=Et.stackAlloc(_r*4),lA=Et.stackAlloc(_r*4),hA=Et.stackAlloc(vr*4),pA=Et.stackAlloc(vr*4);try{[Yr,Kr]=Yi(At);for(let kA=0;kA<_r;kA++)Al(j[kA],jr,tA,o,s[kA],Yt);for(let kA=0;kA<vr;kA++)Al(bt[kA],Hn,tA,o,_r+et[kA],Yt);let cA=aA/4,CA=lA/4,sA=hA/4,UA=pA/4;for(let kA=0;kA<_r;kA++)Et.HEAPU32[cA++]=jr[kA],Et.HEAPU32[CA++]=It[s[kA]];for(let kA=0;kA<vr;kA++)Et.HEAPU32[sA++]=Hn[kA],Et.HEAPU32[UA++]=Qt[et[kA]];if(Pt&&!cr){let{handle:kA,outputPreferredLocations:OA,outputPreferredLocationsEncoded:KA}=Pt;if(It.length!==_r)throw new Error(`input count from feeds (${_r}) is expected to be always equal to model's input count (${It.length}).`);for(let yA=0;yA<_r;yA++){let TA=s[yA];await Et._OrtBindInput(kA,It[TA],jr[yA])!==0&&Be(`Can't bind input[${yA}] for session=${o}.`)}for(let yA=0;yA<vr;yA++){let TA=et[yA];(wA=bt[yA])!=null&&wA[3]?Et._OrtBindOutput(kA,Qt[TA],Hn[yA],0)!==0&&Be(`Can't bind pre-allocated output[${yA}] for session=${o}.`):Et._OrtBindOutput(kA,Qt[TA],0,KA[TA])!==0&&Be(`Can't bind output[${yA}] to ${OA[yA]} for session=${o}.`)}jt.set(o,[zt,It,Qt,Pt,Yt,!0])}(NA=Et.jsepOnRunStart)==null||NA.call(Et,zt);let LA;Pt?LA=await Et._OrtRunWithBinding(zt,Pt.handle,vr,hA,Yr):LA=await Et._OrtRun(zt,lA,aA,_r,pA,vr,hA,Yr),LA!==0&&Be("failed to call OrtRun().");let RA=[];for(let kA=0;kA<vr;kA++){let OA=Et.HEAPU32[hA/4+kA];if(OA===Hn[kA]){RA.push(bt[kA]);continue}let KA=Et.stackSave(),yA=Et.stackAlloc(4*4),TA=!1,r0,qA=0;try{Et._OrtGetTensorData(OA,yA,yA+4,yA+8,yA+12)!==0&&Be(`Can't access output tensor data on index ${kA}.`);let XA=yA/4,S0=Et.HEAPU32[XA++];qA=Et.HEAPU32[XA++];let U0=Et.HEAPU32[XA++],C0=Et.HEAPU32[XA++],B0=[];for(let F0=0;F0<C0;F0++)B0.push(Et.HEAPU32[U0/4+F0]);Et._OrtFree(U0);let Q0=B0.reduce((F0,k0)=>F0*k0,1);r0=Bt(S0);let T0=Pt==null?void 0:Pt.outputPreferredLocations[et[kA]];if(r0==="string"){if(T0==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let F0=[],k0=qA/4;for(let uA=0;uA<Q0;uA++){let ZA=Et.HEAPU32[k0++],jA=uA===Q0-1?void 0:Et.HEAPU32[k0]-ZA;F0.push(Et.UTF8ToString(ZA,jA))}RA.push([r0,B0,F0,"cpu"])}else if(T0==="gpu-buffer"&&Q0>0){let F0=Et.jsepGetBuffer;if(!F0)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let k0=F0(qA),uA=Ir(S0);if(uA===void 0||!un(r0))throw new Error(`Unsupported data type: ${r0}`);TA=!0,RA.push([r0,B0,{gpuBuffer:k0,download:Et.jsepCreateDownloader(k0,Q0*uA,r0),dispose:()=>{Et._OrtReleaseTensor(OA)}},"gpu-buffer"])}else{let F0=sn(r0),k0=new F0(Q0);new Uint8Array(k0.buffer,k0.byteOffset,k0.byteLength).set(Et.HEAPU8.subarray(qA,qA+k0.byteLength)),RA.push([r0,B0,k0,"cpu"])}}finally{Et.stackRestore(KA),r0==="string"&&qA&&Et._free(qA),TA||Et._OrtReleaseTensor(OA)}}return Pt&&!Yt&&(Et._OrtClearBoundOutputs(Pt.handle),jt.set(o,[zt,It,Qt,Pt,Yt,!1])),RA}finally{Et.stackRestore(nA),jr.forEach(cA=>Et._OrtReleaseTensor(cA)),Hn.forEach(cA=>Et._OrtReleaseTensor(cA)),tA.forEach(cA=>Et._free(cA)),Yr!==0&&Et._OrtReleaseRunOptions(Yr),Kr.forEach(cA=>Et._free(cA))}},zl=o=>{let s=Ge(),j=jt.get(o);if(!j)throw new Error("invalid session id");let et=j[0],bt=s._OrtEndProfiling(et);bt===0&&Be("Can't get an profile file name."),s._OrtFree(bt)},Bl=o=>{let s=[];for(let j of o){let et=j[2];!Array.isArray(et)&&"buffer"in et&&s.push(et.buffer)}return s}}),Ml=tr((o,s)=>{s.exports='/*!\n * ONNX Runtime Web v1.17.3\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var vn=Object.defineProperty;var dd=Object.getOwnPropertyDescriptor;var ld=Object.getOwnPropertyNames;var cd=Object.prototype.hasOwnProperty;var q=(e,t)=>()=>(e&&(t=e(e=0)),t);var pr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Mr=(e,t)=>{for(var r in t)vn(e,r,{get:t[r],enumerable:!0})},pd=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ld(t))!cd.call(e,n)&&n!==r&&vn(e,n,{get:()=>t[n],enumerable:!(o=dd(t,n))||o.enumerable});return e};var Ft=e=>pd(vn({},"__esModule",{value:!0}),e);var $n={};Mr($n,{createReadStream:()=>Po,readFile:()=>md,readFileSync:()=>fd});var md,fd,Po,_n=q(()=>{md=void 0,fd=void 0,Po=void 0});var xn={};Mr(xn,{join:()=>hd});var hd,Sn=q(()=>{hd=void 0});var Ro=pr((ko,Cn)=>{"use strict";var Oo=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(e=e||__filename),function(t={}){var r=t,o,n;r.ready=new Promise((d,h)=>{o=d,n=h}),r.mountExternalData=(d,h)=>{(r.Fa||(r.Fa=new Map)).set(d,h)},r.unmountExternalData=()=>{delete r.Fa};let s=()=>{let d=(w,S,P)=>(...N)=>{let K=nt,X=S?.();N=w(...N);let ae=S?.();return X!==ae&&(w=ae,P(X),S=P=null),nt!=K?Cr():N},h=w=>async(...S)=>{try{if(r.Ea)throw Error("Session already started");let P=r.Ea={Za:S[0],errors:[]},N=await w(...S);if(r.Ea!==P)throw Error("Session mismatch");r.La?.flush();let K=P.errors;if(0<K.length){let X=await Promise.all(K);if(X=X.filter(ae=>ae),0<X.length)throw Error(X.join(`\n`))}return N}finally{r.Ea=null}};r._OrtCreateSession=d(r._OrtCreateSession,()=>r._OrtCreateSession,w=>r._OrtCreateSession=w),r._OrtRun=h(d(r._OrtRun,()=>r._OrtRun,w=>r._OrtRun=w)),r._OrtRunWithBinding=h(d(r._OrtRunWithBinding,()=>r._OrtRunWithBinding,w=>r._OrtRunWithBinding=w)),r._OrtBindInput=d(r._OrtBindInput,()=>r._OrtBindInput,w=>r._OrtBindInput=w),s=void 0};r.jsepInit=(d,h)=>{if(s?.(),d==="webgpu"){[r.La,r.Ra,r.Va,r.Ma,r.Ua,r.sa,r.Wa,r.Ya,r.Sa,r.Ta,r.Xa]=h;let w=r.La;r.jsepRegisterBuffer=(S,P,N,K)=>w.registerBuffer(S,P,N,K),r.jsepGetBuffer=S=>w.getBuffer(S),r.jsepCreateDownloader=(S,P,N)=>w.createDownloader(S,P,N),r.jsepOnReleaseSession=S=>{w.onReleaseSession(S)},r.jsepOnRunStart=S=>w.onRunStart(S)}};var u=Object.assign({},r),l="./this.program",a=(d,h)=>{throw h},p=typeof window=="object",m=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b="",_,y,$;if(f){var I=(_n(),Ft($n)),C=(Sn(),Ft(xn));b=m?C.dirname(b)+"/":__dirname+"/",_=(d,h)=>(d=Ae(d)?new URL(d):C.normalize(d),I.readFileSync(d,h?void 0:"utf8")),$=d=>(d=_(d,!0),d.buffer||(d=new Uint8Array(d)),d),y=(d,h,w,S=!0)=>{d=Ae(d)?new URL(d):C.normalize(d),I.readFile(d,S?void 0:"utf8",(P,N)=>{P?w(P):h(S?N.buffer:N)})},!r.thisProgram&&1<process.argv.length&&(l=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a=(d,h)=>{throw process.exitCode=d,h},r.inspect=()=>"[Emscripten Module object]"}else(p||m)&&(m?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),e&&(b=e),b.indexOf("blob:")!==0?b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):b="",_=d=>{var h=new XMLHttpRequest;return h.open("GET",d,!1),h.send(null),h.responseText},m&&($=d=>{var h=new XMLHttpRequest;return h.open("GET",d,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),y=(d,h,w)=>{var S=new XMLHttpRequest;S.open("GET",d,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?h(S.response):w()},S.onerror=w,S.send(null)});var v=console.log.bind(console),A=console.error.bind(console);Object.assign(r,u),u=null,typeof WebAssembly!="object"&&se("no native wasm support detected");var T,D=!1,U,V,H,R,L,pe,Ie;function we(){var d=T.buffer;r.HEAP8=V=new Int8Array(d),r.HEAP16=new Int16Array(d),r.HEAPU8=H=new Uint8Array(d),r.HEAPU16=new Uint16Array(d),r.HEAP32=R=new Int32Array(d),r.HEAPU32=L=new Uint32Array(d),r.HEAPF32=pe=new Float32Array(d),r.HEAPF64=Ie=new Float64Array(d)}var ne=[],ze=[],Q=[],xe=0,me=null,ue=null;function se(d){throw d="Aborted("+d+")",A(d),D=!0,U=1,d=new WebAssembly.RuntimeError(d+". Build with -sASSERTIONS for more info."),n(d),d}var he=d=>d.startsWith("data:application/octet-stream;base64,"),Ae=d=>d.startsWith("file://"),He;if(He="ort-wasm-simd.wasm",!he(He)){var G=He;He=r.locateFile?r.locateFile(G,b):b+G}function J(d){if($)return $(d);throw"both async and sync fetching of the wasm failed"}function Se(d){if(p||m){if(typeof fetch=="function"&&!Ae(d))return fetch(d,{credentials:"same-origin"}).then(h=>{if(!h.ok)throw"failed to load wasm binary file at \'"+d+"\'";return h.arrayBuffer()}).catch(()=>J(d));if(y)return new Promise((h,w)=>{y(d,S=>h(new Uint8Array(S)),w)})}return Promise.resolve().then(()=>J(d))}function Qe(d,h,w){return Se(d).then(S=>WebAssembly.instantiate(S,h)).then(S=>S).then(w,S=>{A(`failed to asynchronously prepare wasm: ${S}`),se(S)})}function Xe(d,h){var w=He;return typeof WebAssembly.instantiateStreaming!="function"||he(w)||Ae(w)||f||typeof fetch!="function"?Qe(w,d,h):fetch(w,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,d).then(h,function(P){return A(`wasm streaming compile failed: ${P}`),A("falling back to ArrayBuffer instantiation"),Qe(w,d,h)}))}var Le,wt={931760:(d,h,w,S)=>{if(typeof r>"u"||!r.Fa)return 1;if(d=qe(d>>>0),d.startsWith("./")&&(d=d.substring(2)),d=r.Fa.get(d),!d)return 2;if(h>>>=0,w>>>=0,h+w>d.byteLength)return 3;try{return H.set(d.subarray(h,h+w),S>>>0>>>0),0}catch{return 4}},932261:()=>{r.Sa()},932292:()=>{r.Ta()},932321:()=>{r.Xa()},932346:d=>r.Ra(d),932379:d=>r.Va(d),932411:(d,h,w)=>{r.Ma(d,h,w,!0)},932450:(d,h,w)=>{r.Ma(d,h,w)},932483:d=>{r.sa("Abs",d,void 0)},932534:d=>{r.sa("Neg",d,void 0)},932585:d=>{r.sa("Floor",d,void 0)},932638:d=>{r.sa("Ceil",d,void 0)},932690:d=>{r.sa("Reciprocal",d,void 0)},932748:d=>{r.sa("Sqrt",d,void 0)},932800:d=>{r.sa("Exp",d,void 0)},932851:d=>{r.sa("Erf",d,void 0)},932902:d=>{r.sa("Sigmoid",d,void 0)},932957:(d,h,w)=>{r.sa("HardSigmoid",d,{alpha:h,beta:w})},933036:d=>{r.sa("Log",d,void 0)},933087:d=>{r.sa("Sin",d,void 0)},933138:d=>{r.sa("Cos",d,void 0)},933189:d=>{r.sa("Tan",d,void 0)},933240:d=>{r.sa("Asin",d,void 0)},933292:d=>{r.sa("Acos",d,void 0)},933344:d=>{r.sa("Atan",d,void 0)},933396:d=>{r.sa("Sinh",d,void 0)},933448:d=>{r.sa("Cosh",d,void 0)},933500:d=>{r.sa("Asinh",d,void 0)},933553:d=>{r.sa("Acosh",d,void 0)},933606:d=>{r.sa("Atanh",d,void 0)},933659:d=>{r.sa("Tanh",d,void 0)},933711:d=>{r.sa("Not",d,void 0)},933762:(d,h,w)=>{r.sa("Clip",d,{min:h,max:w})},933831:d=>{r.sa("Clip",d,void 0)},933883:(d,h)=>{r.sa("Elu",d,{alpha:h})},933941:d=>{r.sa("Relu",d,void 0)},933993:(d,h)=>{r.sa("LeakyRelu",d,{alpha:h})},934057:(d,h)=>{r.sa("ThresholdedRelu",d,{alpha:h})},934127:(d,h)=>{r.sa("Cast",d,{to:h})},934185:d=>{r.sa("Add",d,void 0)},934236:d=>{r.sa("Sub",d,void 0)},934287:d=>{r.sa("Mul",d,void 0)},934338:d=>{r.sa("Div",d,void 0)},934389:d=>{r.sa("Pow",d,void 0)},934440:d=>{r.sa("Equal",d,void 0)},934493:d=>{r.sa("Greater",d,void 0)},934548:d=>{r.sa("GreaterOrEqual",d,void 0)},934610:d=>{r.sa("Less",d,void 0)},934662:d=>{r.sa("LessOrEqual",d,void 0)},934721:(d,h,w,S,P)=>{r.sa("ReduceMean",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},934880:(d,h,w,S,P)=>{r.sa("ReduceMax",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},935038:(d,h,w,S,P)=>{r.sa("ReduceMin",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},935196:(d,h,w,S,P)=>{r.sa("ReduceProd",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},935355:(d,h,w,S,P)=>{r.sa("ReduceSum",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},935513:(d,h,w,S,P)=>{r.sa("ReduceL1",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},935670:(d,h,w,S,P)=>{r.sa("ReduceL2",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},935827:(d,h,w,S,P)=>{r.sa("ReduceLogSum",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},935988:(d,h,w,S,P)=>{r.sa("ReduceSumSquare",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},936152:(d,h,w,S,P)=>{r.sa("ReduceLogSumExp",d,{keepDims:!!h,noopWithEmptyAxes:!!w,axes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},936316:d=>{r.sa("Where",d,void 0)},936369:(d,h,w)=>{r.sa("Transpose",d,{perm:h?Array.from(R.subarray(h>>>0,w>>>0)):[]})},936477:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re,O,oe)=>{r.sa("ConvTranspose",d,{format:ae?"NHWC":"NCHW",autoPad:h,dilations:[w],group:S,kernel_shape:[P],pads:[N,K],strides:[X],wIsConst:()=>!!V[de>>>0],outputPadding:fe?Array.from(R.subarray(fe>>>0,Oe>>>0)):[],outputShape:Re?Array.from(R.subarray(Re>>>0,O>>>0)):[],activation:qe(oe)})},936879:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re,O)=>{r.sa("ConvTranspose",d,{format:X?"NHWC":"NCHW",autoPad:h,dilations:Array.from(R.subarray(w>>>0,(w>>>0)+2>>>0)),group:S,kernelShape:Array.from(R.subarray(P>>>0,(P>>>0)+2>>>0)),pads:Array.from(R.subarray(N>>>0,(N>>>0)+4>>>0)),strides:Array.from(R.subarray(K>>>0,(K>>>0)+2>>>0)),wIsConst:()=>!!V[ae>>>0],outputPadding:de?Array.from(R.subarray(de>>>0,fe>>>0)):[],outputShape:Oe?Array.from(R.subarray(Oe>>>0,Re>>>0)):[],activation:qe(O)})},937444:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re,O,oe)=>{r.sa("ConvTranspose",d,{format:ae?"NHWC":"NCHW",autoPad:h,dilations:[w],group:S,kernel_shape:[P],pads:[N,K],strides:[X],wIsConst:()=>!!V[de>>>0],outputPadding:fe?Array.from(R.subarray(fe>>>0,Oe>>>0)):[],outputShape:Re?Array.from(R.subarray(Re>>>0,O>>>0)):[],activation:qe(oe)})},937846:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re,O)=>{r.sa("ConvTranspose",d,{format:X?"NHWC":"NCHW",autoPad:h,dilations:Array.from(R.subarray(w>>>0,(w>>>0)+2>>>0)),group:S,kernelShape:Array.from(R.subarray(P>>>0,(P>>>0)+2>>>0)),pads:Array.from(R.subarray(N>>>0,(N>>>0)+4>>>0)),strides:Array.from(R.subarray(K>>>0,(K>>>0)+2>>>0)),wIsConst:()=>!!V[ae>>>0],outputPadding:de?Array.from(R.subarray(de>>>0,fe>>>0)):[],outputShape:Oe?Array.from(R.subarray(Oe>>>0,Re>>>0)):[],activation:qe(O)})},938411:(d,h)=>{r.sa("GlobalAveragePool",d,{format:h?"NHWC":"NCHW"})},938502:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re,O,oe,Ce)=>{r.sa("AveragePool",d,{format:Ce?"NHWC":"NCHW",auto_pad:h,ceil_mode:w,count_include_pad:S,storage_order:P,dilations:[N,K],kernel_shape:[X,ae],pads:[de,fe,Oe,Re],strides:[O,oe]})},938786:(d,h)=>{r.sa("GlobalAveragePool",d,{format:h?"NHWC":"NCHW"})},938877:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re,O,oe,Ce)=>{r.sa("AveragePool",d,{format:Ce?"NHWC":"NCHW",auto_pad:h,ceil_mode:w,count_include_pad:S,storage_order:P,dilations:[N,K],kernel_shape:[X,ae],pads:[de,fe,Oe,Re],strides:[O,oe]})},939161:(d,h)=>{r.sa("GlobalMaxPool",d,{format:h?"NHWC":"NCHW"})},939248:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re,O,oe,Ce)=>{r.sa("MaxPool",d,{format:Ce?"NHWC":"NCHW",auto_pad:h,ceil_mode:w,count_include_pad:S,storage_order:P,dilations:[N,K],kernel_shape:[X,ae],pads:[de,fe,Oe,Re],strides:[O,oe]})},939528:(d,h)=>{r.sa("GlobalMaxPool",d,{format:h?"NHWC":"NCHW"})},939615:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re,O,oe,Ce)=>{r.sa("MaxPool",d,{format:Ce?"NHWC":"NCHW",auto_pad:h,ceil_mode:w,count_include_pad:S,storage_order:P,dilations:[N,K],kernel_shape:[X,ae],pads:[de,fe,Oe,Re],strides:[O,oe]})},939895:(d,h,w,S,P)=>{r.sa("Gemm",d,{alpha:h,beta:w,transA:S,transB:P})},939999:d=>{r.sa("MatMul",d,void 0)},940053:(d,h,w,S)=>{r.sa("ArgMax",d,{keepDims:!!h,selectLastIndex:!!w,axis:S})},940161:(d,h,w,S)=>{r.sa("ArgMin",d,{keepDims:!!h,selectLastIndex:!!w,axis:S})},940269:(d,h)=>{r.sa("Softmax",d,{axis:h})},940332:(d,h)=>{r.sa("Concat",d,{axis:h})},940392:(d,h,w,S,P)=>{r.sa("Split",d,{axis:h,numOutputs:w,splitSizes:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},940532:d=>{r.sa("Expand",d,void 0)},940586:(d,h)=>{r.sa("Gather",d,{axis:Number(h)})},940657:(d,h)=>{r.sa("GatherElements",d,{axis:Number(h)})},940736:(d,h,w,S,P,N,K,X,ae,de,fe)=>{r.sa("Resize",d,{antialias:h,axes:w?Array.from(R.subarray(w>>>0,S>>>0)):[],coordinateTransformMode:qe(P),cubicCoeffA:N,excludeOutside:K,extrapolationValue:X,keepAspectRatioPolicy:qe(ae),mode:qe(de),nearestMode:qe(fe)})},941082:(d,h,w,S,P,N,K)=>{r.sa("Slice",d,{starts:h?Array.from(R.subarray(h>>>0,w>>>0)):[],ends:S?Array.from(R.subarray(S>>>0,P>>>0)):[],axes:N?Array.from(R.subarray(N>>>0,K>>>0)):[]})},941298:d=>{r.sa("Tile",d,void 0)},941350:(d,h,w)=>{r.sa("LayerNormalization",d,{axis:Number(h),epsilon:Number(w)})},941457:(d,h,w)=>{r.sa("InstanceNormalization",d,{epsilon:h,format:w?"NHWC":"NCHW"})},941571:(d,h,w)=>{r.sa("InstanceNormalization",d,{epsilon:h,format:w?"NHWC":"NCHW"})},941685:d=>{r.sa("Range",d,void 0)},941738:(d,h)=>{r.sa("Einsum",d,{equation:qe(h)})},941819:(d,h,w,S,P)=>{r.sa("Pad",d,{mode:h,value:w,pads:S?Array.from(R.subarray(S>>>0,P>>>0)):[]})},941946:(d,h,w,S,P,N)=>{r.sa("BatchNormalization",d,{epsilon:h,momentum:w,spatial:!!P,trainingMode:!!S,format:N?"NHWC":"NCHW"})},942115:(d,h,w,S,P,N)=>{r.sa("BatchNormalization",d,{epsilon:h,momentum:w,spatial:!!P,trainingMode:!!S,format:N?"NHWC":"NCHW"})},942284:(d,h,w)=>{r.sa("CumSum",d,{exclusive:Number(h),reverse:Number(w)})},942381:(d,h,w,S,P,N,K,X,ae)=>{r.sa("Attention",d,{numHeads:h,isUnidirectional:w,maskFilterValue:S,scale:P,doRotary:N,qkvHiddenSizes:K?Array.from(R.subarray(Number(X)>>>0,Number(X)+K>>>0)):[],pastPresentShareBuffer:!!ae})},942653:d=>{r.sa("BiasAdd",d,void 0)},942708:d=>{r.sa("BiasSplitGelu",d,void 0)},942769:d=>{r.sa("FastGelu",d,void 0)},942825:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re)=>{r.sa("Conv",d,{format:ae?"NHWC":"NCHW",auto_pad:h,dilations:[w],group:S,kernel_shape:[P],pads:N?Array.from(R.subarray(N>>>0,K>>>0)):[],strides:[X],w_is_const:()=>!!V[de>>>0],activation:qe(fe),activation_params:Oe?Array.from(pe.subarray(Oe>>>0,Re>>>0)):[]})},943195:(d,h,w,S,P,N,K,X,ae,de,fe,Oe,Re,O,oe,Ce)=>{r.sa("Conv",d,{format:Oe?"NHWC":"NCHW",auto_pad:h,dilations:[w,S],group:P,kernel_shape:[N,K],pads:X?Array.from(R.subarray(X>>>0,ae>>>0)):[],strides:[de,fe],w_is_const:()=>!!V[Re>>>0],activation:qe(O),activation_params:oe?Array.from(pe.subarray(oe>>>0,Ce>>>0)):[]})},943586:d=>{r.sa("Gelu",d,void 0)},943638:(d,h,w,S,P,N)=>{r.sa("MatMulNBits",d,{k:h,n:w,accuracyLevel:S,bits:P,blockSize:N})},943765:(d,h,w,S,P,N)=>{r.sa("MultiHeadAttention",d,{numHeads:h,isUnidirectional:w,maskFilterValue:S,scale:P,doRotary:N})},943924:(d,h)=>{r.sa("SkipLayerNormalization",d,{epsilon:h})},944005:d=>{r.Wa(d)},944039:(d,h)=>r.Ya(d,h,r.Ea.Za,r.Ea.errors)};function Ne(d){this.name="ExitStatus",this.message=`Program terminated with exit(${d})`,this.status=d}function Fe(d){this.Ja=d-24,this.Pa=function(h){L[this.Ja+4>>>2>>>0]=h},this.Oa=function(h){L[this.Ja+8>>>2>>>0]=h},this.eb=function(h,w){this.Na(),this.Pa(h),this.Oa(w)},this.Na=function(){L[this.Ja+16>>>2>>>0]=0}}var Je=0,kt=0,vt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,xt=(d,h,w)=>{h>>>=0;var S=h+w;for(w=h;d[w]&&!(w>=S);)++w;if(16<w-h&&d.buffer&&vt)return vt.decode(d.subarray(h,w));for(S="";h<w;){var P=d[h++];if(P&128){var N=d[h++]&63;if((P&224)==192)S+=String.fromCharCode((P&31)<<6|N);else{var K=d[h++]&63;P=(P&240)==224?(P&15)<<12|N<<6|K:(P&7)<<18|N<<12|K<<6|d[h++]&63,65536>P?S+=String.fromCharCode(P):(P-=65536,S+=String.fromCharCode(55296|P>>10,56320|P&1023))}}else S+=String.fromCharCode(P)}return S},qe=(d,h)=>(d>>>=0)?xt(H,d,h):"",Zt=d=>{for(var h=0,w=0;w<d.length;++w){var S=d.charCodeAt(w);127>=S?h++:2047>=S?h+=2:55296<=S&&57343>=S?(h+=4,++w):h+=3}return h},Vt=(d,h,w,S)=>{if(w>>>=0,!(0<S))return 0;var P=w;S=w+S-1;for(var N=0;N<d.length;++N){var K=d.charCodeAt(N);if(55296<=K&&57343>=K){var X=d.charCodeAt(++N);K=65536+((K&1023)<<10)|X&1023}if(127>=K){if(w>=S)break;h[w++>>>0]=K}else{if(2047>=K){if(w+1>=S)break;h[w++>>>0]=192|K>>6}else{if(65535>=K){if(w+2>=S)break;h[w++>>>0]=224|K>>12}else{if(w+3>=S)break;h[w++>>>0]=240|K>>18,h[w++>>>0]=128|K>>12&63}h[w++>>>0]=128|K>>6&63}h[w++>>>0]=128|K&63}}return h[w>>>0]=0,w-P},St=d=>d%4===0&&(d%100!==0||d%400===0),$t=[0,31,60,91,121,152,182,213,244,274,305,335],Nt=[0,31,59,90,120,151,181,212,243,273,304,334],Wt=d=>{var h=Zt(d)+1,w=Lt(h);return w&&Vt(d,H,w,h),w},Rt=[],Qt=(d,h)=>{Rt.length=0;for(var w;w=H[d++>>>0];){var S=w!=105;S&=w!=112,h+=S&&h%8?4:0,Rt.push(w==112?L[h>>>2>>>0]:w==105?R[h>>>2>>>0]:Ie[h>>>3>>>0]),h+=S?8:4}return Rt},at={},Xt=()=>{if(!Gt){var d={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"},h;for(h in at)at[h]===void 0?delete d[h]:d[h]=at[h];var w=[];for(h in d)w.push(`${h}=${d[h]}`);Gt=w}return Gt},Gt,Ke=[null,[],[]],vr=[31,29,31,30,31,30,31,31,30,31,30,31],ke=[31,28,31,30,31,30,31,31,30,31,30,31];function $r(d){var h=Array(Zt(d)+1);return Vt(d,h,0,h.length),h}function Ht(d,h,w,S){function P(O,oe,Ce){for(O=typeof O=="number"?O.toString():O||"";O.length<oe;)O=Ce[0]+O;return O}function N(O,oe){return P(O,oe,"0")}function K(O,oe){function Ce(Pr){return 0>Pr?-1:0<Pr?1:0}var ct;return(ct=Ce(O.getFullYear()-oe.getFullYear()))===0&&(ct=Ce(O.getMonth()-oe.getMonth()))===0&&(ct=Ce(O.getDate()-oe.getDate())),ct}function X(O){switch(O.getDay()){case 0:return new Date(O.getFullYear()-1,11,29);case 1:return O;case 2:return new Date(O.getFullYear(),0,3);case 3:return new Date(O.getFullYear(),0,2);case 4:return new Date(O.getFullYear(),0,1);case 5:return new Date(O.getFullYear()-1,11,31);case 6:return new Date(O.getFullYear()-1,11,30)}}function ae(O){var oe=O.Ca;for(O=new Date(new Date(O.Da+1900,0,1).getTime());0<oe;){var Ce=O.getMonth(),ct=(St(O.getFullYear())?vr:ke)[Ce];if(oe>ct-O.getDate())oe-=ct-O.getDate()+1,O.setDate(1),11>Ce?O.setMonth(Ce+1):(O.setMonth(0),O.setFullYear(O.getFullYear()+1));else{O.setDate(O.getDate()+oe);break}}return Ce=new Date(O.getFullYear()+1,0,4),oe=X(new Date(O.getFullYear(),0,4)),Ce=X(Ce),0>=K(oe,O)?0>=K(Ce,O)?O.getFullYear()+1:O.getFullYear():O.getFullYear()-1}d>>>=0,h>>>=0,w>>>=0,S>>>=0;var de=L[S+40>>>2>>>0];S={bb:R[S>>>2>>>0],ab:R[S+4>>>2>>>0],Ga:R[S+8>>>2>>>0],Ka:R[S+12>>>2>>>0],Ha:R[S+16>>>2>>>0],Da:R[S+20>>>2>>>0],xa:R[S+24>>>2>>>0],Ca:R[S+28>>>2>>>0],fb:R[S+32>>>2>>>0],$a:R[S+36>>>2>>>0],cb:de?qe(de):""},w=qe(w),de={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var fe in de)w=w.replace(new RegExp(fe,"g"),de[fe]);var Oe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Re="January February March April May June July August September October November December".split(" ");de={"%a":O=>Oe[O.xa].substring(0,3),"%A":O=>Oe[O.xa],"%b":O=>Re[O.Ha].substring(0,3),"%B":O=>Re[O.Ha],"%C":O=>N((O.Da+1900)/100|0,2),"%d":O=>N(O.Ka,2),"%e":O=>P(O.Ka,2," "),"%g":O=>ae(O).toString().substring(2),"%G":O=>ae(O),"%H":O=>N(O.Ga,2),"%I":O=>(O=O.Ga,O==0?O=12:12<O&&(O-=12),N(O,2)),"%j":O=>{for(var oe=0,Ce=0;Ce<=O.Ha-1;oe+=(St(O.Da+1900)?vr:ke)[Ce++]);return N(O.Ka+oe,3)},"%m":O=>N(O.Ha+1,2),"%M":O=>N(O.ab,2),"%n":()=>`\n`,"%p":O=>0<=O.Ga&&12>O.Ga?"AM":"PM","%S":O=>N(O.bb,2),"%t":()=>"	","%u":O=>O.xa||7,"%U":O=>N(Math.floor((O.Ca+7-O.xa)/7),2),"%V":O=>{var oe=Math.floor((O.Ca+7-(O.xa+6)%7)/7);if(2>=(O.xa+371-O.Ca-2)%7&&oe++,oe)oe==53&&(Ce=(O.xa+371-O.Ca)%7,Ce==4||Ce==3&&St(O.Da)||(oe=1));else{oe=52;var Ce=(O.xa+7-O.Ca-1)%7;(Ce==4||Ce==5&&St(O.Da%400-1))&&oe++}return N(oe,2)},"%w":O=>O.xa,"%W":O=>N(Math.floor((O.Ca+7-(O.xa+6)%7)/7),2),"%y":O=>(O.Da+1900).toString().substring(2),"%Y":O=>O.Da+1900,"%z":O=>{O=O.$a;var oe=0<=O;return O=Math.abs(O)/60,(oe?"+":"-")+("0000"+(O/60*100+O%60)).slice(-4)},"%Z":O=>O.cb,"%%":()=>"%"},w=w.replace(/%%/g,"\\0\\0");for(fe in de)w.includes(fe)&&(w=w.replace(new RegExp(fe,"g"),de[fe](S)));return w=w.replace(/\\0\\0/g,"%"),fe=$r(w),fe.length>h?0:(V.set(fe,d>>>0),fe.length-1)}var Ct=d=>{try{d()}catch(h){se(h)}};function mn(){var d=ee,h={};for(let[w,S]of Object.entries(d))h[w]=typeof S=="function"?function(){_t.push(w);try{return S.apply(null,arguments)}finally{D||(_t.pop(),nt&&it===1&&_t.length===0&&(it=0,Ct(dr),typeof Fibers<"u"&&Fibers.gb()))}}:S;return h}var it=0,nt=null,te=0,_t=[],Jt={},_r={},xr=0,er=null,Sr=[];function Cr(){return new Promise((d,h)=>{er={resolve:d,reject:h}})}function Ir(){var d=Lt(65548),h=d+12;L[d>>>2>>>0]=h,L[d+4>>>2>>>0]=h+65536,h=_t[0];var w=Jt[h];return w===void 0&&(w=xr++,Jt[h]=w,_r[w]=h),R[d+8>>>2>>>0]=w,d}function Ar(d){if(!D){if(it===0){var h=!1,w=!1;d((S=0)=>{if(!D&&(te=S,h=!0,w)){it=2,Ct(()=>lr(nt)),typeof Browser<"u"&&Browser.Ia.Qa&&Browser.Ia.resume(),S=!1;try{var P=(0,ee[_r[R[nt+8>>>2>>>0]]])()}catch(X){P=X,S=!0}var N=!1;if(!nt){var K=er;K&&(er=null,(S?K.reject:K.resolve)(P),N=!0)}if(S&&!N)throw P}}),w=!0,h||(it=1,nt=Ir(),typeof Browser<"u"&&Browser.Ia.Qa&&Browser.Ia.pause(),Ct(()=>ur(nt)))}else it===2?(it=0,Ct(cr),nr(nt),nt=null,Sr.forEach(S=>{if(!D)try{S();try{U=U=S=U,r.onExit?.(S),D=!0,a(S,new Ne(S))}catch(P){P instanceof Ne||P=="unwind"||a(1,P)}}catch(P){P instanceof Ne||P=="unwind"||a(1,P)}})):se(`invalid state: ${it}`);return te}}function tr(d){return Ar(h=>{d().then(h)})}var Tr={n:function(d,h,w){return tr(async()=>{await r.Ua(d,h,w)})},a:function(d,h,w){throw d>>>=0,new Fe(d).eb(h>>>0,w>>>0),Je=d,kt++,Je},g:function(){return 0},J:function(){},A:function(){},C:function(){},L:function(){return 0},H:function(){},D:function(){},G:function(){},l:function(){},B:function(){},y:function(){},I:function(){},z:function(){},m:()=>1,q:function(d,h,w){d=h+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*h:NaN,w>>>=0,d=new Date(1e3*d),R[w>>>2>>>0]=d.getUTCSeconds(),R[w+4>>>2>>>0]=d.getUTCMinutes(),R[w+8>>>2>>>0]=d.getUTCHours(),R[w+12>>>2>>>0]=d.getUTCDate(),R[w+16>>>2>>>0]=d.getUTCMonth(),R[w+20>>>2>>>0]=d.getUTCFullYear()-1900,R[w+24>>>2>>>0]=d.getUTCDay(),R[w+28>>>2>>>0]=(d.getTime()-Date.UTC(d.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},r:function(d,h,w){d=h+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*h:NaN,w>>>=0,d=new Date(1e3*d),R[w>>>2>>>0]=d.getSeconds(),R[w+4>>>2>>>0]=d.getMinutes(),R[w+8>>>2>>>0]=d.getHours(),R[w+12>>>2>>>0]=d.getDate(),R[w+16>>>2>>>0]=d.getMonth(),R[w+20>>>2>>>0]=d.getFullYear()-1900,R[w+24>>>2>>>0]=d.getDay(),R[w+28>>>2>>>0]=(St(d.getFullYear())?$t:Nt)[d.getMonth()]+d.getDate()-1|0,R[w+36>>>2>>>0]=-(60*d.getTimezoneOffset()),h=new Date(d.getFullYear(),6,1).getTimezoneOffset();var S=new Date(d.getFullYear(),0,1).getTimezoneOffset();R[w+32>>>2>>>0]=(h!=S&&d.getTimezoneOffset()==Math.min(S,h))|0},s:function(d){d>>>=0;var h=new Date(R[d+20>>>2>>>0]+1900,R[d+16>>>2>>>0],R[d+12>>>2>>>0],R[d+8>>>2>>>0],R[d+4>>>2>>>0],R[d>>>2>>>0],0),w=R[d+32>>>2>>>0],S=h.getTimezoneOffset(),P=new Date(h.getFullYear(),6,1).getTimezoneOffset(),N=new Date(h.getFullYear(),0,1).getTimezoneOffset(),K=Math.min(N,P);return 0>w?R[d+32>>>2>>>0]=+(P!=N&&K==S):0<w!=(K==S)&&(P=Math.max(N,P),h.setTime(h.getTime()+6e4*((0<w?K:P)-S))),R[d+24>>>2>>>0]=h.getDay(),R[d+28>>>2>>>0]=(St(h.getFullYear())?$t:Nt)[h.getMonth()]+h.getDate()-1|0,R[d>>>2>>>0]=h.getSeconds(),R[d+4>>>2>>>0]=h.getMinutes(),R[d+8>>>2>>>0]=h.getHours(),R[d+12>>>2>>>0]=h.getDate(),R[d+16>>>2>>>0]=h.getMonth(),R[d+20>>>2>>>0]=h.getYear(),d=h.getTime(),isNaN(d)?(R[rr()>>>2>>>0]=61,d=-1):d/=1e3,or((Le=d,1<=+Math.abs(Le)?0<Le?+Math.floor(Le/4294967296)>>>0:~~+Math.ceil((Le-+(~~Le>>>0))/4294967296)>>>0:0)),d>>>0},o:function(){return-52},p:function(){},w:function(d,h,w){function S(ae){return(ae=ae.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ae[1]:"GMT"}w>>>=0;var P=new Date().getFullYear(),N=new Date(P,0,1),K=new Date(P,6,1);P=N.getTimezoneOffset();var X=K.getTimezoneOffset();L[d>>>0>>>2>>>0]=60*Math.max(P,X),R[h>>>0>>>2>>>0]=+(P!=X),d=S(N),h=S(K),d=Wt(d),h=Wt(h),X<P?(L[w>>>2>>>0]=d,L[w+4>>>2>>>0]=h):(L[w>>>2>>>0]=h,L[w+4>>>2>>>0]=d)},e:()=>{se("")},b:function(d,h,w){return d>>>=0,h=Qt(h>>>0,w>>>0),wt[d].apply(null,h)},i:function(d,h,w){return d>>>=0,h=Qt(h>>>0,w>>>0),wt[d].apply(null,h)},h:()=>Date.now(),x:function(){return 4294901760},c:()=>performance.now(),K:function(d,h,w){return h>>>=0,H.copyWithin(d>>>0>>>0,h>>>0,h+(w>>>0)>>>0)},u:function(d){d>>>=0;var h=H.length;if(4294901760<d)return!1;for(var w=1;4>=w;w*=2){var S=h*(1+.2/w);S=Math.min(S,d+100663296);var P=Math;S=Math.max(d,S);e:{P=(P.min.call(P,4294901760,S+(65536-S%65536)%65536)-T.buffer.byteLength+65535)/65536;try{T.grow(P),we();var N=1;break e}catch{}N=void 0}if(N)return!0}return!1},E:function(d,h){d>>>=0,h>>>=0;var w=0;return Xt().forEach((S,P)=>{var N=h+w;for(P=L[d+4*P>>>2>>>0]=N,N=0;N<S.length;++N)V[P++>>>0>>>0]=S.charCodeAt(N);V[P>>>0>>>0]=0,w+=S.length+1}),0},F:function(d,h){d>>>=0,h>>>=0;var w=Xt();L[d>>>2>>>0]=w.length;var S=0;return w.forEach(P=>S+=P.length+1),L[h>>>2>>>0]=S,0},f:()=>52,k:function(){return 52},t:function(){return 70},j:function(d,h,w,S){h>>>=0,w>>>=0,S>>>=0;for(var P=0,N=0;N<w;N++){var K=L[h>>>2>>>0],X=L[h+4>>>2>>>0];h+=8;for(var ae=0;ae<X;ae++){var de=H[K+ae>>>0],fe=Ke[d];de===0||de===10?((d===1?v:A)(xt(fe,0)),fe.length=0):fe.push(de)}P+=X}return L[S>>>2>>>0]=P,0},v:Ht,d:function(d,h,w,S){return Ht(d>>>0,h>>>0,w>>>0,S>>>0)}},ee=function(){function d(w){return ee=w.exports,ee=mn(),ee=Er(),T=ee.M,we(),ze.unshift(ee.N),xe--,xe==0&&(me!==null&&(clearInterval(me),me=null),ue&&(w=ue,ue=null,w())),ee}var h={a:Tr};if(xe++,r.instantiateWasm)try{return r.instantiateWasm(h,d)}catch(w){A(`Module.instantiateWasm callback failed with error: ${w}`),n(w)}return Xe(h,function(w){d(w.instance)}).catch(n),{}}();r._OrtInit=(d,h)=>(r._OrtInit=ee.O)(d,h),r._OrtGetLastError=(d,h)=>(r._OrtGetLastError=ee.P)(d,h),r._OrtCreateSessionOptions=(d,h,w,S,P,N,K,X,ae,de)=>(r._OrtCreateSessionOptions=ee.Q)(d,h,w,S,P,N,K,X,ae,de),r._OrtAppendExecutionProvider=(d,h)=>(r._OrtAppendExecutionProvider=ee.R)(d,h),r._OrtAddFreeDimensionOverride=(d,h,w)=>(r._OrtAddFreeDimensionOverride=ee.S)(d,h,w),r._OrtAddSessionConfigEntry=(d,h,w)=>(r._OrtAddSessionConfigEntry=ee.T)(d,h,w),r._OrtReleaseSessionOptions=d=>(r._OrtReleaseSessionOptions=ee.U)(d),r._OrtCreateSession=(d,h,w)=>(r._OrtCreateSession=ee.V)(d,h,w),r._OrtReleaseSession=d=>(r._OrtReleaseSession=ee.W)(d),r._OrtGetInputOutputCount=(d,h,w)=>(r._OrtGetInputOutputCount=ee.X)(d,h,w),r._OrtGetInputName=(d,h)=>(r._OrtGetInputName=ee.Y)(d,h),r._OrtGetOutputName=(d,h)=>(r._OrtGetOutputName=ee.Z)(d,h),r._OrtFree=d=>(r._OrtFree=ee._)(d),r._OrtCreateTensor=(d,h,w,S,P,N)=>(r._OrtCreateTensor=ee.$)(d,h,w,S,P,N),r._OrtGetTensorData=(d,h,w,S,P)=>(r._OrtGetTensorData=ee.aa)(d,h,w,S,P),r._OrtReleaseTensor=d=>(r._OrtReleaseTensor=ee.ba)(d),r._OrtCreateRunOptions=(d,h,w,S)=>(r._OrtCreateRunOptions=ee.ca)(d,h,w,S),r._OrtAddRunConfigEntry=(d,h,w)=>(r._OrtAddRunConfigEntry=ee.da)(d,h,w),r._OrtReleaseRunOptions=d=>(r._OrtReleaseRunOptions=ee.ea)(d),r._OrtCreateBinding=d=>(r._OrtCreateBinding=ee.fa)(d),r._OrtBindInput=(d,h,w)=>(r._OrtBindInput=ee.ga)(d,h,w),r._OrtBindOutput=(d,h,w,S)=>(r._OrtBindOutput=ee.ha)(d,h,w,S),r._OrtClearBoundOutputs=d=>(r._OrtClearBoundOutputs=ee.ia)(d),r._OrtReleaseBinding=d=>(r._OrtReleaseBinding=ee.ja)(d),r._OrtRunWithBinding=(d,h,w,S,P)=>(r._OrtRunWithBinding=ee.ka)(d,h,w,S,P),r._OrtRun=(d,h,w,S,P,N,K,X)=>(r._OrtRun=ee.la)(d,h,w,S,P,N,K,X),r._OrtEndProfiling=d=>(r._OrtEndProfiling=ee.ma)(d),r._JsepOutput=(d,h,w)=>(r._JsepOutput=ee.na)(d,h,w),r._JsepGetNodeName=d=>(r._JsepGetNodeName=ee.oa)(d);var rr=()=>(rr=ee.pa)(),Lt=r._malloc=d=>(Lt=r._malloc=ee.qa)(d),nr=r._free=d=>(nr=r._free=ee.ra)(d),or=d=>(or=ee.ta)(d),ar=()=>(ar=ee.ua)(),ir=d=>(ir=ee.va)(d),sr=d=>(sr=ee.wa)(d),ur=d=>(ur=ee.ya)(d),dr=()=>(dr=ee.za)(),lr=d=>(lr=ee.Aa)(d),cr=()=>(cr=ee.Ba)();r.___start_em_js=944151,r.___stop_em_js=944312;function Er(){var d=ee;d=Object.assign({},d);var h=S=>()=>S()>>>0,w=S=>P=>S(P)>>>0;return d.pa=h(d.pa),d.qa=w(d.qa),d.ua=h(d.ua),d.wa=w(d.wa),d}r.stackAlloc=sr,r.stackSave=ar,r.stackRestore=ir,r.UTF8ToString=qe,r.stringToUTF8=(d,h,w)=>Vt(d,H,h,w),r.lengthBytesUTF8=Zt;var It;ue=function d(){It||Bt(),It||(ue=d)};function Bt(){if(!(0<xe)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;){var d=r.preRun.shift();ne.unshift(d)}for(;0<ne.length;)ne.shift()(r);if(!(0<xe||It||(It=!0,r.calledRun=!0,D))){for(;0<ze.length;)ze.shift()(r);for(o(r);0<Q.length;)Q.shift()(r)}}}return Bt(),t.ready}})();typeof ko=="object"&&typeof Cn=="object"?Cn.exports=Oo:typeof define=="function"&&define.amd&&define([],()=>Oo)});var Bo=pr(()=>{});var Do=pr(()=>{});var Mo={};Mr(Mo,{cpus:()=>gd});var gd,zo=q(()=>{gd=void 0});var No=pr((Vo,In)=>{"use strict";var Uo=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(e=e||__filename),function(t={}){function r(){return ne.buffer!=me.buffer&&G(),me}function o(){return ne.buffer!=me.buffer&&G(),ue}function n(){return ne.buffer!=me.buffer&&G(),se}function s(){return ne.buffer!=me.buffer&&G(),he}function u(){return ne.buffer!=me.buffer&&G(),Ae}function l(){return ne.buffer!=me.buffer&&G(),He}var a=t,p,m;a.ready=new Promise((i,c)=>{p=i,m=c}),a.mountExternalData=(i,c)=>{(a.cb||(a.cb=new Map)).set(i,c)},a.unmountExternalData=()=>{delete a.cb};let f=()=>{let i=(g,x,E)=>(...k)=>{let W=pt,Z=x?.();k=g(...k);let ge=x?.();return Z!==ge&&(g=ge,E(Z),x=E=null),pt!=W?td():k},c=g=>async(...x)=>{try{if(a.bb)throw Error("Session already started");let E=a.bb={Gb:x[0],errors:[]},k=await g(...x);if(a.bb!==E)throw Error("Session mismatch");a.kb?.flush();let W=E.errors;if(0<W.length){let Z=await Promise.all(W);if(Z=Z.filter(ge=>ge),0<Z.length)throw Error(Z.join(`\n`))}return k}finally{a.bb=null}};a._OrtCreateSession=i(a._OrtCreateSession,()=>a._OrtCreateSession,g=>a._OrtCreateSession=g),a._OrtRun=c(i(a._OrtRun,()=>a._OrtRun,g=>a._OrtRun=g)),a._OrtRunWithBinding=c(i(a._OrtRunWithBinding,()=>a._OrtRunWithBinding,g=>a._OrtRunWithBinding=g)),a._OrtBindInput=i(a._OrtBindInput,()=>a._OrtBindInput,g=>a._OrtBindInput=g),f=void 0};a.jsepInit=(i,c)=>{if(f?.(),i==="webgpu"){[a.kb,a.xb,a.Bb,a.lb,a.Ab,a.Ea,a.Cb,a.Eb,a.yb,a.zb,a.Db]=c;let g=a.kb;a.jsepRegisterBuffer=(x,E,k,W)=>g.registerBuffer(x,E,k,W),a.jsepGetBuffer=x=>g.getBuffer(x),a.jsepCreateDownloader=(x,E,k)=>g.createDownloader(x,E,k),a.jsepOnReleaseSession=x=>{g.onReleaseSession(x)},a.jsepOnRunStart=x=>g.onRunStart(x)}};var b=Object.assign({},a),_="./this.program",y=(i,c)=>{throw c},$=typeof window=="object",I=typeof importScripts=="function",C=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v=a.ENVIRONMENT_IS_PTHREAD||!1,A="";function T(i){return a.locateFile?a.locateFile(i,A):A+i}var D,U,V;if(C){var H=(_n(),Ft($n)),R=(Sn(),Ft(xn));A=I?R.dirname(A)+"/":__dirname+"/",D=(c,g)=>(c=vt(c)?new URL(c):R.normalize(c),H.readFileSync(c,g?void 0:"utf8")),V=c=>(c=D(c,!0),c.buffer||(c=new Uint8Array(c)),c),U=(c,g,x,E=!0)=>{c=vt(c)?new URL(c):R.normalize(c),H.readFile(c,E?void 0:"utf8",(k,W)=>{k?x(k):g(E?W.buffer:W)})},!a.thisProgram&&1<process.argv.length&&(_=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),y=(c,g)=>{throw process.exitCode=c,g},a.inspect=()=>"[Emscripten Module object]";let i;try{i=Bo()}catch(c){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),c}global.Worker=i.Worker}else($||I)&&(I?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),typeof e<"u"&&e&&(A=e),A.indexOf("blob:")!==0?A=A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):A="",C||(D=i=>{var c=new XMLHttpRequest;return c.open("GET",i,!1),c.send(null),c.responseText},I&&(V=i=>{var c=new XMLHttpRequest;return c.open("GET",i,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}),U=(i,c,g)=>{var x=new XMLHttpRequest;x.open("GET",i,!0),x.responseType="arraybuffer",x.onload=()=>{x.status==200||x.status==0&&x.response?c(x.response):g()},x.onerror=g,x.send(null)}));C&&typeof performance>"u"&&(global.performance=Do().performance);var L=console.log.bind(console),pe=console.error.bind(console);C&&(L=(...i)=>H.writeSync(1,i.join(" ")+`\n`),pe=(...i)=>H.writeSync(2,i.join(" ")+`\n`));var Ie=L,we=pe;Object.assign(a,b),b=null,typeof WebAssembly!="object"&&Je("no native wasm support detected");var ne,ze,Q=!1,xe,me,ue,se,he,Ae,He;function G(){var i=ne.buffer;a.HEAP8=me=new Int8Array(i),a.HEAP16=new Int16Array(i),a.HEAPU8=ue=new Uint8Array(i),a.HEAPU16=new Uint16Array(i),a.HEAP32=se=new Int32Array(i),a.HEAPU32=he=new Uint32Array(i),a.HEAPF32=Ae=new Float32Array(i),a.HEAPF64=He=new Float64Array(i)}var J=16777216;if(v)ne=a.wasmMemory;else if(a.wasmMemory)ne=a.wasmMemory;else if(ne=new WebAssembly.Memory({initial:J/65536,maximum:65536,shared:!0}),!(ne.buffer instanceof SharedArrayBuffer))throw we("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),C&&we("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");G(),J=ne.buffer.byteLength;var Se=[],Qe=[],Xe=[],Le=0,wt=null,Ne=null;function Fe(){if(Le--,Le==0&&(wt!==null&&(clearInterval(wt),wt=null),Ne)){var i=Ne;Ne=null,i()}}function Je(i){throw i="Aborted("+i+")",we(i),Q=!0,xe=1,i=new WebAssembly.RuntimeError(i+". Build with -sASSERTIONS for more info."),m(i),i}var kt=i=>i.startsWith("data:application/octet-stream;base64,"),vt=i=>i.startsWith("file://"),xt;xt="ort-wasm-simd-threaded.wasm",kt(xt)||(xt=T(xt));function qe(i){if(V)return V(i);throw"both async and sync fetching of the wasm failed"}function Zt(i){if($||I){if(typeof fetch=="function"&&!vt(i))return fetch(i,{credentials:"same-origin"}).then(c=>{if(!c.ok)throw"failed to load wasm binary file at \'"+i+"\'";return c.arrayBuffer()}).catch(()=>qe(i));if(U)return new Promise((c,g)=>{U(i,x=>c(new Uint8Array(x)),g)})}return Promise.resolve().then(()=>qe(i))}function Vt(i,c,g){return Zt(i).then(x=>WebAssembly.instantiate(x,c)).then(x=>x).then(g,x=>{we(`failed to asynchronously prepare wasm: ${x}`),Je(x)})}function St(i,c){var g=xt;return typeof WebAssembly.instantiateStreaming!="function"||kt(g)||vt(g)||C||typeof fetch!="function"?Vt(g,i,c):fetch(g,{credentials:"same-origin"}).then(x=>WebAssembly.instantiateStreaming(x,i).then(c,function(E){return we(`wasm streaming compile failed: ${E}`),we("falling back to ArrayBuffer instantiation"),Vt(g,i,c)}))}var $t,Nt={933148:(i,c,g,x)=>{if(typeof a>"u"||!a.cb)return 1;if(i=Ke(i>>>0),i.startsWith("./")&&(i=i.substring(2)),i=a.cb.get(i),!i)return 2;if(c>>>=0,g>>>=0,x>>>=0,c+g>i.byteLength)return 3;try{return o().set(i.subarray(c,c+g),x>>>0),0}catch{return 4}},933649:()=>{a.yb()},933680:()=>{a.zb()},933709:()=>{a.Db()},933734:i=>a.xb(i),933767:i=>a.Bb(i),933799:(i,c,g)=>{a.lb(i,c,g,!0)},933838:(i,c,g)=>{a.lb(i,c,g)},933871:i=>{a.Ea("Abs",i,void 0)},933922:i=>{a.Ea("Neg",i,void 0)},933973:i=>{a.Ea("Floor",i,void 0)},934026:i=>{a.Ea("Ceil",i,void 0)},934078:i=>{a.Ea("Reciprocal",i,void 0)},934136:i=>{a.Ea("Sqrt",i,void 0)},934188:i=>{a.Ea("Exp",i,void 0)},934239:i=>{a.Ea("Erf",i,void 0)},934290:i=>{a.Ea("Sigmoid",i,void 0)},934345:(i,c,g)=>{a.Ea("HardSigmoid",i,{alpha:c,beta:g})},934424:i=>{a.Ea("Log",i,void 0)},934475:i=>{a.Ea("Sin",i,void 0)},934526:i=>{a.Ea("Cos",i,void 0)},934577:i=>{a.Ea("Tan",i,void 0)},934628:i=>{a.Ea("Asin",i,void 0)},934680:i=>{a.Ea("Acos",i,void 0)},934732:i=>{a.Ea("Atan",i,void 0)},934784:i=>{a.Ea("Sinh",i,void 0)},934836:i=>{a.Ea("Cosh",i,void 0)},934888:i=>{a.Ea("Asinh",i,void 0)},934941:i=>{a.Ea("Acosh",i,void 0)},934994:i=>{a.Ea("Atanh",i,void 0)},935047:i=>{a.Ea("Tanh",i,void 0)},935099:i=>{a.Ea("Not",i,void 0)},935150:(i,c,g)=>{a.Ea("Clip",i,{min:c,max:g})},935219:i=>{a.Ea("Clip",i,void 0)},935271:(i,c)=>{a.Ea("Elu",i,{alpha:c})},935329:i=>{a.Ea("Relu",i,void 0)},935381:(i,c)=>{a.Ea("LeakyRelu",i,{alpha:c})},935445:(i,c)=>{a.Ea("ThresholdedRelu",i,{alpha:c})},935515:(i,c)=>{a.Ea("Cast",i,{to:c})},935573:i=>{a.Ea("Add",i,void 0)},935624:i=>{a.Ea("Sub",i,void 0)},935675:i=>{a.Ea("Mul",i,void 0)},935726:i=>{a.Ea("Div",i,void 0)},935777:i=>{a.Ea("Pow",i,void 0)},935828:i=>{a.Ea("Equal",i,void 0)},935881:i=>{a.Ea("Greater",i,void 0)},935936:i=>{a.Ea("GreaterOrEqual",i,void 0)},935998:i=>{a.Ea("Less",i,void 0)},936050:i=>{a.Ea("LessOrEqual",i,void 0)},936109:(i,c,g,x,E)=>{a.Ea("ReduceMean",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},936268:(i,c,g,x,E)=>{a.Ea("ReduceMax",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},936426:(i,c,g,x,E)=>{a.Ea("ReduceMin",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},936584:(i,c,g,x,E)=>{a.Ea("ReduceProd",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},936743:(i,c,g,x,E)=>{a.Ea("ReduceSum",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},936901:(i,c,g,x,E)=>{a.Ea("ReduceL1",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},937058:(i,c,g,x,E)=>{a.Ea("ReduceL2",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},937215:(i,c,g,x,E)=>{a.Ea("ReduceLogSum",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},937376:(i,c,g,x,E)=>{a.Ea("ReduceSumSquare",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},937540:(i,c,g,x,E)=>{a.Ea("ReduceLogSumExp",i,{keepDims:!!c,noopWithEmptyAxes:!!g,axes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},937704:i=>{a.Ea("Where",i,void 0)},937757:(i,c,g)=>{a.Ea("Transpose",i,{perm:c?Array.from(n().subarray(c>>>0,g>>>0)):[]})},937865:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve,B,ce)=>{a.Ea("ConvTranspose",i,{format:ge?"NHWC":"NCHW",autoPad:c,dilations:[g],group:x,kernel_shape:[E],pads:[k,W],strides:[Z],wIsConst:()=>!!r()[le>>>0],outputPadding:ve?Array.from(n().subarray(ve>>>0,Ue>>>0)):[],outputShape:Ve?Array.from(n().subarray(Ve>>>0,B>>>0)):[],activation:Ke(ce)})},938267:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve,B)=>{a.Ea("ConvTranspose",i,{format:Z?"NHWC":"NCHW",autoPad:c,dilations:Array.from(n().subarray(g>>>0,(g>>>0)+2>>>0)),group:x,kernelShape:Array.from(n().subarray(E>>>0,(E>>>0)+2>>>0)),pads:Array.from(n().subarray(k>>>0,(k>>>0)+4>>>0)),strides:Array.from(n().subarray(W>>>0,(W>>>0)+2>>>0)),wIsConst:()=>!!r()[ge>>>0],outputPadding:le?Array.from(n().subarray(le>>>0,ve>>>0)):[],outputShape:Ue?Array.from(n().subarray(Ue>>>0,Ve>>>0)):[],activation:Ke(B)})},938832:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve,B,ce)=>{a.Ea("ConvTranspose",i,{format:ge?"NHWC":"NCHW",autoPad:c,dilations:[g],group:x,kernel_shape:[E],pads:[k,W],strides:[Z],wIsConst:()=>!!r()[le>>>0],outputPadding:ve?Array.from(n().subarray(ve>>>0,Ue>>>0)):[],outputShape:Ve?Array.from(n().subarray(Ve>>>0,B>>>0)):[],activation:Ke(ce)})},939234:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve,B)=>{a.Ea("ConvTranspose",i,{format:Z?"NHWC":"NCHW",autoPad:c,dilations:Array.from(n().subarray(g>>>0,(g>>>0)+2>>>0)),group:x,kernelShape:Array.from(n().subarray(E>>>0,(E>>>0)+2>>>0)),pads:Array.from(n().subarray(k>>>0,(k>>>0)+4>>>0)),strides:Array.from(n().subarray(W>>>0,(W>>>0)+2>>>0)),wIsConst:()=>!!r()[ge>>>0],outputPadding:le?Array.from(n().subarray(le>>>0,ve>>>0)):[],outputShape:Ue?Array.from(n().subarray(Ue>>>0,Ve>>>0)):[],activation:Ke(B)})},939799:(i,c)=>{a.Ea("GlobalAveragePool",i,{format:c?"NHWC":"NCHW"})},939890:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve,B,ce,Te)=>{a.Ea("AveragePool",i,{format:Te?"NHWC":"NCHW",auto_pad:c,ceil_mode:g,count_include_pad:x,storage_order:E,dilations:[k,W],kernel_shape:[Z,ge],pads:[le,ve,Ue,Ve],strides:[B,ce]})},940174:(i,c)=>{a.Ea("GlobalAveragePool",i,{format:c?"NHWC":"NCHW"})},940265:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve,B,ce,Te)=>{a.Ea("AveragePool",i,{format:Te?"NHWC":"NCHW",auto_pad:c,ceil_mode:g,count_include_pad:x,storage_order:E,dilations:[k,W],kernel_shape:[Z,ge],pads:[le,ve,Ue,Ve],strides:[B,ce]})},940549:(i,c)=>{a.Ea("GlobalMaxPool",i,{format:c?"NHWC":"NCHW"})},940636:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve,B,ce,Te)=>{a.Ea("MaxPool",i,{format:Te?"NHWC":"NCHW",auto_pad:c,ceil_mode:g,count_include_pad:x,storage_order:E,dilations:[k,W],kernel_shape:[Z,ge],pads:[le,ve,Ue,Ve],strides:[B,ce]})},940916:(i,c)=>{a.Ea("GlobalMaxPool",i,{format:c?"NHWC":"NCHW"})},941003:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve,B,ce,Te)=>{a.Ea("MaxPool",i,{format:Te?"NHWC":"NCHW",auto_pad:c,ceil_mode:g,count_include_pad:x,storage_order:E,dilations:[k,W],kernel_shape:[Z,ge],pads:[le,ve,Ue,Ve],strides:[B,ce]})},941283:(i,c,g,x,E)=>{a.Ea("Gemm",i,{alpha:c,beta:g,transA:x,transB:E})},941387:i=>{a.Ea("MatMul",i,void 0)},941441:(i,c,g,x)=>{a.Ea("ArgMax",i,{keepDims:!!c,selectLastIndex:!!g,axis:x})},941549:(i,c,g,x)=>{a.Ea("ArgMin",i,{keepDims:!!c,selectLastIndex:!!g,axis:x})},941657:(i,c)=>{a.Ea("Softmax",i,{axis:c})},941720:(i,c)=>{a.Ea("Concat",i,{axis:c})},941780:(i,c,g,x,E)=>{a.Ea("Split",i,{axis:c,numOutputs:g,splitSizes:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},941920:i=>{a.Ea("Expand",i,void 0)},941974:(i,c)=>{a.Ea("Gather",i,{axis:Number(c)})},942045:(i,c)=>{a.Ea("GatherElements",i,{axis:Number(c)})},942124:(i,c,g,x,E,k,W,Z,ge,le,ve)=>{a.Ea("Resize",i,{antialias:c,axes:g?Array.from(n().subarray(g>>>0,x>>>0)):[],coordinateTransformMode:Ke(E),cubicCoeffA:k,excludeOutside:W,extrapolationValue:Z,keepAspectRatioPolicy:Ke(ge),mode:Ke(le),nearestMode:Ke(ve)})},942470:(i,c,g,x,E,k,W)=>{a.Ea("Slice",i,{starts:c?Array.from(n().subarray(c>>>0,g>>>0)):[],ends:x?Array.from(n().subarray(x>>>0,E>>>0)):[],axes:k?Array.from(n().subarray(k>>>0,W>>>0)):[]})},942686:i=>{a.Ea("Tile",i,void 0)},942738:(i,c,g)=>{a.Ea("LayerNormalization",i,{axis:Number(c),epsilon:Number(g)})},942845:(i,c,g)=>{a.Ea("InstanceNormalization",i,{epsilon:c,format:g?"NHWC":"NCHW"})},942959:(i,c,g)=>{a.Ea("InstanceNormalization",i,{epsilon:c,format:g?"NHWC":"NCHW"})},943073:i=>{a.Ea("Range",i,void 0)},943126:(i,c)=>{a.Ea("Einsum",i,{equation:Ke(c)})},943207:(i,c,g,x,E)=>{a.Ea("Pad",i,{mode:c,value:g,pads:x?Array.from(n().subarray(x>>>0,E>>>0)):[]})},943334:(i,c,g,x,E,k)=>{a.Ea("BatchNormalization",i,{epsilon:c,momentum:g,spatial:!!E,trainingMode:!!x,format:k?"NHWC":"NCHW"})},943503:(i,c,g,x,E,k)=>{a.Ea("BatchNormalization",i,{epsilon:c,momentum:g,spatial:!!E,trainingMode:!!x,format:k?"NHWC":"NCHW"})},943672:(i,c,g)=>{a.Ea("CumSum",i,{exclusive:Number(c),reverse:Number(g)})},943769:(i,c,g,x,E,k,W,Z,ge)=>{a.Ea("Attention",i,{numHeads:c,isUnidirectional:g,maskFilterValue:x,scale:E,doRotary:k,qkvHiddenSizes:W?Array.from(n().subarray(Number(Z)>>>0,Number(Z)+W>>>0)):[],pastPresentShareBuffer:!!ge})},944041:i=>{a.Ea("BiasAdd",i,void 0)},944096:i=>{a.Ea("BiasSplitGelu",i,void 0)},944157:i=>{a.Ea("FastGelu",i,void 0)},944213:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve)=>{a.Ea("Conv",i,{format:ge?"NHWC":"NCHW",auto_pad:c,dilations:[g],group:x,kernel_shape:[E],pads:k?Array.from(n().subarray(k>>>0,W>>>0)):[],strides:[Z],w_is_const:()=>!!r()[le>>>0],activation:Ke(ve),activation_params:Ue?Array.from(u().subarray(Ue>>>0,Ve>>>0)):[]})},944583:(i,c,g,x,E,k,W,Z,ge,le,ve,Ue,Ve,B,ce,Te)=>{a.Ea("Conv",i,{format:Ue?"NHWC":"NCHW",auto_pad:c,dilations:[g,x],group:E,kernel_shape:[k,W],pads:Z?Array.from(n().subarray(Z>>>0,ge>>>0)):[],strides:[le,ve],w_is_const:()=>!!r()[Ve>>>0],activation:Ke(B),activation_params:ce?Array.from(u().subarray(ce>>>0,Te>>>0)):[]})},944974:i=>{a.Ea("Gelu",i,void 0)},945026:(i,c,g,x,E,k)=>{a.Ea("MatMulNBits",i,{k:c,n:g,accuracyLevel:x,bits:E,blockSize:k})},945153:(i,c,g,x,E,k)=>{a.Ea("MultiHeadAttention",i,{numHeads:c,isUnidirectional:g,maskFilterValue:x,scale:E,doRotary:k})},945312:(i,c)=>{a.Ea("SkipLayerNormalization",i,{epsilon:c})},945393:i=>{a.Cb(i)},945427:(i,c)=>a.Eb(i,c,a.bb.Gb,a.bb.errors)};function Wt(i){this.name="ExitStatus",this.message=`Program terminated with exit(${i})`,this.status=i}var Rt=i=>{i.terminate(),i.onmessage=()=>{}},Qt=i=>{te.Ya.length==0&&(it(),te.mb(te.Ya[0]));var c=te.Ya.pop();if(!c)return 6;te.Za.push(c),te.Qa[i.Xa]=c,c.Xa=i.Xa;var g={cmd:"run",start_routine:i.Hb,arg:i.ub,pthread_ptr:i.Xa};return C&&c.unref(),c.postMessage(g,i.Nb),0},at=0,Xt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Gt=(i,c,g)=>{c>>>=0;var x=c+g;for(g=c;i[g]&&!(g>=x);)++g;if(16<g-c&&i.buffer&&Xt)return Xt.decode(i.buffer instanceof SharedArrayBuffer?i.slice(c,g):i.subarray(c,g));for(x="";c<g;){var E=i[c++];if(E&128){var k=i[c++]&63;if((E&224)==192)x+=String.fromCharCode((E&31)<<6|k);else{var W=i[c++]&63;E=(E&240)==224?(E&15)<<12|k<<6|W:(E&7)<<18|k<<12|W<<6|i[c++]&63,65536>E?x+=String.fromCharCode(E):(E-=65536,x+=String.fromCharCode(55296|E>>10,56320|E&1023))}}else x+=String.fromCharCode(E)}return x},Ke=(i,c)=>(i>>>=0)?Gt(o(),i,c):"",vr=i=>{var c=bn();return i=i(),Br(c),i};function ke(i,c){var g=arguments.length-2,x=arguments;return vr(()=>{for(var E=wn(8*g),k=E>>>3,W=0;W<g;W++){var Z=x[2+W];l()[k+W>>>0]=Z}return wo(i,g,E,c)})}function $r(i){if(v)return ke(0,1,i);xe=i,0<at||(te.Ib(),a.onExit?.(i),Q=!0),y(i,new Wt(i))}var Ht=i=>{if(xe=i,v)throw Jt(i),"unwind";$r(i)},Ct=i=>{i instanceof Wt||i=="unwind"||y(1,i)};function mn(){for(var i=a.numThreads;i--;)it();Se.unshift(()=>{Le++,nt(()=>Fe())})}function it(){var i=T("ort-wasm-simd-threaded.worker.js");i=new Worker(i),te.Ya.push(i)}function nt(i){v?i():Promise.all(te.Ya.map(te.mb)).then(i)}var te={Ya:[],Za:[],qb:[],Qa:{},hb(){v?(te.receiveObjectTransfer=te.Fb,te.threadInitTLS=te.pb,te.setExitStatus=te.ob):mn()},ob:i=>xe=i,Qb:["$terminateWorker"],Ib:()=>{for(var i of te.Za)Rt(i);for(i of te.Ya)Rt(i);te.Ya=[],te.Za=[],te.Qa=[]},nb:i=>{var c=i.Xa;delete te.Qa[c],te.Ya.push(i),te.Za.splice(te.Za.indexOf(i),1),i.Xa=0,gn(c)},Fb(){},pb(){te.qb.forEach(i=>i())},mb:i=>new Promise(c=>{i.onmessage=k=>{k=k.data;var W=k.cmd;if(k.targetThread&&k.targetThread!=Rr()){var Z=te.Qa[k.targetThread];Z?Z.postMessage(k,k.transferList):we(`Internal error! Worker sent a message "${W}" to target pthread ${k.targetThread}, but that thread no longer exists!`)}else W==="checkMailbox"?Bt():W==="spawnThread"?Qt(k):W==="cleanupThread"?te.nb(te.Qa[k.thread]):W==="killThread"?(k=k.thread,W=te.Qa[k],delete te.Qa[k],Rt(W),gn(k),te.Za.splice(te.Za.indexOf(W),1),W.Xa=0):W==="cancelThread"?te.Qa[k.thread].postMessage({cmd:"cancel"}):W==="loaded"?(i.loaded=!0,C&&!i.Xa&&i.unref(),c(i)):W==="alert"?alert(`Thread ${k.threadId}: ${k.text}`):k.target==="setimmediate"?i.postMessage(k):W==="callHandler"?a[k.handler](...k.args):W&&we(`worker sent an unknown command ${W}`)},i.onerror=k=>{throw we(`worker sent an error! ${k.filename}:${k.lineno}: ${k.message}`),k},C&&(i.on("message",k=>i.onmessage({data:k})),i.on("error",k=>i.onerror(k)));var g=[],x=["onExit"],E;for(E of x)a.hasOwnProperty(E)&&g.push(E);i.postMessage({cmd:"load",handlers:g,urlOrBlob:a.mainScriptUrlOrBlob||e,wasmMemory:ne,wasmModule:ze})})};a.PThread=te;var _t=i=>{for(;0<i.length;)i.shift()(a)};a.establishStackSpace=()=>{var i=Rr(),c=s()[i+52>>>2>>>0];i=s()[i+56>>>2>>>0],_o(c,c-i),Br(c)};function Jt(i){if(v)return ke(1,0,i);Ht(i)}a.invokeEntryPoint=(i,c)=>{i=xo.apply(null,[i,c]),0<at?te.ob(i):yn(i)};function _r(i){this.gb=i-24,this.tb=function(c){s()[this.gb+4>>>2>>>0]=c},this.sb=function(c){s()[this.gb+8>>>2>>>0]=c},this.hb=function(c,g){this.rb(),this.tb(c),this.sb(g)},this.rb=function(){s()[this.gb+16>>>2>>>0]=0}}var xr=0,er=0;function Sr(i,c,g,x){return v?ke(2,1,i,c,g,x):Cr(i,c,g,x)}function Cr(i,c,g,x){if(i>>>=0,c>>>=0,g>>>=0,x>>>=0,typeof SharedArrayBuffer>"u")return we("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var E=[];return v&&E.length===0?Sr(i,c,g,x):(i={Hb:g,Xa:i,ub:x,Nb:E},v?(i.Pb="spawnThread",postMessage(i,E),0):Qt(i))}function Ir(i,c,g){return v?ke(3,1,i,c,g):0}function Ar(i,c){if(v)return ke(4,1,i,c)}var tr=i=>{for(var c=0,g=0;g<i.length;++g){var x=i.charCodeAt(g);127>=x?c++:2047>=x?c+=2:55296<=x&&57343>=x?(c+=4,++g):c+=3}return c},Tr=(i,c,g,x)=>{if(g>>>=0,!(0<x))return 0;var E=g;x=g+x-1;for(var k=0;k<i.length;++k){var W=i.charCodeAt(k);if(55296<=W&&57343>=W){var Z=i.charCodeAt(++k);W=65536+((W&1023)<<10)|Z&1023}if(127>=W){if(g>=x)break;c[g++>>>0]=W}else{if(2047>=W){if(g+1>=x)break;c[g++>>>0]=192|W>>6}else{if(65535>=W){if(g+2>=x)break;c[g++>>>0]=224|W>>12}else{if(g+3>=x)break;c[g++>>>0]=240|W>>18,c[g++>>>0]=128|W>>12&63}c[g++>>>0]=128|W>>6&63}c[g++>>>0]=128|W&63}}return c[g>>>0]=0,g-E},ee=(i,c,g)=>Tr(i,o(),c,g);function rr(i,c){if(v)return ke(5,1,i,c)}function Lt(i,c,g){if(v)return ke(6,1,i,c,g)}function nr(i,c,g){return v?ke(7,1,i,c,g):0}function or(i,c){if(v)return ke(8,1,i,c)}function ar(i,c,g){if(v)return ke(9,1,i,c,g)}function ir(i,c,g,x){if(v)return ke(10,1,i,c,g,x)}function sr(i,c,g,x){if(v)return ke(11,1,i,c,g,x)}function ur(i,c,g,x){if(v)return ke(12,1,i,c,g,x)}function dr(i){if(v)return ke(13,1,i)}function lr(i,c){if(v)return ke(14,1,i,c)}function cr(i,c,g){if(v)return ke(15,1,i,c,g)}var Er=()=>{if(!(0<at))try{v?yn(xe):Ht(xe)}catch(i){Ct(i)}};function It(i){i>>>=0,typeof Atomics.Ob=="function"&&(Atomics.Ob(n(),i>>>2,i).value.then(Bt),i+=128,Atomics.store(n(),i>>>2,1))}a.__emscripten_thread_mailbox_await=It;var Bt=()=>{var i=Rr();if(i&&(It(i),!Q))try{vo(),Er()}catch(c){Ct(c)}};a.checkMailbox=Bt;var d=[],h=i=>i%4===0&&(i%100!==0||i%400===0),w=[0,31,60,91,121,152,182,213,244,274,305,335],S=[0,31,59,90,120,151,181,212,243,273,304,334];function P(i,c,g,x,E,k,W,Z){return v?ke(16,1,i,c,g,x,E,k,W,Z):-52}function N(i,c,g,x,E,k,W){if(v)return ke(17,1,i,c,g,x,E,k,W)}var K=i=>{var c=tr(i)+1,g=hn(c);return g&&ee(i,g,c),g},X=[],ae=(i,c)=>{X.length=0;for(var g;g=o()[i++>>>0];){var x=g!=105;x&=g!=112,c+=x&&c%8?4:0,X.push(g==112?s()[c>>>2>>>0]:g==105?n()[c>>>2>>>0]:l()[c>>>3>>>0]),c+=x?8:4}return X},de={},fe=()=>{if(!Oe){var i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"},c;for(c in de)de[c]===void 0?delete i[c]:i[c]=de[c];var g=[];for(c in i)g.push(`${c}=${i[c]}`);Oe=g}return Oe},Oe;function Re(i,c){if(v)return ke(18,1,i,c);i>>>=0,c>>>=0;var g=0;return fe().forEach((x,E)=>{var k=c+g;for(E=s()[i+4*E>>>2>>>0]=k,k=0;k<x.length;++k)r()[E++>>>0>>>0]=x.charCodeAt(k);r()[E>>>0>>>0]=0,g+=x.length+1}),0}function O(i,c){if(v)return ke(19,1,i,c);i>>>=0,c>>>=0;var g=fe();s()[i>>>2>>>0]=g.length;var x=0;return g.forEach(E=>x+=E.length+1),s()[c>>>2>>>0]=x,0}function oe(i){return v?ke(20,1,i):52}function Ce(i,c,g,x){return v?ke(21,1,i,c,g,x):52}function ct(i,c,g,x,E){return v?ke(22,1,i,c,g,x,E):70}var Pr=[null,[],[]];function uo(i,c,g,x){if(v)return ke(23,1,i,c,g,x);c>>>=0,g>>>=0,x>>>=0;for(var E=0,k=0;k<g;k++){var W=s()[c>>>2>>>0],Z=s()[c+4>>>2>>>0];c+=8;for(var ge=0;ge<Z;ge++){var le=o()[W+ge>>>0],ve=Pr[i];le===0||le===10?((i===1?Ie:we)(Gt(ve,0)),ve.length=0):ve.push(le)}E+=Z}return s()[x>>>2>>>0]=E,0}var lo=[31,29,31,30,31,30,31,31,30,31,30,31],co=[31,28,31,30,31,30,31,31,30,31,30,31];function Zu(i){var c=Array(tr(i)+1);return Tr(i,c,0,c.length),c}var Qu=(i,c)=>{r().set(i,c>>>0)};function po(i,c,g,x){function E(B,ce,Te){for(B=typeof B=="number"?B.toString():B||"";B.length<ce;)B=Te[0]+B;return B}function k(B,ce){return E(B,ce,"0")}function W(B,ce){function Te(Eo){return 0>Eo?-1:0<Eo?1:0}var Dt;return(Dt=Te(B.getFullYear()-ce.getFullYear()))===0&&(Dt=Te(B.getMonth()-ce.getMonth()))===0&&(Dt=Te(B.getDate()-ce.getDate())),Dt}function Z(B){switch(B.getDay()){case 0:return new Date(B.getFullYear()-1,11,29);case 1:return B;case 2:return new Date(B.getFullYear(),0,3);case 3:return new Date(B.getFullYear(),0,2);case 4:return new Date(B.getFullYear(),0,1);case 5:return new Date(B.getFullYear()-1,11,31);case 6:return new Date(B.getFullYear()-1,11,30)}}function ge(B){var ce=B.$a;for(B=new Date(new Date(B.ab+1900,0,1).getTime());0<ce;){var Te=B.getMonth(),Dt=(h(B.getFullYear())?lo:co)[Te];if(ce>Dt-B.getDate())ce-=Dt-B.getDate()+1,B.setDate(1),11>Te?B.setMonth(Te+1):(B.setMonth(0),B.setFullYear(B.getFullYear()+1));else{B.setDate(B.getDate()+ce);break}}return Te=new Date(B.getFullYear()+1,0,4),ce=Z(new Date(B.getFullYear(),0,4)),Te=Z(Te),0>=W(ce,B)?0>=W(Te,B)?B.getFullYear()+1:B.getFullYear():B.getFullYear()-1}i>>>=0,c>>>=0,g>>>=0,x>>>=0;var le=s()[x+40>>>2>>>0];x={Lb:n()[x>>>2>>>0],Kb:n()[x+4>>>2>>>0],eb:n()[x+8>>>2>>>0],jb:n()[x+12>>>2>>>0],fb:n()[x+16>>>2>>>0],ab:n()[x+20>>>2>>>0],Wa:n()[x+24>>>2>>>0],$a:n()[x+28>>>2>>>0],Rb:n()[x+32>>>2>>>0],Jb:n()[x+36>>>2>>>0],Mb:le?Ke(le):""},g=Ke(g),le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ve in le)g=g.replace(new RegExp(ve,"g"),le[ve]);var Ue="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ve="January February March April May June July August September October November December".split(" ");le={"%a":B=>Ue[B.Wa].substring(0,3),"%A":B=>Ue[B.Wa],"%b":B=>Ve[B.fb].substring(0,3),"%B":B=>Ve[B.fb],"%C":B=>k((B.ab+1900)/100|0,2),"%d":B=>k(B.jb,2),"%e":B=>E(B.jb,2," "),"%g":B=>ge(B).toString().substring(2),"%G":B=>ge(B),"%H":B=>k(B.eb,2),"%I":B=>(B=B.eb,B==0?B=12:12<B&&(B-=12),k(B,2)),"%j":B=>{for(var ce=0,Te=0;Te<=B.fb-1;ce+=(h(B.ab+1900)?lo:co)[Te++]);return k(B.jb+ce,3)},"%m":B=>k(B.fb+1,2),"%M":B=>k(B.Kb,2),"%n":()=>`\n`,"%p":B=>0<=B.eb&&12>B.eb?"AM":"PM","%S":B=>k(B.Lb,2),"%t":()=>"	","%u":B=>B.Wa||7,"%U":B=>k(Math.floor((B.$a+7-B.Wa)/7),2),"%V":B=>{var ce=Math.floor((B.$a+7-(B.Wa+6)%7)/7);if(2>=(B.Wa+371-B.$a-2)%7&&ce++,ce)ce==53&&(Te=(B.Wa+371-B.$a)%7,Te==4||Te==3&&h(B.ab)||(ce=1));else{ce=52;var Te=(B.Wa+7-B.$a-1)%7;(Te==4||Te==5&&h(B.ab%400-1))&&ce++}return k(ce,2)},"%w":B=>B.Wa,"%W":B=>k(Math.floor((B.$a+7-(B.Wa+6)%7)/7),2),"%y":B=>(B.ab+1900).toString().substring(2),"%Y":B=>B.ab+1900,"%z":B=>{B=B.Jb;var ce=0<=B;return B=Math.abs(B)/60,(ce?"+":"-")+("0000"+(B/60*100+B%60)).slice(-4)},"%Z":B=>B.Mb,"%%":()=>"%"},g=g.replace(/%%/g,"\\0\\0");for(ve in le)g.includes(ve)&&(g=g.replace(new RegExp(ve,"g"),le[ve](x)));return g=g.replace(/\\0\\0/g,"%"),ve=Zu(g),ve.length>c?0:(Qu(ve,i),ve.length-1)}var Or=i=>{try{i()}catch(c){Je(c)}};function Xu(){var i=Y,c={};for(let[g,x]of Object.entries(i))c[g]=typeof x=="function"?function(){kr.push(g);try{return x.apply(null,arguments)}finally{Q||(kr.pop(),pt&&At===1&&kr.length===0&&(At=0,at+=1,Or(Co),typeof Fibers<"u"&&Fibers.Sb()))}}:x;return c}var At=0,pt=null,mo=0,kr=[],fo={},ho={},Ju=0,fn=null,ed=[];function td(){return new Promise((i,c)=>{fn={resolve:i,reject:c}})}function rd(){var i=hn(65548),c=i+12;s()[i>>>2>>>0]=c,s()[i+4>>>2>>>0]=c+65536,c=kr[0];var g=fo[c];return g===void 0&&(g=Ju++,fo[c]=g,ho[g]=c),c=g,n()[i+8>>>2>>>0]=c,i}function nd(){var i=n()[pt+8>>>2>>>0];return i=Y[ho[i]],--at,i()}function od(i){if(!Q){if(At===0){var c=!1,g=!1;i((x=0)=>{if(!Q&&(mo=x,c=!0,g)){At=2,Or(()=>Io(pt)),typeof Browser<"u"&&Browser.ib.wb&&Browser.ib.resume(),x=!1;try{var E=nd()}catch(Z){E=Z,x=!0}var k=!1;if(!pt){var W=fn;W&&(fn=null,(x?W.reject:W.resolve)(E),k=!0)}if(x&&!k)throw E}}),g=!0,c||(At=1,pt=rd(),typeof Browser<"u"&&Browser.ib.wb&&Browser.ib.pause(),Or(()=>So(pt)))}else At===2?(At=0,Or(Ao),yo(pt),pt=null,ed.forEach(x=>{if(!Q)try{x(),Er()}catch(E){Ct(E)}})):Je(`invalid state: ${At}`);return mo}}function ad(i){return od(c=>{i().then(c)})}te.hb();var id=[$r,Jt,Sr,Ir,Ar,rr,Lt,nr,or,ar,ir,sr,ur,dr,lr,cr,P,N,Re,O,oe,Ce,ct,uo],sd={r:function(i,c,g){return ad(async()=>{await a.Ab(i,c,g)})},b:function(i,c,g){throw i>>>=0,new _r(i).hb(c>>>0,g>>>0),xr=i,er++,xr},N:function(i){bo(i>>>0,!I,1,!$,131072,!1),te.pb()},l:function(i){i>>>=0,v?postMessage({cmd:"cleanupThread",thread:i}):te.nb(te.Qa[i])},J:Cr,i:Ir,T:Ar,F:rr,H:Lt,U:nr,R:or,L:ar,Q:ir,p:sr,G:ur,D:dr,S:lr,E:cr,q:()=>1,B:function(i,c){i>>>=0,i==c>>>0?setTimeout(()=>Bt()):v?postMessage({targetThread:i,cmd:"checkMailbox"}):(i=te.Qa[i])&&i.postMessage({cmd:"checkMailbox"})},K:function(i,c,g,x){c>>>=0,d.length=g,x=x>>>0>>>3;for(var E=0;E<g;E++)d[E]=l()[x+E>>>0];return i=0>i?Nt[-i-1]:id[i],te.vb=c,c=i.apply(null,d),te.vb=0,c},M:It,W:function(i){C&&te.Qa[i>>>0].ref()},u:function(i,c,g){i=c+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*c:NaN,g>>>=0,i=new Date(1e3*i),n()[g>>>2>>>0]=i.getUTCSeconds(),n()[g+4>>>2>>>0]=i.getUTCMinutes(),n()[g+8>>>2>>>0]=i.getUTCHours(),n()[g+12>>>2>>>0]=i.getUTCDate(),n()[g+16>>>2>>>0]=i.getUTCMonth(),n()[g+20>>>2>>>0]=i.getUTCFullYear()-1900,n()[g+24>>>2>>>0]=i.getUTCDay(),i=(i.getTime()-Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,n()[g+28>>>2>>>0]=i},v:function(i,c,g){i=c+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*c:NaN,g>>>=0,i=new Date(1e3*i),n()[g>>>2>>>0]=i.getSeconds(),n()[g+4>>>2>>>0]=i.getMinutes(),n()[g+8>>>2>>>0]=i.getHours(),n()[g+12>>>2>>>0]=i.getDate(),n()[g+16>>>2>>>0]=i.getMonth(),n()[g+20>>>2>>>0]=i.getFullYear()-1900,n()[g+24>>>2>>>0]=i.getDay(),c=(h(i.getFullYear())?w:S)[i.getMonth()]+i.getDate()-1|0,n()[g+28>>>2>>>0]=c,n()[g+36>>>2>>>0]=-(60*i.getTimezoneOffset()),c=new Date(i.getFullYear(),6,1).getTimezoneOffset();var x=new Date(i.getFullYear(),0,1).getTimezoneOffset();i=(c!=x&&i.getTimezoneOffset()==Math.min(x,c))|0,n()[g+32>>>2>>>0]=i},w:function(i){i>>>=0;var c=new Date(n()[i+20>>>2>>>0]+1900,n()[i+16>>>2>>>0],n()[i+12>>>2>>>0],n()[i+8>>>2>>>0],n()[i+4>>>2>>>0],n()[i>>>2>>>0],0),g=n()[i+32>>>2>>>0],x=c.getTimezoneOffset(),E=new Date(c.getFullYear(),6,1).getTimezoneOffset(),k=new Date(c.getFullYear(),0,1).getTimezoneOffset(),W=Math.min(k,E);return 0>g?n()[i+32>>>2>>>0]=+(E!=k&&W==x):0<g!=(W==x)&&(E=Math.max(k,E),c.setTime(c.getTime()+6e4*((0<g?W:E)-x))),n()[i+24>>>2>>>0]=c.getDay(),g=(h(c.getFullYear())?w:S)[c.getMonth()]+c.getDate()-1|0,n()[i+28>>>2>>>0]=g,n()[i>>>2>>>0]=c.getSeconds(),n()[i+4>>>2>>>0]=c.getMinutes(),n()[i+8>>>2>>>0]=c.getHours(),n()[i+12>>>2>>>0]=c.getDate(),n()[i+16>>>2>>>0]=c.getMonth(),n()[i+20>>>2>>>0]=c.getYear(),i=c.getTime(),isNaN(i)?(n()[go()>>>2>>>0]=61,i=-1):i/=1e3,$o(($t=i,1<=+Math.abs($t)?0<$t?+Math.floor($t/4294967296)>>>0:~~+Math.ceil(($t-+(~~$t>>>0))/4294967296)>>>0:0)),i>>>0},s:P,t:N,A:function(i,c,g){function x(le){return(le=le.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?le[1]:"GMT"}i>>>=0,c>>>=0,g>>>=0;var E=new Date().getFullYear(),k=new Date(E,0,1),W=new Date(E,6,1);E=k.getTimezoneOffset();var Z=W.getTimezoneOffset(),ge=Math.max(E,Z);s()[i>>>2>>>0]=60*ge,n()[c>>>2>>>0]=+(E!=Z),i=x(k),c=x(W),i=K(i),c=K(c),Z<E?(s()[g>>>2>>>0]=i,s()[g+4>>>2>>>0]=c):(s()[g>>>2>>>0]=c,s()[g+4>>>2>>>0]=i)},d:()=>{Je("")},c:function(i,c,g){return i>>>=0,c=ae(c>>>0,g>>>0),Nt[i].apply(null,c)},k:function(i,c,g){return i>>>=0,c=ae(c>>>0,g>>>0),Nt[i].apply(null,c)},m:()=>{},j:()=>Date.now(),V:()=>{throw at+=1,"unwind"},C:function(){return 4294901760},f:()=>performance.timeOrigin+performance.now(),g:()=>C?(zo(),Ft(Mo)).cpus().length:navigator.hardwareConcurrency,y:function(i){i>>>=0;var c=o().length;if(i<=c||4294901760<i)return!1;for(var g=1;4>=g;g*=2){var x=c*(1+.2/g);x=Math.min(x,i+100663296);var E=Math;x=Math.max(i,x);e:{E=(E.min.call(E,4294901760,x+(65536-x%65536)%65536)-ne.buffer.byteLength+65535)/65536;try{ne.grow(E),G();var k=1;break e}catch{}k=void 0}if(k)return!0}return!1},O:Re,P:O,I:Ht,h:oe,o:Ce,x:ct,n:uo,a:ne||a.wasmMemory,z:po,e:function(i,c,g,x){return po(i>>>0,c>>>0,g>>>0,x>>>0)}},Y=function(){function i(g,x){return Y=g.exports,Y=Xu(),Y=ud(),te.qb.push(Y.Da),Qe.unshift(Y.X),ze=x,Fe(),Y}var c={a:sd};if(Le++,a.instantiateWasm)try{return a.instantiateWasm(c,i)}catch(g){we(`Module.instantiateWasm callback failed with error: ${g}`),m(g)}return St(c,function(g){i(g.instance,g.module)}).catch(m),{}}();a._OrtInit=(i,c)=>(a._OrtInit=Y.Y)(i,c),a._OrtGetLastError=(i,c)=>(a._OrtGetLastError=Y.Z)(i,c),a._OrtCreateSessionOptions=(i,c,g,x,E,k,W,Z,ge,le)=>(a._OrtCreateSessionOptions=Y._)(i,c,g,x,E,k,W,Z,ge,le),a._OrtAppendExecutionProvider=(i,c)=>(a._OrtAppendExecutionProvider=Y.$)(i,c),a._OrtAddFreeDimensionOverride=(i,c,g)=>(a._OrtAddFreeDimensionOverride=Y.aa)(i,c,g),a._OrtAddSessionConfigEntry=(i,c,g)=>(a._OrtAddSessionConfigEntry=Y.ba)(i,c,g),a._OrtReleaseSessionOptions=i=>(a._OrtReleaseSessionOptions=Y.ca)(i),a._OrtCreateSession=(i,c,g)=>(a._OrtCreateSession=Y.da)(i,c,g),a._OrtReleaseSession=i=>(a._OrtReleaseSession=Y.ea)(i),a._OrtGetInputOutputCount=(i,c,g)=>(a._OrtGetInputOutputCount=Y.fa)(i,c,g),a._OrtGetInputName=(i,c)=>(a._OrtGetInputName=Y.ga)(i,c),a._OrtGetOutputName=(i,c)=>(a._OrtGetOutputName=Y.ha)(i,c),a._OrtFree=i=>(a._OrtFree=Y.ia)(i),a._OrtCreateTensor=(i,c,g,x,E,k)=>(a._OrtCreateTensor=Y.ja)(i,c,g,x,E,k),a._OrtGetTensorData=(i,c,g,x,E)=>(a._OrtGetTensorData=Y.ka)(i,c,g,x,E),a._OrtReleaseTensor=i=>(a._OrtReleaseTensor=Y.la)(i),a._OrtCreateRunOptions=(i,c,g,x)=>(a._OrtCreateRunOptions=Y.ma)(i,c,g,x),a._OrtAddRunConfigEntry=(i,c,g)=>(a._OrtAddRunConfigEntry=Y.na)(i,c,g),a._OrtReleaseRunOptions=i=>(a._OrtReleaseRunOptions=Y.oa)(i),a._OrtCreateBinding=i=>(a._OrtCreateBinding=Y.pa)(i),a._OrtBindInput=(i,c,g)=>(a._OrtBindInput=Y.qa)(i,c,g),a._OrtBindOutput=(i,c,g,x)=>(a._OrtBindOutput=Y.ra)(i,c,g,x),a._OrtClearBoundOutputs=i=>(a._OrtClearBoundOutputs=Y.sa)(i),a._OrtReleaseBinding=i=>(a._OrtReleaseBinding=Y.ta)(i),a._OrtRunWithBinding=(i,c,g,x,E)=>(a._OrtRunWithBinding=Y.ua)(i,c,g,x,E),a._OrtRun=(i,c,g,x,E,k,W,Z)=>(a._OrtRun=Y.va)(i,c,g,x,E,k,W,Z),a._OrtEndProfiling=i=>(a._OrtEndProfiling=Y.wa)(i),a._JsepOutput=(i,c,g)=>(a._JsepOutput=Y.xa)(i,c,g),a._JsepGetNodeName=i=>(a._JsepGetNodeName=Y.ya)(i);var go=()=>(go=Y.za)(),Rr=a._pthread_self=()=>(Rr=a._pthread_self=Y.Aa)(),hn=a._malloc=i=>(hn=a._malloc=Y.Ba)(i),yo=a._free=i=>(yo=a._free=Y.Ca)(i);a.__emscripten_tls_init=()=>(a.__emscripten_tls_init=Y.Da)();var bo=a.__emscripten_thread_init=(i,c,g,x,E,k)=>(bo=a.__emscripten_thread_init=Y.Fa)(i,c,g,x,E,k);a.__emscripten_thread_crashed=()=>(a.__emscripten_thread_crashed=Y.Ga)();var wo=(i,c,g,x)=>(wo=Y.Ha)(i,c,g,x),gn=i=>(gn=Y.Ia)(i),yn=a.__emscripten_thread_exit=i=>(yn=a.__emscripten_thread_exit=Y.Ja)(i),vo=()=>(vo=Y.Ka)(),$o=i=>($o=Y.La)(i),_o=(i,c)=>(_o=Y.Ma)(i,c),bn=()=>(bn=Y.Na)(),Br=i=>(Br=Y.Oa)(i),wn=i=>(wn=Y.Pa)(i),xo=a.dynCall_ii=(i,c)=>(xo=a.dynCall_ii=Y.Ra)(i,c),So=i=>(So=Y.Sa)(i),Co=()=>(Co=Y.Ta)(),Io=i=>(Io=Y.Ua)(i),Ao=()=>(Ao=Y.Va)();a.___start_em_js=945539,a.___stop_em_js=945700;function ud(){var i=Y;i=Object.assign({},i);var c=x=>()=>x()>>>0,g=x=>E=>x(E)>>>0;return i.za=c(i.za),i.Aa=c(i.Aa),i.Ba=g(i.Ba),i.emscripten_main_runtime_thread_id=c(i.emscripten_main_runtime_thread_id),i.Na=c(i.Na),i.Pa=g(i.Pa),i}a.wasmMemory=ne,a.stackAlloc=wn,a.stackSave=bn,a.stackRestore=Br,a.keepRuntimeAlive=()=>0<at,a.UTF8ToString=Ke,a.stringToUTF8=ee,a.lengthBytesUTF8=tr,a.ExitStatus=Wt,a.PThread=te;var Dr;Ne=function i(){Dr||To(),Dr||(Ne=i)};function To(){if(!(0<Le))if(v)p(a),v||_t(Qe),startWorker(a);else{if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Se.unshift(a.preRun.shift());_t(Se),0<Le||Dr||(Dr=!0,a.calledRun=!0,Q||(v||_t(Qe),p(a),v||_t(Xe)))}}return To(),t.ready}})();typeof Vo=="object"&&typeof In=="object"?In.exports=Uo:typeof define=="function"&&define.amd&&define([],()=>Uo)});var Wo=pr((mp,yd)=>{yd.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var En,Tt,fr,Ur,hr,Ko,Pn,ie=q(()=>{"use strict";En=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},Tt=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},fr=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],Ur=e=>{switch(e){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},hr=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}},Ko=e=>e==="float32"||e==="float16"||e==="int32"||e==="int64"||e==="uint32"||e==="uint8"||e==="bool",Pn=e=>{switch(e){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${e}`)}}});var Vr=q(()=>{"use strict"});var Yo=q(()=>{"use strict";Vr()});var Zo,Qo=q(()=>{"use strict";Zo="1.17.3"});var Xo,rt,On=q(()=>{"use strict";Qo();Xo="warning",rt={wasm:{},webgl:{},webgpu:{},versions:{common:Zo},set logLevel(e){if(e!==void 0){if(typeof e!="string"||["verbose","info","warning","error","fatal"].indexOf(e)===-1)throw new Error(`Unsupported logging level: ${e}`);Xo=e}},get logLevel(){return Xo}};Object.defineProperty(rt,"logLevel",{enumerable:!0})});var qt,Jo=q(()=>{"use strict";On();qt=rt});var ea=q(()=>{"use strict"});var ta=q(()=>{"use strict";Nr()});var na=q(()=>{"use strict"});var oa=q(()=>{"use strict";Nr()});var Nr=q(()=>{"use strict";ea();ta();na();oa()});var Wr=q(()=>{"use strict";Nr()});var kn,aa,Mt,Et,Rn=q(()=>{"use strict";On();kn=(e,t)=>{(typeof rt.trace>"u"?!rt.wasm.trace:!rt.trace)||console.timeStamp(`${e}::ORT::${t}`)},aa=(e,t)=>{let r=new Error().stack?.split(/\\r\\n|\\r|\\n/g)||[],o=!1;for(let n=0;n<r.length;n++){if(o&&!r[n].includes("TRACE_FUNC")){let s=`FUNC_${e}::${r[n].trim().split(" ")[1]}`;t&&(s+=`::${t}`),kn("CPU",s);return}r[n].includes("TRACE_FUNC")&&(o=!0)}},Mt=e=>{(typeof rt.trace>"u"?!rt.wasm.trace:!rt.trace)||aa("BEGIN",e)},Et=e=>{(typeof rt.trace>"u"?!rt.wasm.trace:!rt.trace)||aa("END",e)}});var ia=q(()=>{"use strict";Vr();Wr();Rn()});var sa=q(()=>{"use strict";ia()});var ua=q(()=>{"use strict"});var da=q(()=>{"use strict"});var la=q(()=>{"use strict"});var ca=q(()=>{"use strict"});var pa=q(()=>{"use strict";Vr();Wr()});var ma=q(()=>{"use strict";pa()});var Kt=q(()=>{"use strict";Yo();Jo();sa();Wr();ua();da();Rn();la();ca();ma()});var Td,Ed,fa,ha,ga,Pd,De,Pt=q(()=>{"use strict";ie();Td=["V","I","W","E","F"],Ed=(e,t)=>{console.log(`[${Td[e]},${new Date().toISOString()}]${t}`)},ga=(e,t)=>{fa=e,ha=t},Pd=(e,t)=>{let r=hr(e),o=hr(fa);r>=o&&Ed(r,typeof t=="function"?t():t)},De=(...e)=>{ha&&Pd(...e)}});var ya,ba=q(()=>{"use strict";ie();ya=(e,t)=>new(Ur(t))(e)});var Gr=q(()=>{"use strict"});var Hr,Od,wa,Dn,Bn,$a,_a=q(()=>{"use strict";Pt();Gr();Hr=e=>Math.ceil(e/16)*16,Od=1,wa=()=>Od++,Dn=async(e,t,r,o)=>{let n=Hr(r),s=e.device.createBuffer({size:n,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});try{let u=e.getCommandEncoder();e.endComputePass(),u.copyBufferToBuffer(t,0,s,0,n),e.flush(),await s.mapAsync(GPUMapMode.READ);let l=s.getMappedRange();if(o){let a=o();return a.set(new Uint8Array(l,0,r)),a}else return new Uint8Array(l.slice(0,r))}finally{s.destroy()}},Bn=class{constructor(t){this.backend=t;this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.buffersForUploadingPending=[],this.buffersPending=[],this.externalBuffers=new Map,this.capturedPendingBuffers=new Map}upload(t,r){let o=r.buffer,n=r.byteOffset,s=r.byteLength,u=Hr(s),l=this.storageCache.get(t);if(!l)throw new Error("gpu data for uploading does not exist");if(l.originalSize!==s)throw new Error(`inconsistent data size. gpu data size=${l.originalSize}, data size=${s}`);let a=this.backend.device.createBuffer({mappedAtCreation:!0,size:u,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),p=a.getMappedRange();new Uint8Array(p).set(new Uint8Array(o,n,s)),a.unmap();let m=this.backend.getCommandEncoder();this.backend.endComputePass(),m.copyBufferToBuffer(a,0,l.gpuData.buffer,0,u),De("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${t})`),this.buffersForUploadingPending.push(a)}memcpy(t,r){let o=this.storageCache.get(t);if(!o)throw new Error("source gpu data for memcpy does not exist");let n=this.storageCache.get(r);if(!n)throw new Error("destination gpu data for memcpy does not exist");if(o.originalSize!==n.originalSize)throw new Error("inconsistent source and destination gpu data size");let s=Hr(o.originalSize),u=this.backend.getCommandEncoder();this.backend.endComputePass(),u.copyBufferToBuffer(o.gpuData.buffer,0,n.gpuData.buffer,0,s)}registerExternalBuffer(t,r,o){let n;if(o){if(n=this.externalBuffers.get(o),n===void 0)throw new Error("previous buffer is not registered");if(t===o)return De("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${r}) => id=${n}, buffer is the same, skip.`),n;if(this.backend.capturedCommandList.has(this.backend.currentSessionId))throw new Error(`Registering a different external buffer under graph capture mode is not supported yet.\n             Please use the previous external buffer!`);this.externalBuffers.delete(o)}else n=wa();return this.storageCache.set(n,{gpuData:{id:n,type:0,buffer:t},originalSize:r}),this.externalBuffers.set(t,n),De("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${r}) => id=${n}, registered.`),n}unregisterExternalBuffer(t){let r=this.externalBuffers.get(t);r!==void 0&&(this.storageCache.delete(r),this.externalBuffers.delete(t),De("verbose",()=>`[WebGPU] GpuDataManager.unregisterExternalBuffer() => id=${r}`))}create(t,r=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){let o=Hr(t),n,s=(r&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE,u=(r&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM;if(s||u){let a=s?this.freeBuffers:this.freeUniformBuffers,p=a.get(o);p||(p=[],a.set(o,p)),p.length>0?n=p.pop():n=this.backend.device.createBuffer({size:o,usage:r})}else n=this.backend.device.createBuffer({size:o,usage:r});let l={id:wa(),type:0,buffer:n};return this.storageCache.set(l.id,{gpuData:l,originalSize:t}),De("verbose",()=>`[WebGPU] GpuDataManager.create(size=${t}) => id=${l.id}`),l}get(t){return this.storageCache.get(t)?.gpuData}release(t){let r=this.storageCache.get(t);if(!r)throw new Error("releasing data does not exist");return De("verbose",()=>`[WebGPU] GpuDataManager.release(id=${t}), gpuDataId=${r.gpuData.id}`),this.storageCache.delete(t),this.buffersPending.push(r.gpuData.buffer),r.originalSize}async download(t,r){let o=this.storageCache.get(t);if(!o)throw new Error("data does not exist");await Dn(this.backend,o.gpuData.buffer,o.originalSize,r)}refreshPendingBuffers(){for(let t of this.buffersForUploadingPending)t.destroy();if(this.buffersForUploadingPending=[],this.buffersPending.length!==0)if(this.backend.sessionStatus==="default"){for(let t of this.buffersPending)(t.usage&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE?this.freeBuffers.get(t.size).push(t):(t.usage&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM?this.freeUniformBuffers.get(t.size).push(t):t.destroy();this.buffersPending=[]}else{let t=this.capturedPendingBuffers.get(this.backend.currentSessionId);t||(t=[],this.capturedPendingBuffers.set(this.backend.currentSessionId,t));for(let r of this.buffersPending)t.push(r);this.buffersPending=[]}}dispose(){this.freeBuffers.forEach(t=>{t.forEach(r=>{r.destroy()})}),this.freeUniformBuffers.forEach(t=>{t.forEach(r=>{r.destroy()})}),this.storageCache.forEach(t=>{t.gpuData.buffer.destroy()}),this.capturedPendingBuffers.forEach(t=>{t.forEach(r=>{r.destroy()})}),this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.capturedPendingBuffers=new Map}onReleaseSession(t){let r=this.capturedPendingBuffers.get(t);r&&(r.forEach(o=>{o.destroy()}),this.capturedPendingBuffers.delete(t))}},$a=(...e)=>new Bn(...e)});var Mn,$e,je=q(()=>{"use strict";Mn=class{constructor(t){Object.assign(this,t)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(t=>`${this[t]}`).join(";")),this.key}},$e=e=>new Mn(e)});var zn,mt,z,zt,Lr,Fr,qr,_e=q(()=>{"use strict";zn=class{static calcMatMulShape(t,r){return t[1]!==r[0]?void 0:[t[0],r[1]]}},mt=class{static calcShape(t,r,o=!1){let n=t.length,s=r.length;if(n===0)return r;if(s===0)return t;let u=Math.max(t.length,r.length),l=new Array(u);if(o){if(n<2||s<2)return;let a=zn.calcMatMulShape([t[n-2],t[n-1]],[r[s-2],r[s-1]]);if(a===void 0)return;[l[u-2],l[u-1]]=a}for(let a=o?3:1;a<=u;a++){let p=n-a<0?1:t[n-a],m=s-a<0?1:r[s-a];if(p!==m&&p>1&&m>1)return;let f=Math.max(p,m);if(p&&m)l[u-a]=Math.max(p,m);else{if(f>1)return;l[u-a]=0}}return l}static isValidBroadcast(t,r){let o=t.length,n=r.length;if(o>n)return!1;for(let s=1;s<=o;s++)if(t[o-s]!==1&&t[o-s]!==r[n-s])return!1;return!0}},z=class e{static size(t){return e.getSizeFromDimensionRange(t,0,t.length)}static convertShape(t,r=4){let o=t.length;if(o===0)return[];let n=new Array(o),s=o-1;for(;s>=0;){if(t[s]%r===0){n[s]=t[s]/r;break}if(r%t[s]!==0)throw new Error("cannot convert shape");n[s]=1,r/=t[s],s--}for(s--;s>=0;s--)n[s]=t[s];return n}static sizeFromDimension(t,r){if(r<0||r>t.length)throw new Error(`invalid dimension of ${r} for sizeFromDimension as Tensor has ${t.length} dimensions.`);return e.getSizeFromDimensionRange(t,r,t.length)}static sizeToDimension(t,r){if(r<0||r>t.length)throw new Error(`invalid dimension of ${r} for sizeToDimension as Tensor has ${t.length} dimensions.`);return e.getSizeFromDimensionRange(t,0,r)}static getSizeFromDimensionRange(t,r,o){let n=1;for(let s=r;s<o;s++){if(t[s]<0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains negative values in them.");n*=t[s]}return n}static computeStrides(t){let r=t.length;if(r===0)return[];if(r===1)return[1];let o=new Array(r);o[r-1]=1,o[r-2]=t[r-1];for(let n=r-3;n>=0;--n)o[n]=o[n+1]*t[n+1];return o}static normalizeAxis(t,r){if(t<-r&&t>=r)throw new Error("unsupported axis for this operation.");return t<0?t+r:t}static normalizeAxes(t,r){return t.map(o=>this.normalizeAxis(o,r??t.length))}static sortBasedOnPerm(t,r){return r?r.map(o=>t[o]):t.slice().reverse()}static padShape(t,r){let o=t.length;return t.map((n,s)=>n+r[s]+r[s+o])}static areEqual(t,r){return t.length!==r.length?!1:t.every((o,n)=>o===r[n])}},zt=class e{static adjustPoolAttributes(t,r,o,n,s,u){if(!t&&o.length!==r.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(t)for(let l=0;l<r.length-2;l++)l>=o.length?o.push(r[l+2]):o[l]=r[l+2];for(let l=0;l<o.length;l++)if(l<n.length){if(n[l]<0)throw new Error("strides should be greater than or equal to 1")}else n.push(1);for(let l=0;l<o.length;l++)if(l<s.length){if(s[l]<0)throw new Error("dilations should be greater than or equal to 1")}else s.push(1);for(let l=0;l<o.length*2;l++)if(l<u.length){if(u[l]<0)throw new Error("pad should be greater than or equal to 1")}else u.push(0);for(let l=0;l<o.length;l++){if(o[l]<=0)throw new Error("kernel shapes need to be greater than 0");if(u[l]>=o[l]||u[l+o.length]>=o[l])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(t,r,o,n,s,u,l){if(l){if(s.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(r.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let a=0;a<t.length-2;a++)e.adjustPadAndReturnShape(t[a+(u?1:2)],r[a],o[a],n[a],s,a,a+t.length-2,l)}}static computePoolOutputShape(t,r,o,n,s,u,l){if(r.length<=0)throw new Error("input shape must be of size greater than 0");let a=[r[0],r[1]];return e.computeShapeHelper(t,r,a,o,n,s,u,l),a}static computeConvOutputShape(t,r,o,n,s,u,l){if(t.length<=0||r.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let a=[t[0],r[0]];return e.computeShapeHelper(!1,t,a,o,n,s,u,l),a}static computeShapeHelper(t,r,o,n,s,u,l,a){if(t)for(let p=0;p<r.length-2;p++)o.push(1);else for(let p=0;p<r.length-2;p++)o.push(e.adjustPadAndReturnShape(r[p+2],n[p],s[p],u[p],l,p,p+r.length-2,a))}static adjustPadAndReturnShape(t,r,o,n,s,u,l,a){let p=o*(n-1)+1;if(a&&a!=="NOTSET")switch(a){case"VALID":return s[u]=0,s[l]=0,Math.floor((t-p)/r+1);case"SAME_LOWER":case"SAME_UPPER":if(o!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let f=((t+r-1)/r-1)*r+n-t;return s[u]=Math.floor(a==="SAME_LOWER"?(f+1)/2:f/2),s[l]=f-s[u],Math.floor((t+f-n)/r+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((t+s[u]+s[l]-p)/r+1)}},Lr=class{static getShapeOfGemmResult(t,r,o,n,s){if(t.length!==2||o.length!==2)throw new Error("shape need to be of size 2");let u,l,a;r?(u=t[1],l=t[0]):(u=t[0],l=t[1]);let p=-1;if(n?(a=o[0],p=1):(a=o[1],p=0),o[p]!==l)throw new Error("dimension mismatch");if(u<=0||a<=0||l<=0)throw new Error("invalid shape specified");if(s&&!mt.isValidBroadcast(s,[u,a]))throw new Error("gemm: invalid bias shape for broadcast");return[u,a,l]}},Fr=-34028234663852886e22,qr=34028234663852886e22});var Kr,Vn,Pe,et,j,Me,Ye,st,tt,re,Nn,M,F,jr,Un,xa,jt,be=q(()=>{"use strict";ie();_e();Kr=64,Vn=(e,t)=>{if(t===3)throw new Error("vec3 has same alignment as vec4, use vec4 instead");switch(e){case 10:return t>1?`vec${t}<f16>`:"f16";case 1:return t>1?`vec${t}<f32>`:"f32";case 6:return t>1?`vec${t}<i32>`:"i32";case 12:return t>1?`vec${t}<u32>`:"u32";case 7:if(t>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","i32"];case 13:if(t>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","u32"];case 9:if(t!==4)throw new Error("bool must be vec4");return["u32","vec4<bool>"];default:throw new Error(`Unknown data type: ${e}`)}},Pe=(e,t=1)=>{let r=Vn(e,t);return typeof r=="string"?r:r[0]},et=(e,t=1)=>{let r=Vn(e,t);return typeof r=="string"?r:r[1]},j=(...e)=>{let t=[];return e.forEach(r=>{r.length!==0&&t.push({type:12,data:r},{type:12,data:z.computeStrides(r)})}),t},Me=e=>e%4===0?4:e%2===0?2:1,Ye=(e="f32",t,r="0")=>!t||t===1?`${e}(${r})`:`vec${t}<${e}>(${r})`,st=(e,t,r)=>e==="f32"?r:t===1?`f32(${r})`:`vec${t}f(${r})`,tt=(e,t)=>t===4?`(${e}.x + ${e}.y + ${e}.z + ${e}.w)`:t===2?`(${e}.x + ${e}.y)`:t===3?`(${e}.x + ${e}.y + ${e}.z)`:e,re=(e,t,r,o)=>e.startsWith("uniforms.")&&r>4?typeof t=="string"?o==="f16"?`${e}[(${t}) / 8][(${t}) % 8 / 4][(${t}) % 8 % 4]`:`${e}[(${t}) / 4][(${t}) % 4]`:o==="f16"?`${e}[${Math.floor(t/8)}][${Math.floor(t%8/4)}][${t%8%4}]`:`${e}[${Math.floor(t/4)}][${t%4}]`:r>1?`${e}[${t}]`:e,Nn=(e,t,r,o,n)=>{let s=typeof r=="number",u=s?r:r.length,l=[...new Array(u).keys()],a=u<2?"u32":u<=4?`vec${u}<u32>`:`array<u32, ${u}>`,p=Vn(t,n),m=typeof p=="string"?p:p[1],f=typeof p=="string"?p:p[0],b={indices:a,value:m,storage:f,tensor:t},_=G=>typeof G=="string"?G:`${G}u`,y={offsetToIndices:!1,indicesToOffset:!1,broadcastedIndicesToOffset:!1,set:!1,setByIndices:!1,get:!1,getByIndices:!1},$=s?"uniforms.":"",I=`${$}${e}_shape`,C=`${$}${e}_strides`,v="";for(let G=0;G<u-1;G++)v+=`\n    let dim${G} = current / ${re(C,G,u)};\n    let rest${G} = current % ${re(C,G,u)};\n    indices[${G}] = dim${G};\n    current = rest${G};\n    `;v+=`indices[${u-1}] = current;`;let A=u<2?"":`\n  fn o2i_${e}(offset: u32) -> ${b.indices} {\n    var indices: ${b.indices};\n    var current = offset;\n    ${v}\n    return indices;\n  }`,T=G=>(y.offsetToIndices=!0,u<2?G:`o2i_${e}(${G})`),D=[];if(u>=2)for(let G=u-1;G>=0;G--)D.push(`${re(C,G,u)} * (indices[${G}])`);let U=u<2?"":`\n  fn i2o_${e}(indices: ${b.indices}) -> u32 {\n    return ${D.join("+")};\n  }`,V=G=>(y.indicesToOffset=!0,u<2?G:`i2o_${e}(${G})`),H=(...G)=>u===0?"0u":`${b.indices}(${G.map(_).join(",")})`,R=(G,J)=>u<2?`${G}`:`${re(G,J,u)}`,L=(G,J,Se)=>u<2?`${G}=${Se};`:`${re(G,J,u)}=${Se};`,pe={},Ie=(G,J)=>{y.broadcastedIndicesToOffset=!0;let Se=`${J.name}broadcastedIndicesTo${e}Offset`;if(Se in pe)return`${Se}(${G})`;let Qe=[];for(let Xe=u-1;Xe>=0;Xe--){let Le=J.indicesGet("outputIndices",Xe+J.rank-u);Qe.push(`${R(C,Xe)} * (${Le} % ${R(I,Xe)})`)}return pe[Se]=`fn ${Se}(outputIndices: ${J.type.indices}) -> u32 {\n             return ${Qe.length>0?Qe.join("+"):"0u"};\n           }`,`${Se}(${G})`},we=(G,J)=>(()=>{if(b.storage===b.value)return`${e}[${G}]=${J};`;if(b.storage==="vec2<u32>"&&b.value==="i32")return`${e}[${G}]=vec2<u32>(u32(${J}), select(0u, 0xFFFFFFFFu, ${J} < 0));`;if(b.storage==="vec2<u32>"&&b.value==="u32")return`${e}[${G}]=vec2<u32>(u32(${J}), 0u);`;if(b.storage==="u32"&&b.value==="vec4<bool>")return`${e}[${G}]=dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(${J}));`;throw new Error(`not supported combination of storage type ${b.storage} and value type ${b.value} yet`)})(),ne=G=>(()=>{if(b.storage===b.value)return`${e}[${G}]`;if(b.storage==="vec2<u32>"&&b.value==="i32")return`i32(${e}[${G}].x)`;if(b.storage==="vec2<u32>"&&b.value==="u32")return`u32(${e}[${G}].x)`;if(b.storage==="u32"&&b.value==="vec4<bool>")return`vec4<bool>(bool(${e}[${G}] & 0xFFu), bool(${e}[${G}] & 0xFF00u), bool(${e}[${G}] & 0xFF0000u), bool(${e}[${G}] & 0xFF000000u))`;throw new Error(`not supported combination of storage type ${b.storage} and value type ${b.value} yet`)})(),ze=u<2?"":`\n  fn get_${e}ByIndices(indices: ${b.indices}) -> ${m} {\n    return ${ne(`i2o_${e}(indices)`)};\n  }`,Q=u<2?"":(()=>{let G=l.map(Se=>`d${Se}: u32`).join(", "),J=l.map(Se=>`d${Se}`).join(", ");return`\n  fn get_${e}(${G}) -> ${m} {\n    return get_${e}ByIndices(${H(J)});\n  }`})(),xe=(...G)=>{if(G.length!==u)throw new Error(`indices length must be ${u}`);let J=G.map(_).join(",");return u===0?ne("0u"):u===1?ne(J[0]):(y.get=!0,y.getByIndices=!0,y.indicesToOffset=!0,`get_${e}(${J})`)},me=G=>u<2?ne(G):(y.getByIndices=!0,y.indicesToOffset=!0,`get_${e}ByIndices(${G})`),ue=u<2?"":`\n  fn set_${e}ByIndices(indices: ${b.indices}, value: ${m}) {\n    ${we(`i2o_${e}(indices)`,"value")}\n  }`,se=u<2?"":(()=>{let G=l.map(Se=>`d${Se}: u32`).join(", "),J=l.map(Se=>`d${Se}`).join(", ");return`\n  fn set_${e}(${G}, value: ${m}) {\n    set_${e}ByIndices(${H(J)}, value);\n  }`})();return{impl:()=>{let G=[],J=!1;return y.offsetToIndices&&(G.push(A),J=!0),y.indicesToOffset&&(G.push(U),J=!0),y.broadcastedIndicesToOffset&&(Object.values(pe).forEach(Se=>G.push(Se)),J=!0),y.set&&(G.push(se),J=!0),y.setByIndices&&(G.push(ue),J=!0),y.get&&(G.push(Q),J=!0),y.getByIndices&&(G.push(ze),J=!0),!s&&J&&G.unshift(`const ${I} = ${b.indices}(${r.join(",")});`,`const ${C} = ${b.indices}(${z.computeStrides(r).join(",")});`),G.join(`\n`)},type:b,offsetToIndices:T,indicesToOffset:V,broadcastedIndicesToOffset:Ie,indices:H,indicesGet:R,indicesSet:L,set:(...G)=>{if(G.length!==u+1)throw new Error(`indices length must be ${u}`);let J=G[u];if(typeof J!="string")throw new Error("value must be string");let Se=G.slice(0,u).map(_).join(",");return u===0?we("0u",J):u===1?we(Se[0],J):(y.set=!0,y.setByIndices=!0,y.indicesToOffset=!0,`set_${e}(${Se}, ${J})`)},setByOffset:we,setByIndices:(G,J)=>u<2?we(G,J):(y.setByIndices=!0,y.indicesToOffset=!0,`set_${e}ByIndices(${G}, ${J});`),get:xe,getByOffset:ne,getByIndices:me,usage:o,name:e,strides:C,shape:I,rank:u}},M=(e,t,r,o=1)=>Nn(e,t,r,"input",o),F=(e,t,r,o=1)=>Nn(e,t,r,"output",o),jr=(e,t,r,o=1)=>Nn(e,t,r,"internal",o),Un=class{constructor(t){this.normalizedDispatchGroup=t;this.internalVariables=[];this.variables=[];this.uniforms=[];this.variableIndex=0}guardAgainstOutOfBoundsWorkgroupSizes(t){return`if (global_idx >= ${typeof t=="number"?`${t}u`:t}) { return; }`}mainStart(t=Kr){let r=typeof t=="number"?t:t[0],o=typeof t=="number"?1:t[1],n=typeof t=="number"?1:t[2],s=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1,u=s?`@builtin(global_invocation_id) global_id : vec3<u32>,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>,\n    @builtin(local_invocation_id) local_id : vec3<u32>`:`@builtin(local_invocation_id) local_id : vec3<u32>,\n    @builtin(local_invocation_index) local_idx : u32,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>,\n    @builtin(num_workgroups) num_workgroups : vec3<u32>`,l=s?"let global_idx = global_id.x; let local_idx = local_id.x;":`let global_idx = (workgroup_id.z * num_workgroups[0] * num_workgroups[1] +\n          workgroup_id.y * num_workgroups[0] + workgroup_id.x) * ${r*o*n}u + local_idx;`;return`@compute @workgroup_size(${r}, ${o}, ${n})\n  fn main(${u}) {\n    ${l}\n  `}appendVariableUniforms(t){t.rank!==0&&(t.shape.startsWith("uniforms.")&&this.uniforms.push({name:t.shape.replace("uniforms.",""),type:"u32",length:t.rank}),t.strides.startsWith("uniforms.")&&this.uniforms.push({name:t.strides.replace("uniforms.",""),type:"u32",length:t.rank}))}declareVariable(t,r){if(t.usage==="internal")throw new Error("cannot use internal variable with declareVariable(). use registerInternalVariables() instead.");this.variables.push(t),this.appendVariableUniforms(t);let o=t.usage==="input"?"read":"read_write",n=t.type.storage;return`@group(0) @binding(${r}) var<storage, ${o}> ${t.name}: array<${n}>;`}declareVariables(...t){return t.map(r=>this.declareVariable(r,this.variableIndex++)).join(`\n`)}registerInternalVariable(t){if(t.usage!=="internal")throw new Error("cannot use input or output variable with registerInternalVariable(). use declareVariables() instead.");this.internalVariables.push(t),this.appendVariableUniforms(t)}registerInternalVariables(...t){return t.forEach(r=>this.registerInternalVariable(r)),this}registerUniform(t,r,o=1){return this.uniforms.push({name:t,type:r,length:o}),this}registerUniforms(t){return this.uniforms=this.uniforms.concat(t),this}uniformDeclaration(){if(this.uniforms.length===0)return"";let t=[];for(let{name:r,type:o,length:n}of this.uniforms)if(n&&n>4)o==="f16"?t.push(`@align(16) ${r}:array<mat2x4<${o}>, ${Math.ceil(n/8)}>`):t.push(`${r}:array<vec4<${o}>, ${Math.ceil(n/4)}>`);else{let s=n==null||n===1?o:`vec${n}<${o}>`;t.push(`${r}:${s}`)}return`\n      struct Uniforms { ${t.join(", ")} };\n      @group(0) @binding(${this.variableIndex}) var<uniform> uniforms: Uniforms;`}get additionalImplementations(){return this.uniformDeclaration()+this.variables.map(t=>t.impl()).join(`\n`)+this.internalVariables.map(t=>t.impl()).join(`\n`)}},xa=e=>new Un(e),jt=(e,t)=>{let r=e.length,o=[];for(let n=0;n<r;n++){let s=r-1-n,u=e[s]||1;(t[t.length-1-n]||1)>1&&u===1&&o.unshift(s)}return o}});var kd,Sa,Rd,Bd,ot,Ca,Ia,Yt=q(()=>{"use strict";ie();_e();je();be();kd=e=>{if(!e||e.length!==1)throw new Error("Transpose requires 1 input.")},Sa=(e,t)=>t&&t.length!==e?[...new Array(e).keys()].reverse():t,Rd=(e,t)=>z.sortBasedOnPerm(e,Sa(e.length,t)),Bd=(e,t,r,o)=>{let n=[];n.push(`fn perm(i: ${o.type.indices}) -> ${r.type.indices} {\n    var a: ${r.type.indices};`);for(let s=0;s<t;++s)n.push(r.indicesSet("a",e[s],`i[${s}]`));return n.push("return a;}"),n.join(`\n`)},ot=(e,t)=>{let r=e.dataType,o=e.dims.length,n=Sa(o,t),s=Rd(e.dims,n),u=F("output",r,s.length),l=M("a",r,o),a=p=>`\n  ${p.registerUniform("output_size","u32").declareVariables(l,u)}\n\n  ${Bd(n,o,l,u)}\n\n  ${p.mainStart()}\n    ${p.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n\n    let indices = ${u.offsetToIndices("global_idx")};\n    let aIndices = perm(indices);\n\n    ${u.setByOffset("global_idx",l.getByIndices("aIndices"))}\n  }`;return{name:"Transpose",shaderCache:{hint:`${t}`,inputDependencies:["rank"]},getRunData:p=>{let m=z.size(s);return{outputs:[{dims:s,dataType:p[0].dataType}],dispatchGroup:{x:Math.ceil(m/64)},programUniforms:[{type:12,data:m},...j(p[0].dims,s)]}},getShaderSource:a}},Ca=(e,t)=>{kd(e.inputs),e.compute(ot(e.inputs[0],t.perm))},Ia=e=>$e({perm:e.perm})});var Dd,Md,zd,Ud,Vd,Nd,Wd,Gd,Hd,Ld,ft,Aa,Ta,Ea,Pa,Oa,ka,Ra,Ba,Da,Ma,za=q(()=>{"use strict";ie();_e();be();Yr();Yt();Dd={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate * candidate",logSumExp:"bestValue + exp(candidate)",l1:"bestValue + abs(candidate)",l2:"bestValue + candidate * candidate",logSum:"bestValue + candidate"},Md={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate",logSumExp:"bestValue + candidate",l1:"bestValue + candidate",l2:"bestValue + candidate",logSum:"bestValue + candidate"},zd={max:"_A[offset]",min:"_A[offset]",mean:"0",sum:"0",prod:"1",sumSquare:"0",logSumExp:"0",l1:"0",l2:"0",logSum:"0"},Ud={max:"bestValue",min:"bestValue",sum:"bestValue",prod:"bestValue",sumSquare:"bestValue",logSumExp:"log(bestValue)",l1:"bestValue",l2:"sqrt(bestValue)",logSum:"log(bestValue)"},Vd=(e,t)=>{let r=[];for(let o=t-e;o<t;++o)r.push(o);return r},Nd=(e,t)=>{let r=[],o=e.length;for(let s=0;s<o;s++)t.indexOf(s)===-1&&r.push(e[s]);let n=t.map(s=>e[s]);return[r,n]},Wd=(e,t)=>{let r=e.length+t.length,o=[],n=0;for(let s=0;s<r;s++)t.indexOf(s)===-1?o.push(e[n++]):o.push(1);return o},Gd=(e,t)=>{for(let r=0;r<e.length;++r)if(e[e.length-r-1]!==t-1-r)return!1;return!0},Hd=(e,t)=>{let r=[];if(!Gd(e,t)){for(let o=0;o<t;++o)e.indexOf(o)===-1&&r.push(o);e.forEach(o=>r.push(o))}return r},Ld=(e,t,r,o,n,s,u)=>{let l=r[0].dims,a=z.size(s),p=z.size(u),m=M("_A",r[0].dataType,l),f=F("output",n,s),b=32,_=`\n          var<workgroup> aBestValues : array<f32, ${b}>;\n       `;return{name:e,shaderCache:t,getShaderSource:$=>`\n        ${$.registerUniform("reduceSize","u32").declareVariables(m,f)}\n        ${_}\n        fn DIV_CEIL(a : u32, b : u32) -> u32 {\n          return ((a - 1u) / b + 1u);\n         }\n         ${$.mainStart(b)}\n\n          let outputIndex = global_idx / ${b};\n          let offset = outputIndex * uniforms.reduceSize;\n\n          var bestValue = f32(${zd[o]});\n          let Length = uniforms.reduceSize;\n          for (var k = local_idx; k < Length; k = k + ${b}) {\n           let candidate = f32(${m.getByOffset("offset + k")});\n           bestValue = ${Dd[o]};\n          }\n          aBestValues[local_idx] = bestValue;\n          workgroupBarrier();\n\n         var reduceSize = min(Length, ${b}u);\n         for (var currentSize = reduceSize / 2u; reduceSize > 1u;\n             currentSize = reduceSize / 2u) {\n           let interval = DIV_CEIL(reduceSize, 2u);\n           if (local_idx < currentSize) {\n            let candidate = aBestValues[local_idx + interval];\n            bestValue = ${Md[o]};\n            aBestValues[local_idx] = bestValue;\n           }\n           reduceSize = interval;\n           workgroupBarrier();\n         }\n\n         if (local_idx == 0u) {\n          ${f.setByOffset("outputIndex",`${o==="mean"?`${f.type.storage}(bestValue / f32(uniforms.reduceSize))`:`${f.type.storage}(${Ud[o]})`}`)};\n         }\n        }`,getRunData:()=>({outputs:[{dims:s,dataType:n}],dispatchGroup:{x:a},programUniforms:[{type:12,data:p}]})}},ft=(e,t,r,o)=>{let n=e.inputs.length===1?r:Wn(e.inputs,r),s=n.axes;s.length===0&&!n.noopWithEmptyAxes&&(s=e.inputs[0].dims.map((_,y)=>y));let u=z.normalizeAxes(s,e.inputs[0].dims.length),l=u,a=e.inputs[0],p=Hd(l,e.inputs[0].dims.length);p.length>0&&(a=e.compute(ot(e.inputs[0],p),{inputs:[0],outputs:[-1]})[0],l=Vd(l.length,a.dims.length));let[m,f]=Nd(a.dims,l),b=m;n.keepDims&&(b=Wd(m,u)),e.compute(Ld(t,{hint:n.cacheKey,inputDependencies:["type"]},[a],o,e.inputs[0].dataType,b,f),{inputs:[a]})},Aa=(e,t)=>{ft(e,"ReduceMeanShared",t,"mean")},Ta=(e,t)=>{ft(e,"ReduceL1Shared",t,"l1")},Ea=(e,t)=>{ft(e,"ReduceL2Shared",t,"l2")},Pa=(e,t)=>{ft(e,"ReduceLogSumExpShared",t,"logSumExp")},Oa=(e,t)=>{ft(e,"ReduceMaxShared",t,"max")},ka=(e,t)=>{ft(e,"ReduceMinShared",t,"min")},Ra=(e,t)=>{ft(e,"ReduceProdShared",t,"prod")},Ba=(e,t)=>{ft(e,"ReduceSumShared",t,"sum")},Da=(e,t)=>{ft(e,"ReduceSumSquareShared",t,"sumSquare")},Ma=(e,t)=>{ft(e,"ReduceLogSumShared",t,"logSum")}});var ht,Fd,Zr,Wn,gt,qd,Kd,jd,Yd,Zd,Qd,Xd,Jd,el,tl,yt,Ua,Va,Na,Wa,Ga,Ha,La,Fa,qa,Ka,Yr=q(()=>{"use strict";ie();_e();je();be();za();ht=e=>{if(!e||e.length===0||e.length>2)throw new Error("Reduce op requires 1 or 2 inputs.");if(e.length===2&&e[1].dims.length!==1)throw new Error("Invalid axes input dims.")},Fd=e=>["","",`var value = ${e.getByIndices("input_indices")};`,""],Zr=(e,t,r,o,n,s,u=!1,l=!1)=>{let a=[],p=r[0].dims,m=p.length,f=z.normalizeAxes(n,m),b=!l&&f.length===0;p.forEach((I,C)=>{b||f.indexOf(C)>=0?u&&a.push(1):a.push(I)});let _=a.length,y=z.size(a);return{name:e,shaderCache:t,getShaderSource:I=>{let C=[],v=M("_A",r[0].dataType,m),A=F("output",s,_),T=o(v,A,f),D=T[2];for(let U=0,V=0;U<m;U++)b||f.indexOf(U)>=0?(u&&V++,D=`for(var j${U}: u32 = 0; j${U} < ${p[U]}; j${U}++) {\n                  ${T[2].includes("last_index")?`let last_index = j${U};`:""}\n                  ${v.indicesSet("input_indices",U,`j${U}`)}\n                  ${D}\n                }`):(C.push(`${v.indicesSet("input_indices",U,A.indicesGet("output_indices",V))};`),V++);return`\n\n        ${I.registerUniform("output_size","u32").declareVariables(v,A)}\n\n        ${I.mainStart()}\n          ${I.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n          var input_indices: ${v.type.indices};\n          let output_indices = ${A.offsetToIndices("global_idx")};\n\n          ${C.join(`\n`)}\n          ${T[0]}       // init ops for reduce max/min\n          ${T[1]}\n          ${D}\n          ${T[3]}\n          ${T.length===4?A.setByOffset("global_idx","value"):T.slice(4).join(`\n`)}\n        }`},getRunData:()=>({outputs:[{dims:a,dataType:s}],dispatchGroup:{x:Math.ceil(y/64)},programUniforms:[{type:12,data:y},...j(p,a)]})}},Wn=(e,t)=>{let r=[];return e[1].dims[0]>0&&e[1].getBigInt64Array().forEach(o=>r.push(Number(o))),$e({axes:r,keepDims:t.keepDims,noopWithEmptyAxes:t.noopWithEmptyAxes})},gt=(e,t,r,o)=>{let n=e.inputs,s=n.length===1?r:Wn(n,r);e.compute(Zr(t,{hint:s.cacheKey,inputDependencies:["rank"]},[n[0]],s.noopWithEmptyAxes&&s.axes.length===0?Fd:o,s.axes,n[0].dataType,s.keepDims,s.noopWithEmptyAxes),{inputs:[0]})},qd=(e,t)=>{ht(e.inputs),gt(e,"ReduceLogSum",t,(o,n)=>[`var value = ${n.type.storage}(0);`,"",`value += ${o.getByIndices("input_indices")};`,"value = log(value);"])},Kd=(e,t)=>{ht(e.inputs),gt(e,"ReduceL1",t,(o,n)=>[`var value = ${n.type.storage}(0);`,"",`value += abs(${o.getByIndices("input_indices")});`,""])},jd=(e,t)=>{ht(e.inputs),gt(e,"ReduceL2",t,(o,n)=>[`var t = ${n.type.value}(0); var value = ${n.type.value}(0);`,"",`t = ${o.getByIndices("input_indices")}; value += (t * t);`,"value = sqrt(value);"])},Yd=(e,t)=>{ht(e.inputs),gt(e,"ReduceLogSumExp",t,(o,n)=>[`var value = ${n.type.storage}(0);`,"",`value += exp(${o.getByIndices("input_indices")});`,"value = log(value);"])},Zd=(e,t)=>{ht(e.inputs),gt(e,"ReduceMax",t,(o,n,s)=>{let u=[];for(let l=0;l<o.rank;l++)(s.indexOf(l)>=0||s.length===0)&&u.push(o.indicesSet("input_indices",l,0));return[`${u.join(`\n`)}`,`var value = ${o.getByIndices("input_indices")};`,`value = max(value, ${o.getByIndices("input_indices")});`,""]})},Qd=(e,t)=>{ht(e.inputs),gt(e,"ReduceMean",t,(o,n,s)=>{let u=1;for(let l=0;l<o.rank;l++)(s.indexOf(l)>=0||s.length===0)&&(u*=e.inputs[0].dims[l]);return["var sum = f32(0);","",`sum += f32(${o.getByIndices("input_indices")});`,`let value = ${n.type.value}(sum / ${u});`]})},Xd=(e,t)=>{ht(e.inputs),gt(e,"ReduceMin",t,(o,n,s)=>{let u=[];for(let l=0;l<o.rank;l++)(s.indexOf(l)>=0||s.length===0)&&u.push(`input_indices[${l}] = 0;`);return[`${u.join(`\n`)}`,`var value = ${o.getByIndices("input_indices")};`,`value = min(value, ${o.getByIndices("input_indices")});`,""]})},Jd=(e,t)=>{ht(e.inputs),gt(e,"ReduceProd",t,(o,n)=>[`var value = ${n.type.storage}(1);`,"",`value *= ${o.getByIndices("input_indices")};`,""])},el=(e,t)=>{ht(e.inputs),gt(e,"ReduceSum",t,(o,n)=>[`var value = ${n.type.storage}(0);`,"",`value += ${o.getByIndices("input_indices")};`,""])},tl=(e,t)=>{ht(e.inputs),gt(e,"ReduceSumSquare",t,(o,n)=>[`var t = ${n.type.value}(0); var value = ${n.type.value}(0);`,"",`t = ${o.getByIndices("input_indices")}; value += t * t;`,""])},yt=(e,t,r)=>{if(t.length===0)return r;let o=1,n=1;for(let s=0;s<t.length;s++)t.indexOf(s)===-1?o*=e[s]:n*=e[s];return n<32&&o>1024},Ua=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Qd(e,t):Aa(e,t)},Va=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Kd(e,t):Ta(e,t)},Na=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?jd(e,t):Ea(e,t)},Wa=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Yd(e,t):Pa(e,t)},Ga=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Zd(e,t):Oa(e,t)},Ha=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Xd(e,t):ka(e,t)},La=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?Jd(e,t):Ra(e,t)},Fa=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?el(e,t):Ba(e,t)},qa=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?tl(e,t):Da(e,t)},Ka=(e,t)=>{yt(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?qd(e,t):Ma(e,t)}});var ja,Ya,Za,Gn,Qa=q(()=>{"use strict";ie();je();Yr();ja=e=>{if(!e||e.length===0||e.length>2)throw new Error("ArgMinMaxOp op requires 1 or 2 inputs.");if(e[0].dataType!==1)throw new Error("Invalid input type.")},Ya=(e,t)=>{ja(e.inputs);let r=(o,n,s)=>{let u=[];for(let l=0;l<o.rank;l++)(s.indexOf(l)>=0||s.length===0)&&u.push(`input_indices[${l}] = 0;`);return[`${u.join(`\n`)}`,`var value = ${o.getByIndices("input_indices")};\nvar best_index : i32 = 0;`,`if (${o.getByIndices("input_indices")} ${t.selectLastIndex>0?"<=":"<"} value) {\n         value = ${o.getByIndices("input_indices")};\n         best_index = i32(last_index);\n       }`,"",n.setByOffset("global_idx","best_index")]};e.compute(Zr("ArgMin",{hint:t.cacheKey,inputDependencies:["rank"]},[e.inputs[0]],r,[t.axis],7,t.keepDims),{inputs:[0]})},Za=(e,t)=>{ja(e.inputs);let r=(o,n,s)=>{let u=[];for(let l=0;l<o.rank;l++)(s.indexOf(l)>=0||s.length===0)&&u.push(`input_indices[${l}] = 0;`);return[`${u.join(`\n`)}`,`var value = ${o.getByIndices("input_indices")};\nvar best_index : i32 = 0;`,`if (${o.getByIndices("input_indices")} ${t.selectLastIndex>0?">=":">"} value) {\n         value = ${o.getByIndices("input_indices")};\n         best_index = i32(last_index);\n       }`,"",n.setByOffset("global_idx","best_index")]};e.compute(Zr("argMax",{hint:t.cacheKey,inputDependencies:["rank"]},[e.inputs[0]],r,[t.axis],7,t.keepDims),{inputs:[0]})},Gn=e=>$e(e)});var rl,nl,ol,al,Qr,il,Xa,Hn=q(()=>{"use strict";ie();Gr();be();rl=(e,t)=>{let r=e[0],o=e[1],n=e[2],s=e[3],u=e[4],l=e[5];if(u&&l)throw new Error("Attention cannot have both past and relative_position_bias");if(r.dims.length!==3)throw new Error(\'Input "input" must have 3 dimensions\');let a=r.dims[0],p=r.dims[1],m=r.dims[2];if(n.dims.length!==1)throw new Error(\'Input "bias" is expected to have 1 dimensions\');if(o.dims.length!==2)throw new Error(\'Input "weights" is expected to have 2 dimensions\');if(o.dims[0]!==m)throw new Error("Input 1 dimension 0 should have same length as dimension 2 of input 0");if(n.dims[0]!==o.dims[1])throw new Error(\'Input "bias" dimension 0 should have same length as dimension 1 of input "weights"\');let f=n.dims[0]/3,b=f,_=b;if(t.qkvHiddenSizes.length>0){if(t.qkvHiddenSizes.length!==3)throw new Error("qkv_hidden_sizes attribute should have 3 elements");for(let A of t.qkvHiddenSizes)if(A%t.numHeads!==0)throw new Error("qkv_hidden_sizes should be divisible by num_heads");f=t.qkvHiddenSizes[0],b=t.qkvHiddenSizes[1],_=t.qkvHiddenSizes[2]}let y=p;if(f!==b)throw new Error("qkv_hidden_sizes first element should be same as the second");if(n.dims[0]!==f+b+_)throw new Error(\'Input "bias" dimension 0 should have same length as sum of Q/K/V hidden sizes\');let $=0;if(u){if(b!==_)throw new Error(\'Input "past" expect k_hidden_size == v_hidden_size\');if(u.dims.length!==5)throw new Error(\'Input "past" must have 5 dimensions\');if(u.dims[0]!==2)throw new Error(\'Input "past" first dimension must be 2\');if(u.dims[1]!==a)throw new Error(\'Input "past" second dimension must be batch_size\');if(u.dims[2]!==t.numHeads)throw new Error(\'Input "past" third dimension must be num_heads\');if(u.dims[4]!==b/t.numHeads)throw new Error(\'Input "past" fifth dimension must be k_hidden_size / num_heads\');t.pastPresentShareBuffer||($=u.dims[3])}let I=y+$,C=-1,v=0;if(s)throw new Error("Mask not supported");if(u)throw new Error("past is not supported");if(l)throw new Error("relativePositionBias is not supported");return{batchSize:a,sequenceLength:p,pastSequenceLength:$,kvSequenceLength:y,totalSequenceLength:I,maxSequenceLength:C,inputHiddenSize:m,hiddenSize:f,vHiddenSize:_,headSize:Math.floor(f/t.numHeads),vHeadSize:Math.floor(_/t.numHeads),numHeads:t.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:t.maskFilterValue,maskType:v,scale:t.scale,broadcastResPosBias:!1,passPastInKv:!1,qkvFormat:1}},nl=(e,t,r,o)=>{let n=Me(o),s=64,u=o/n;u<s?s=1:u/8<64&&(s=Math.ceil(u/8));let l=Math.ceil(o/n/s),a=[{type:t.dataType,data:1/o},{type:12,data:u},{type:12,data:l}],p=Pe(t.dataType,n),m=f=>{let b=F("x",t.dataType,t.dims,n),_="thread_max_vector";n===2?_="max(thread_max_vector.x, thread_max_vector.y)":n===4&&(_="max(max(thread_max_vector.x, thread_max_vector.y), max(thread_max_vector.z, thread_max_vector.w))");let y=et(t.dataType),$=[{name:"d_inv",type:y},{name:"d_comp",type:"u32"},{name:"elements_per_wg",type:"u32"}];return`\n  var<workgroup> wgMax: array<f32, ${s}>;\n  var<workgroup> wgSum: array<f32, ${s}>;\n  ${f.registerUniforms($).declareVariables(b)}\n  ${f.mainStart([s,1,1])}\n    let localOffset = local_idx * uniforms.elements_per_wg;\n    let offset: u32 = workgroup_id.x * uniforms.d_comp + localOffset;\n\n    var thread_max_vector = ${Ye("f32",n,"-3.402823e+38f")};\n    for (var i: u32 = 0; i < uniforms.elements_per_wg && i + localOffset < uniforms.d_comp; i++) {\n      thread_max_vector = max(${st(y,n,"x[offset + i]")}, thread_max_vector);\n    }\n    wgMax[local_idx] = ${_};\n    workgroupBarrier();\n\n    var maxValue = -3.402823e+38f;\n    for (var i = 0u; i < ${s}; i++) {\n      maxValue = max(wgMax[i], maxValue);\n    }\n\n    var sumVector = ${Ye("f32",n,"0")};\n    for (var i: u32 = 0; i < uniforms.elements_per_wg && i + localOffset < uniforms.d_comp; i++) {\n      sumVector += exp(${st(y,n,"x[offset + i]")} - maxValue);\n    }\n    wgSum[local_idx] = ${tt("sumVector",n)};\n    workgroupBarrier();\n\n    var sum: f32 = 0;\n    for (var i = 0u; i < ${s}; i++) {\n      sum += wgSum[i];\n    }\n\n    if (sum == 0) {\n      for (var i: u32 = 0; i < uniforms.elements_per_wg && i + localOffset < uniforms.d_comp; i++) {\n        x[offset + i] = ${Ye(y,n,"uniforms.d_inv")};\n      }\n    } else {\n      for (var i: u32 = 0; i < uniforms.elements_per_wg && i + localOffset < uniforms.d_comp; i++) {\n        let f32input = ${st(y,n,"x[offset + i]")};\n        x[offset + i] = ${b.type.value}(exp(f32input - maxValue) / sum);\n      }\n    }\n  }`};e.compute({name:"AttentionProbsSoftmax",shaderCache:{hint:`${s};${p};${n}`},getShaderSource:m,getRunData:()=>({outputs:[],dispatchGroup:{x:r},programUniforms:a})},{inputs:[t],outputs:[]})},ol=(e,t,r,o,n,s)=>{let u=[n.batchSize,n.numHeads,n.sequenceLength,n.kvSequenceLength+n.pastSequenceLength],l=s.scale===0?1/Math.sqrt(n.headSize):s.scale,a=Me(n.headSize),p=n.headSize/a,m=12,f={x:Math.ceil(n.totalSequenceLength/m),y:Math.ceil(n.sequenceLength/m),z:n.batchSize*n.numHeads},b=[{type:12,data:n.sequenceLength},{type:12,data:p},{type:12,data:n.totalSequenceLength},{type:12,data:n.kvSequenceLength},{type:t.dataType,data:l}],_=[t,r],y=I=>{let C=M("q",t.dataType,t.dims,a),v=M("key",r.dataType,r.dims,a),A=F("output",t.dataType,u),T=Pe(t.dataType),D=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"alpha",type:T}];return`\n  const beta: ${T} = 1.0;\n  const TILE_SIZE = ${m}u;\n\n  var<workgroup> tileQ: array<${C.type.storage}, ${m*m}>;\n  var<workgroup> tileK: array<${C.type.storage}, ${m*m}>;\n  ${I.registerUniforms(D).declareVariables(C,v,A)}\n  ${I.mainStart([m,m,1])}\n    // x holds the N and y holds the M\n    let headIdx = workgroup_id.z;\n    let m = workgroup_id.y * TILE_SIZE;\n    let n = workgroup_id.x * TILE_SIZE;\n    let lm = m + local_id.y;\n    let ln = n + local_id.x;\n\n    let qOffset = uniforms.M * uniforms.K * headIdx + m * uniforms.K;\n    let kOffset = uniforms.kv_sequence_length * uniforms.K * headIdx + n * uniforms.K;\n\n    var value = ${Ye(T,a)};\n    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {\n      if (m + local_id.y < uniforms.M && w + local_id.x < uniforms.K) {\n        tileQ[TILE_SIZE * local_id.y + local_id.x] = q[qOffset + local_id.y * uniforms.K + w + local_id.x];\n      }\n      if (n + local_id.y < uniforms.N && w + local_id.x < uniforms.K) {\n        tileK[TILE_SIZE * local_id.y + local_id.x] = key[kOffset + local_id.y * uniforms.K + w + local_id.x];\n      }\n      workgroupBarrier();\n\n      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {\n        value += tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * local_id.x + k];\n      }\n\n      workgroupBarrier();\n    }\n\n    let headOffset = headIdx * uniforms.M * uniforms.N;\n    if (lm < uniforms.M && ln < uniforms.N) {\n      let outputIdx = headOffset + lm * uniforms.N + ln;\n      output[outputIdx] = ${tt("value",a)} * uniforms.alpha;\n    }\n  }`},$=e.compute({name:"AttentionProbs",shaderCache:{hint:`${a}`,inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:u,dataType:t.dataType,gpuDataType:0}],dispatchGroup:f,programUniforms:b}),getShaderSource:y},{inputs:_,outputs:[-1]})[0];return nl(e,$,n.batchSize*n.numHeads*n.sequenceLength,n.totalSequenceLength),$},al=(e,t,r,o)=>{let n=[o.batchSize,o.sequenceLength,o.vHiddenSize],s=12,u={x:Math.ceil(o.vHeadSize/s),y:Math.ceil(o.sequenceLength/s),z:o.batchSize*o.numHeads},l=[{type:12,data:o.sequenceLength},{type:12,data:o.totalSequenceLength},{type:12,data:o.vHeadSize},{type:12,data:o.numHeads},{type:12,data:o.vHiddenSize}],a=p=>{let m=M("probs",t.dataType,t.dims),f=M("v",r.dataType,r.dims),b=F("output",t.dataType,n),_=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"v_hidden_size",type:"u32"}];return`\n  const TILE_SIZE = ${s}u;\n  var<workgroup> tileQ: array<${m.type.value}, ${s*s}>;\n  var<workgroup> tileK: array<${m.type.value}, ${s*s}>;\n  ${p.registerUniforms(_).declareVariables(m,f,b)}\n  ${p.mainStart([s,s,1])}\n   let headIdx = workgroup_id.z;\n   let m = workgroup_id.y * TILE_SIZE + local_id.y;\n   let n = workgroup_id.x * TILE_SIZE + local_id.x;\n\n   let offsetA = headIdx * (uniforms.M * uniforms.K) + m * uniforms.K;\n   let offsetB = headIdx * (uniforms.N * uniforms.K) + n;\n\n   var value = ${m.type.storage}(0);\n   for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {\n     if (m < uniforms.M && w + local_id.x < uniforms.K) {\n       tileQ[TILE_SIZE * local_id.y + local_id.x] = probs[offsetA + w + local_id.x];\n     }\n     if (n < uniforms.N && w + local_id.y < uniforms.K) {\n       tileK[TILE_SIZE * local_id.y + local_id.x] = v[offsetB + (w + local_id.y) * uniforms.N];\n     }\n     workgroupBarrier();\n     for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {\n       value += tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * k + local_id.x];\n     }\n     workgroupBarrier();\n   }\n\n   // we need to transpose output from BNSH_v to BSND_v\n   let batchIdx = workgroup_id.z / uniforms.num_heads;\n   let currentBatchHeadNumber = workgroup_id.z % uniforms.num_heads;\n   let headOffset = (batchIdx * uniforms.M * uniforms.num_heads + currentBatchHeadNumber) * uniforms.N;\n   if (m < uniforms.M && n < uniforms.N) {\n     let outputIdx = batchIdx * uniforms.M *uniforms.v_hidden_size + m * uniforms.v_hidden_size\n       + currentBatchHeadNumber * uniforms.N + n;\n     output[outputIdx] = value;\n   }\n  }`};return e.compute({name:"AttentionScore",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:n,dataType:t.dataType,gpuDataType:0}],dispatchGroup:u,programUniforms:l}),getShaderSource:a},{inputs:[t,r],outputs:[0]})[0]},Qr=(e,t,r,o,n,s,u,l,a,p,m)=>{let f=ol(e,t,r,a,p,m);al(e,f,o,p)},il=(e,t)=>{let r=[t.batchSize,t.numHeads,t.sequenceLength,t.headSize],o=t.sequenceLength,n=t.inputHiddenSize,s=t.headSize,u=12,l={x:Math.ceil(t.headSize/u),y:Math.ceil(t.sequenceLength/u),z:t.batchSize*t.numHeads},a=[e.inputs[0],e.inputs[1],e.inputs[2]],p=[{type:12,data:o},{type:12,data:n},{type:12,data:s},{type:12,data:t.numHeads},{type:12,data:t.headSize},{type:12,data:t.hiddenSize},{type:12,data:t.hiddenSize+t.hiddenSize+t.vHiddenSize}],m=f=>{let b=F("output_q",a[0].dataType,r),_=F("output_k",a[0].dataType,r),y=F("output_v",a[0].dataType,r),$=M("input",a[0].dataType,a[0].dims),I=M("weight",a[1].dataType,a[1].dims),C=M("bias",a[2].dataType,a[2].dims),v=$.type.storage,A=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"hidden_size",type:"u32"},{name:"ldb",type:"u32"}];return`\n  const TILE_SIZE = ${u}u;\n  var<workgroup> tileInput: array<${v}, ${u*u}>;\n  var<workgroup> tileWeightQ: array<${v}, ${u*u}>;\n  var<workgroup> tileWeightK: array<${v}, ${u*u}>;\n  var<workgroup> tileWeightV: array<${v}, ${u*u}>;\n  ${f.registerUniforms(A).declareVariables($,I,C,b,_,y)}\n  ${f.mainStart([u,u,1])}\n    let batchIndex = workgroup_id.z / uniforms.num_heads;\n    let headNumber = workgroup_id.z % uniforms.num_heads;\n    let m = workgroup_id.y * TILE_SIZE + local_id.y;\n    let n = workgroup_id.x * TILE_SIZE + local_id.x;\n\n    let inputOffset = batchIndex * (uniforms.M * uniforms.K) + m * uniforms.K;\n    let biasOffsetQ = headNumber * uniforms.head_size;\n    let biasOffsetK = uniforms.hidden_size + biasOffsetQ;\n    let biasOffsetV = uniforms.hidden_size + biasOffsetK;\n\n    var valueQ = ${v}(0);\n    var valueK = ${v}(0);\n    var valueV = ${v}(0);\n    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {\n      if (m < uniforms.M && w + local_id.x < uniforms.K) {\n        tileInput[TILE_SIZE * local_id.y + local_id.x] = input[inputOffset + w + local_id.x];\n      }\n      if (n < uniforms.N && w + local_id.y < uniforms.K) {\n        let offset = n + (w + local_id.y) * uniforms.ldb;\n        tileWeightQ[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetQ + offset];\n        tileWeightK[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetK + offset];\n        tileWeightV[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetV + offset];\n      }\n      workgroupBarrier();\n      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {\n        let inputTileOffset = TILE_SIZE * local_id.y + k;\n        let weightTileOffset = TILE_SIZE * k + local_id.x;\n        valueQ += tileInput[inputTileOffset] * tileWeightQ[weightTileOffset];\n        valueK += tileInput[inputTileOffset] * tileWeightK[weightTileOffset];\n        valueV += tileInput[inputTileOffset] * tileWeightV[weightTileOffset];\n      }\n\n      workgroupBarrier();\n    }\n\n    let headOffset = (m * uniforms.N + n) % uniforms.head_size;\n    valueQ += bias[headOffset + biasOffsetQ];\n    valueK += bias[headOffset + biasOffsetK];\n    valueV += bias[headOffset + biasOffsetV];\n\n    let offset = workgroup_id.z * uniforms.M * uniforms.N;\n    if (m < uniforms.M && n < uniforms.N) {\n      let outputIdx = offset + m * uniforms.N + n;\n      output_q[outputIdx] = valueQ;\n      output_k[outputIdx] = valueK;\n      output_v[outputIdx] = valueV;\n    }\n  }`};return e.compute({name:"AttentionPrepare",shaderCache:{inputDependencies:["type","type","type"]},getRunData:()=>({outputs:[{dims:r,dataType:e.inputs[0].dataType,gpuDataType:0},{dims:r,dataType:e.inputs[0].dataType,gpuDataType:0},{dims:r,dataType:e.inputs[0].dataType,gpuDataType:0}],dispatchGroup:l,programUniforms:p}),getShaderSource:m},{inputs:a,outputs:[-1,-1,-1]})},Xa=(e,t)=>{let r=rl(e.inputs,t),[o,n,s]=il(e,r);return Qr(e,o,n,s,e.inputs[4],void 0,void 0,void 0,e.inputs[5],r,t)}});var sl,ul,dl,Ja,ei=q(()=>{"use strict";Kt();ie();_e();je();be();sl=(e,t)=>{if(!e||e.length!==5)throw new Error("BatchNormalization requires 5 inputs");let r=(o,n,s)=>{let u=n.length;if(u!==o.length)throw new Error(`${s}: num dimensions != ${u}`);n.forEach((l,a)=>{if(l!==o[a])throw new Error(`${s}: dim[${a}] do not match`)})};if(e[0].dims.length>1){let o=t.format==="NHWC"?t.spatial?e[0].dims.slice(-1):e[0].dims.slice(-1).concat(e[0].dims.slice(1,e[0].dims.length-1)):e[0].dims.slice(1,t.spatial?2:void 0);r(e[1].dims,o,"Invalid input scale"),r(e[2].dims,o,"Invalid input B"),r(e[3].dims,o,"Invalid input mean"),r(e[4].dims,o,"Invalid input var")}else r(e[1].dims,[1],"Invalid input scale"),r(e[2].dims,[1],"Invalid input B"),r(e[3].dims,[1],"Invalid input mean"),r(e[4].dims,[1],"Invalid input var")},ul=(e,t)=>{let{epsilon:r,spatial:o,format:n}=t,s=e[0].dims,u=o?Me(s[s.length-1]):1,l=n==="NHWC"&&s.length>1?u:1,a=z.size(s)/u,p=o,m=p?s.length:s,f=M("x",e[0].dataType,e[0].dims,u),b=M("scale",e[1].dataType,e[1].dims,l),_=M("bias",e[2].dataType,e[2].dims,l),y=M("inputMean",e[3].dataType,e[3].dims,l),$=M("inputVar",e[4].dataType,e[4].dims,l),I=F("y",e[0].dataType,m,u),C=()=>{let A="";if(o)A=`let cOffset = ${s.length===1?"0u":n==="NHWC"?`outputIndices[${s.length-1}] / ${u}`:"outputIndices[1]"};`;else if(n==="NCHW")A=`\n            ${I.indicesSet("outputIndices","0","0")}\n            let cOffset = ${I.indicesToOffset("outputIndices")};`;else{A=`var cIndices = ${b.type.indices}(0);\n                       cIndices[0] = outputIndices[${s.length-1}];`;for(let T=1;T<b.rank;T++)A+=`cIndices[${T}] = outputIndices[${T}];`;A+=`let cOffset = ${b.indicesToOffset("cIndices")};`}return A},v=A=>`\n  const epsilon = ${r};\n  ${A.registerUniform("outputSize","u32").declareVariables(f,b,_,y,$,I)}\n  ${A.mainStart()}\n  ${A.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n    var outputIndices = ${I.offsetToIndices(`global_idx * ${u}`)};\n    ${C()}\n    let scale = ${b.getByOffset("cOffset")};\n    let bias = ${_.getByOffset("cOffset")};\n    let inputMean = ${y.getByOffset("cOffset")};\n    let inputVar = ${$.getByOffset("cOffset")};\n    let x = ${f.getByOffset("global_idx")};\n    let value = (x - inputMean) * inverseSqrt(inputVar + epsilon) * scale + bias;\n    ${I.setByOffset("global_idx","value")}\n  }`;return{name:"BatchNormalization",shaderCache:{hint:`${t.epsilon}_${t.format}_${o}_${u}`,inputDependencies:p?["rank","type","type","type","type"]:void 0},getShaderSource:v,getRunData:()=>({outputs:[{dims:e[0].dims,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(a/64)},programUniforms:p?[{type:12,data:a},...j(s)]:[{type:12,data:a}]})}},dl=e=>$e(e),Ja=(e,t)=>{let{inputs:r,outputCount:o}=e,n=dl({...t,outputCount:o});if(qt.webgpu.validateInputContent&&sl(r,n),t.trainingMode)throw new Error("BatchNormalization trainingMode is not supported yet.");e.compute(ul(r,n))}});var ll,cl,ti,ri=q(()=>{"use strict";_e();be();ll=e=>{if(e[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![320,640,1280].includes(e[0].dims[2]))throw new Error("number of channels should be 320, 640 or 1280");if(e[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(e[0].dims[2]!==e[1].dims[0])throw new Error("last dimension of input and bias are not the same")},cl=e=>{let t=e[0].dims,r=e[0].dims[2],o=z.size(t)/4,n=e[0].dataType,s=M("input",n,t,4),u=M("bias",n,[r],4),l=M("residual",n,t,4),a=F("output",n,t,4);return{name:"BiasAdd",getRunData:()=>({outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(o/64)}}),getShaderSource:m=>`\n  const channels = ${r}u / 4;\n  ${m.declareVariables(s,u,l,a)}\n\n  ${m.mainStart()}\n    ${m.guardAgainstOutOfBoundsWorkgroupSizes(o)}\n    let value = ${s.getByOffset("global_idx")}\n      + ${u.getByOffset("global_idx % channels")} + ${l.getByOffset("global_idx")};\n    ${a.setByOffset("global_idx","value")}\n  }`}},ti=e=>{ll(e.inputs),e.compute(cl(e.inputs))}});var pl,Ee,ni,oi,ai,ii,si,ui,di,li,ci,ml,pi,mi,fi,hi,Xr,gi,Jr,yi,bi,wi,vi,$i,_i,xi,Si,Ci,Ii,Ai,Ti,Ei,Pi,Oi,ki,Ri,Bi,Ln,Fn,Di,Mi,zi,en=q(()=>{"use strict";ie();_e();je();be();pl=(e,t,r,o,n,s)=>{let u=Math.ceil(t/4),l="";typeof n=="string"?l=`${n}(a)`:l=n("a");let a=M("inputData",r,[u],4),p=F("outputData",o,[u],4);return`\n      ${e.registerUniform("vec_size","u32").declareVariables(a,p)}\n\n  ${s??""}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}\n\n    let a = ${a.getByOffset("global_idx")};\n    ${p.setByOffset("global_idx",l)}\n  }`},Ee=(e,t,r,o,n,s=e.dataType)=>({name:t,shaderCache:{hint:n,inputDependencies:["type"]},getShaderSource:u=>pl(u,z.size(e.dims),e.dataType,s,r,o),getRunData:u=>({outputs:[{dims:e.dims,dataType:s}],dispatchGroup:{x:Math.ceil(z.size(u[0].dims)/64/4)},programUniforms:[{type:12,data:Math.ceil(z.size(e.dims)/4)}]})}),ni=e=>{e.compute(Ee(e.inputs[0],"Abs","abs"))},oi=e=>{e.compute(Ee(e.inputs[0],"Acos","acos"))},ai=e=>{e.compute(Ee(e.inputs[0],"Acosh","acosh"))},ii=e=>{e.compute(Ee(e.inputs[0],"Asin","asin"))},si=e=>{e.compute(Ee(e.inputs[0],"Asinh","asinh"))},ui=e=>{e.compute(Ee(e.inputs[0],"Atan","atan"))},di=e=>{e.compute(Ee(e.inputs[0],"Atanh","atanh"))},li=e=>$e(e),ci=(e,t)=>{let r;switch(t.to){case 10:r="vec4<f16>";break;case 1:r="vec4<f32>";break;case 12:r="vec4<u32>";break;case 6:r="vec4<i32>";break;case 9:r="vec4<bool>";break;default:throw new RangeError(`not supported type (specified in attribute \'to\' from \'Cast\' operator): ${t.to}`)}e.compute(Ee(e.inputs[0],"Cast",r,void 0,t.cacheKey,t.to))},ml=e=>{let t=e.length>=2&&e[1].data!==0?e[1].getFloat32Array()[0]:Fr,r=e.length>=3&&e[2].data!==0?e[2].getFloat32Array()[0]:qr;return $e({min:t,max:r})},pi=(e,t)=>{let r=e.inputs.length===1?t:ml(e.inputs),o=et(e.inputs[0].dataType);e.compute(Ee(e.inputs[0],"Clip",n=>`clamp(${n}, clip_min_, clip_max_)`,`\n    const clip_min_: vec4<${o}> = vec4(${o}(${r.min}));\n    const clip_max_: vec4<${o}> = vec4(${o}(${r.max}));\n`,r.cacheKey),{inputs:[0]})},mi=e=>{e.compute(Ee(e.inputs[0],"Ceil","ceil"))},fi=e=>{e.compute(Ee(e.inputs[0],"Cos","cos"))},hi=e=>{e.compute(Ee(e.inputs[0],"Cosh","cosh"))},Xr=e=>$e(e),gi=(e,t)=>{let r=et(e.inputs[0].dataType);e.compute(Ee(e.inputs[0],"Elu",o=>`elu_vf32(${o})`,`\n  const elu_alpha_ = ${r}(${t.alpha});\n\n  fn elu_f32(a: ${r}) -> ${r} {\n  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);\n  }\n\n  fn elu_vf32(v: vec4<${r}>) -> vec4<${r}> {\n  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));\n  }`,t.cacheKey))},Jr=(e="f32")=>`\nconst r0: ${e} = 0.3275911;\nconst r1: ${e} = 0.254829592;\nconst r2: ${e} = -0.284496736;\nconst r3: ${e} = 1.421413741;\nconst r4: ${e} = -1.453152027;\nconst r5: ${e} = 1.061405429;\n\nfn erf_vf32(v: vec4<${e}>) -> vec4<${e}> {\n  let absv = abs(v);\n  let x = 1.0 / (1.0 + r0 * absv);\n  return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));\n}`,yi=e=>{let t=et(e.inputs[0].dataType);e.compute(Ee(e.inputs[0],"Erf",r=>`erf_vf32(${r})`,Jr(t)))},bi=e=>{e.compute(Ee(e.inputs[0],"Exp","exp"))},wi=e=>{e.compute(Ee(e.inputs[0],"Floor","floor"))},vi=e=>{let t=et(e.inputs[0].dataType);e.compute(Ee(e.inputs[0],"Gelu",r=>`0.5 * ${r} * (1.0 + erf_vf32(${r} * 0.7071067811865475))`,Jr(t)))},$i=(e,t)=>{let r=et(e.inputs[0].dataType);e.compute(Ee(e.inputs[0],"LeakyRelu",o=>`select(leaky_relu_alpha_ * ${o}, ${o}, ${o} >= vec4<${r}>(0.0))`,`const leaky_relu_alpha_ = ${r}(${t.alpha});`,t.cacheKey))},_i=e=>{e.compute(Ee(e.inputs[0],"Not",t=>`!${t}`))},xi=e=>{e.compute(Ee(e.inputs[0],"Neg",t=>`-${t}`))},Si=e=>{e.compute(Ee(e.inputs[0],"Reciprocal",t=>`1.0/${t}`))},Ci=e=>{let t=et(e.inputs[0].dataType);e.compute(Ee(e.inputs[0],"Relu",r=>`select(vec4<${t}>(0.0), ${r}, ${r} > vec4<${t}>(0.0))`))},Ii=e=>{e.compute(Ee(e.inputs[0],"Sigmoid",t=>`(1.0 / (1.0 + exp(-${t})))`))},Ai=e=>$e(e),Ti=(e,t)=>{let r=et(e.inputs[0].dataType);e.compute(Ee(e.inputs[0],"HardSigmoid",o=>`max(vec4<${r}>(0.0), min(vec4<${r}>(1.0), ${t.alpha} * ${o} + vec4<${r}>(${t.beta})))`,void 0,t.cacheKey))},Ei=e=>{e.compute(Ee(e.inputs[0],"Sin","sin"))},Pi=e=>{e.compute(Ee(e.inputs[0],"Sinh","sinh"))},Oi=e=>{e.compute(Ee(e.inputs[0],"Sqrt","sqrt"))},ki=e=>{e.compute(Ee(e.inputs[0],"Tan","tan"))},Ri=e=>`sign(${e}) * (1 - exp(-2 * abs(${e}))) / (1 + exp(-2 * abs(${e})))`,Bi=e=>{e.compute(Ee(e.inputs[0],"Tanh",Ri))},Ln=(e="f32")=>`\nconst fast_gelu_a: ${e} = 0.5;\nconst fast_gelu_b: ${e} = 0.7978845608028654;\nconst fast_gelu_c: ${e} = 0.035677408136300125;\n\nfn tanh_v(v: vec4<${e}>) -> vec4<${e}> {\n  return ${Ri("v")};\n}\n`,Fn=e=>`(fast_gelu_a + fast_gelu_a * tanh_v(${e} * (fast_gelu_c * ${e} * ${e} + fast_gelu_b))) * ${e}`,Di=e=>{let t=et(e.inputs[0].dataType);e.compute(Ee(e.inputs[0],"FastGelu",Fn,Ln(t),void 0,e.inputs[0].dataType))},Mi=(e,t)=>{let r=et(e.inputs[0].dataType);return e.compute(Ee(e.inputs[0],"ThresholdedRelu",o=>`select(vec4<${r}>(0.0), ${o}, ${o} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_ = vec4<${r}>(${t.alpha});`,t.cacheKey)),0},zi=e=>{e.compute(Ee(e.inputs[0],"Log","log"))}});var fl,hl,Vi,Ni=q(()=>{"use strict";_e();be();en();fl=e=>{if(e[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![2560,5120,10240].includes(e[0].dims[2]))throw new Error("hidden state should be 2560, 5120 or 10240");if(e[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(e[0].dims[2]!==e[1].dims[0])throw new Error("last dimension of input and bias are not the same")},hl=e=>{let t=e[0].dims.slice();t[2]=t[2]/2;let r=M("input",e[0].dataType,e[0].dims,4),o=M("bias",e[0].dataType,[e[0].dims[2]],4),n=F("output",e[0].dataType,t,4),s=z.size(t)/4,u=Pe(e[0].dataType);return{name:"BiasSplitGelu",getRunData:()=>({outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(s/64)}}),getShaderSource:a=>`\n  const M_SQRT2 = sqrt(2.0);\n  const halfChannels = ${e[0].dims[2]/4/2}u;\n\n  ${a.declareVariables(r,o,n)}\n\n  ${Jr(u)}\n\n  ${a.mainStart()}\n    ${a.guardAgainstOutOfBoundsWorkgroupSizes(s)}\n    let biasIdx = global_idx % halfChannels;\n    let batchIndex = global_idx / halfChannels;\n    let inputOffset = biasIdx + batchIndex * halfChannels * 2;\n    let valueLeft = input[inputOffset] + bias[biasIdx];\n    let valueRight = input[inputOffset + halfChannels] + bias[biasIdx + halfChannels];\n    let geluRight = valueRight * 0.5 * (erf_vf32(valueRight / M_SQRT2) + 1);\n\n    ${n.setByOffset("global_idx","valueLeft * geluRight")}\n  }`}},Vi=e=>{fl(e.inputs),e.compute(hl(e.inputs))}});var gl,yl,bt,Wi,Gi,Hi,Li,Fi,qi,Ki,ji,Yi,Zi,Qi=q(()=>{"use strict";ie();_e();be();gl=(e,t,r,o,n,s,u,l,a,p,m,f)=>{let b,_;typeof l=="string"?b=_=(v,A)=>`${l}((${v}),(${A}))`:typeof l=="function"?b=_=l:(b=l.scalar,_=l.vector);let y=F("outputData",m,o.length,4),$=M("aData",a,t.length,4),I=M("bData",p,r.length,4),C;if(n)if(s){let v=z.size(t)===1,A=z.size(r)===1,T=t.length>0&&t[t.length-1]%4===0,D=r.length>0&&r[r.length-1]%4===0;v||A?C=y.setByOffset("global_idx",_(v?`${$.type.value}(${$.getByOffset("0")}.x)`:$.getByOffset("global_idx"),A?`${I.type.value}(${I.getByOffset("0")}.x)`:I.getByOffset("global_idx"))):C=`\n            let outputIndices = ${y.offsetToIndices("global_idx * 4u")};\n            let offsetA = ${$.broadcastedIndicesToOffset("outputIndices",y)};\n            let offsetB = ${I.broadcastedIndicesToOffset("outputIndices",y)};\n            ${y.setByOffset("global_idx",_(u||T?$.getByOffset("offsetA / 4u"):`${$.type.value}(${$.getByOffset("offsetA / 4u")}[offsetA % 4u])`,u||D?I.getByOffset("offsetB / 4u"):`${I.type.value}(${I.getByOffset("offsetB / 4u")}[offsetB % 4u])`))}\n          `}else C=y.setByOffset("global_idx",_($.getByOffset("global_idx"),I.getByOffset("global_idx")));else{if(!s)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");let v=(A,T,D="")=>{let U=`aData[indexA${T}][componentA${T}]`,V=`bData[indexB${T}][componentB${T}]`;return`\n            let outputIndices${T} = ${y.offsetToIndices(`global_idx * 4u + ${T}u`)};\n            let offsetA${T} = ${$.broadcastedIndicesToOffset(`outputIndices${T}`,y)};\n            let offsetB${T} = ${I.broadcastedIndicesToOffset(`outputIndices${T}`,y)};\n            let indexA${T} = offsetA${T} / 4u;\n            let indexB${T} = offsetB${T} / 4u;\n            let componentA${T} = offsetA${T} % 4u;\n            let componentB${T} = offsetB${T} % 4u;\n            ${A}[${T}] = ${D}(${b(U,V)});\n          `};m===9?C=`\n            var data = vec4<u32>(0);\n            ${v("data",0,"u32")}\n            ${v("data",1,"u32")}\n            ${v("data",2,"u32")}\n            ${v("data",3,"u32")}\n            outputData[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:C=`\n            ${v("outputData[global_idx]",0)}\n            ${v("outputData[global_idx]",1)}\n            ${v("outputData[global_idx]",2)}\n            ${v("outputData[global_idx]",3)}\n          `}return`\n        ${e.registerUniform("vec_size","u32").declareVariables($,I,y)}\n\n        ${f??""}\n\n        ${e.mainStart()}\n        ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}\n        ${C}\n      }`},yl=(e,t,r,o,n,s,u=r.dataType)=>{let l=!z.areEqual(r.dims,o.dims),a=r.dims,p=z.size(r.dims),m=!1,f=!1,b=[l];if(l){let _=mt.calcShape(r.dims,o.dims,!1);if(!_)throw new Error("Can\'t perform binary op on the given tensors");a=_,p=z.size(a);let y=z.size(r.dims)===1,$=z.size(o.dims)===1,I=r.dims.length>0&&r.dims[r.dims.length-1]%4===0,C=o.dims.length>0&&o.dims[o.dims.length-1]%4===0;b.push(y),b.push($),b.push(I),b.push(C);let v=1;for(let A=1;A<a.length;A++){let T=r.dims[r.dims.length-A]??1,D=o.dims[o.dims.length-A]??1;if(T===D)v*=T;else break}v%4===0?(f=!0,m=!0):(y||$||I||C)&&(m=!0)}else m=!0;return b.push(m),{name:e,shaderCache:{hint:t+b.map(_=>_.toString()).join("_"),inputDependencies:["rank","rank"]},getShaderSource:_=>gl(_,r.dims,o.dims,a,m,l,f,n,r.dataType,o.dataType,u,s),getRunData:()=>({outputs:[{dims:a,dataType:u}],dispatchGroup:{x:Math.ceil(p/64/4)},programUniforms:[{type:12,data:Math.ceil(z.size(a)/4)},...j(r.dims,o.dims,a)]})}},bt=(e,t,r,o,n,s)=>{e.compute(yl(t,n??"",e.inputs[0],e.inputs[1],r,o,s))},Wi=e=>{bt(e,"Add",(t,r)=>`${t}+${r}`)},Gi=e=>{bt(e,"Div",(t,r)=>`${t}/${r}`)},Hi=e=>{bt(e,"Equal",{scalar:(t,r)=>`u32(${t}==${r})`,vector:(t,r)=>`vec4<u32>(${t}==${r})`},void 0,void 0,9)},Li=e=>{bt(e,"Mul",(t,r)=>`${t}*${r}`)},Fi=e=>{let t=M("input",e.inputs[0].dataType,e.inputs[0].dims).type.value;bt(e,"Pow",{scalar:(o,n)=>`pow_custom(${o},${n})`,vector:(o,n)=>`pow_vector_custom(${o},${n})`},`\n    fn pow_custom(a : ${t}, b : ${t}) -> ${t} {\n      if (b == ${t}(0.0)) {\n        return ${t}(1.0);\n      } else if (a < ${t}(0.0) && f32(b) != floor(f32(b))) {\n        return ${t}(pow(f32(a), f32(b))); // NaN\n      }\n      return select(sign(a), ${t}(1.0), round(f32(abs(b) % ${t}(2.0))) != 1.0) * ${t}(${t==="i32"?"round":""}(pow(f32(abs(a)), f32(b))));\n    }\n    fn pow_vector_custom(a : vec4<${t}>, b : vec4<${t}>) -> vec4<${t}> {\n      // TODO: implement vectorized pow\n      return vec4<${t}>(pow_custom(a.x, b.x), pow_custom(a.y, b.y), pow_custom(a.z, b.z), pow_custom(a.w, b.w));\n    }\n      `)},qi=e=>{bt(e,"Sub",(t,r)=>`${t}-${r}`)},Ki=e=>{bt(e,"Greater",{scalar:(t,r)=>`u32(${t}>${r})`,vector:(t,r)=>`vec4<u32>(${t}>${r})`},void 0,void 0,9)},ji=e=>{bt(e,"Less",{scalar:(t,r)=>`u32(${t}<${r})`,vector:(t,r)=>`vec4<u32>(${t}<${r})`},void 0,void 0,9)},Yi=e=>{bt(e,"GreaterOrEqual",{scalar:(t,r)=>`u32(${t}>=${r})`,vector:(t,r)=>`vec4<u32>(${t}>=${r})`},void 0,void 0,9)},Zi=e=>{bt(e,"LessOrEqual",{scalar:(t,r)=>`u32(${t}<=${r})`,vector:(t,r)=>`vec4<u32>(${t}<=${r})`},void 0,void 0,9)}});var wl,vl,$l,_l,Xi,Ji,es=q(()=>{"use strict";ie();_e();je();be();wl=(e,t)=>{if(!e||e.length<1)throw new Error("too few inputs");let r=0,o=e[r],n=o.dataType,s=o.dims.length;e.forEach((u,l)=>{if(l!==r){if(u.dataType!==n)throw new Error("input tensors should be one type");if(u.dims.length!==s)throw new Error("input tensors should have the same shape");u.dims.forEach((a,p)=>{if(p!==t&&a!==o.dims[p])throw new Error("non concat dimensions must match")})}})},vl=(e,t)=>`\n  fn calculateInputIndex(index: u32) -> u32 {\n    let sizeInConcatAxis = array<u32, ${e}u>(${t});\n    for (var i: u32 = 0u; i < ${e}; i += 1u ) {\n      if (index < sizeInConcatAxis[i]) {\n        return i;\n      }\n    }\n    return ${e}u;\n  }`,$l=(e,t)=>{let r=e.length,o=[];for(let n=0;n<r;++n){let s=t.setByOffset("global_idx",e[n].getByIndices("indices"));r===1?o.push(s):n===0?o.push(`if (inputIndex == ${n}u) { ${s} }`):n===r-1?o.push(`else { ${s} }`):o.push(`else if (inputIndex == ${n}) { ${s} }`)}return o.join(`\n`)},_l=(e,t,r,o)=>{let n=z.size(r),s=new Array(e.length),u=new Array(e.length),l=0,a=[],p=[],m=[{type:12,data:n}];for(let $=0;$<e.length;++$)l+=e[$].dims[t],s[$]=l,p.push(e[$].dims.length),u[$]=M(`input${$}`,o,p[$]),a.push("rank"),m.push({type:12,data:s[$]});for(let $=0;$<e.length;++$)m.push(...j(e[$].dims));m.push(...j(r));let f=F("output",o,r.length),b=f.indicesGet("indices",t),_=Array.from(Array(s.length).keys()).map($=>`uniforms.sizeInConcatAxis${$}`).join(","),y=$=>`\n\n  ${(()=>{$.registerUniform("outputSize","u32");for(let I=0;I<e.length;I++)$.registerUniform(`sizeInConcatAxis${I}`,"u32");return $.declareVariables(...u,f)})()}\n\n  ${vl(s.length,_)}\n\n  ${$.mainStart()}\n    ${$.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n\n    var indices = ${f.offsetToIndices("global_idx")};\n\n    let inputIndex = calculateInputIndex(${b});\n    if (inputIndex != 0u) {\n      let sizeInConcatAxis = array<u32, ${s.length}u>(${_});\n      ${b} -= sizeInConcatAxis[inputIndex - 1u];\n    }\n\n    ${$l(u,f)}\n  }`;return{name:"Concat",shaderCache:{hint:`${t}`,inputDependencies:a},getRunData:()=>({outputs:[{dims:r,dataType:o}],dispatchGroup:{x:Math.ceil(n/64)},programUniforms:m}),getShaderSource:y}},Xi=(e,t)=>{let r=e.inputs,o=r[0].dims,n=z.normalizeAxis(t.axis,o.length);wl(r,n);let s=o.slice();s[n]=r.reduce((l,a)=>l+(a.dims.length>n?a.dims[n]:0),0);let u=r.filter(l=>z.size(l.dims)>0);e.compute(_l(u,n,s,r[0].dataType),{inputs:u})},Ji=e=>$e({axis:e.axis})});var ut,dt,lt,tn,Ot=q(()=>{"use strict";ie();_e();ut=(e,t,r="f32")=>{switch(e.activation){case"Relu":return`value = max(value, ${t}(0.0));`;case"Sigmoid":return`value = (${t}(1.0) / (${t}(1.0) + exp(-value)));`;case"Clip":return`value = clamp(value, ${t}(${r}(uniforms.clip_min)), ${t}(${r}(uniforms.clip_max)));`;case"HardSigmoid":return`value = max(${t}(0.0), min(${t}(1.0), ${r}(uniforms.alpha) * value + ${r}(uniforms.beta)));`;case"LeakyRelu":return`value = select(${r}(uniforms.alpha) * value, value, value >= ${t}(0.0));`;case"":return"";default:throw new Error(`Unsupported activation ${e.activation}`)}},dt=(e,t)=>{e.activation==="Clip"?t.push({type:1,data:e.clipMax},{type:1,data:e.clipMin}):e.activation==="HardSigmoid"?t.push({type:1,data:e.alpha},{type:1,data:e.beta}):e.activation==="LeakyRelu"&&t.push({type:1,data:e.alpha})},lt=(e,t)=>{e.activation==="Clip"?t.push({name:"clip_max",type:"f32"},{name:"clip_min",type:"f32"}):e.activation==="HardSigmoid"?t.push({name:"alpha",type:"f32"},{name:"beta",type:"f32"}):e.activation==="LeakyRelu"&&t.push({name:"alpha",type:"f32"})},tn=e=>{let t=e?.activation||"";if(t==="HardSigmoid"){let[r,o]=e?.activation_params||[.2,.5];return{activation:t,alpha:r,beta:o}}else if(t==="Clip"){let[r,o]=e?.activation_params||[Fr,qr];return{activation:t,clipMax:o,clipMin:r}}else if(t==="LeakyRelu"){let[r]=e?.activation_params||[.01];return{activation:t,alpha:r}}return{activation:t}}});var Ze,rn,nn=q(()=>{"use strict";Ze=(e,t)=>{switch(e){case 1:return t;case 2:return`vec2<${t}>`;case 3:return`vec3<${t}>`;case 4:return`vec4<${t}>`;default:throw new Error(`${e}-component is not supported.`)}},rn=e=>`\n      ${e?"value = value + getBiasByOutputCoords(coords);":""}\n      `});var on,qn=q(()=>{"use strict";on=e=>`\nfn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\n}\nfn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n    i32(${e}.x), i32(${e}.y), i32(${e}.z), 1));\n}\n`});var xl,Sl,gr,ts,Cl,yr,Il,an,br=q(()=>{"use strict";ie();_e();be();Ot();nn();xl=(e,t)=>e?`\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          kStart + inputRow,\n          globalRowStart / innerElementSize + inputCol${t?", batchIndices":""});\n        `:`\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          globalRow + innerRow,\n          kStart / innerElementSize + inputCol${t?", batchIndices":""});\n        `,Sl=(e,t)=>e?`\n        let ACached0 = mm_Asub[k * innerElementSize][localRow];\n        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];\n        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];\n        ${t===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          acc[i] = BCached0 * ACached0[i] + acc[i];\n          acc[i] = BCached1 * ACached1[i] + acc[i];\n          acc[i] = BCached2 * ACached2[i] + acc[i];\n          ${t===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}\n        }`:`\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          let ACached = mm_Asub[tileRow + i][k];\n          acc[i] = BCached0 * ACached.x + acc[i];\n          acc[i] = BCached1 * ACached.y + acc[i];\n          acc[i] = BCached2 * ACached.z + acc[i];\n          ${t===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}\n        }`,gr=(e,t,r="f32",o,n=!1,s=32,u=!1,l=32)=>{let a=t[1]*e[1],p=t[0]*e[0],m=n?a:s,f=n?s:a,b=m/t[0],_=s/t[1];if(!((n&&b===4&&e[1]===4||!n&&(b===3||b===4))&&m%t[0]===0&&s%t[1]===0&&e[0]===4))throw new Error(`If transposeA ${n} is true, innerElementSize ${b} and workPerThread[1] ${e[1]} must be 4.\n      Otherwise, innerElementSize ${b} must be 3 or 4.\n  tileAWidth ${m} must be divisible by workgroupSize[0]${t[0]}. tileInner ${s} must be divisible by workgroupSize[1] ${t[1]}. colPerThread ${e[0]} must be 4.`);return`\nvar<workgroup> mm_Asub: array<array<vec${b}<${r}>, ${m/b}>, ${f}>;\nvar<workgroup> mm_Bsub: array<array<vec4<${r}>, ${p/e[0]}>, ${s}>;\n\nconst rowPerThread = ${e[1]};\nconst colPerThread = ${e[0]};\nconst innerElementSize = ${b};\nconst tileInner = ${s};\n\n@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n  let localRow = i32(localId.y);\n  let tileRow = localRow * rowPerThread;\n  let tileCol = i32(localId.x);\n\n  let globalRow =i32(globalId.y) * rowPerThread;\n  let globalCol = i32(globalId.x);\n  let batch = ${u?"0":"i32(globalId.z)"};\n  ${o?`let batchIndices = ${o.offsetToIndices("u32(batch)")};`:""}\n  let globalRowStart = i32(workgroupId.y) * ${a};\n\n  let num_tiles = ${u?`${Math.ceil(l/s)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};\n  var kStart = ${u?`i32(globalId.z) * ${l}`:"0"};\n\n  var acc: array<vec4<${r}>, rowPerThread>;\n\n  // Loop over shared dimension.\n  let tileRowB = localRow * ${_};\n  for (var t = 0; t < num_tiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let inputRow = tileRow + innerRow;\n          let inputCol = tileCol;\n          ${xl(n,o)}\n      }\n\n      // Load one tile of B into local memory.\n      for (var innerRow = 0; innerRow < ${_}; innerRow = innerRow + 1) {\n          let inputRow = tileRowB + innerRow;\n          let inputCol = tileCol;\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol${o?", batchIndices":""});\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {\n          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];\n          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];\n          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];\n          ${b===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}\n\n          ${Sl(n,b)}\n      }\n\n      workgroupBarrier();\n  }\n\n  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);\n  }\n}`},ts=(e,t)=>e?`\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              kStart + inputRow,\n              globalRowStart + inputCol${t?", batchIndices":""});\n            `:`\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              globalRowStart + inputRow,\n              kStart + inputCol${t?", batchIndices":""});\n            `,Cl=e=>e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];",yr=(e,t,r="f32",o,n=!1,s=32,u=!1,l=32,a=!1)=>{let p=e[1]*t[1],m=e[0]*t[0],f=n?p:s,b=n?s:p;if(!(b%t[1]===0&&f%t[0]===0&&s%t[1]===0))throw new Error(`tileAHight ${b} must be divisible by workgroupSize[1]${t[1]}, tileAWidth ${f} must be divisible by workgroupSize[0]${t[0]}, tileInner ${s} must be divisible by workgroupSize[1]${t[1]}`);let _=b/t[1],y=f/t[0],$=s/t[1],I=a?`\n    let localRow = i32(localId.y);\n    let localCol = i32(localId.x);\n    let globalRowStart = i32(workgroupId.y) * ${p};\n    let globalColStart = i32(workgroupId.x) * ${m};\n\n    // Loop over shared dimension.\n    for (var t = 0; t < num_tiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var inputRow = localRow; inputRow < ${b}; inputRow = inputRow + ${t[1]}) {\n        for (var inputCol = localCol; inputCol < ${f}; inputCol = inputCol + ${t[0]}) {\n          ${ts(n,o)}\n        }\n      }\n      // Load one tile of B into local memory.\n      for (var inputRow = localRow; inputRow < ${s}; inputRow = inputRow + ${t[1]}) {\n            for (var inputCol = localCol; inputCol < ${m}; inputCol = inputCol + ${t[0]}) {\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n            kStart + inputRow,\n            globalColStart + inputCol${o?", batchIndices":""});\n        }\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      var BCached : array<${r}, colPerThread>;\n      for (var k = 0; k < tileInner; k = k + 1) {\n        for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n          BCached[inner] = mm_Bsub[k][localCol + inner * ${t[0]}];\n        }\n        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let ACached = ${n?`mm_Asub[k][localRow + innerRow * ${t[1]}];`:`mm_Asub[localRow + innerRow * ${t[1]}][k];`}\n          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n            acc[innerRow][innerCol] = acc[innerRow][innerCol] +\n                ACached * BCached[innerCol];\n          }\n        }\n      }\n      workgroupBarrier();\n    }\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      let gRow = globalRowStart + localRow + innerRow * ${t[1]};\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        let gCol = globalColStart + localCol + innerCol * ${t[0]};\n        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);\n      }\n    }\n    `:`\nlet tileRow = i32(localId.y) * rowPerThread;\nlet tileCol = i32(localId.x) * colPerThread;\n\nlet globalRow = i32(globalId.y) * rowPerThread;\nlet globalCol = i32(globalId.x) * colPerThread;\nlet globalRowStart = i32(workgroupId.y) * ${p};\n\nlet tileRowA = i32(localId.y) * ${_};\nlet tileColA = i32(localId.x) * ${y};\nlet tileRowB = i32(localId.y) * ${$};\n// Loop over shared dimension.\nfor (var t = 0; t < num_tiles; t = t + 1) {\n  // Load one tile of A into local memory.\n  for (var innerRow = 0; innerRow < ${_}; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < ${y}; innerCol = innerCol + 1) {\n      let inputRow = tileRowA + innerRow;\n      let inputCol = tileColA + innerCol;\n      ${ts(n,o)}\n    }\n  }\n\n  // Load one tile of B into local memory.\n  for (var innerRow = 0; innerRow < ${$}; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n      let inputRow = tileRowB + innerRow;\n      let inputCol = tileCol + innerCol;\n      mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n        kStart + inputRow,\n        globalCol + innerCol${o?", batchIndices":""});\n    }\n  }\n  kStart = kStart + tileInner;\n  workgroupBarrier();\n\n  // Compute acc values for a single thread.\n  var BCached : array<${r}, colPerThread>;\n  for (var k = 0; k < tileInner; k = k + 1) {\n    for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n      BCached[inner] = mm_Bsub[k][tileCol + inner];\n    }\n\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      ${Cl(n)}\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];\n      }\n    }\n  }\n\n  workgroupBarrier();\n}\n\nfor (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n    mm_write(batch, globalRow + innerRow, globalCol + innerCol,\n        acc[innerRow][innerCol]);\n  }\n}\n`;return`\n  var<workgroup> mm_Asub : array<array<${r}, ${f}>, ${b}>;\n  var<workgroup> mm_Bsub : array<array<${r}, ${m}>, ${s}>;\n  const rowPerThread = ${e[1]};\n  const colPerThread = ${e[0]};\n  const tileInner = ${s};\n\n@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n    let batch = ${u?"0":"i32(globalId.z)"};\n    ${o?`let batchIndices = ${o.offsetToIndices("u32(batch)")};`:""}\n    let num_tiles = ${u?`${Math.ceil(l/s)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};\n    var kStart = ${u?`i32(globalId.z) * ${l}`:"0"};\n\n    var acc : array<array<${r}, colPerThread>, rowPerThread>;\n\n    // Without this initialization strange values show up in acc.\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = 0.0;\n      }\n    }\n    ${I}\n  }\n`},Il=(e,t,r,o,n,s=!1)=>{let[u,l,a]=n,[p,m,f,b]=o,_=jt(u,a),y=jt(l,a),$=Pe(o[0].type.tensor),I=()=>{let A=m.rank,T=p.rank,D=`var aIndices: ${m.type.indices};`;for(let U=A-2-1,V=T-1;U>=0;U--,V--)D+=`\naIndices[${U}] = ${T>1?`batchIndices[${V}]`:"batchIndices"};`;return _.forEach(U=>{D+=`\naIndices[${U}] = 0;`}),D+=`\naIndices[${A-2}] = u32(row);\n                   aIndices[${A-1}] = u32(colIn);`,D},C=()=>{let A=f.rank,T=p.rank,D=`var bIndices: ${f.type.indices};`;for(let U=A-2-1,V=T-1;U>=0;U--,V--)D+=`\nbIndices[${U}] = ${T>1?`batchIndices[${V}]`:"batchIndices"};`;return y.forEach(U=>{D+=`\nbIndices[${U}] = 0;`}),D+=`\nbIndices[${A-2}] = u32(row);\n                   bIndices[${A-1}] = u32(colIn);`,D};return`\n    fn mm_readA(batch: i32, row: i32, colIn: i32, batchIndices: ${p.type.indices}) -> ${Ze(e,$)} {\n      var value = ${Ze(e,$)}(0.0);\n      let col = colIn * ${e};\n      if(row < uniforms.dim_a_outer && col < uniforms.dim_inner)\n      {\n        ${I()}\n        value = ${m.getByIndices("aIndices")};\n      }\n      return value;\n    }\n\n    fn mm_readB(batch: i32, row: i32, colIn: i32, batchIndices: ${p.type.indices}) -> ${Ze(e,$)} {\n      var value = ${Ze(e,$)}(0.0);\n      let col = colIn * ${e};\n      if(row < uniforms.dim_inner && col < uniforms.dim_b_outer)\n      {\n        ${C()}\n        value = ${f.getByIndices("bIndices")};\n      }\n      return value;\n    }\n\n    fn mm_write(batch: i32, row: i32, colIn: i32, valueIn: ${Ze(e,$)}) {\n      let col = colIn * ${e};\n      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {\n        var value = valueIn;\n        let coords = vec3<i32>(batch, row, colIn);\n        ${t?`value = value + ${s?"bias[colIn]":`${Ze(e,$)}(bias[row])`};`:""}\n        ${r}\n        ${b.setByIndices("vec3<u32>(coords)","value")}\n      }\n    }\n    `},an=(e,t,r,o,n=!1)=>{let s=e[0].dims,u=e[1].dims,l=s.slice(0,-2),a=u.slice(0,-2),p=o?o.slice(0,-2):r.slice(0,-2),m=z.size(p),f=s[s.length-2],b=s[s.length-1],_=u[u.length-1],y=b%4===0&&_%4===0,$=f<=8?[4,1,1]:[4,4,1],I=[8,8,1],C=[Math.ceil(_/I[0]/$[0]),Math.ceil(f/I[1]/$[1]),Math.ceil(m/I[2]/$[2])],v=y?4:1,A=[...l,f,b/v],T=A.length,D=[...a,b,_/v],U=D.length,V=[m,f,_/v],H=[{type:6,data:f},{type:6,data:_},{type:6,data:b}];dt(t,H),H.push(...j(p,A,D));let R=["rank","rank"],L=e.length>2;L&&(H.push(...j(e[2].dims)),R.push("rank")),H.push(...j(V));let pe=Ie=>{let we=p.length,ne=jr("batchDims",e[0].dataType,we,1),ze=Pe(e[0].dataType),Q=M("a",e[0].dataType,T,v),xe=M("b",e[1].dataType,U,v),me=F("result",e[0].dataType,V.length,v),ue=[Q,xe];if(L){let G=n?v:1;ue.push(M("bias",e[2].dataType,e[2].dims.length,G))}let se=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"}];lt(t,se);let he=Pe(me.type.tensor),Ae=ut(t,me.type.value,he),He=Il(v,L,Ae,[ne,Q,xe,me],[l,a,p],n);return`\n  ${Ie.registerUniforms(se).registerInternalVariables(ne).declareVariables(...ue,me)}\n  ${He}\n  ${y?gr($,I,ze,ne):yr($,I,ze,ne)}\n                   `};return{name:"MatMul",shaderCache:{hint:`${$};${t.activation};${y};${n}`,inputDependencies:R},getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:C[0],y:C[1],z:C[2]},programUniforms:H}),getShaderSource:pe}}});var Al,rs,ns=q(()=>{"use strict";ie();Pt();be();Ot();nn();qn();br();Al=(e,t,r,o,n=!1,s,u=4,l=4,a=4,p="f32")=>{let m=L=>{switch(L){case 1:return"resData = x[xIndex];";case 3:return`resData = vec3<${p}>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);`;case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${L} is not supported.`)}},f=L=>{switch(L){case 1:return"return w[row * i32(uniforms.w_shape[3]) + colIn];";case 4:return"return w[row * i32(uniforms.w_shape[3]) / 4 + colIn];";default:throw new Error(`innerElementSize ${L} is not supported.`)}},b=e?`\n    let coord = vec4<i32>(batch, xRow, xCol, xCh);\n    `:`\n    let coord = vec4<i32>(batch, xCh, xRow, xCol);\n    `,_=e?`\n    let coords = vec4<i32>(\n      batch,\n      row / outWidth,\n      row % outWidth,\n      col);\n    `:`\n    let coords = vec4<i32>(\n      batch,\n      row,\n      col / outWidth,\n      col % outWidth);\n    `,y=e?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",$=e?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",I=e?"row":"col",C=e?"col":"row",v=`\n    let inChannels = i32(uniforms.w_shape[2]);\n    let outWidth = ${e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};\n    let outRow = ${I} / outWidth;\n    let outCol = ${I} % outWidth;\n\n    let WRow = ${C} / (i32(uniforms.w_shape[1]) * inChannels);\n    let WCol = ${C} / inChannels % i32(uniforms.w_shape[1]);\n    let xRow = outRow * uniforms.stride[0] + uniforms.dilation[0] * WRow - uniforms.pad[0];\n    let xCol = outCol * uniforms.stride[1] + uniforms.dilation[1] * WCol - uniforms.pad[1];\n    let xCh = ${C} % inChannels;\n    var resData = ${Ze(u,p)}(0.0);\n    // The bounds checking is always needed since we use it to pad zero for\n    // the \'same\' padding type.\n    if (xRow >= 0 && xRow < ${y} && xCol >= 0 && xCol < ${$}) {\n      ${b}\n      let xIndex = getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape));\n      ${m(u)}\n    }\n    return resData;`,A=e?t&&o?`\n    let col = colIn * ${u};\n    ${v}`:`\n    let col = colIn * ${u};\n    if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {\n      ${v}\n    }\n    return ${Ze(u,p)}(0.0);`:o&&r?`\n    let col = colIn * ${u};\n    ${v}`:`\n    let col = colIn * ${u};\n    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {\n      ${v}\n    }\n    return ${Ze(u,p)}(0.0);`,T=`${f(l)}`,D=Ze(a,p),U=e?Ze(u,p):Ze(l,p),V=e?Ze(l,p):Ze(u,p),H=ut(s,D,p);return`\n    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${U} {\n      ${e?A:T}\n    }\n\n    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${V} {\n      ${e?T:A}\n    }\n\n    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${D}) {\n      let col = colIn * ${a};\n      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer)\n      {\n      var value = valueIn;\n      let outWidth = ${e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};\n      ${_}\n      ${rn(n)}\n      ${H}\n      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n      }\n    }`},rs=(e,t,r,o,n,s,u,l)=>{let a=t.format==="NHWC",p=a?e[0].dims[3]:e[0].dims[1],m=r[0],f=a?r[2]:r[3],b=a?r[1]:r[2],_=a?r[3]:r[1],y=a&&(p%4===0||p%3===0)&&_%4===0,$=a?_:f*b,I=a?f*b:_,C=[8,8,1],v=o<=8?[4,1,1]:[4,4,1],A=[Math.ceil($/C[0]/v[0]),Math.ceil(I/C[1]/v[1]),Math.ceil(m/C[2]/v[2])];De("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${A}`);let T=y?a&&p%4!==0?3:4:1,D=C[1]*v[1],U=C[0]*v[0],V=Math.max(C[0]*T,C[1]),H=o%D===0,R=n%U===0,L=s%V===0,pe=y?[T,4,4]:[1,1,1],Ie=[{type:6,data:o},{type:6,data:n},{type:6,data:s},{type:6,data:[t.pads[0],t.pads[1]]},{type:6,data:t.strides},{type:6,data:t.dilations}];dt(t,Ie),Ie.push(...j(e[0].dims,e[1].dims));let we=["rank","rank"];u&&(Ie.push(...j(e[2].dims)),we.push("rank")),Ie.push(...j(r));let ne=ze=>{let Q=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"pad",type:"i32",length:2},{name:"stride",type:"i32",length:2},{name:"dilation",type:"i32",length:2}];lt(t,Q);let xe=y?4:1,me=Pe(e[0].dataType),ue=`\n      fn setOutputAtIndex(flatIndex : i32, value : ${y?`vec4<${me}>`:me}) {\n        result[flatIndex] = ${y?`vec4<${me}>`:me}(value);\n      }\n      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${y?`vec4<${me}>`:me}) {\n        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));\n        setOutputAtIndex(flatIndex ${y?"/ 4":""}, value);\n      }`,se=M("x",e[0].dataType,e[0].dims.length,T===3?1:T),he=M("w",e[1].dataType,e[1].dims.length,xe),Ae=[se,he],He=F("result",e[0].dataType,r.length,xe);if(u){let G=M("bias",e[2].dataType,e[2].dims.length,xe);Ae.push(G),ue+=`\n        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${y?`vec4<${me}>`:me} {\n          return bias[coords.${a?"w":"y"}${y?"/ 4":""}];\n        }`}return`\n        ${on("uniforms.result_strides")}\n        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,\n        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,\n        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };\n        ${ze.registerUniforms(Q).declareVariables(...Ae,He)}\n        ${ue}\n        ${Al(a,H,R,L,u,t,pe[0],pe[1],pe[2],me)}\n        ${y?gr(v,C,me,void 0,!a,V):yr(v,C,me,void 0,!a,V,!1,void 0,l)}`};return{name:"Conv2DMatMul",shaderCache:{hint:`${t.cacheKey};${T};${y};${H};${R};${L};${D};${U};${V}`,inputDependencies:we},getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:A[0],y:A[1],z:A[2]},programUniforms:Ie}),getShaderSource:ne}}});var Kn,os,as=q(()=>{"use strict";ie();_e();be();jn();Ot();Kn=(e,t,r)=>{let o=e.length>2,n=o?"value += b[output_channel];":"",s=e[0].dims,u=e[1].dims,l=u[0]/t.group,a=t.format==="NHWC",p=sn(s,u,t.dilations,t.pads,t.strides,a),m=z.size(p),f=[{type:12,data:m},{type:12,data:t.dilations},{type:12,data:[t.strides[0],t.strides[1]]},{type:12,data:[t.pads[0],t.pads[1]]},{type:12,data:l}];dt(t,f),f.push(...j(s,u,p));let b=["rank","rank"];o&&(f.push(...j(e[2].dims)),b.push("rank")),f.push(...j(p));let _=y=>{let $=F("output",e[0].dataType,p.length),I=Pe($.type.tensor),C=ut(t,$.type.value,I),v=M("x",e[0].dataType,s.length),A=M("w",e[1].dataType,u.length),T=[v,A];o&&T.push(M("b",e[2].dataType,e[2].dims));let D=[{name:"output_size",type:"u32"},{name:"dilations",type:"u32",length:t.dilations.length},{name:"strides",type:"u32",length:2},{name:"pads",type:"u32",length:2},{name:"output_channels_per_group",type:"u32"}];return lt(t,D),`\n  ${y.registerUniforms(D).declareVariables(...T,$)}\n\n  ${y.mainStart()}\n    ${y.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n\n    let outputIndices = ${$.offsetToIndices("global_idx")};\n    let batch: u32 = outputIndices[0];\n    let output_channel: u32 = outputIndices[${a?3:1}];\n    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${a?1:2}], outputIndices[${a?2:3}]) * uniforms.strides - uniforms.pads;\n    let group_id: u32 = output_channel / uniforms.output_channels_per_group;\n\n    var value: ${$.type.value} = ${$.type.value}(0);\n    for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[1]; wInChannel++) {\n      let input_channel = group_id * uniforms.w_shape[1] + wInChannel;\n      for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[2]; wHeight++) {\n        let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];\n\n        if (xHeight < 0u || xHeight >= uniforms.x_shape[${a?1:2}]) {\n          continue;\n        }\n\n        for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[3]; wWidth++) {\n          let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];\n          if (xWidth < 0u || xWidth >= uniforms.x_shape[${a?2:3}]) {\n            continue;\n          }\n\n          let xVal = ${a?v.get("batch","xHeight","xWidth","input_channel"):v.get("batch","input_channel","xHeight","xWidth")};\n          let wVal = ${A.get("output_channel","wInChannel","wHeight","wWidth")};\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${n}\n    ${C}\n    ${$.setByOffset("global_idx","value")}\n  }`};return{name:"GroupedConv",shaderCache:{hint:t.cacheKey,inputDependencies:b},getRunData:()=>({outputs:[{dims:r?r(p):p,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(m/64)},programUniforms:f}),getShaderSource:_}},os=(e,t,r)=>{let o=e.length>2,n=Me(r[3]),s=Me(r[2]),u=z.size(r)/n/s,l=[e[0].dims[0],e[0].dims[1],e[0].dims[2],e[0].dims[3]/n],a=[e[1].dims[0],e[1].dims[1],e[1].dims[2],e[1].dims[3]/n],p=[r[0],r[1],r[2],r[3]/n],m=[{type:12,data:u},{type:6,data:[t.strides[0],t.strides[1]]},{type:6,data:[t.pads[0],t.pads[1]]}];dt(t,m),m.push(...j(l,a,p));let f=(s-1)*t.strides[1]+a[1],b=_=>{let y=F("output",e[0].dataType,p.length,n),$=Pe(y.type.tensor),I=ut(t,y.type.value,$),C=M("x",e[0].dataType,l.length,n),v=M("w",e[1].dataType,a.length,n),A=[C,v];o&&A.push(M("b",e[2].dataType,e[2].dims,n));let T=o?"value += b[output_channel];":"",D=[{name:"output_size",type:"u32"},{name:"strides",type:"i32",length:2},{name:"pads",type:"i32",length:2}];return lt(t,D),`\n  ${_.registerUniforms(D).declareVariables(...A,y)}\n  ${_.mainStart()}\n    ${_.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n    let width0 = uniforms.output_shape[3];\n    let output_channel = global_idx % width0;\n    var index1 = global_idx / width0;\n    let width1 = uniforms.output_shape[2] / ${s}u;\n    let col = (index1 % width1) * ${s}u;\n    index1 = index1 / width1;\n    let row = index1 % uniforms.output_shape[1];\n    let batch = index1 / uniforms.output_shape[1];\n\n    let x_corner = vec2<i32>(i32(row), i32(col)) * uniforms.strides - uniforms.pads;\n\n    var x_vals: array<${C.type.value}, ${f}>;\n    var values: array<${y.type.value}, ${s}>;\n    let input_channel = output_channel;\n    // Use constant instead of uniform can give better performance for w\'s height/width.\n    for (var w_height: u32 = 0u; w_height < ${a[0]}; w_height++) {\n      let x_height = x_corner.x + i32(w_height);\n      if (x_height >= 0 && u32(x_height) < uniforms.x_shape[1]) {\n        for (var i = 0; i < ${f}; i++) {\n          let x_width = x_corner.y + i;\n          if (x_width >= 0 && u32(x_width) < uniforms.x_shape[2]) {\n            x_vals[i] = ${C.get("batch","u32(x_height)","u32(x_width)","input_channel")};\n          } else {\n            x_vals[i] = ${C.type.value}(0);\n          }\n        }\n        for (var w_width: u32 = 0u; w_width < ${a[1]}; w_width++) {\n          let w_val = ${v.get("w_height","w_width","0","output_channel")};\n          for (var i = 0u; i < ${s}u; i++) {\n            values[i] = fma(x_vals[i * u32(uniforms.strides[1]) + w_width], w_val, values[i]);\n          }\n        }\n      }\n    }\n\n    for (var i = 0u; i < ${s}u; i++) {\n      var value = values[i];\n      ${T}\n      ${I}\n      ${y.set("batch","row","col + i","output_channel","value")};\n    }\n  }`};return{name:"GroupedConv-Vectorize",shaderCache:{hint:`${t.cacheKey};${n};${s};${f};${a[0]};${a[1]}`,inputDependencies:o?["rank","rank","type"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(u/64)},programUniforms:m}),getShaderSource:b}}});var Yn,Tl,is,Zn=q(()=>{"use strict";ie();_e();br();be();Ot();Yn=(e,t,r,o,n=!1)=>{let s=e[0].dims,u=e[1].dims,l=s[s.length-2],a=u[u.length-1],p=s[s.length-1],m=Me(a),f=Me(p),b=Me(l),_=z.size(r)/m/b,y=e.length>2,$=o?o.slice(0,-2):r.slice(0,-2),C=[z.size($),l,a],v=[{type:12,data:_},{type:12,data:l},{type:12,data:a},{type:12,data:p}];dt(t,v),v.push(...j($,s,u)),y&&v.push(...j(e[2].dims)),v.push(...j(C));let A=T=>{let D=jr("batch_dims",e[0].dataType,$.length),U=M("a",e[0].dataType,s.length,f),V=M("b",e[1].dataType,u.length,m),H=F("output",e[0].dataType,C.length,m),R=Pe(H.type.tensor),L=ut(t,H.type.value,R),pe=[U,V],Ie="";if(y){let se=n?m:1;pe.push(M("bias",e[2].dataType,e[2].dims.length,se)),Ie=`${n?`value += bias[col / ${se}];`:`value += ${H.type.value}(bias[row + i]);`}`}let we=s.slice(0,-2),ne=u.slice(0,-2),ze=jt(we,$),Q=jt(ne,$),xe=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"}];lt(t,xe);let me=(se,he)=>{let Ae=se.rank,He=se.name;if(Ae===2)return`var ${He}_indices = ${se.type.indices}(0u, 0u);`;let G=D.rank,J=`var ${He}_indices: ${se.type.indices};`;for(let Se=Ae-2-1,Qe=G-1;Se>=0;Se--,Qe--)J+=`\n${He}_indices[${Se}] = ${G>1?`batch_indices[${Qe}]`:"batch_indices"};`;return he.forEach(Se=>{J+=`\n${He}_indices[${Se}] = 0;`}),J+=`${He}_indices[${Ae-2}] = 0u;\n                     ${He}_indices[${Ae-1}] = 0u;`,J},ue=()=>{let se=`var a_data: ${U.type.value};`;for(let he=0;he<f;he++)se+=`\n              let b_data${he} = b[(b_offset + (k + ${he}) * uniforms.N + col) / ${m}];`;for(let he=0;he<b;he++){se+=`a_data = a[(a_offset + (row + ${he}) * uniforms.K + k) / ${f}];`;for(let Ae=0;Ae<f;Ae++)se+=`\n            values[${he}] = fma(${V.type.value}(a_data${f===1?"":`[${Ae}]`}), b_data${Ae}, values[${he}]);\n`}return se};return`\n  ${T.registerUniforms(xe).registerInternalVariables(D).declareVariables(...pe,H)}\n  ${T.mainStart()}\n    ${T.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n    let col = (global_idx % (uniforms.N / ${m})) * ${m};\n    var index1 = global_idx / (uniforms.N / ${m});\n    let stride1 = uniforms.M / ${b};\n    let row = (index1 % stride1) * ${b};\n    let batch = index1 / stride1;\n\n    ${r.length===2?"":`let batch_indices = ${D.offsetToIndices("batch")};`}\n    ${me(U,ze)}\n    let a_offset = ${U.indicesToOffset("a_indices")};\n    ${me(V,Q)}\n    let b_offset = ${V.indicesToOffset("b_indices")};\n    var values: array<${H.type.value}, ${b}>;\n    for (var k: u32 = 0u; k < uniforms.K; k = k + ${f}) {\n      ${ue()}\n    }\n    for (var i = 0u; i < ${b}u; i++) {\n      var value = values[i];\n      ${Ie}\n      ${L}\n      let cur_indices = ${H.type.indices}(batch, row + i, col);\n      let offset = ${H.indicesToOffset("cur_indices")};\n      ${H.setByOffset(`offset / ${m}`,"value")};\n    }\n  }\n  `};return{name:"MatMulNaive",shaderCache:{hint:`${t.activation};${m};${f};${b};${n}`,inputDependencies:y?["rank","rank","rank"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(_/64)},programUniforms:v}),getShaderSource:A}},Tl=e=>{if(!e||e.length!==2)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.")},is=e=>{Tl(e.inputs);let t=mt.calcShape(e.inputs[0].dims,e.inputs[1].dims,!0);if(!t)throw new Error("Can\'t use matmul on the given tensors");let r=t[t.length-1],o=e.inputs[0].dims[e.inputs[0].dims.length-1];r<8&&o<8?e.compute(Yn(e.inputs,{activation:""},t)):e.compute(an(e.inputs,{activation:""},t))}});var sn,Qn,El,ss,Xn,Pl,Ol,Jn,jn=q(()=>{"use strict";_e();ns();br();as();Ot();Zn();Yt();sn=(e,t,r,o,n,s)=>{let u=e[0],l=e.slice(s?1:2,s?3:4),a=l.length,p=t[0],f=t.slice(2).map((y,$)=>y+(y-1)*(r[$]-1)),_=l.map((y,$)=>y+o[$]+o[$+a]).map((y,$)=>Math.floor((y-f[$]+n[$])/n[$]));return _.splice(0,0,u),_.splice(s?3:1,0,p),_},Qn=[2,3,1,0],El=(e,t)=>{if(!e||e.length!==2&&e.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(e[0].dims.length!==4&&e[0].dims.length!==3)throw new Error("currently only support conv 1D and 2D");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");let r=e[0].dims[t.format==="NHWC"?e[0].dims.length-1:1],o=e[1].dims[1]*t.group;if(r!==o)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(e.length===3&&(e[2].dims.length!==1||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");let n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==n*2)throw new Error(`pads should be ${n*2}D`);if(t.kernelShape.length!==0&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape")},ss=(e,t)=>{let r=e.kernelShape.slice();for(let s=2;s<t[1].dims.length;++s)r[s-2]===0&&(r[s-2]=t[1].dims[s]);let o=e.pads.slice();zt.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,r,o,e.format==="NHWC",e.autoPad);let n=Object.assign({},e);return Object.assign(n,{kernelShape:r,pads:o}),n},Xn=e=>{let t=tn(e),r=e.format,o=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],n=e.dilations,s=e.group,u=e.kernel_shape,l=e.pads,a=e.strides,p=e.w_is_const();return{autoPad:o,format:r,dilations:n,group:s,kernelShape:u,pads:l,strides:a,wIsConst:p,...t,cacheKey:`${e.format};${t.activation};`}},Pl=(e,t,r)=>{let o=ss(r,t),n=r.format==="NHWC";if(r.group!==1){if(!e.adapterInfo.isArchitecture("ampere")&&n&&t[1].dims[0]===r.group&&t[1].dims[1]===1&&r.dilations[0]===1&&r.dilations[1]===1){let V=sn(t[0].dims,t[1].dims,r.dilations,o.pads,r.strides,n),H=e.kernelCustomData.wT??e.compute(ot(t[1],Qn),{inputs:[1],outputs:[r.wIsConst?-2:-1]})[0];r.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=H);let R=[t[0],H];t.length===3&&R.push(t[2]),e.compute(os(R,o,V),{inputs:R})}else e.compute(Kn(t,o));return}let s=t.length===3,u=t[0].dims[n?1:2],l=t[0].dims[n?2:3],a=t[0].dims[n?3:1],p=t[1].dims[2],m=t[1].dims[3],f=sn(t[0].dims,t[1].dims,r.dilations,o.pads,r.strides,n),b=f[n?1:2],_=f[n?2:3],y=f[n?3:1],$=n&&p===u&&m===l&&r.pads[0]===0&&r.pads[1]===0;if($||p===1&&m===1&&r.dilations[0]===1&&r.dilations[1]===1&&r.strides[0]===1&&r.strides[1]===1&&r.pads[0]===0&&r.pads[1]===0){let U=f[0],V,H,R,L=[];if(n){let we=e.kernelCustomData.wT??e.compute(ot(t[1],Qn),{inputs:[1],outputs:[r.wIsConst?-2:-1]})[0];if(r.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=we),$){let ne=u*l*a;V=t[0].reshape([1,U,ne]),H=we.reshape([1,ne,y]),R=[1,U,y]}else V=t[0].reshape([U,u*l,a]),H=we.reshape([1,a,y]),R=[U,b*_,y];L.push(V),L.push(H)}else V=t[0].reshape([U,a,u*l]),H=t[1].reshape([1,y,a]),R=[U,y,b*_],L.push(H),L.push(V);s&&L.push(t[2]);let pe=R[2],Ie=L[0].dims[L[0].dims.length-1];pe<8&&Ie<8?e.compute(Yn(L,o,f,R,n),{inputs:L}):e.compute(an(L,o,f,R,n),{inputs:L});return}let I=!0,C=e.kernelCustomData.wT??e.compute(ot(t[1],Qn),{inputs:[1],outputs:[r.wIsConst?-2:-1]})[0];r.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=C);let v=[t[0],C];s&&v.push(t[2]);let A=n?b*_:y,T=n?y:b*_,D=p*m*a;e.compute(rs(v,o,f,A,T,D,s,I),{inputs:v})},Ol=(e,t)=>{let r=t.format==="NHWC",o=[e.inputs[0].reshape(r?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];e.inputs.length===3&&o.push(e.inputs[2]);let n=[0,t.pads[0],0,t.pads[1]],s=[1].concat(t.strides),u=[1].concat(t.dilations),l=[1].concat(t.kernelShape),a=ss({...t,pads:n,strides:s,dilations:u,kernelShape:l},o);e.compute(Kn(o,a,p=>r?[p[0],p[2],p[3]]:[]))},Jn=(e,t)=>{El(e.inputs,t),e.inputs[0].dims.length===3?Ol(e,t):Pl(e,e.inputs,t)}});var kl,us,ds=q(()=>{"use strict";ie();Pt();be();Ot();nn();qn();br();kl=(e,t=!1,r,o,n=4)=>{let s=C=>{switch(C){case 1:return"return w[getIndexFromCoords4D(coord, vec4<i32>(uniforms.w_shape))];";case 4:return`\n            let coord1 = vec4<i32>(coordX, coordY, col + 1, rowInner);\n            let coord2 = vec4<i32>(coordX, coordY, col + 2, rowInner);\n            let coord3 = vec4<i32>(coordX, coordY, col + 3, rowInner);\n            let v0 = w[getIndexFromCoords4D(coord, vec4<i32>(uniforms.w_shape))];\n            let v1 = w[getIndexFromCoords4D(coord1, vec4<i32>(uniforms.w_shape))];\n            let v2 = w[getIndexFromCoords4D(coord2, vec4<i32>(uniforms.w_shape))];\n            let v3 = w[getIndexFromCoords4D(coord3, vec4<i32>(uniforms.w_shape))];\n            return ${o}(v0, v1, v2, v3);\n            `;default:throw new Error(`innerElementSize ${C} is not supported.`)}},u=e?`\n      let coord = vec4<i32>(batch, iXR, iXC, xCh);\n      `:`\n      let coord = vec4<i32>(batch, xCh, iXR, iXC);\n      `,l=e?`\n    let coords = vec4<i32>(\n      batch,\n      row / outWidth,\n      row % outWidth,\n      col);\n    `:`\n    let coords = vec4<i32>(\n      batch,\n      row,\n      col / outWidth,\n      col % outWidth);\n    `,a=e?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",p=e?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",m=e?"row":"col",f=e?"col":"row",b=`\n      let inChannels = ${e?"i32(uniforms.x_shape[3])":"i32(uniforms.x_shape[1])"};\n      let outWidth = ${e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};\n      let outRow = ${m} / outWidth;\n      let outCol = ${m} % outWidth;\n\n      let WRow = ${f} / (uniforms.filter_dims[1] * inChannels);\n      let WCol = ${f} / inChannels % uniforms.filter_dims[1];\n      let xR = f32(outRow - uniforms.pads[0] + uniforms.dilations[0] * WRow) / f32(uniforms.strides[0]);\n      let xC = f32(outCol - uniforms.pads[1] + uniforms.dilations[1] * WCol) / f32(uniforms.strides[1]);\n      if (xR < 0.0 || xR >= f32(${a}) || fract(xR) > 0.0) {\n        return ${o}(0.0);\n      }\n      if (xC < 0.0 || xC >= f32(${p}) || fract(xC) > 0.0) {\n        return ${o}(0.0);\n      }\n      let iXR = i32(xR);\n      let iXC = i32(xC);\n      let xCh = ${f} % inChannels;\n      ${u}\n      return x[getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape))/${n}];`,_=e?`\n      let col = colIn * ${n};\n      if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {\n        ${b}\n      }\n      return ${o}(0.0);`:`\n      let col = colIn * ${n};\n      if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {\n        ${b}\n      }\n      return ${o}(0.0);`,y=`\n      let col = colIn * ${n};\n      let inChannels = ${e?"i32(uniforms.x_shape[3])":"i32(uniforms.x_shape[1])"};\n      let coordX = uniforms.filter_dims[0] - 1 - row / (uniforms.filter_dims[1] * inChannels);\n      let coordY = uniforms.filter_dims[1] - 1 - (row / inChannels) % uniforms.filter_dims[1];\n      if (${e?"row < uniforms.dim_inner && col < uniforms.dim_b_outer":"row < uniforms.dim_inner && col < uniforms.dim_a_outer"}  && coordX >= 0 && coordY >= 0) {\n        let rowInner = row % inChannels;\n        let coord = vec4<i32>(coordX, coordY, col, rowInner);\n        ${s(n)}\n      }\n      return ${o}(0.0);\n      `,$=ut(r,o);return`\n  fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${o} {\n    ${e?_:y}\n  }\n\n  fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${o} {\n    ${e?y:_}\n  }\n\n  fn mm_write(batch: i32, row : i32, colIn : i32, valueInput : ${o}) {\n    let col = colIn * ${n};\n    if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {\n      var value = valueInput;\n      let outWidth = ${e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};\n      ${l}\n      ${rn(t)}\n      ${$}\n      result[getIndexFromCoords4D(coords, vec4<i32>(uniforms.result_shape))/${n}] = value;\n    }\n  }`},us=(e,t,r,o,n,s,u,l)=>{let a=t.format==="NHWC",p=a?e[0].dims[3]:e[0].dims[1],m=r[0],f=a?r[2]:r[3],b=a?r[1]:r[2],_=a?r[3]:r[1],y=a?p%4===0&&_%4===0:f%4===0&&_%4===0,$=a?_:f*b,I=a?f*b:_,C=y?[8,8,1]:[$<=4||I<=4?4:16,$>4&&I<=4?4:16,1],v=y?[4,4,1]:[$<=4?1:4,$>4&&I<=4?1:4,1],A=[Math.ceil($/C[0]/v[0]),Math.ceil(I/C[1]/v[1]),Math.ceil(m/C[2]/v[2])];De("verbose",()=>`[conv_backprop_mm_webgpu] dispatch = ${A}`);let T=y?4:1,D=Math.max(C[0]*T,C[1]),U=y?4:1,V=[t.kernelShape[a?1:2],t.kernelShape[a?2:3]],H=[V[0]+(t.dilations[0]<=1?0:(V[0]-1)*(t.dilations[0]-1)),V[1]+(t.dilations[1]<=1?0:(V[1]-1)*(t.dilations[1]-1))],R=[H[0]-1-Math.floor((t.pads[0]+t.pads[2])/2),H[1]-1-Math.floor((t.pads[1]+t.pads[3])/2)],L=[{type:6,data:o},{type:6,data:n},{type:6,data:s},{type:6,data:t.strides},{type:6,data:t.dilations},{type:6,data:V},{type:6,data:R}];dt(t,L),L.push(...j(e[0].dims,e[1].dims));let pe=["rank","rank"];u&&(L.push(...j(e[2].dims)),pe.push("rank")),L.push(...j(r));let Ie=we=>{let ne=M("x",e[0].dataType,e[0].dims.length,U),ze=M("w",e[1].dataType,e[1].dims.length,1),Q=F("result",e[0].dataType,r.length,U),xe=[ne,ze],me="";if(u){let he=M("bias",e[2].dataType,e[2].dims.length,U);xe.push(he),me+=`\n          fn getBiasByOutputCoords(coords : vec4<i32>) -> ${he.type.value} {\n            return bias[coords.${a?"w":"y"}${y?"/ 4":""}];\n          }`}let ue=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"strides",type:"i32",length:2},{name:"dilations",type:"i32",length:2},{name:"filter_dims",type:"i32",length:V.length},{name:"pads",type:"i32",length:R.length}];lt(t,ue);let se=Pe(e[0].dataType,1);if(se!=="f16"&&se!=="f32")throw new Error(`elemType ${se} is not supported.`);return`\n        ${on("uniforms.result_strides")}\n        ${we.registerUniforms(ue).declareVariables(...xe,Q)};\n        ${me}\n        ${kl(a,u,t,ne.type.value,T)}\n        ${y?gr(v,C,se,void 0,!a,D):yr(v,C,se,void 0,!a,D,!1,void 0,l)}`};return{name:"Conv2DTransposeMatMul",shaderCache:{hint:`${t.cacheKey};${v};${C};${y}`,inputDependencies:pe},getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:A[0],y:A[1],z:A[2]},programUniforms:L}),getShaderSource:Ie}}});var Rl,eo,ls=q(()=>{"use strict";ie();Pt();_e();be();Rl=(e,t,r,o,n,s=!1,u,l,a=!1)=>{let p=a?1:2,m=a?2:3,f=a?3:1,b=s?2:1,_=`\n  fn setOutputAtIndex(flatIndex : u32, value : ${s?`vec4<${u}>`:u}) {\n    result[flatIndex] = ${s?`vec4<${u}>`:u}(value);\n  }`;o&&(_+=`\n    fn getBiasByOutputCoords(coords : vec4<u32>) -> ${s?`vec4<${u}>`:u} {\n      return bias[coords.${a?"w":"y"}${s?"/ 4":""}];\n    }`);let y=s?4:1,$=M("W",t[1].dataType,t[1].dims.length,y),I=M("Dy",t[0].dataType,t[0].dims.length,y),C=[I,$];o&&C.push(M("bias",t[2].dataType,[r[f]].length,y));let v=F("result",t[0].dataType,r.length,y),A=`{\n        let batch: u32 = ${n?"global_id.z":"workgroup_id.z"} / uniforms.result_shape[1];\n        let r = ${n?"global_id.z":"workgroup_id.z"} % uniforms.result_shape[1];\n        let c = ${n?"global_id.y":"workgroup_id.y"} * ${b};\n        let d1: u32 = ${n?"global_id.x":"workgroup_id.x"} * 4;\n\n        let dyCorner = vec2<i32>(i32(r), i32(c)) - vec2<i32>(uniforms.pads);\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        var dotProd: array<vec4<${u}>, ${b}>;\n        for (var i = 0; i < ${b}; i++) {\n          dotProd[i] = vec4<${u}>(0.0);\n        }\n        for (var wR: u32 = 0; wR < uniforms.filter_dims[0]; wR = wR + 1) {\n          var dyR = (${u}(dyCorner.x) + ${u}(wR)) / ${u}(uniforms.strides.x);\n          let wRPerm = uniforms.filter_dims[0] - 1 - wR;\n          if (dyR < 0.0 || dyR >= ${u}(uniforms.Dy_shape[1]) ||\n              fract(dyR) > 0.0 || wRPerm < 0) {\n            continue;\n          }\n          let idyR: u32 = u32(dyR);\n\n          for (var wC: u32 = 0; wC < uniforms.filter_dims[1]; wC = wC + 1) {\n            let dyC = (${u}(dyCorner.y) + ${u}(wC)) / ${u}(uniforms.strides.y);\n            let dyC2 = (${u}(dyCorner.y) + 1.0 + ${u}(wC)) / ${u}(uniforms.strides.y);\n            let wCPerm = uniforms.filter_dims[1] - 1 - wC;\n            if (wCPerm < 0) {\n              continue;\n            }\n            var bDyCVal = true;\n            var bDyCVal2 = true;\n            if (dyC < 0.0 || dyC >= ${u}(uniforms.Dy_shape[2]) ||\n                fract(dyC) > 0.0) {\n              bDyCVal = false;\n            }\n            if (dyC2 < 0.0 || dyC2 >= ${u}(uniforms.Dy_shape[2]) ||\n                fract(dyC2) > 0.0) {\n              bDyCVal2 = false;\n            }\n\n            let idyC: u32 = u32(dyC);\n            let idyC2: u32 = u32(dyC2);\n            if (bDyCVal && bDyCVal2) {\n              let d2Length = uniforms.Dy_shape[3];\n              for (var d2 :u32 = 0; d2 < d2Length; d2 = d2 + 4) {\n                let wValue0 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1","d2")};\n                let wValue1 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1 + 1","d2")};\n                let wValue2 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1 + 2","d2")};\n                let wValue3 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1 + 3","d2")};\n\n                var xValue = ${I.get("batch","idyR","idyC","d2")};\n                let tmpval = vec4<${u}>(dot(xValue, wValue0),\n                                      dot(xValue, wValue1),\n                                      dot(xValue, wValue2),\n                                      dot(xValue, wValue3));\n                dotProd[0] = dotProd[0] + tmpval;\n\n                xValue =  ${I.get("batch","idyR","idyC2","d2")};\n\n                dotProd[1] = dotProd[1] + vec4<${u}>(dot(xValue, wValue0),\n                                                    dot(xValue, wValue1),\n                                                    dot(xValue, wValue2),\n                                                    dot(xValue, wValue3));\n              }\n            } else if (bDyCVal) {\n              let d2Length = uniforms.Dy_shape[${f}];\n              for (var d2: u32 = 0; d2 < d2Length; d2 = d2 + 4) {\n                let wValue0 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1","d2")};\n                let wValue1 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1 + 1","d2")};\n                let wValue2 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1 + 2","d2")};\n                let wValue3 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1 + 3","d2")};\n\n                var xValue = ${I.get("batch","idyR","idyC","d2")};\n                let tmpval = vec4<${u}>(dot(xValue, wValue0),\n                                      dot(xValue, wValue1),\n                                      dot(xValue, wValue2),\n                                      dot(xValue, wValue3));\n                dotProd[0] = dotProd[0] + tmpval;\n              }\n            } else if (bDyCVal2) {\n              let d2Length = uniforms.Dy_shape[3];\n              for (var d2: u32 = 0; d2 < d2Length; d2 = d2 + 4) {\n                let wValue0 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1","d2")};\n                let wValue1 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1 + 1","d2")};\n                let wValue2 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1 + 2","d2")};\n                let wValue3 = ${$.get("u32(wRPerm)","u32(wCPerm)","d1 + 3","d2")};\n\n                var xValue = ${I.get("batch","idyR","idyC2","d2")};\n                let tmpval = vec4<${u}>(dot(xValue, wValue0),\n                                      dot(xValue, wValue1),\n                                      dot(xValue, wValue2),\n                                      dot(xValue, wValue3));\n                dotProd[1] = dotProd[1] + tmpval;\n              }\n            }\n          }\n        }\n\n        for (var i: u32 = 0; i < ${b}; i = i + 1) {\n          let value = dotProd[i] + ${o?"bias[c+i]":`vec4<${u}>(0.0)`};\n          ${v.set("batch","r","c + i","d1","value")};\n        }\n      }`,T=`\n          let outputIndices = ${v.offsetToIndices("global_idx")};\n          let batch = ${v.indicesGet("outputIndices",0)};\n          let d1 = ${v.indicesGet("outputIndices",f)};\n          let r = ${v.indicesGet("outputIndices",p)};\n          let c = ${v.indicesGet("outputIndices",m)};\n          let dyCorner = vec2<i32>(i32(r), i32(c)) - uniforms.pads;\n          let dyRCorner = dyCorner.x;\n          let dyCCorner = dyCorner.y;\n          let groupId = d1 / uniforms.output_channels_per_group;\n          let wOutChannel = d1 - groupId * uniforms.output_channels_per_group;\n          // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n          // ? = to be determined. : = across all values in that axis.\n          var dotProd = ${u}(0.0);\n          for (var wR: u32 = 0; wR < uniforms.effective_filter_dims.x; wR = wR + 1) {\n            if (wR % uniforms.dilations.x != 0) {\n              continue;\n            }\n            let dyR = (${u}(dyRCorner) + ${u}(wR)) / ${u}(uniforms.strides[0]);\n            let wRPerm = uniforms.filter_dims.x - 1 - wR / uniforms.dilations.x;\n            if (dyR < 0.0 || dyR >= ${u}(uniforms.Dy_shape[${p}]) || fract(dyR) > 0.0 ||\n                wRPerm < 0) {\n              continue;\n            }\n            let idyR: u32 = u32(dyR);\n\n            for (var wC: u32 = 0; wC < uniforms.effective_filter_dims.y; wC = wC + 1) {\n              if (wC % uniforms.dilations.y != 0) {\n                continue;\n              }\n              let dyC = (${u}(dyCCorner) + ${u}(wC)) / ${u}(uniforms.strides.y);\n              let wCPerm = uniforms.filter_dims.y - 1 - wC / uniforms.dilations.y;\n              if (dyC < 0.0 || dyC >= ${u}(uniforms.Dy_shape[${m}]) ||\n                  fract(dyC) > 0.0 || wCPerm < 0) {\n                continue;\n              }\n              let idyC: u32 = u32(dyC);\n              var inputChannel = groupId * uniforms.input_channels_per_group;\n              for (var d2: u32 = 0; d2 < uniforms.input_channels_per_group; d2 = d2 + 1) {\n                let xValue = ${a?I.get("batch","idyR","idyC","inputChannel"):I.get("batch","inputChannel","idyR","idyC")};\n                let wValue = ${$.get("inputChannel","wOutChannel","u32(wRPerm)","u32(wCPerm)")};\n                dotProd = dotProd + xValue * wValue;\n                inputChannel = inputChannel + 1;\n              }\n            }\n          }\n          let value = dotProd + ${o?"bias[d1]":`${u}(0.0)`};\n          ${v.setByOffset("global_idx","value")};\n        `;return`\n  ${e.registerUniforms(l).declareVariables(...C,v)}\n  ${_}\n\n    ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")};\n  ${s?A:T}}`},eo=(e,t,r)=>{let o=e.length>2,n=t.outputShape,s=z.size(n),u=[Math.ceil(s/64),1,1];De("verbose",()=>`[conv2d_backprop_webgpu] dispatch = ${u}`);let l=t.format==="NHWC",a=["rank","rank"],p=[t.strides[0],t.strides[1]],m=[t.kernelShape[l?1:2],t.kernelShape[l?2:3]],f=[t.dilations[0],t.dilations[1]],b=[m[0]+(t.dilations[0]<=1?0:(t.kernelShape[l?1:2]-1)*(t.dilations[0]-1)),m[1]+(t.dilations[1]<=1?0:(t.kernelShape[l?2:3]-1)*(t.dilations[1]-1))],_=[b[0]-1-Math.floor((t.pads[0]+t.pads[2])/2),b[1]-1-Math.floor(t.pads[1]+t.pads[3])/2],y=!1,$=t.group,I=e[1].dims,C=I[0]/$,v=I[1],A=[{type:6,data:s},{type:12,data:p},{type:12,data:m},{type:12,data:f},{type:12,data:b},{type:6,data:_},{type:12,data:C},{type:12,data:v},...j(e[0].dims,e[1].dims)];o&&(A.push(...j(e[2].dims)),a.push("rank")),A.push(...j(n));let T=u[1]===1&&u[2]===1,D=U=>{let V=[{name:"output_size",type:"u32"},{name:"strides",type:"u32",length:p.length},{name:"filter_dims",type:"u32",length:m.length},{name:"dilations",type:"u32",length:m.length},{name:"effective_filter_dims",type:"u32",length:b.length},{name:"pads",type:"i32",length:_.length},{name:"input_channels_per_group",type:"u32"},{name:"output_channels_per_group",type:"u32"}],H=Pe(e[0].dataType);return`${Rl(U,e,n,o,T,y,H,V,l)}`};return{name:"ConvTranspose2D",shaderCache:{hint:`${t.cacheKey};`,inputDependencies:a},getRunData:()=>({dispatchGroup:{x:u[0],y:u[1],z:u[2]},outputs:[{dims:r?r(n):n,dataType:e[0].dataType}],programUniforms:A}),getShaderSource:D}}});var Bl,Dl,Ml,cs,ps,zl,Ul,Vl,Nl,ms,fs=q(()=>{"use strict";ds();ls();Ot();Yt();Bl=(e,t,r,o,n,s)=>(e-1)*t+r+(o-1)*n+1-s,Dl=(e,t,r,o,n)=>{let s=Math.floor(e/2);t==="SAME_UPPER"?(r[o]=s,r[n]=e-s):t==="SAME_LOWER"&&(r[o]=e-s,r[n]=s)},Ml=(e,t,r,o,n,s,u,l,a,p)=>{let m=e.length-2,f=p.length===0;if(a.length===0)for(let y=0;y<m;++y)a.push(0);let b=e[0],_=t[l?3:1]*n;for(let y=0,$=e.length-m-(l?1:0);y<m;++y,++$){let I=e[$],C=f?I*u[y]:p[y],v=Bl(I,u[y],s[y],t[$],r[y],C);Dl(v,o,s,y,y+m),f&&p.push(u[y]*(I-1)+a[y]+(t[$]-1)*r[y]+1-s[y]-s[y+m])}p.splice(0,0,b),p.splice(l?3:1,0,_)},cs=(e,t)=>{let r=e.kernelShape.slice();if(e.kernelShape.length===0||e.kernelShape.reduce((f,b)=>f*b,1)===0){r.length=0;for(let f=2;f<t[1].dims.length;++f)r.push(t[1].dims[f])}let o=e.format==="NHWC";r.splice(0,0,t[1].dims[0]),r.splice(o?3:1,0,t[1].dims[1]);let n=e.pads.slice(),s=e.outputShape.slice(),u=e.outputPadding.slice(),l=t[0].dims,a=e.dilations.slice();if(a.reduce((f,b)=>f+b,0)===0){let f=t[0].dims.length-2;a=new Array(f).fill(1)}let p=e.strides.slice();if(p.reduce((f,b)=>f+b,0)===0){let f=t[0].dims.length-2;p=new Array(f).fill(1)}Ml(l,r,a,e.autoPad,e.group,n,p,o,u,s);let m=Object.assign({},e);return Object.assign(m,{kernelShape:r,pads:n,outputPadding:u,outputShape:s,dilations:a,strides:p}),m},ps=e=>{let t=tn(e),r=e.format,o=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][typeof e.autoPad>"u"?0:e.autoPad],n=e.dilations,s=e.group,u=e.kernelShape,l=e.pads,a=e.strides,p=e.wIsConst(),m=e.outputPadding,f=e.outputShape;return{autoPad:o,format:r,dilations:n,group:s,kernelShape:u,outputPadding:m,outputShape:f,pads:l,strides:a,wIsConst:p,...t,cacheKey:`${e.format};${t.activation};`}},zl=(e,t)=>{if(!e||e.length!==2&&e.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(e[0].dims.length!==4&&e[0].dims.length!==3)throw new Error("currently only support 2-dimensional conv");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");let r=e[0].dims[t.format==="NHWC"?e[0].dims.length-1:1],o=e[1].dims[0];if(r!==o)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let n=e[1].dims[1]*t.group;if(e.length===3&&(e[2].dims.length!==1||e[2].dims[0]!==n))throw new Error("invalid bias");let s=e[0].dims.length-2;if(t.dilations.reduce((m,f)=>m+f,0)>0&&t.dilations.length!==s)throw new Error(`dilations should be ${s}D`);if(t.strides.reduce((m,f)=>m+f,0)>0&&t.strides.length!==s)throw new Error(`strides should be ${s}D`);if(t.pads.reduce((m,f)=>m+f,0)>0&&t.pads.length!==s*2)throw new Error(`pads should be ${s*2}D`);if(t.outputPadding.length!==s&&t.outputPadding.length!==0)throw new Error(`output_padding should be ${s}D`);if(t.kernelShape.reduce((m,f)=>m+f,0)>0&&t.kernelShape.length!==0&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(t.outputShape.length!==0&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape")},Ul=[2,3,1,0],Vl=(e,t,r)=>{let o=cs(r,t),n=r.format==="NHWC",s=o.outputShape,u=s[n?3:1],l=t[0].dims[n?3:1];if(o.group!==1||u===1&&l===1){e.compute(eo(t,o));return}let a=s[n?1:2],p=s[n?2:3],m=t[1].dims[2],f=t[1].dims[3],b=n?a*p:u,_=n?u:a*p,y=m*f*l,$=!0,I=e.kernelCustomData.wT??e.compute(ot(t[1],Ul),{inputs:[1],outputs:[r.wIsConst?-2:-1]})[0];r.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=I);let C=[t[0],I],v=t.length===3;v&&(!n&&t[2].dims.length===1?C.push(t[2].reshape([t[2].dims[0],1,1])):C.push(t[2])),e.compute(us(C,o,s,b,_,y,v,$),{inputs:C})},Nl=(e,t)=>{let r=t.format==="NHWC",o=[e.inputs[0].reshape(r?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];o.length===3&&o.push(e.inputs[2]);let n=t.kernelShape;(n.length===0||n[0]===0)&&(n=[e.inputs[1].dims[2]]);let s=t.dilations;(s.length===0||s[0]===0)&&(s=[1]);let u=t.strides;(u.length===0||u[0]===0)&&(u=[1]);let l=t.pads;l.length===0&&(l=[0,0]),l=[0,l[0],0,l[1]],u=[1].concat(u),s=[1].concat(s),n=[1].concat(n);let a=cs({...t,pads:l,strides:u,dilations:s,kernelShape:n},o);e.compute(eo(o,a,p=>r?[p[0],p[2],p[3]]:[p[0],p[1],p[3]]))},ms=(e,t)=>{zl(e.inputs,t),e.inputs[0].dims.length===3?Nl(e,t):Vl(e,e.inputs,t)}});var Wl,hs,gs,ys=q(()=>{"use strict";ie();_e();je();be();Wl=(e,t,r,o)=>{let n=z.size(t),s=t.length,u=M("input",e,s),l=F("output",e,s),a=r.dataType===6?r.getInt32Array()[0]:Number(r.getBigInt64Array()[0]),p=z.normalizeAxis(a,s),m=f=>{let b=` i32(${u.indicesGet("inputIndices","uniforms.axis")}) `,_=re("uniforms.input_shape","uniforms.axis",s),y=o.reverse?b+(o.exclusive?" + 1":""):"0",$=o.reverse?_:b+(o.exclusive?"":" + 1");return`\n                ${f.registerUniform("outputSize","u32").registerUniform("axis","u32").declareVariables(u,l)}\n                ${f.mainStart()}\n                  ${f.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n                  var inputIndices = ${l.offsetToIndices("global_idx")};\n                  var sum = ${l.type.value}(0);\n                  let first : i32 = ${y};\n                  let last : i32 = ${$};\n                  for (var i : i32 = first; i < last; i++) {\n                    ${u.indicesSet("inputIndices","uniforms.axis","u32(i)")};\n                    sum = sum + ${u.getByIndices("inputIndices")};\n                  }\n                  ${l.setByOffset("global_idx","sum")};\n                }`};return{name:"CumSum",shaderCache:{hint:o.cacheKey,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:t,dataType:e}],dispatchGroup:{x:Math.ceil(n/64)},programUniforms:[{type:12,data:n},{type:6,data:p},...j(t,t)]}),getShaderSource:m}},hs=(e,t)=>{let r=e.inputs[0].dims,o=e.inputs[0].dataType,n=e.inputs[1];e.compute(Wl(o,r,n,t),{inputs:[0]})},gs=e=>{let t=e.exclusive===1,r=e.reverse===1;return $e({exclusive:t,reverse:r})}});var to,un,bs,Gl,Hl,ro,no,ws,Ll,vs,$s,_s=q(()=>{"use strict";ie();_e();je();be();to="[a-zA-Z]|\\\\.\\\\.\\\\.",un="("+to+")+",bs="^"+un+"$",Gl="("+un+",)*"+un,Hl="^"+Gl+"$",ro=class{constructor(t=-1){this.symbolToIndices=new Map,this.inputIndex=t}addSymbol(t,r){let o=this.symbolToIndices.get(t);o===void 0?o=[r]:o.push(r),this.symbolToIndices.set(t,o)}},no=class{constructor(t,r){this.equation=r;this.hasEllipsis=!1,this.symbolToInfo=new Map,this.lhs=new Array,this.outputDims=[];let[o,n]=r.includes("->")?r.split("->",2):[r,""];if(!o.match(RegExp(Hl)))throw new Error("Invalid LHS term");if(o.split(",").forEach((l,a)=>{let p=t[a].dims.slice();if(!l.match(RegExp(bs)))throw new Error("Invalid LHS term");let m=this.processTerm(l,!0,p,a);this.lhs.push(m)}),n==="")n+=[...this.symbolToInfo.entries()].filter(([l,a])=>a.count===1||l==="...").map(([l])=>l).join("");else if(!n.match(RegExp(un)))throw new Error("Invalid RHS");n.match(RegExp(to,"g"))?.forEach(l=>{if(l==="...")this.outputDims=this.outputDims.concat(this.ellipsisDims);else{let a=this.symbolToInfo.get(l);if(a===void 0)throw new Error("Invalid RHS symbol");this.outputDims.push(a.dimValue)}}),this.rhs=this.processTerm(n,!1,this.outputDims)}addSymbol(t,r,o){let n=this.symbolToInfo.get(t);if(n!==void 0){if(n.dimValue!==r&&n.count!==1)throw new Error("Dimension mismatch");n.count++,n.inputIndices.push(o)}else n={count:1,dimValue:r,inputIndices:[o]};this.symbolToInfo.set(t,n)}processTerm(t,r,o,n=-1){let s=o.length,u=!1,l=[],a=0;if(!t.match(RegExp(bs))&&!r&&t!=="")throw new Error("Invalid LHS term");let p=t.match(RegExp(to,"g")),m=new ro(n);return p?.forEach((f,b)=>{if(f==="..."){if(u)throw new Error("Only one ellipsis is allowed per input term");u=!0;let _=s-p.length+1;if(_<0)throw new Error("Ellipsis out of bounds");if(l=o.slice(a,a+_),this.hasEllipsis){if(this.ellipsisDims.length!==l.length||this.ellipsisDims.toString()!==l.toString())throw new Error("Ellipsis dimensions mismatch")}else if(r)this.hasEllipsis=!0,this.ellipsisDims=l;else throw new Error("Ellipsis must be specified in the LHS");for(let y=0;y<l.length;y++){let $=String.fromCharCode("0".charCodeAt(0)+y);m.addSymbol($,b+y),this.addSymbol($,o[a++],n)}}else m.addSymbol(f,b+(this.hasEllipsis?this.ellipsisDims.length-1:0)),this.addSymbol(f,o[a++],n)}),m}},ws=e=>e+"_max",Ll=(e,t,r,o)=>{let s=e.map(m=>m.length).map((m,f)=>M(`input${f}`,t,m)),u=z.size(o),l=F("output",t,o.length),a=[...r.symbolToInfo.keys()].filter(m=>!r.rhs.symbolToIndices.has(m)),p=m=>{let f=[],b="var prod = 1.0;",_="var sum = 0.0;",y="sum += prod;",$=[],I=[],C=[],v=[],A=r.symbolToInfo.size===r.rhs.symbolToIndices.size;r.symbolToInfo.forEach((D,U)=>{if(r.rhs.symbolToIndices.has(U)){let V=r.rhs.symbolToIndices.get(U)?.[0];V!==void 0&&r.lhs.forEach((H,R)=>{if(D.inputIndices.includes(R)){let L=H.symbolToIndices.get(U);if(L===void 0)throw new Error("Invalid symbol error");L.forEach(pe=>{f.push(`${s[R].indicesSet(`input${R}Indices`,pe,l.indicesGet("outputIndices",V))}`)})}})}else r.lhs.forEach((V,H)=>{if(D.inputIndices.includes(H)){let R=V.symbolToIndices.get(U);if(R===void 0)throw new Error("Invalid symbol error");R.forEach(L=>{$.push(`${s[H].indicesSet(`input${H}Indices`,L,`${U}`)}`)}),v.push(`prod *= ${s[H].getByIndices(`input${H}Indices`)};`)}}),I.push(`for(var ${U}: u32 = 0; ${U} < uniforms.${ws(U)}; ${U}++) {`),C.push("}")});let T=A?[...f,`let sum = ${s.map((D,U)=>D.getByIndices(`input${U}Indices`)).join(" * ")};`]:[...f,_,...I,...$,b,...v,y,...C];return`\n            ${m.registerUniforms(a.map(D=>({name:`${ws(D)}`,type:"u32"}))).registerUniform("outputSize","u32").declareVariables(...s,l)}\n\n            ${m.mainStart()}\n            ${m.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n            var outputIndices = ${l.offsetToIndices("global_idx")};\n            ${s.map((D,U)=>`var input${U}Indices: ${s[U].type.indices};`).join(`\n`)}\n            ${T.join(`\n`)};\n            ${l.setByOffset("global_idx","sum")};\n          }`};return{name:"Einsum",shaderCache:{hint:r.equation,inputDependencies:e.map(()=>"rank")},getRunData:()=>{let m=a.filter(b=>r.symbolToInfo.has(b)).map(b=>({type:12,data:r.symbolToInfo.get(b)?.dimValue||0}));m.push({type:12,data:u});let f=e.map((b,_)=>[...j(b)]).reduce((b,_)=>b.concat(_),m);return f.push(...j(o)),{outputs:[{dims:o,dataType:t}],dispatchGroup:{x:Math.ceil(u/64)},programUniforms:f}},getShaderSource:p}},vs=(e,t)=>{let r=new no(e.inputs,t.equation),o=r.outputDims,n=e.inputs.map((s,u)=>s.dims);e.compute(Ll(n,e.inputs[0].dataType,r,o))},$s=e=>{let t=e.equation.replace(/\\s+/g,"");return $e({equation:t})}});var Fl,xs,ql,Kl,Ss,Cs=q(()=>{"use strict";ie();_e();be();Fl=e=>{if(!e||e.length!==2)throw new Error("Expand requires 2 input.");let t=e[0].dims,r=Array.from(e[1].getBigInt64Array(),Number),o=r.length<t.length?0:r.length-t.length,n=t.length<r.length?0:t.length-r.length;for(;o<r.length&&n<t.length;++o,++n)if(r[o]!==t[n]&&r[o]!==1&&t[n]!==1)throw new Error("Expand requires shape to be broadcastable to input")},xs=(e,t)=>{let r=e.length-t.length,o=[];for(let n=0;n<r;++n)o.push(e[n]);for(let n=0;n<t.length;++n)o.push(t[n]===1?e[n+r]:t[n]);return o},ql=(e,t)=>e.length>t.length?xs(e,t):xs(t,e),Kl=e=>{let t=e[0].dims,r=Array.from(e[1].getBigInt64Array(),Number),o=ql(t,r),n=e[0].dataType,s=n===9?4:1,u=Math.ceil(z.size(o)/s),l=p=>{let m=M("input",n,t.length,s),f=F("output",n,o.length,s),b;if(n===9){let _=(y,$,I="")=>`\n          let outputIndices${$} = ${f.offsetToIndices(`outputOffset + ${$}u`)};\n          let offset${$} = ${m.broadcastedIndicesToOffset(`outputIndices${$}`,f)};\n          let index${$} = offset${$} / 4u;\n          let component${$} = offset${$} % 4u;\n          ${y}[${$}] = ${I}(${m.getByOffset(`index${$}`)}[component${$}]);\n        `;b=`\n        let outputOffset = global_idx * ${s};\n        var data = vec4<u32>(0);\n        ${_("data",0,"u32")}\n        ${_("data",1,"u32")}\n        ${_("data",2,"u32")}\n        ${_("data",3,"u32")}\n        ${f.setByOffset("global_idx","data")}\n      }`}else b=`\n        let outputIndices = ${f.offsetToIndices("global_idx")};\n        let inputOffset = ${m.broadcastedIndicesToOffset("outputIndices",f)};\n        ${f.setByOffset("global_idx",m.getByOffset("inputOffset"))}\n      }`;return`\n    ${p.registerUniform("vec_size","u32").declareVariables(m,f)}\n    ${p.mainStart()}\n    ${p.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}\n    ${b}`},a=[{type:12,data:u},...j(t,o)];return{name:"Expand",shaderCache:{hint:`${o.length}`,inputDependencies:["rank"]},getShaderSource:l,getRunData:()=>({outputs:[{dims:o,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(u/64)},programUniforms:a})}},Ss=e=>{Fl(e.inputs),e.compute(Kl(e.inputs),{inputs:[0]})}});var jl,Is,As=q(()=>{"use strict";ie();_e();be();en();jl=e=>{let t=e[0].dataType,r=z.size(e[0].dims),o=z.size(e[1].dims),n=o%4===0,s=u=>{let l=M("x",t,[1],4),a=M("bias",t,[1],4),p=F("y",t,[1],4),m=[{name:"output_vec_size",type:"u32"},{name:"bias_size",type:"u32"}],f=_=>`\n      let bias${_}_offset: u32 = (global_idx * 4 + ${_}) % uniforms.bias_size;\n      let bias${_} = ${a.getByOffset(`bias${_}_offset / 4`)}[bias${_}_offset % 4];`,b=n?`\n      let bias = ${a.getByOffset("global_idx % (uniforms.bias_size / 4)")};`:`${f(0)}${f(1)}${f(2)}${f(3)}\n      let bias = ${l.type.value}(bias0, bias1, bias2, bias3);`;return`${u.registerUniforms(m).declareVariables(l,a,p)}\n\n    ${Ln(et(t))}\n\n    ${u.mainStart(Kr)}\n      ${u.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_vec_size")}\n\n      let x = ${l.getByOffset("global_idx")};\n      ${b}\n      let x_in = x + bias;\n      ${p.setByOffset("global_idx",Fn("x_in"))}\n    }`};return{name:"FastGeluWithBias",shaderCache:{hint:`${n}`,inputDependencies:["type","type"]},getShaderSource:s,getRunData:u=>({outputs:[{dims:u[0].dims,dataType:u[0].dataType}],programUniforms:[{type:12,data:Math.ceil(r/4)},{type:12,data:o}],dispatchGroup:{x:Math.ceil(r/Kr/4)}})}},Is=e=>{e.inputs.length<2||z.size(e.inputs[1].dims)===0?Di(e):e.compute(jl(e.inputs))}});var Yl,Zl,Ts,Es,Ps=q(()=>{"use strict";ie();_e();je();be();Yl=e=>{if(!e||e.length!==2)throw new Error("Gather requires 2 inputs.")},Zl=(e,t)=>{let r=e[0].dims,o=e[1].dims,n=r.length,s=z.normalizeAxis(t.axis,n),u=r.slice(0);u.splice(s,1,...o);let l=r[s],a=e[0].dataType===9?4:1,p=Math.ceil(z.size(u)/a),m=[{type:12,data:p},{type:6,data:l},{type:12,data:s},...j(e[0].dims,e[1].dims,u)],f=b=>{let _=M("data",e[0].dataType,e[0].dims.length,a),y=M("inputIndices",e[1].dataType,e[1].dims.length),$=F("output",e[0].dataType,u.length,a),I=v=>{let A=o.length,T=`var indicesIndices${v}  = ${y.type.indices}(0);`;for(let D=0;D<A;D++)T+=`${A>1?`indicesIndices${v}[${D}]`:`indicesIndices${v}`} = ${u.length>1?`outputIndices${v}[uniforms.axis + ${D}]`:`outputIndices${v}`};`;T+=`\n          var idx${v} = ${y.getByIndices(`indicesIndices${v}`)};\n          if (idx${v} < 0) {\n            idx${v} = idx${v} + uniforms.axisDimLimit;\n          }\n          var dataIndices${v} : ${_.type.indices};\n        `;for(let D=0,U=0;D<n;D++)D===s?(T+=`${n>1?`dataIndices${v}[${D}]`:`dataIndices${v}`} = u32(idx${v});`,U+=A):(T+=`${n>1?`dataIndices${v}[${D}]`:`dataIndices${v}`} = ${u.length>1?`outputIndices${v}[${U}]`:`outputIndices${v}`};`,U++);return T},C;if(e[0].dataType===9){let v=(A,T,D="")=>`\n          let outputIndices${T} = ${$.offsetToIndices(`outputOffset + ${T}u`)};\n          ${I(T)};\n          let offset${T} = ${_.indicesToOffset(`dataIndices${T}`)};\n          let index${T} = offset${T} / 4u;\n          let component${T} = offset${T} % 4u;\n          ${A}[${T}] = ${D}(${_.getByOffset(`index${T}`)}[component${T}]);\n        `;C=`\n        let outputOffset = global_idx * ${a};\n        var value = vec4<u32>(0);\n        ${v("value",0,"u32")}\n        ${v("value",1,"u32")}\n        ${v("value",2,"u32")}\n        ${v("value",3,"u32")}\n        ${$.setByOffset("global_idx","value")}\n      `}else C=`\n      let outputIndices = ${$.offsetToIndices("global_idx")};\n      ${I("")};\n      let value = ${_.getByIndices("dataIndices")};\n      ${$.setByOffset("global_idx","value")};\n      `;return`\n      ${b.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(_,y,$)}\n      ${b.mainStart()}\n        ${b.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n        ${C}\n      }`};return{name:"Gather",shaderCache:{hint:t.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:u,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(p/64)},programUniforms:m}),getShaderSource:f}},Ts=e=>$e({axis:e.axis}),Es=(e,t)=>{let r=e.inputs;Yl(r),e.compute(Zl(e.inputs,t))}});var Ql,Xl,Os,ks,Rs=q(()=>{"use strict";ie();_e();je();be();Ql=e=>{if(!e||e.length!==2)throw new Error("GatherElements requires 2 inputs.");if(e[0].dims.length<1)throw new Error("GatherElements requires that the data input be rank >= 1.");if(e[0].dims.length!==e[1].dims.length)throw new Error(`GatherElements requires that the data input and\n                     indices input tensors be of same rank.`)},Xl=(e,t)=>{let r=e[0].dims,o=e[0].dataType,n=r.length,s=e[1].dims,u=e[1].dataType,l=z.normalizeAxis(t.axis,n),a=r[l],p=s.slice(0),m=z.size(p),f=M("input",o,n),b=M("indicesInput",u,s.length),_=F("output",o,p.length),y=[{type:12,data:m},{type:6,data:a},{type:12,data:l}];return y.push(...j(r,s,p)),{name:"GatherElements",shaderCache:{inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:p,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(m/64)},programUniforms:y}),getShaderSource:C=>`\n      ${C.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(f,b,_)}\n      ${C.mainStart()}\n      ${C.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n\n      let outputIndices = ${_.offsetToIndices("global_idx")};\n\n      var idx = ${b.getByOffset("global_idx")};\n      if (idx < 0) {\n        idx = idx + uniforms.axisDimLimit;\n      }\n      var inputIndices = ${f.type.indices}(outputIndices);\n      ${f.indicesSet("inputIndices","uniforms.axis","u32(idx)")};\n      let value = ${f.getByIndices("inputIndices")};\n\n      ${_.setByOffset("global_idx","value")};\n  }`}},Os=e=>$e({axis:e.axis}),ks=(e,t)=>{let r=e.inputs;Ql(r),e.compute(Xl(e.inputs,t))}});var Jl,ec,Bs,Ds,Ms=q(()=>{"use strict";ie();_e();be();Jl=e=>{if(!e)throw new Error("Input is missing");if(e.length<2||e.length>3)throw new Error("Invaid input number.");if(e.length===3&&e[2].dims.length>2)throw new Error("Invalid input shape of C");if(e[0].dataType!==e[1].dataType||e.length===3&&e[0].dataType!==e[2].dataType)throw new Error("Input types are mismatched")},ec=(e,t)=>{let r=e[0].dims.slice(),o=e[1].dims.slice(),[n,s,u]=Lr.getShapeOfGemmResult(r,t.transA,o,t.transB,e.length===3?e[2].dims:void 0),l=[n,s];if(!l)throw new Error("Can\'t use gemm on the given tensors");let a=z.size(l),p=[{type:12,data:a},{type:12,data:n},{type:12,data:s},{type:12,data:u},{type:1,data:t.alpha},{type:1,data:t.beta}],m=["type","type"];e.length===3&&(p.push(...j(e[2].dims)),m.push("rank")),p.push(...j(l));let f=b=>{let _="";t.transA&&t.transB?_="value += a[k * uniforms.M + m] * b[n * uniforms.K + k];":t.transA&&!t.transB?_="value += a[k * uniforms.M + m] * b[k * uniforms.N + n];":!t.transA&&t.transB?_="value += a[m * uniforms.K + k] * b[n * uniforms.K + k];":!t.transA&&!t.transB&&(_="value += a[m * uniforms.K + k] * b[k * uniforms.N + n];");let y=t.alpha===1?"":"value *= uniforms.alpha;",$=M("a",e[0].dataType,e[0].dims),I=M("b",e[1].dataType,e[1].dims),C=$.type.value,v=null,A=[$,I];e.length===3&&(v=M("c",e[2].dataType,e[2].dims.length),A.push(v));let T=F("output",e[0].dataType,l.length);A.push(T);let D=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}];return`\n  ${b.registerUniforms(D).declareVariables(...A)}\n\n  ${b.mainStart()}\n    ${b.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n\n    let m = global_idx / uniforms.N;\n    let n = global_idx % uniforms.N;\n\n    var value = ${C}(0);\n    for (var k: u32 = 0u; k < uniforms.K; k++) {\n      ${_}\n    }\n\n    ${y}\n    ${(()=>v!=null?`let cOffset = ${v.broadcastedIndicesToOffset("vec2(m, n)",T)}; value += ${C}(uniforms.beta) * ${v.getByOffset("cOffset")};`:"")()}\n    output[global_idx] = value;\n  }`};return{name:"Gemm",shaderCache:{hint:`${t.cacheKey}`,inputDependencies:m},getRunData:()=>({outputs:[{dims:l,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(a/64)},programUniforms:p}),getShaderSource:f}},Bs=e=>{let t=e.transA,r=e.transB,o=e.alpha,n=e.beta;return{transA:t,transB:r,alpha:o,beta:n,cacheKey:`${e.transA};${e.transB};${e.alpha===1}`}},Ds=(e,t)=>{Jl(e.inputs),e.compute(ec(e.inputs,t))}});var tc,rc,nc,zs,Us=q(()=>{"use strict";ie();_e();be();tc=(e,t)=>{let r=e[0].dims,o=r,n=2,s=z.sizeToDimension(r,n),u=z.sizeFromDimension(r,n),l=Me(u),a=u/l,p=[r[0],r[1],a],m=["rank","type","type"],f=[{type:12,data:u},{type:12,data:a}];f.push(...j(p,p));let b=_=>{let y=M("x",e[0].dataType,p.length,l),$=M("scale",e[1].dataType,e[1].dims),I=M("bias",e[2].dataType,e[2].dims),C=F("output",e[0].dataType,p.length,l),v=[y,$,I,C],A=y.type.value,T=l===1?"f32":`vec${l}<f32>`,D=64,U=[{name:"normSize",type:"u32"},{name:"normPackedSize",type:"u32"}];return`\n  var<workgroup> meanShared : f32;\n  var<workgroup> squaredNormShared : f32;\n  var<workgroup> workgroupShared : array<${T}, ${D}>;\n  const workgroupSize = ${D}u;\n  ${_.registerUniforms(U).declareVariables(...v)}\n  ${_.mainStart(D)}\n    let norm = global_idx / workgroupSize;\n    let batch = norm / uniforms.x_shape[1];\n    let channel = norm % uniforms.x_shape[1];\n    let localIndex = local_id.x;\n\n    // initialize workgroup memory\n    var initial = ${T}(0);\n    for (var h = localIndex; h < uniforms.normPackedSize; h += workgroupSize) {\n      initial = initial + ${T}(${y.get("batch","channel","h")});\n    }\n    workgroupShared[localIndex] = initial;\n    workgroupBarrier();\n\n    // Calculate the mean of current channel data.\n    for (var currSize = workgroupSize >> 1;  currSize > 0; currSize = currSize >> 1) {\n      if (localIndex < currSize) {\n        workgroupShared[localIndex] = workgroupShared[localIndex] + workgroupShared[localIndex + currSize];\n      }\n      workgroupBarrier();\n    }\n    if (localIndex == 0) {\n      meanShared = ${tt("workgroupShared[0]",l)} / f32(uniforms.normSize);\n    }\n    workgroupBarrier();\n\n    // reinitialize workgroup memory.\n    initial = ${T}(0);\n    for (var h = localIndex; h < uniforms.normPackedSize; h += workgroupSize) {\n      let deviation =  ${T}(${y.get("batch","channel","h")}) - ${T}(meanShared);\n      initial = initial + deviation * deviation;\n    }\n    workgroupShared[localIndex] = initial;\n    workgroupBarrier();\n\n    // Calculate the sum of square of deviation of current channel data.\n    for (var currSize = workgroupSize >> 1;  currSize > 0; currSize = currSize >> 1) {\n      if (localIndex < currSize) {\n        workgroupShared[localIndex] = workgroupShared[localIndex] + workgroupShared[localIndex + currSize];\n      }\n      workgroupBarrier();\n    }\n    if (localIndex == 0) {\n      squaredNormShared = ${tt("workgroupShared[0]",l)};\n    }\n    workgroupBarrier();\n\n    let invStdDev = inverseSqrt(squaredNormShared / f32(uniforms.normSize) + f32(${t.epsilon}));\n    let channelScale = invStdDev * f32(${$.getByOffset("channel")});\n    let channelShift = f32(${I.getByOffset("channel")}) - meanShared * channelScale;\n    for (var h = localIndex; h < uniforms.normPackedSize; h += workgroupSize) {\n      let value = ${y.get("batch","channel","h")} * ${A}(${T}(channelScale)) + ${A}(${T}(channelShift));\n      ${C.set("batch","channel","h","value")};\n    }\n  }`};return{name:"InstanceNormalization",shaderCache:{hint:`${t.epsilon};${l}`,inputDependencies:m},getRunData:()=>({outputs:[{dims:o,dataType:e[0].dataType}],dispatchGroup:{x:s},programUniforms:f}),getShaderSource:b}},rc=(e,t,r,o,n,s,u,l)=>{let a=Me(u),p=64,m=a===1?"vec2f":`mat2x${a}f`,f=a===1?"f32":`vec${a}f`,b=(U,V)=>`${m}(${U}, ${V})`,_=n*u/a,y=Math.ceil(s/p),$=["type"],I=[{type:12,data:y},{type:12,data:s},{type:12,data:Math.floor(u/a)},{type:12,data:Math.floor(s*u/a)}],C=U=>{let V=M("input",t.dataType,t.dims,a);return`\n  ${U.declareVariables(V)}\n  @group(0) @binding(1) var<storage, read_write> output : array<${m}>;\n  struct Uniforms {wg_size:u32, H:u32, C:u32, image_size:u32};\n  @group(0) @binding(2) var<uniform> uniforms: Uniforms;\n\n  ${U.mainStart(p)}\n    let currentImageNumber = global_idx / ${p} / uniforms.C;\n    let currentChannelNumber = (global_idx / ${p}) % uniforms.C;\n    let wgId = global_idx % ${p};\n    let wgOffset = wgId * uniforms.wg_size;\n    if (wgOffset >= uniforms.H) {\n        return;\n    }\n    let wgMax = min(wgOffset + uniforms.wg_size, uniforms.H);\n\n    let offset = currentImageNumber * uniforms.image_size + currentChannelNumber;\n    var sum = ${Ye("f32",a)};\n    var squaredSum = ${Ye("f32",a)};\n    for (var i: u32 = wgOffset; i < wgMax; i++) {\n        let value = ${f}(input[offset + i * uniforms.C]);\n        sum += value;\n        squaredSum += value * value;\n    }\n    output[global_idx] = ${b("sum","squaredSum")};\n  }`},v=e.compute({name:"InstanceNormComputeMean",shaderCache:{hint:`${a}`,inputDependencies:$},getRunData:()=>({outputs:[{dims:[n,u,p,2],dataType:1}],dispatchGroup:{x:n*u/a},programUniforms:I}),getShaderSource:C},{inputs:[t],outputs:[-1]})[0],A=[{type:12,data:_},{type:12,data:s},{type:12,data:Math.floor(u/a)},{type:12,data:Math.floor(p*u/a)}],T=["type","type","type"],D=U=>{let V=M("scale",r.dataType,r.dims,a),H=M("bias",o.dataType,o.dims,a);return`\n  @group(0) @binding(0) var<storage, read> input : array<${m}>;\n  @group(0) @binding(1) var<storage, read> scale : array<${V.type.storage}>;\n  @group(0) @binding(2) var<storage, read> bias : array<${H.type.storage}>;\n  @group(0) @binding(3) var<storage, read_write> output : array<${m}>;\n  struct Uniforms {units_of_work : u32, H: u32, C : u32, image_size : u32};\n  @group(0) @binding(4) var<uniform> uniforms: Uniforms;\n\n  ${U.mainStart()}\n    ${U.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.units_of_work")}\n    let currentImageNumber = global_idx / uniforms.C;\n    let currentChannelNumber = global_idx % uniforms.C;\n\n    let offset = currentImageNumber * uniforms.image_size;\n    var sum = ${Ye("f32",a)};\n    var squaredSum = ${Ye("f32",a)};\n    for (var i: u32 = 0; i < min(${p}, uniforms.H); i++) {\n        let value = input[offset + i + currentChannelNumber * ${p}];\n        sum += value[0];\n        squaredSum += value[1];\n    }\n    sum = sum / f32(uniforms.H);\n    squaredSum = squaredSum / f32(uniforms.H);\n    let invStdDev = inverseSqrt(squaredSum - sum * sum + f32(${l}));\n    let channelScale = invStdDev * ${f}(scale[currentChannelNumber]);\n    let channelShift = ${f}(bias[currentChannelNumber]) - sum * channelScale;\n\n    output[global_idx] = ${b("channelScale","channelShift")};\n  }`};return e.compute({name:"InstanceNormComputeChannelScaleShift",shaderCache:{hint:`${a};${l}`,inputDependencies:T},getRunData:()=>({outputs:[{dims:[n,u,2],dataType:1}],dispatchGroup:{x:Math.ceil(_/64)},programUniforms:A}),getShaderSource:D},{inputs:[v,r,o],outputs:[-1]})[0]},nc=(e,t,r)=>{let o=t[0].dims,n=o,s=o[0],u=o[o.length-1],l=z.sizeFromDimension(o,1)/u,a=Me(u),p=z.size(n)/a,m=[{type:12,data:l},{type:12,data:Math.floor(u/a)}],f=["type","type"],b=rc(e,t[0],t[1],t[2],s,l,u,r.epsilon),_=y=>{let $=Pe(t[0].dataType),I=a===1?"vec2f":`mat2x${a}f`,C=a===1?$:`vec${a}<${$}>`,v=M("input",t[0].dataType,t[0].dims,a),A=F("output",t[0].dataType,n,a);return`\n  @group(0) @binding(0) var<storage, read> input : array<${v.type.storage}>;\n  @group(0) @binding(1) var<storage, read> scaleInput : array<${I}>;\n  @group(0) @binding(2) var<storage, read_write> output : array<${A.type.storage}>;\n  struct Uniforms {H: u32, C : u32};\n  @group(0) @binding(3) var<uniform> uniforms: Uniforms;\n\n  ${y.mainStart()}\n    let currentImageNumber = global_idx / (uniforms.C * uniforms.H);\n    let currentChannelNumber = global_idx % uniforms.C;\n\n    let scaleOffset = currentImageNumber * uniforms.C + currentChannelNumber;\n    let scale = scaleInput[scaleOffset];\n    output[global_idx] = fma(input[global_idx], ${C}(scale[0]), ${C}(scale[1]));\n  }`};e.compute({name:"InstanceNormalizationNHWC",shaderCache:{hint:`${a}`,inputDependencies:f},getRunData:()=>({outputs:[{dims:n,dataType:t[0].dataType}],dispatchGroup:{x:Math.ceil(p/64)},programUniforms:m}),getShaderSource:_},{inputs:[t[0],b]})},zs=(e,t)=>{t.format==="NHWC"?nc(e,e.inputs,t):e.compute(tc(e.inputs,t))}});var oc,ac,Vs,Ns=q(()=>{"use strict";ie();_e();be();oc=e=>{if(!e||e.length<2)throw new Error("layerNorm requires at least 2 inputs.")},ac=(e,t,r)=>{let o=e[0].dims,n=e[1],s=e[2],u=o,l=z.normalizeAxis(t.axis,o.length),a=z.sizeToDimension(o,l),p=z.sizeFromDimension(o,l),m=z.size(n.dims),f=s?z.size(s.dims):0;if(m!==p||s&&f!==p)throw new Error(`Size of X.shape()[axis:] == ${p}.\n       Size of scale and bias (if provided) must match this.\n       Got scale size of ${m} and bias size of ${f}`);let b=[];for(let T=0;T<o.length;++T)T<l?b.push(o[T]):b.push(1);let _=Me(p),y=["type","type"],$=[{type:12,data:a},{type:1,data:p},{type:12,data:Math.floor(p/_)},{type:1,data:t.epsilon}];s&&y.push("type");let I=r>1,C=r>2,v=T=>{let D=Pe(e[0].dataType),U=[M("x",e[0].dataType,e[0].dims,_),M("scale",n.dataType,n.dims,_)];s&&U.push(M("bias",s.dataType,s.dims,_)),U.push(F("output",e[0].dataType,u,_)),I&&U.push(F("mean_data_output",1,b)),C&&U.push(F("inv_std_output",1,b));let V=[{name:"norm_count",type:"u32"},{name:"norm_size",type:"f32"},{name:"norm_size_vectorized",type:"u32"},{name:"epsilon",type:"f32"}];return`\n  ${T.registerUniforms(V).declareVariables(...U)}\n  ${T.mainStart()}\n    ${T.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.norm_count")}\n    let offset = global_idx * uniforms.norm_size_vectorized;\n    var mean_vector = ${Ye("f32",_)};\n    var mean_square_vector = ${Ye("f32",_)};\n\n    for (var h: u32 = 0u; h < uniforms.norm_size_vectorized; h++) {\n      let value = ${st(D,_,"x[h + offset]")};\n      mean_vector += value;\n      mean_square_vector += value * value;\n    }\n    let mean = ${tt("mean_vector",_)} / uniforms.norm_size;\n    let inv_std_dev = inverseSqrt(${tt("mean_square_vector",_)} / uniforms.norm_size - mean * mean + uniforms.epsilon);\n\n    for (var j: u32 = 0; j < uniforms.norm_size_vectorized; j++) {\n      let f32input = ${st(D,_,"x[j + offset]")};\n      let f32scale = ${st(D,_,"scale[j]")};\n      output[j + offset] = ${U[0].type.value}((f32input - mean) * inv_std_dev * f32scale\n        ${s?`+ ${st(D,_,"bias[j]")}`:""}\n      );\n    }\n\n    ${I?"mean_data_output[global_idx] = mean":""};\n    ${C?"inv_std_output[global_idx] = inv_std_dev":""};\n  }`},A=[{dims:u,dataType:e[0].dataType}];return I&&A.push({dims:b,dataType:1}),C&&A.push({dims:b,dataType:1}),{name:"LayerNormalization",shaderCache:{hint:`${_};${r}`,inputDependencies:y},getRunData:()=>({outputs:A,dispatchGroup:{x:Math.ceil(a/64)},programUniforms:$}),getShaderSource:v}},Vs=(e,t)=>{oc(e.inputs),e.compute(ac(e.inputs,t,e.outputCount))}});var ic,sc,Ws,Gs,Hs=q(()=>{"use strict";ie();_e();je();be();ic=(e,t)=>{if(e.length<3||e.length>4)throw new Error("MatMulNBits requires 3 or 4 inputs");let r=e[0],o=r.dims.length;if(r.dims[o-1]!==t.k)throw new Error("The last dim of input shape does not match the k value");let n=Math.floor((t.k+t.blockSize-1)/t.blockSize),s=t.blockSize/8*t.bits,u=e[1];if(!z.areEqual(u.dims,[t.n,n,s]))throw new Error("The second inputs must be 3D tensor with shape N X nBlocksPerCol X blobSize");let a=e[2].dims;if(z.size(a)!==t.n*n)throw new Error("scales input size error.");if(e.length===4){let m=e[3].dims,f=t.bits>4?t.n*n:t.n*Math.floor((n+1)/2);if(z.size(m)!==f)throw new Error("zeroPoints input size error.")}},sc=(e,t)=>{let r=e[0].dims,o=r.length,n=r.slice(0,o-1).concat(t.n),s=r[o-2],l=t.blockSize/8*t.bits/4,a=Me(s),p=Me(t.n),m=Me(t.k),f=Me(l),b=z.size(n)/p/a,_=[{type:12,data:b},{type:12,data:t.k},{type:12,data:t.n},{type:12,data:t.accuracyLevel},{type:12,data:t.bits},{type:12,data:t.blockSize}],y=r.slice();y.splice(-1,1,t.k/m);let $=z.convertShape(e[1].dims).slice();$.splice(-1,1,l/f),_.push(...j(y)),_.push(...j($)),_.push(...j(e[2].dims)),e.length===4&&_.push(...j(z.convertShape(e[3].dims)));let I=n.slice();I.splice(-1,1,t.n/p),_.push(...j(I));let C=v=>{let A=M("a",e[0].dataType,y.length,m),T=M("b",12,$.length,f),D=M("scales",e[2].dataType,e[2].dims.length),U=[A,T,D],V=e.length===4?M("zero_points",12,e[3].dims.length):void 0;V&&U.push(V);let H=F("output",e[0].dataType,n.length,p),R=[{name:"output_size",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"accuracy_level",type:"u32"},{name:"bits",type:"u32"},{name:"block_size",type:"u32"}],L=Math.floor((t.k+t.blockSize-1)/t.blockSize),pe=Pe(e[0].dataType),Ie=(()=>{switch(m){case 1:return`array<${pe}, 8>`;case 2:return`mat4x2<${pe}>`;case 4:return`mat2x4<${pe}>`;default:throw new Error(`${m}-component is not supported.`)}})(),we=`\n        fn dequantize(quantized: ${Ie}, zero_point: ${pe}, scale: ${pe}) -> ${Ie} {\n          ${(()=>m===1?`var dequantized = ${Ie}(${Array.from({length:8},(Q,xe)=>`(quantized[${xe}] - zero_point) * scale`).join(", ")});\n              return dequantized;`:`var zero_points: ${Ie} = ${Ie}(${Array(8).fill("zero_point").join(",")});\n              return (quantized - zero_points) * scale;`)()}\n        }`,ne=`\n        fn ortUnpack8x4snorm(value: u32) -> ${Ie} {\n          var quantized: ${Ie};\n          var offset: u32 = 0;\n          let count: u32 = 4;\n          for (var i: u32 = 0; i < 8u; i++) {\n            var result = ${pe}(extractBits(value, offset, count));\n            ${(()=>{switch(m){case 1:return"quantized[i] = result;";case 2:return"quantized[i / 2][i % 2] = result;";case 4:return"quantized[i / 4][i % 4] = result;";default:throw new Error(`${m}-component is not supported.`)}})()}\n            offset += count;\n          }\n          return quantized;\n        }`,ze=V?`\n          zero_point_offset += 4;\n          if (zero_point_offset == 32) {\n            zero_point_offset = 0;\n            zero_point_index++;\n            zero_point_word = ${V.getByOffset("zero_point_index")};\n          }`:"";return`\n        ${we};\n        ${ne};\n        ${v.registerUniforms(R).declareVariables(...U,H)}\n        ${v.mainStart()}\n          ${v.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n          var output_values: array<${H.type.value}, ${a}>;\n          var output_indices = ${H.offsetToIndices("global_idx")};\n          var n = ${H.indicesGet("output_indices",o-1)};\n          var m = ${H.indicesGet("output_indices",o-2)};\n          var a_indices: ${A.type.indices} = output_indices;\n          // Two zero points are packed into one byte because uniforms.bits <= 4.\n          // zero_point_offset is either 0 or 4. It is bit offset within one byte.\n          // TODO support zero_point_offset for bits > 4\n          ${V?`\n          var zero_point_index: u32 = n * ${p} * ((${L} + 1) / 2) / 4;\n          var zero_point_word: u32 = ${V.getByOffset("zero_point_index")};\n          var zero_point_offset: u32 = 0;`:""}\n          var scale_index = n * ${L*p};\n          var b_indices: ${T.type.indices};\n          for (var c: u32 = 0; c < ${p}; c++) {\n            ${T.indicesSet("b_indices","0",`n * ${p} + c`)};\n            var block_offset: u32 = 0;\n            for (var block: u32 = 0; block < ${L}; block++) {\n              // The scale and zero points are computed per block.\n              let scale = ${D.getByOffset("scale_index")};\n              // The default zero point is 8 for unsigned 4-bit quantization.\n              let zero_point = ${pe}(${V?"extractBits(zero_point_word, zero_point_offset, 4)":8});\n              ${T.indicesSet("b_indices","1","block")};\n              var word_offset: u32 = block_offset;\n              for (var word: u32 = 0; word < ${l}; word += ${f}) {\n                ${T.indicesSet("b_indices","2","word")};\n                let b_data = ${T.getByIndices("b_indices")};\n                for (var i: u32 = 0; i < ${f}; i++) {\n                  let b_value = ${f===1?"b_data":"b_data[word + i]"};\n                  let b_quantized_values: ${Ie} = ortUnpack8x4snorm(b_value);\n                  let b_dequantized_values = dequantize(b_quantized_values, zero_point, scale);\n                  // Number of B elements per 32-bit word is 32/bits = 32/4 = 8\n                  var offset: u32 = word_offset;\n                  for (var j: u32 = 0; j < 8/${m}; j++) {\n                    ${A.indicesSet("a_indices",o-1,`offset/${m}`)};\n                    for (var k: u32 = 0; k < ${a}u; k++) {\n                      ${A.indicesSet("a_indices",o-2,`m * ${a} + k`)};\n                      let a_data = ${A.getByIndices("a_indices")};\n                      output_values[k]${p>1?"[c]":""} += ${m===1?"a_data * b_dequantized_values[j]":"dot(a_data, b_dequantized_values[j])"};\n                    }\n                    offset += ${m};\n                  }\n                  word_offset += 8;\n                }\n              }\n              scale_index++;\n              ${ze}\n              block_offset += uniforms.block_size;\n            }\n            // Drop the trailing 4 bits if the zero_poit_offset is not a byte boundary to align with the next byte.\n            ${V?`if (zero_point_offset % 8 > 0) {\n                ${ze}\n              }`:""}\n            }\n            for (var k: u32 = 0u; k < ${a}u; k++) {\n              ${H.indicesSet("output_indices",o-2,`${a+" * m + k"}`)};\n              ${H.setByIndices("output_indices","output_values[k]")}\n            }\n        }`};return{name:"MatMulNBits",shaderCache:{hint:`${t.cacheKey};${e.length}`,inputDependencies:Array(e.length).fill("rank")},getRunData:()=>({outputs:[{dims:n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(b/64)},programUniforms:_}),getShaderSource:C}},Ws=(e,t)=>{ic(e.inputs,t),e.compute(sc(e.inputs,t))},Gs=e=>$e(e)});var uc,Fs,Ls,dc,oo,qs,Ks=q(()=>{"use strict";ie();_e();je();Gr();Hn();be();Yt();uc=(e,t)=>{let r=e[0],o=e[1],n=e[2],s=e[3],u=e[4],l=e[5],a=e[6],p=e[7];if(r.dims.length!==3&&r.dims.length!==5)throw new Error("Input query is expected to have 3 or 5 dimensions");let m=!1,f=r.dims[0],b=r.dims[1],_=r.dims.length===3?m?r.dims[2]/3:r.dims[2]:t.numHeads*r.dims[4],y=b,$=0,I=0,C=Math.floor(_/t.numHeads);if(a&&p){if(a.dims.length!==4)throw new Error(\'Input "past_key" is expected to have 4 dimensions\');if(p.dims.length!==4)throw new Error(\'Input "past_value" is expected to have 4 dimensions\');$=a.dims[2],I=a.dims[2]}else if(a||p)throw new Error(\'Input "past_key" and "past_value" shall be both present or both absent\');let v;if(o){if(r.dims.length!==3)throw new Error(\'Input "query" is expected to have 3 dimensions when key is given\');if(o.dims.length<3||o.dims.length>5)throw new Error(\'Input "key" is expected to have 3, 4, or 5 dimensions\');if(r.dims[0]!==o.dims[0])throw new Error(\'Input "query" and "key" shall have same dim 0 (batch size)\');if(o.dims.length===3){if(o.dims[2]!==r.dims[2])throw new Error(\'Input "query" and "key" shall have same dim 2 (hidden_size)\');v=2,y=o.dims[1]}else if(o.dims.length===5){if(o.dims[2]!==t.numHeads||o.dims[3]!==2||o.dims[4]!==C)throw new Error(\'Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv\');if(n)throw new Error(\'Expect "value" be none when "key" has packed kv format.\');v=5,y=o.dims[1]}else{if(o.dims[1]!==t.numHeads||o.dims[3]!==C)throw new Error(\'Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key\');v=0,y=o.dims[2]}}else{if(r.dims.length!==3&&r.dims.length!==5)throw new Error(\'Input "query" is expected to have 3 or 5 dimensions when key is empty\');if(r.dims.length===5&&(r.dims[2]!==t.numHeads||r.dims[3]!==3))throw new Error(\'Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv\');v=3}if(s){if(s.dims.length!==1)throw new Error(\'Input "bias" is expected to have 1 dimension\');if(n&&r.dims.length===5&&r.dims[3]===2)throw new Error("bias is not allowed for packed kv.")}let A=0;if(u){A=8;let H=u.dims;throw H.length===1?H[0]===f?A=1:H[0]===3*f+2&&(A=3):H.length===2&&H[0]===f&&H[1]===y&&(A=5),A===8?new Error(\'Input "key_padding_mask" shape shall be (batch_size) or (batch_size, kv_sequence_length)\'):new Error("Mask not supported")}let T=!1,D=_;if(n){if(n.dims.length!==3&&n.dims.length!==4)throw new Error(\'Input "value" is expected to have 3 or 4 dimensions\');if(r.dims[0]!==n.dims[0])throw new Error(\'Input "query" and "value" shall have same dim 0 (batch_size)\');if(n.dims.length===3){if(y!==n.dims[1])throw new Error(\'Input "key" and "value" shall have the same dim 1 (kv_sequence_length)\');D=n.dims[2]}else{if(y!==n.dims[2])throw new Error(\'Input "past_key" and "past_value" shall have the same dim 2 (kv_sequence_length)\');D=n.dims[1]*n.dims[3],T=!0}}let U=$+y,V=!1;if(u)throw new Error("Key padding mask is not supported");if(l)throw new Error("extraAddQk is not supported");if(a)throw new Error("pastKey is not supported");if(p)throw new Error("pastValue is not supported");return{batchSize:f,sequenceLength:b,pastSequenceLength:$,kvSequenceLength:y,totalSequenceLength:U,maxSequenceLength:I,inputHiddenSize:0,hiddenSize:_,vHiddenSize:D,headSize:C,vHeadSize:Math.floor(D/t.numHeads),numHeads:t.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:t.maskFilterValue,maskType:A,scale:t.scale,broadcastResPosBias:V,passPastInKv:T,qkvFormat:v}},Fs=e=>$e({...e}),Ls=$e({perm:[0,2,1,3]}),dc=(e,t,r,o,n,s,u)=>{let l=[o,n,s],a=z.size(l),p=[{type:12,data:a},{type:12,data:u},{type:12,data:s}],m=f=>{let b=F("qkv_with_bias",t.dataType,l),_=M("qkv",t.dataType,l),y=M("bias",r.dataType,l),$=[{name:"output_size",type:"u32"},{name:"bias_offset",type:"u32"},{name:"hidden_size",type:"u32"}];return`\n  ${f.registerUniforms($).declareVariables(_,y,b)}\n  ${f.mainStart()}\n    ${f.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n    let bias_offset_idx = (global_idx % uniforms.hidden_size) + uniforms.bias_offset;\n\n    qkv_with_bias[global_idx] = qkv[global_idx] + bias[bias_offset_idx];\n  }`};return e.compute({name:"MultiHeadAttentionAddBias",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:l,dataType:t.dataType,gpuDataType:0}],dispatchGroup:{x:Math.ceil(a/64)},programUniforms:p}),getShaderSource:m},{inputs:[t,r],outputs:[-1]})[0]},oo=(e,t,r,o,n,s,u,l)=>{let a=s;if(u){if(o===1)throw new Error("AddBiasReshape is not implemented. Please export your model with packed QKV or KV");return a=dc(e,s,u,t,o,r*n,l),a=a.reshape([t,o,r,n]),e.compute(ot(a,Ls.perm),{inputs:[a],outputs:[-1]})[0]}else return s.dims.length===3&&(a=s.reshape([t,o,r,n])),e.compute(ot(a,Ls.perm),{inputs:[a],outputs:[-1]})[0]},qs=(e,t)=>{let r=uc(e.inputs,t);if(e.inputs[0].dims.length===5)throw new Error("Packed QKV is not implemented");if(e.inputs[1]?.dims.length===5)throw new Error("Packed KV is not implemented");let o=e.inputs[1]&&e.inputs[2]&&e.inputs[1].dims.length===4&&e.inputs[2].dims.length===4,n=oo(e,r.batchSize,r.numHeads,r.sequenceLength,r.headSize,e.inputs[0],e.inputs[3],0);if(o)return Qr(e,n,e.inputs[1],e.inputs[2],e.inputs[4],void 0,void 0,void 0,e.inputs[5],r,t);let s=oo(e,r.batchSize,r.numHeads,r.kvSequenceLength,r.headSize,e.inputs[1],e.inputs[3],r.hiddenSize),u=oo(e,r.batchSize,r.numHeads,r.kvSequenceLength,r.vHeadSize,e.inputs[2],e.inputs[3],2*r.hiddenSize);Qr(e,n,s,u,e.inputs[4],void 0,e.inputs[6],e.inputs[7],e.inputs[5],r,t)}});var lc,cc,pc,mc,fc,hc,gc,yc,js,Ys=q(()=>{"use strict";ie();_e();be();lc=e=>{if(!e||e.length<1)throw new Error("Too few inputs");if(e[0].dataType!==1&&e[0].dataType!==10)throw new Error("Input type must be float or float16.");if(e.length>=2){let t=e[0].dims.length*2===e[1].dims[0];if(e.length===4&&(t=e[3].dims[0]*2===e[1].dims[0]),!t)throw new Error("The pads should be a 1D tensor of shape [2 * input_rank] or [2 * num_axes].")}},cc=(e,t,r)=>{let o="";for(let n=t-1;n>=0;--n)o+=`\n            k = i32(${e.indicesGet("indices",n)}) - ${re("uniforms.pads",n,r)};\n            if (k < 0) {\n              break;\n            }\n            if (k >= i32(${re("uniforms.x_shape",n,t)})) {\n              break;\n            }\n            offset += k * i32(${re("uniforms.x_strides",n,t)});\n        `;return`\n          value = ${e.type.value}(uniforms.constant_value);\n          for (var i = 0; i < 1; i++) {\n            var offset = 0;\n            var k = 0;\n            ${o}\n            value = x[offset];\n          }\n      `},pc=(e,t,r)=>{let o="";for(let n=t-1;n>=0;--n)o+=`\n                k = i32(${e.indicesGet("indices",n)}) - ${re("uniforms.pads",n,r)};\n                if (k < 0) {\n                  k = -k;\n                }\n                {\n                  let _2n_1 = 2 * (i32(${re("uniforms.x_shape",n,t)}) - 1);\n                  k = k % _2n_1;\n                  if(k >= i32(${re("uniforms.x_shape",n,t)})) {\n                    k = _2n_1 - k;\n                  }\n                }\n                offset += k * i32(${re("uniforms.x_strides",n,t)});\n            `;return`\n              var offset = 0;\n              var k = 0;\n              ${o}\n              value = x[offset];\n          `},mc=(e,t,r)=>{let o="";for(let n=t-1;n>=0;--n)o+=`\n                k = i32(${e.indicesGet("indices",n)}) - ${re("uniforms.pads",n,r)};\n                if (k < 0) {\n                  k = 0;\n                }\n                if (k >= i32(${re("uniforms.x_shape",n,t)})) {\n                  k = i32(${re("uniforms.x_shape",n,t)}) - 1;\n                }\n                offset += k * i32(${re("uniforms.x_strides",n,t)});\n            `;return`\n              var offset = 0;\n              var k = 0;\n              ${o}\n              value = x[offset];\n          `},fc=(e,t,r)=>{let o="";for(let n=t-1;n>=0;--n)o+=`\n                k = i32(${e.indicesGet("indices",n)}) - ${re("uniforms.pads",n,r)};\n                if (k < 0)  {\n                  k += i32(${re("uniforms.x_shape",n,t)}]);\n                }\n                if (k >= i32(${re("uniforms.x_shape",n,t)})) {\n                  k -= i32(${re("uniforms.x_shape",n,t)});\n                }\n                offset += k * i32(${re("uniforms.x_strides",n,t)});\n            `;return`\n              var offset = 0;\n              var k = 0;\n              ${o}\n              value = x[offset];\n          `},hc=(e,t,r)=>{switch(r.mode){case 0:return cc(e,t,r.pads.length);case 1:return pc(e,t,r.pads.length);case 2:return mc(e,t,r.pads.length);case 3:return fc(e,t,r.pads.length);default:throw new Error("Invalid mode")}},gc=(e,t)=>{let r=z.padShape(e[0].dims.slice(),t.pads),o=e[0].dims,n=z.size(r),s=[{type:12,data:n},{type:12,data:t.pads}];t.mode===0&&s.push({type:e[0].dataType,data:t.value}),s.push(...j(e[0].dims,r));let u=["rank"],l=a=>{let p=F("output",e[0].dataType,r.length),m=M("x",e[0].dataType,o.length),f=m.type.value,b=hc(p,o.length,t),_=[{name:"output_size",type:"u32"},{name:"pads",type:"i32",length:t.pads.length}];return t.mode===0&&_.push({name:"constant_value",type:f}),`\n            ${a.registerUniforms(_).declareVariables(m,p)}\n            ${a.mainStart()}\n            ${a.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n\n            let indices = ${p.offsetToIndices("global_idx")};\n\n            var value = ${f}(0);\n            ${b}\n            output[global_idx] = value;\n        }`};return{name:"Pad",shaderCache:{hint:`${t.mode}`,inputDependencies:u},getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(z.size(r)/64)},programUniforms:s}),getShaderSource:l}},yc=(e,t)=>{if(e.length>1){let r=e[1].getBigInt64Array(),o=e.length>=3&&e[2].data?e[2].getFloat32Array()[0]:0,n=e[0].dims.length,s=new Int32Array(2*n).fill(0);if(e.length>=4){let l=e[3].getBigInt64Array();for(let a=0;a<l.length;a++)s[Number(l[a])]=Number(r[a]),s[Number(l[a])+n]=Number(r[a+l.length])}else r.forEach((l,a)=>s[Number(a)]=Number(l));let u=[];return s.forEach(l=>u.push(l)),{mode:t.mode,value:o,pads:u}}else return t},js=(e,t)=>{lc(e.inputs);let r=yc(e.inputs,t);e.compute(gc(e.inputs,r),{inputs:[0]})}});var dn,Zs,Qs,Xs,Js,bc,wc,eu,tu,ru,nu,ou,au,iu,su,uu,du,lu,cu,pu=q(()=>{"use strict";Kt();ie();_e();be();dn=e=>{if(qt.webgpu.validateInputContent&&(!e||e.length!==1))throw new Error("Pool ops requires 1 input.")},Zs=(e,t,r)=>{let o=t.format==="NHWC",n=e.dims.slice();o&&n.splice(1,0,n.pop());let s=Object.hasOwnProperty.call(t,"dilations"),u=t.kernelShape.slice(),l=t.strides.slice(),a=s?t.dilations.slice():[],p=t.pads.slice();zt.adjustPoolAttributes(r,n,u,l,a,p);let m=zt.computePoolOutputShape(r,n,l,a,u,p,t.autoPad),f=Object.assign({},t);s?Object.assign(f,{kernelShape:u,strides:l,pads:p,dilations:a,cacheKey:t.cacheKey}):Object.assign(f,{kernelShape:u,strides:l,pads:p,cacheKey:t.cacheKey});let b=m.slice();return b.push(b.splice(1,1)[0]),[f,o?b:m]},Qs=(e,t)=>{let r=t.format==="NHWC",o=z.size(e),n=z.size(t.kernelShape),s=[{type:12,data:o},{type:12,data:n}],u=[{name:"outputSize",type:"u32"},{name:"kernelSize",type:"u32"}];if(t.kernelShape.length<=2){let l=t.kernelShape[t.kernelShape.length-1],a=t.strides[t.strides.length-1],p=t.pads[t.pads.length/2-1],m=t.pads[t.pads.length-1],f=!!(p+m);s.push({type:12,data:l},{type:12,data:a},{type:12,data:p},{type:12,data:m}),u.push({name:"kw",type:"u32"},{name:"sw",type:"u32"},{name:"pwStart",type:"u32"},{name:"pwEnd",type:"u32"});let b=!1;if(t.kernelShape.length===2){let _=t.kernelShape[t.kernelShape.length-2],y=t.strides[t.strides.length-2],$=t.pads[t.pads.length/2-2],I=t.pads[t.pads.length-2];b=!!($+I),s.push({type:12,data:_},{type:12,data:y},{type:12,data:$},{type:12,data:I}),u.push({name:"kh",type:"u32"},{name:"sh",type:"u32"},{name:"phStart",type:"u32"},{name:"phEnd",type:"u32"})}return[s,u,!0,f,b]}else{if(r)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let l=z.computeStrides(t.kernelShape);s.push({type:12,data:l},{type:12,data:t.pads},{type:12,data:t.strides}),u.push({name:"kernelStrides",type:"u32",length:l.length},{name:"pads",type:"u32",length:t.pads.length},{name:"strides",type:"u32",length:t.strides.length});let a=t.pads.reduce((p,m)=>p+m);return[s,u,!!a,!1,!1]}},Xs=(e,t,r,o,n,s,u,l,a,p,m,f)=>{let b=n.format==="NHWC",_=t.type.value,y=F("output",t.type.tensor,o);if(n.kernelShape.length<=2){let $="",I="",C="",v=r-(b?2:1);if(m?$=`\n                for (var i: u32 = 0u; i < uniforms.kw; i++) {\n                  xIndices[${v}] = indices[${v}] * uniforms.sw - uniforms.pwStart + i;\n                  if (xIndices[${v}] < 0 || xIndices[${v}]\n                      >= uniforms.x_shape[${v}]) {\n                    pad++;\n                    continue;\n                  }\n                  let x_val = x[${t.indicesToOffset("xIndices")}];\n                  ${s}\n                }`:$=`\n                for (var i: u32 = 0u; i < uniforms.kw; i++) {\n                  xIndices[${v}] = indices[${v}] * uniforms.sw - uniforms.pwStart + i;\n                  let x_val = x[${t.indicesToOffset("xIndices")}];\n                  ${s}\n                }`,n.kernelShape.length===2){let T=r-(b?3:2);f?I=`\n                for (var j: u32 = 0u; j < uniforms.kh; j++) {\n                  xIndices[${T}] = indices[${T}] * uniforms.sh - uniforms.phStart + j;\n                  if (xIndices[${T}] < 0 || xIndices[${T}] >= uniforms.x_shape[${T}]) {\n                    pad += i32(uniforms.kw);\n                    continue;\n                  }\n              `:I=`\n                for (var j: u32 = 0u; j < uniforms.kh; j++) {\n                  xIndices[${T}] = indices[${T}] * uniforms.sh - uniforms.phStart + j;\n                `,C=`\n              }\n            `}return`\n            ${e.registerUniforms(a).declareVariables(t,y)}\n\n            ${e.mainStart()}\n              ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n\n              let indices = ${y.offsetToIndices("global_idx")};\n              var xIndices = ${y.offsetToIndices("global_idx")};\n\n              var value = ${_}(${l});\n              var pad = 0;\n              ${I}\n              ${$}\n              ${C}\n              ${u}\n\n              output[global_idx] = value;\n            }`}else{if(b)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let $=n.kernelShape.length,I=n.pads.length,C="";return p?C=`\n                if (xIndices[j] >= uniforms.x_shape[j]) {\n                  pad++;\n                  isPad = true;\n                  break;\n                }\n              }\n              if (!isPad) {\n                let x_val = x[${t.indicesToOffset("xIndices")}];\n                ${s}\n              }`:C=`\n              }\n              let x_val = x[${t.indicesToOffset("xIndices")}];\n              ${s}\n            `,`\n            ${e.registerUniforms(a).declareVariables(t,y)}\n\n            ${e.mainStart()}\n              ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n              let indices = ${y.offsetToIndices("global_idx")};\n              var xIndices = ${y.offsetToIndices("global_idx")};\n\n              var offsets: array<u32, ${$}>;\n\n              var value = ${_}(${l});\n              var pad = 0;\n              var isPad = false;\n\n              for (var i: u32 = 0u; i < uniforms.kernelSize; i++) {\n                var offset = i;\n                for (var j = 0u; j < ${$-1}u; j++) {\n                  offsets[j] = offset / ${re("uniforms.kernelStrides","j",$)};\n                  offset -= offsets[j] * ${re("uniforms.kernelStrides","j",$)};\n                }\n                offsets[${$-1}] = offset;\n\n                isPad = false;\n                for (var j = ${r-$}u; j < ${r}u; j++) {\n                  xIndices[j] = indices[j] * ${re("uniforms.strides",`j - ${r-$}u`,$)}\n                    + offsets[j - ${r-$}u] - ${re("uniforms.pads","j - 2u",I)};\n                  ${C}\n              }\n              ${u}\n\n              output[global_idx] = value;\n            }`}},Js=e=>`${e.format};${e.ceilMode};${e.autoPad};${e.kernelShape.length}`,bc=e=>`${Js(e)};${e.countIncludePad}`,wc=e=>`${Js(e)};${e.storageOrder};${e.dilations}`,eu=e=>({format:e.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],ceilMode:e.ceil_mode,kernelShape:e.kernel_shape,strides:e.strides,pads:e.pads}),tu=(e,t,r,o)=>{let[n,s]=Zs(t,o,r),u=M("x",t.dataType,t.dims.length),l=u.type.value,a="value += x_val;",p="";n.countIncludePad?p+=`value /= ${l}(uniforms.kernelSize);`:p+=`value /= ${l}(i32(uniforms.kernelSize) - pad);`;let[m,f,b,_,y]=Qs(s,n);m.push(...j(t.dims,s));let $=["rank"];return{name:e,shaderCache:{hint:`${o.cacheKey};${b};${_};${y}`,inputDependencies:$},getRunData:()=>({outputs:[{dims:s,dataType:t.dataType}],dispatchGroup:{x:Math.ceil(z.size(s)/64)},programUniforms:m}),getShaderSource:I=>Xs(I,u,t.dims.length,s.length,n,a,p,0,f,b,_,y)}},ru=e=>{let t=e.count_include_pad!==0,r=eu(e);if(r.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");let o={countIncludePad:t,...r,cacheKey:""};return{...o,cacheKey:bc(o)}},nu=(e,t)=>{dn(e.inputs),e.compute(tu("AveragePool",e.inputs[0],!1,t))},ou={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[]},au=e=>{let t=e.format;return{format:t,...ou,cacheKey:t}},iu=(e,t)=>{dn(e.inputs),e.compute(tu("GlobalAveragePool",e.inputs[0],!0,t))},su=(e,t,r,o)=>{let[n,s]=Zs(t,o,r),u=`\n      value = max(x_val, value);\n    `,l="",a=M("x",t.dataType,t.dims.length),p=["rank"],[m,f,b,_,y]=Qs(s,n);return m.push(...j(t.dims,s)),{name:e,shaderCache:{hint:`${o.cacheKey};${b};${_};${y}`,inputDependencies:p},getRunData:()=>({outputs:[{dims:s,dataType:t.dataType}],dispatchGroup:{x:Math.ceil(z.size(s)/64)},programUniforms:m}),getShaderSource:$=>Xs($,a,t.dims.length,s.length,n,u,l,t.dataType===10?-65504:-1e5,f,b,_,y)}},uu=(e,t)=>{dn(e.inputs),e.compute(su("MaxPool",e.inputs[0],!1,t))},du=e=>{let t=e.storage_order,r=e.dilations,o=eu(e);if(t!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(o.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");let n={storageOrder:t,dilations:r,...o,cacheKey:""};return{...n,cacheKey:wc(n)}},lu=e=>{let t=e.format;return{format:t,...ou,cacheKey:t}},cu=(e,t)=>{dn(e.inputs),e.compute(su("GlobalMaxPool",e.inputs[0],!0,t))}});var $c,_c,mu,fu=q(()=>{"use strict";Kt();ie();be();$c=(e,t,r)=>{let o=e===t,n=e<t&&r<0,s=e>t&&r>0;if(o||n||s)throw new Error("Range these inputs\' contents are invalid.")},_c=(e,t,r,o)=>{let n=Math.abs(Math.ceil((t-e)/r)),s=[n],u=n,l=[{type:12,data:u},{type:o,data:e},{type:o,data:r},...j(s)],a=p=>{let m=F("output",o,s.length),f=m.type.value,b=[{name:"outputSize",type:"u32"},{name:"start",type:f},{name:"delta",type:f}];return`\n        ${p.registerUniforms(b).declareVariables(m)}\n        ${p.mainStart()}\n        ${p.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n        output[global_idx] = uniforms.start + ${f}(global_idx) * uniforms.delta;\n      }`};return{name:"Range",shaderCache:{hint:`${o}`},getShaderSource:a,getRunData:()=>({outputs:[{dims:s,dataType:o}],dispatchGroup:{x:Math.ceil(u/64)},programUniforms:l})}},mu=e=>{let t=0,r=0,o=0;e.inputs[0].dataType===6?(t=e.inputs[0].getInt32Array()[0],r=e.inputs[1].getInt32Array()[0],o=e.inputs[2].getInt32Array()[0]):e.inputs[0].dataType===1&&(t=e.inputs[0].getFloat32Array()[0],r=e.inputs[1].getFloat32Array()[0],o=e.inputs[2].getFloat32Array()[0]),qt.webgpu.validateInputContent&&$c(t,r,o),e.compute(_c(t,r,o,e.inputs[0].dataType),{inputs:[]})}});var xc,Sc,Cc,Ic,Ac,Tc,Ec,Pc,Oc,kc,Rc,hu,Bc,Dc,Mc,zc,Uc,gu,yu,bu=q(()=>{"use strict";ie();_e();je();be();xc=(e,t)=>{if(e.every(r=>r>0||(()=>{throw new Error("Resize requires scales input values to be positive")})),e.length>0){if(t.mode==="linear"){if(!(e.length===2||e.length===3||e.length===4&&e[0]===1&&e[1]===1||e.length===4&&e[0]===1&&e[3]===1||e.length===5&&e[0]===1&&e[1]===1))throw new Error(`For linear mode, Resize requires scales to be 2D, 3D, 4D with either two outermost or one innermost and\n            one outermost scale values equal to 1, or 5D with two outermost scale values equal to 1`)}else if(t.mode==="cubic"&&!(e.length===2||e.length===4&&e[0]===1&&e[1]===1||e.length===4&&e[0]===1&&e[3]===1))throw new Error("Resize requires scales input size to be 2 or 4 for cubic mode")}},Sc=(e,t,r)=>{t.every(n=>n>=0&&n<r||(()=>{throw new Error("Resize requires axes input values to be positive and less than rank")}));let o=new Array(r).fill(1);return t.forEach((n,s)=>o[n]=e[s]),o},Cc=(e,t,r,o,n,s)=>{let[u,l,a]=r>10?[1,2,3]:[-1,e.length>1?1:-1,-1],p=e[0].dims.length;if(u>0&&e.length>u&&e[u].dims.length>0)e[u].getFloat32Array().forEach(m=>s.push(m));else if(t.coordinateTransformMode==="tf_crop_and_resize")throw new Error("Resize requires RoI input to be specified when coordinateTransformMode is tfCropAndResize");if(l>0&&e.length>l&&e[l].dims.length>0){if(e[l].getFloat32Array().forEach(m=>o.push(m)),o.length!==0&&o.length!==p&&r>=18&&o.length!==t.axes.length)throw new Error("Resize requires scales input size to be same as input rank or axes size for opset 18 and up");xc(o,t),t.axes.length>0&&Sc(o,t.axes,p).forEach((m,f)=>o[f]=m)}if(a>0&&e.length>a&&(e[a].getBigInt64Array().forEach(m=>n.push(Number(m))),n.length!==p||r>=18&&n.length===t.axes.length))throw new Error("Resize requires sizes input size to be same as input rank or axes size for opset 18 and up");if(t.axes.length>0){if(o.length!==t.axes.length)throw new Error(\'Resize requires "scales" input size to be of axes rank when axes attributes is specified\');if(n.length!==t.axes.length)throw new Error(\'Resize requires "sizes" input size to be of rank axes rank when axes attributes is specified\')}if(typeof o<"u"&&typeof n<"u"&&o.length>0&&n.length>p)throw new Error("Resize requires only of scales or sizes to be specified")},Ic=(e,t)=>`fn getOriginalCoordinateFromResizedCoordinate(xResized: u32, xScale: f32, lengthResized: u32,\n     lengthOriginal: u32, roiStart: f32, roiEnd: f32) -> ${t} { `+(()=>{switch(e){case"asymmetric":return`return ${t}(xResized) / ${t}(xScale);`;case"pytorch_half_pixel":return`if (lengthResized > 1) {\n                    return (${t}(xResized) + 0.5) / ${t}(xScale) - 0.5;\n                  } else {\n                    return 0.0;\n                  }`;case"tf_half_pixel_for_nn":return`return (${t}(xResized) + 0.5) / ${t}(xScale);`;case"align_corners":return`if (lengthResized == 1) {\n                    return 0.0;\n                  } else {\n                    // The whole part and the fractional part are calculated separately due to inaccuracy of floating\n                    // point division. As an example, f32(21) / f32(7) may evaluate to 2.99... instead of 3, causing an\n                    // offset-by-one error later in floor().\n                    let whole = ${t}(xResized * (lengthOriginal - 1) / (lengthResized - 1));\n                    let fract =\n                        ${t}(xResized * (lengthOriginal - 1) % (lengthResized - 1)) / ${t}(lengthResized - 1);\n                    return whole + fract;\n                  }`;case"tf_crop_and_resize":return`if (lengthResized > 1) {\n                    return ${t}(roiStart) * ${t}(lengthOriginal - 1) +\n                        (${t}(xResized) * ${t}(roiEnd - roiStart) * ${t}(lengthOriginal - 1)) /\n                        ${t}(lengthResized - 1);\n                  } else {\n                    return 0.5 * ${t}(roiStart + roiEnd) * ${t}(lengthOriginal - 1);\n                  }`;case"half_pixel_symmetric":return`const outputWidth = ${t}xScale * ${t}(lengthResized);\n                  const adjustment = ${t}(lengthResized) / outputWidth;\n                  const center = ${t}(lengthOriginal) / 2;\n                  const offset = center * (1 - adjustment);\n                  return offset + ((${t}(xResized) + 0.5) / ${t}(xScale)) - 0.5;`;case"half_pixel":return`return ((${t}(xResized) + 0.5) / ${t}(xScale)) - 0.5;`;default:throw new Error(`Coordinate transform mode ${e} is not supported`)}})()+"}",Ac=(e,t,r)=>`fn getNearestPixelFromOriginal(xOriginal: ${r}, isDownSample: bool) -> ${r} {`+(()=>{switch(e){case"round_prefer_ceil":return"if (fract(xOriginal) == 0.5) {             return ceil(xOriginal);           } else {             return round(xOriginal);           }";case"floor":return"return floor(xOriginal);";case"ceil":return"return ceil(xOriginal);";case"round_prefer_floor":return"if (fract(xOriginal) == 0.5) {                     return floor(xOriginal);                   } else {                     return round(xOriginal);                   }";case"simple":default:if(t<11)return"if (isDownSample)                     {                       return ceil(xOriginal);                     } else {                       return xOriginal;                     }";throw new Error(`Nearest mode ${e} is not supported`)}})()+"}",Tc=(e,t,r)=>{let o=new Array(r).fill(0).concat(new Array(r).fill(1)),n=e.length===0?o:e.slice();return t.length>0?(t.forEach((s,u)=>{o[s]=n[u],o[u+r]=n[t.length+u]}),o):n},Ec=(e,t,r,o)=>{let n=[];if(r.length>0)if(o.length>0){if(e.forEach(s=>n.push(s)),Math.max(...o)>e.length)throw new Error("axes is out of bound");o.forEach((s,u)=>n[s]=r[u])}else r.forEach(s=>n.push(s));else{if(t.length===0)throw new Error("Resize requires either scales or sizes.");n=e.map((s,u)=>Math.round(s*t[u]))}return n},Pc=(e,t,r)=>{let o=(()=>{switch(r.keepAspectRatioPolicy){case"not_larger":return r.axes.length>0?Math.min(...r.axes.map(s=>t[s]),Number.MAX_VALUE):Math.min(...t,Number.MAX_VALUE);case"not_smaller":return r.axes.length>0?Math.max(...r.axes.map(s=>t[s]),Number.MIN_VALUE):Math.max(...t,Number.MIN_VALUE);default:throw new Error(`Keep aspect ratio policy ${r.keepAspectRatioPolicy} is not supported`)}})();t.fill(1,0,t.length);let n=e.slice();return r.axes.length>0?(r.axes.forEach(s=>t[s]=o),r.axes.forEach(s=>n[s]=Math.round(e[s]*t[s]))):(t.fill(o,0,t.length),n.forEach((s,u)=>n[u]=Math.round(s*t[u]))),n},Oc=(e,t,r,o,n)=>`\n    fn calculateOriginalIndicesFromOutputIndices(output_indices: ${e.type.indices}) -> array<${e.type.value}, ${r.length}> {\n      var original_indices: array<${e.type.value}, ${r.length}>;\n      for (var i:u32 = 0; i < ${r.length}; i++) {\n        var output_index = ${e.indicesGet("output_indices","i")};\n        var scale = ${re("uniforms.scales","i",o)};\n        var roi_low = ${re("uniforms.roi","i",n)};\n        var roi_hi = ${re("uniforms.roi",`i + ${t.length}`,n)};\n        if (scale == 1.0) {\n          original_indices[i] = ${e.type.value}(output_index);\n        } else {\n          var input_shape_i = ${re("uniforms.input_shape","i",t.length)};\n          var output_shape_i = ${re("uniforms.output_shape","i",r.length)};\n          original_indices[i] = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,\n                                                                           input_shape_i, roi_low, roi_hi);\n        }\n      }\n      return original_indices;\n    }`,kc=(e,t,r,o,n,s,u)=>`\n    fn calculateInputIndicesFromOutputIndices(output_indices: ${t.type.indices}) -> ${e.type.indices} {\n      var input_indices: ${e.type.indices};\n      for (var i:u32 = 0; i < ${o.length}; i++) {\n        var output_index = ${t.indicesGet("output_indices","i")};\n        var input_index: u32;\n        var scale = ${re("uniforms.scales","i",n)};\n        if (scale == 1.0) {\n          input_index = output_index;\n        } else {\n          var roi_low = ${re("uniforms.roi","i",s)};\n          var roi_hi = ${re("uniforms.roi",`i + ${r.length}`,s)};\n          var input_shape_i = ${re("uniforms.input_shape","i",r.length)};\n          var output_shape_i = ${re("uniforms.output_shape","i",o.length)};\n          var original_idx = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,\n                                                                        input_shape_i, roi_low, roi_hi);\n          if (!${u} || (original_idx >= 0 && original_idx < ${t.type.value}(input_shape_i))) {\n            if (original_idx < 0) {\n              input_index = 0;\n            } else if (original_idx > ${t.type.value}(input_shape_i - 1)) {\n              input_index = input_shape_i - 1;\n            } else {\n              input_index = u32(getNearestPixelFromOriginal(original_idx, scale < 1));\n            }\n          } else {\n            input_index = u32(original_idx);\n          }\n        }\n        ${e.indicesSet("input_indices","i"," input_index")}\n      }\n      return input_indices;\n    }`,Rc=(e,t)=>`\n    fn checkInputIndices(input_indices: ${e.type.indices}) -> bool {\n      for (var i:u32 = 0; i < ${t.length}; i++) {\n        var input_index = ${e.indicesGet("input_indices","i")};\n        if (input_index < 0 || input_index >= ${re("uniforms.input_shape","i",t.length)}) {\n          return false;\n        }\n      }\n      return true;\n    }`,hu=(e,t,r,o)=>e.rank>o?`\n    ${e.indicesSet("input_indices",t,"channel")};\n    ${e.indicesSet("input_indices",r,"batch")};\n`:"",Bc=(e,t,r,o,n)=>{let[u,l,a,p]=r.length===2?[-1,0,1,-1]:[0,2,3,1],m=e.type.value;return`\n    fn getInputValue(batch: u32, channel: u32, row: u32, col: u32) -> ${m} {\n      var input_indices: ${e.type.indices};\n      ${e.indicesSet("input_indices",l,`max(0, min(row, ${r[l]} - 1))`)};\n      ${e.indicesSet("input_indices",a,`max(0, min(col, ${r[a]} - 1))`)};\n      ${hu(e,p,u,2)}\n      return ${e.getByIndices("input_indices")};\n    }\n\n    fn bilinearInterpolation(output_indices: ${t.type.indices}) -> ${m} {\n      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);\n      var row:${m} = originalIndices[${l}];\n      var col:${m} = originalIndices[${a}];\n      ${o?`if (row < 0 || row > (${r[l]} - 1) || col < 0 || col > (${r[a]} - 1)) {\n        return ${n};\n      }`:""};\n      row = max(0, min(row, ${r[l]} - 1));\n      col = max(0, min(col, ${r[a]} - 1));\n      var row1: u32 = u32(row);\n      var col1: u32 = u32(col);\n      var row2: u32 = u32(row + 1);\n      var col2: u32 = u32(col + 1);\n      var channel: u32 = ${r.length>2?`u32(originalIndices[${p}])`:"0"};\n      var batch: u32 =  ${r.length>2?`u32(originalIndices[${u}])`:"0"};\n      var x11: ${m} = getInputValue(batch, channel, row1, col1);\n      var x12: ${m} = getInputValue(batch, channel, row1, col2);\n      var x21: ${m} = getInputValue(batch, channel, row2, col1);\n      var x22: ${m} = getInputValue(batch, channel, row2, col2);\n      var dx1: ${m} = abs(row - ${m}(row1));\n      var dx2: ${m} = abs(${m}(row2) - row);\n      var dy1: ${m} = abs(col - ${m}(col1));\n      var dy2: ${m} = abs(${m}(col2) - col);\n      if (row1 == row2) {\n        dx1 = 0.5;\n        dx2 = 0.5;\n      }\n      if (col1 == col2) {\n        dy1 = 0.5;\n        dy2 = 0.5;\n      }\n      return (x11 * dx2 * dy2 + x12 * dx2 * dy1 + x21 * dx1 * dy2 + x22 * dx1 * dy1);\n    }`},Dc=(e,t,r,o,n,s,u,l,a,p)=>{let m=r.length===2,f=!0,[b,_]=m?[0,1]:f?[2,3]:[1,2],y=e.type.value,$=I=>{let C=I===b?"row":"col";return`\n      fn ${C}CubicInterpolation(input_indices: ${e.type.indices}, output_indices: ${t.type.indices}) -> ${y} {\n        var output_index = ${t.indicesGet("output_indices",I)};\n        var originalIdx: ${y} = getOriginalCoordinateFromResizedCoordinate(output_index, ${n[I]},\n        ${o[I]}, ${r[I]}, ${s[I]}, ${s[I]} + ${r.length});\n        var fractOriginalIdx: ${y} = originalIdx - floor(originalIdx);\n        var coefs = getCubicInterpolationCoefs(fractOriginalIdx);\n\n        if (${l} && (originalIdx < 0 || originalIdx > (${r[I]} - 1))) {\n          return ${a};\n        }\n        var data: array<${y}, 4> = array<${y}, 4>(0.0, 0.0, 0.0, 0.0);\n        for (var i: i32 = -1; i < 3; i++) {\n          var ${C}: ${y} = originalIdx + ${y}(i);\n          if (${C} < 0 || ${C} >= ${r[I]}) {\n            ${(()=>p?`coefs[i + 1] = 0.0;\n                        continue;`:l?`return ${a};`:`${C} = max(0, min(${C}, ${r[I]} - 1));`)()};\n          }\n        var input_indices_copy: ${e.type.indices} = input_indices;\n          ${e.indicesSet("input_indices_copy",I,`u32(${C})`)};\n          data[i + 1] = ${I===b?e.getByIndices("input_indices_copy"):"rowCubicInterpolation(input_indices_copy, output_indices)"};\n        }\n        return cubicInterpolation1D(data, coefs);\n      }`};return`\n    ${$(b)};\n    ${$(_)};\n  fn getCubicInterpolationCoefs(s: ${y}) -> array<${y}, 4> {\n    var absS = abs(s);\n    var coeffs: array<${y}, 4> = array<${y}, 4>(0.0, 0.0, 0.0, 0.0);\n    var oneMinusAbsS: ${y} = 1.0 - absS;\n    var twoMinusAbsS: ${y} = 2.0 - absS;\n    var onePlusAbsS: ${y} = 1.0 + absS;\n    coeffs[0] = ((${u} * onePlusAbsS - 5 * ${u}) * onePlusAbsS + 8 * ${u}) * onePlusAbsS - 4 * ${u};\n    coeffs[1] = ((${u} + 2) * absS - (${u} + 3)) * absS * absS + 1;\n    coeffs[2] = ((${u} + 2) * oneMinusAbsS - (${u} + 3)) * oneMinusAbsS * oneMinusAbsS + 1;\n    coeffs[3] = ((${u} * twoMinusAbsS - 5 * ${u}) * twoMinusAbsS + 8 * ${u}) * twoMinusAbsS - 4 * ${u};\n    return coeffs;\n  }\n\n  fn cubicInterpolation1D(x: array<${y}, 4>, coefs: array<${y}, 4>) -> ${y} {\n    var coefsSum: ${y} = coefs[0] + coefs[1] + coefs[2] + coefs[3];\n    return (x[0] * coefs[0] + x[1] * coefs[1]+ x[2] * coefs[2]+ x[3] * coefs[3]) / coefsSum;\n  }\n\n  fn bicubicInterpolation(output_indices: ${t.type.indices}) -> ${y} {\n    var input_indices: ${e.type.indices} = output_indices;\n    return colCubicInterpolation(input_indices, output_indices);\n  }\n    `},Mc=(e,t,r,o,n)=>{let[u,l,a,p,m]=r.length===3?[-1,0,1,2,-1]:[0,2,3,4,1],f=e.type.value;return`\n    fn getInputValue(batch: u32, channel: u32, depth:u32, height: u32, width: u32) -> ${f} {\n      var input_indices: ${e.type.indices};\n      ${e.indicesSet("input_indices",l,`max(0, min(depth, ${r[l]} - 1))`)};\n      ${e.indicesSet("input_indices",a,`max(0, min(height, ${r[a]} - 1))`)};\n      ${e.indicesSet("input_indices",p,`max(0, min(width, ${r[p]} - 1))`)};\n      ${hu(e,m,u,3)}\n      return ${e.getByIndices("input_indices")};\n    }\n\n    fn trilinearInterpolation(output_indices: ${t.type.indices}) -> ${f} {\n      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);\n      var depth:${f} = originalIndices[${l}];\n      var height:${f} = originalIndices[${a}];\n      var width:${f} = originalIndices[${p}];\n      ${o?`if (depth < 0 || depth > (${r[l]} - 1) || height < 0 || height > (${r[a]} - 1) || width < 0 || (width > ${r[p]} - 1)) {\n      return ${n};\n        }`:""};\n\n    depth = max(0, min(depth, ${r[l]} - 1));\n      height = max(0, min(height, ${r[a]} - 1));\n      width = max(0, min(width, ${r[p]} - 1));\n      var depth1: u32 = u32(depth);\n      var height1: u32 = u32(height);\n      var width1: u32 = u32(width);\n      var depth2: u32 = u32(depth + 1);\n      var height2: u32 = u32(height + 1);\n      var width2: u32 = u32(width + 1);\n      var channel: u32 = ${r.length>3?`u32(originalIndices[${m}])`:"0"};\n      var batch: u32 =  ${r.length>3?`u32(originalIndices[${u}])`:"0"};\n\n      var x111: ${f} = getInputValue(batch, channel, depth1, height1, width1);\n      var x112: ${f} = getInputValue(batch, channel, depth1, height1, width2);\n      var x121: ${f} = getInputValue(batch, channel, depth1, height2, width1);\n      var x122: ${f} = getInputValue(batch, channel, depth1, height2, width2);\n      var x211: ${f} = getInputValue(batch, channel, depth2, height1, width1);\n      var x212: ${f} = getInputValue(batch, channel, depth2, height1, width2);\n      var x221: ${f} = getInputValue(batch, channel, depth2, height2, width1);\n      var x222: ${f} = getInputValue(batch, channel, depth2, height2, width2);\n      var dx1: ${f} = abs(depth - ${f}(depth1));\n      var dx2: ${f} = abs(${f}(depth2) - depth);\n      var dy1: ${f} = abs(height - ${f}(height1));\n      var dy2: ${f} = abs(${f}(height2) - height);\n      var dz1: ${f} = abs(width - ${f}(width1));\n      var dz2: ${f} = abs(${f}(width2) - width);\n      if (depth1 == depth2) {\n        dx1 = 0.5;\n        dx2 = 0.5;\n      }\n      if (height1 == height2) {\n        dy1 = 0.5;\n        dy2 = 0.5;\n      }\n      if (width1 == width2) {\n        dz1 = 0.5;\n        dz2 = 0.5;\n      }\n      return (x111 * dx2 * dy2 * dz2 + x112 * dx2 * dy2 * dz1 + x121 * dx2 * dy1 *dz2 + x122 * dx2 * dy1 * dz1 +\n              x211 * dx1 * dy2 * dz2 + x212 * dx1 * dy2 * dz1 + x221 * dx1 * dy1 *dz2 + x222 * dx1 * dy1 * dz1);\n    }`},zc=(e,t,r,o,n,s)=>{let u=e.dims,l=Tc(s,t.axes,u.length),a=Ec(u,o,n,t.axes),p=o.slice();o.length===0&&(p=u.map((v,A)=>v===0?1:a[A]/v),t.keepAspectRatioPolicy!=="stretch"&&(a=Pc(u,p,t)));let m=F("output",e.dataType,a.length),f=M("input",e.dataType,u.length),b=z.size(a),_=u.length===a.length&&u.every((v,A)=>v===a[A]),y=t.coordinateTransformMode==="tf_crop_and_resize",$=t.extrapolationValue,I=f.type.value,C=v=>`\n      ${_?"":`\n      ${Ic(t.coordinateTransformMode,I)};\n      ${(()=>{switch(t.mode){case"nearest":return`\n              ${Rc(f,u)};\n              ${Ac(t.nearestMode,r,I)};\n              ${kc(f,m,u,a,p.length,l.length,y)};\n              `;case"linear":return`\n              ${Oc(m,u,a,p.length,l.length)};\n              ${(()=>{if(u.length===2||u.length===4)return`${Bc(f,m,u,y,$)}`;if(u.length===3||u.length===5)return`${Mc(f,m,u,y,$)}`;throw Error("Linear mode only supports input dims 2, 3, 4 and 5 are supported in linear mode.")})()};\n            `;case"cubic":return`\n            ${(()=>{if(u.length===2||u.length===4)return`${Dc(f,m,u,a,p,l,t.cubicCoeffA,y,t.extrapolationValue,t.excludeOutside)}`;throw Error("Cubic mode only supports input dims 2 and 4 are supported in linear mode.")})()};\n            `;default:throw Error("Invalid resize mode")}})()};\n      `}\n      ${v.registerUniform("output_size","u32").registerUniform("scales","f32",p.length).registerUniform("roi","f32",l.length).declareVariables(f,m)}\n      ${v.mainStart()}\n        ${v.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n        ${_?"output[global_idx] = input[global_idx];":`\n        let output_indices = ${m.offsetToIndices("global_idx")};\n        var input_indices: ${f.type.indices};\n        ${(()=>{switch(t.mode){case"nearest":return`input_indices = calculateInputIndicesFromOutputIndices(output_indices);\n                if (checkInputIndices(input_indices)) {\n                  output[global_idx] = ${f.getByIndices("input_indices")};\n                } else {\n                  output[global_idx] = ${t.extrapolationValue};\n                }`;case"linear":return`output[global_idx] = ${u.length===2||u.length===4?"bilinearInterpolation":"trilinearInterpolation"}(output_indices);`;case"cubic":return"output[global_idx] = bicubicInterpolation(output_indices);";default:throw Error(`Unsupported resize mode: ${t.mode}`)}})()};\n`}\n      }`;return{name:"Resize",shaderCache:{hint:`${t.cacheKey}|${r}|${p.length>0?p:""}|${n.length>0?n:""}|${l.length>0?l:""}|${_}|${u}`,inputDependencies:["rank"]},getShaderSource:C,getRunData:()=>({outputs:[{dims:a,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(b/64)},programUniforms:[{type:12,data:b},{type:1,data:p},{type:1,data:l},...j(u,a)]})}},Uc=e=>{let t=e.customDataBuffer;return new Uint32Array(t,t.byteOffset,1)[0]},gu=(e,t)=>{let r=[],o=[],n=[],s=Uc(e);if(t.antialias!==0)throw Error("Only default value (0) for Antialias attribute is supported");Cc(e.inputs,t,s,r,o,n),e.compute(zc(e.inputs[0],t,s,r,o,n),{inputs:[0]})},yu=e=>{let t=e.antialias,r=e.axes,o=e.coordinateTransformMode,n=e.cubicCoeffA,s=e.excludeOutside!==0,u=e.extrapolationValue,l=e.keepAspectRatioPolicy,a=e.mode,p=e.nearestMode===""?"simple":e.nearestMode;return $e({antialias:t,axes:r,coordinateTransformMode:o,cubicCoeffA:n,excludeOutside:s,extrapolationValue:u,keepAspectRatioPolicy:l,mode:a,nearestMode:p})}});var Vc,Nc,wu,vu=q(()=>{"use strict";ie();_e();be();Vc=e=>{if(!e||e.length<3)throw new Error("layerNorm requires at least 3 inputs.");let t=e[0],r=e[1],o=e[2];if(t.dataType!==r.dataType||t.dataType!==o.dataType)throw new Error("All inputs must have the same data type");if(t.dims.length!==3&&t.dims.length!==2)throw new Error("Input must be 2D or 3D");if(r.dims.length!==3&&r.dims.length!==2)throw new Error("Skip must be 2D or 3D");let n=t.dims[t.dims.length-1],s=t.dims[t.dims.length-2];if(r.dims[r.dims.length-1]!==n)throw new Error("Skip must have the same hidden size as input");if(r.dims[r.dims.length-2]!==s)throw new Error("Skip must have the same sequence length as input");if(o.dims.length!==1)throw new Error("Gamma must be 1D");if(o.dims[o.dims.length-1]!==n)throw new Error("Gamma must have the same hidden size as input");if(e.length>3){let u=e[3];if(u.dims.length!==1)throw new Error("Beta must be 1D");if(u.dims[u.dims.length-1]!==n)throw new Error("Beta must have the same hidden size as input")}if(e.length>4){let u=e[4];if(u.dims.length!==1)throw new Error("Bias must be 1D");if(u.dims[u.dims.length-1]!==n)throw new Error("Bias must have the same hidden size as input")}},Nc=(e,t,r,o)=>{let n=e[0].dims,s=z.size(n),u=n,l=s,a=n.slice(-1)[0],p=o?n.slice(0,-1).concat(1):[],m=e.length>3,f=e.length>4,b=o&&r>1,_=o&&r>2,y=r>3,$=Me(a),I=[{type:12,data:l},{type:12,data:$},{type:12,data:a},{type:1,data:t.epsilon}],C=A=>{let T=[{name:"output_size",type:"u32"},{name:"components",type:"u32"},{name:"hidden_size",type:"u32"},{name:"epsilon",type:"f32"}],D=[M("x",e[0].dataType,e[0].dims,$),M("skip",e[1].dataType,e[1].dims,$),M("gamma",e[2].dataType,e[2].dims,$)];m&&D.push(M("beta",e[3].dataType,e[3].dims,$)),f&&D.push(M("bias",e[4].dataType,e[4].dims,$)),D.push(F("output",e[0].dataType,u,$)),b&&D.push(F("mean_output",1,p)),_&&D.push(F("inv_std_output",1,p)),y&&D.push(F("input_skip_bias_sum",e[0].dataType,u,$));let U=Pe(e[0].dataType);return`\n\n      ${A.registerUniforms(T).declareVariables(...D)}\n\n      ${A.mainStart()}\n        ${A.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size / uniforms.hidden_size")}\n        let hidden_size_vectorized: u32 = uniforms.hidden_size / uniforms.components;\n        let offset = global_idx * hidden_size_vectorized;\n        var sum = ${Ye("f32",$)};\n        var squareSum = ${Ye("f32",$)};\n        for (var i: u32 = 0; i < hidden_size_vectorized; i++) {\n          let skip_value = skip[offset + i];\n          let bias_value = ${f?"bias[i]":"0.0"};\n          let input_value = x[offset + i];\n          let value = input_value + skip_value + bias_value;\n          ${y?"input_skip_bias_sum[offset + i] = value;":""}\n          output[offset + i] = value;\n          let f32_value = ${st(U,$,"value")};\n          sum += f32_value;\n          squareSum += f32_value * f32_value;\n        }\n        let mean = ${tt("sum",$)} / f32(uniforms.hidden_size);\n        let inv_std_dev = inverseSqrt(${tt("squareSum",$)} / f32(uniforms.hidden_size) - mean * mean + uniforms.epsilon);\n        ${b?"mean_output[global_idx] = mean;":""}\n        ${_?"inv_std_output[global_idx] = inv_std_dev;":""}\n        for (var i: u32 = 0; i < hidden_size_vectorized; i++) {\n          output[offset + i] = (output[offset + i] - ${U}(mean)) * ${U}(inv_std_dev) * gamma[i] + ${m?"beta[i]":"0.0"};\n        }\n      }`},v=[{dims:u,dataType:e[0].dataType}];return r>1&&v.push({dims:p,dataType:1}),r>2&&v.push({dims:p,dataType:1}),r>3&&v.push({dims:n,dataType:e[0].dataType}),{name:"SkipLayerNormalization",shaderCache:{hint:`${$};${b};${_};${y}`,inputDependencies:e.map((A,T)=>"type")},getShaderSource:C,getRunData:()=>({outputs:v,dispatchGroup:{x:Math.ceil(l/a/64)},programUniforms:I})}},wu=(e,t)=>{Vc(e.inputs);let o=[0];e.outputCount>1&&o.push(-3),e.outputCount>2&&o.push(-3),e.outputCount>3&&o.push(3),e.compute(Nc(e.inputs,t,e.outputCount,!1),{outputs:o})}});var Wc,ln,Gc,$u,Hc,Lc,_u,xu,Su=q(()=>{"use strict";ie();_e();je();be();Wc=(e,t)=>{if(!e||e.length<1)throw new Error("too few inputs");if(t.axes.length!==0){if(t.axes.length!==t.starts.length||t.axes.length!==t.ends.length)throw new Error("axes, starts and ends must have the same length")}else if(t.starts.length!==t.ends.length)throw new Error("starts and ends must have the same length");e.slice(1).forEach((r,o)=>{if(e[o+1].dataType!==6&&e[o+1].dataType!==7)throw new Error(`Input ${o} must be an array of int32 or int64`)})},ln=(e,t)=>{let r=[];if(e.length>t)if(e[t].dataType===7)e[t].getBigInt64Array().forEach(o=>r.push(Number(o)));else if(e[t].dataType===6)e[t].getInt32Array().forEach(o=>r.push(Number(o)));else throw new Error(`Input ${t} must be an array of int32 or int64`);return r},Gc=(e,t)=>{if(e.length>1){let r=ln(e,1),o=ln(e,2),n=ln(e,3);return n.length===0&&(n=[...Array(e[0].dims.length).keys()]),$e({starts:r,ends:o,axes:n})}else return t},$u=(e,t,r,o,n)=>{let s=e;return e<0&&(s+=r[o[t]]),n[t]<0?Math.max(0,Math.min(s,r[o[t]]-1)):Math.max(0,Math.min(s,r[o[t]]))},Hc=(e,t,r)=>`fn calculateInputIndices(output_indices: ${t.type.indices}) -> ${e.type.indices} {\n          var input_indices: ${e.type.indices};\n          var carry = 0u;\n          for (var i = ${r.length}; i >= 0; i--) {\n            let input_shape_i = ${re("uniforms.input_shape","i",r.length)};\n            let steps_i = ${re("uniforms.steps","i",r.length)};\n            let signs_i = ${re("uniforms.signs","i",r.length)};\n            let starts_i = ${re("uniforms.starts","i",r.length)};\n            var output_index = ${t.indicesGet("output_indices","i")};\n            var input_index = output_index * steps_i + starts_i + carry;\n            carry = input_index / input_shape_i;\n            input_index = input_index % input_shape_i;\n            if (signs_i < 0) {\n              input_index = input_shape_i - input_index - 1u + starts_i;\n            }\n            ${e.indicesSet("input_indices","i","input_index")};\n          }\n          return input_indices;\n      }`,Lc=(e,t)=>{let r=e[0].dims,o=z.size(r),n=t.axes.length>0?z.normalizeAxes(t.axes,r.length):[...Array(r.length).keys()],s=ln(e,4);s.forEach(C=>C!==0||(()=>{throw new Error("step cannot be 0")})),s.length===0&&(s=Array(n.length).fill(1));let u=t.starts.map((C,v)=>$u(C,v,r,n,s)),l=t.ends.map((C,v)=>$u(C,v,r,n,s));if(n.length!==u.length||n.length!==l.length)throw new Error("start, ends and axes should have the same number of elements");if(n.length!==r.length)for(let C=0;C<r.length;++C)n.includes(C)||(u.splice(C,0,0),l.splice(C,0,r[C]),s.splice(C,0,1));let a=s.map(C=>Math.sign(C));s.forEach((C,v,A)=>{if(C<0){let T=(l[v]-u[v])/C,D=u[v],U=D+T*s[v];u[v]=U,l[v]=D,A[v]=-C}});let p=r.slice(0);n.forEach((C,v)=>{p[C]=Math.ceil((l[C]-u[C])/s[C])});let m={dims:p,dataType:e[0].dataType},f=F("output",e[0].dataType,p.length),b=M("input",e[0].dataType,e[0].dims.length),_=z.size(p),y=[{name:"outputSize",type:"u32"},{name:"starts",type:"u32",length:u.length},{name:"signs",type:"i32",length:a.length},{name:"steps",type:"u32",length:s.length}],$=[{type:12,data:_},{type:12,data:u},{type:6,data:a},{type:12,data:s},...j(e[0].dims,p)],I=C=>`\n      ${C.registerUniforms(y).declareVariables(b,f)}\n        ${Hc(b,f,r)}\n        ${C.mainStart()}\n          ${C.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}\n          let output_indices = ${f.offsetToIndices("global_idx")};\n          let input_indices = calculateInputIndices(output_indices);\n          ${f.setByOffset("global_idx",b.getByIndices("input_indices"))}\n      }`;return{name:"Slice",shaderCache:{hint:`${a.length}_${u.length}_${s.length}`,inputDependencies:["rank"]},getShaderSource:I,getRunData:()=>({outputs:[m],dispatchGroup:{x:Math.ceil(o/64)},programUniforms:$})}},_u=(e,t)=>{Wc(e.inputs,t);let r=Gc(e.inputs,t);e.compute(Lc(e.inputs,r),{inputs:[0]})},xu=e=>{let t=e.starts,r=e.ends,o=e.axes;return $e({starts:t,ends:r,axes:o})}});var Fc,qc,Cu,Iu,Au=q(()=>{"use strict";ie();_e();je();be();Fc=e=>{if(!e||e.length!==1)throw new Error("Softmax op requires 1 input.")},qc=(e,t)=>{let r=e.dims,o=z.size(r),n=64,s=t.axis;if(s<0&&(s=r.length+s),s<r.length-1)throw new Error("softmax only supports last axis for now.");let u=r[s],l=o/u,a=Me(u),p=u/a,m=(I,C)=>C===4?`max(max(${I}.x, ${I}.y), max(${I}.z, ${I}.w))`:C===2?`max(${I}.x, ${I}.y)`:C===3?`max(max(${I}.x, ${I}.y), ${I}.z)`:I,f=M("x",e.dataType,e.dims,a),b=F("result",e.dataType,e.dims,a),_=f.type.value,y=Pe(e.dataType)==="f32"?`var threadMax = ${_}(-3.402823e+38f);`:`var threadMax = ${_}(-65504.0h);`,$=I=>`\n      var<workgroup> rowMaxShared : ${_};\n      var<workgroup> rowSumShared : ${_};\n      var<workgroup> threadShared : array<${_}, ${n}>;\n\n      fn getValue(row: i32, col: i32, row_stride: i32) -> ${_} {\n        let index = row * row_stride + col;\n        return x[index];\n      }\n\n      fn setValue(row: i32, col: i32, row_stride: i32, value: ${_}) {\n        let index = row * row_stride + col;\n        result[index] = value;\n      }\n      ${I.registerUniform("packedCols","i32").declareVariables(f,b)}\n      ${I.mainStart()}\n        let gindex = i32(global_idx);\n        let lindex = i32(local_idx);\n        const wg = ${n};\n        let row = gindex / wg;\n        let cols = uniforms.packedCols;\n        let row_stride : i32 = uniforms.packedCols;\n\n        // find the rows max\n        ${y}\n        for (var col = lindex; col < cols; col += wg) {\n          let value = getValue(row, col, row_stride);\n          threadMax = max(threadMax, value);\n        }\n        if (lindex < cols) {\n          threadShared[lindex] = threadMax;\n        }\n        workgroupBarrier();\n\n        var reduceSize = min(cols, wg);\n        for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {\n          reduceSize = currSize + (reduceSize & 1);\n          if (lindex < currSize) {\n            threadShared[lindex] = max(threadShared[lindex], threadShared[lindex + reduceSize]);\n          }\n          workgroupBarrier();\n        }\n        if (lindex == 0) {\n          rowMaxShared = ${_}(${m("threadShared[0]",a)});\n        }\n        workgroupBarrier();\n\n        // find the rows sum\n        var threadSum = ${_}(0.0);\n        for (var col = lindex; col < cols; col += wg) {\n          let subExp = exp(getValue(row, col, row_stride) - rowMaxShared);\n          threadSum += subExp;\n        }\n        threadShared[lindex] = threadSum;\n        workgroupBarrier();\n\n        for (var currSize = wg >> 1;  currSize > 0; currSize = currSize >> 1) {\n          if (lindex < currSize) {\n            threadShared[lindex] = threadShared[lindex] + threadShared[lindex + currSize];\n          }\n          workgroupBarrier();\n        }\n        if (lindex == 0) {\n          rowSumShared = ${_}(${tt("threadShared[0]",a)});\n        }\n        workgroupBarrier();\n\n        // calculate final value for each element in the row\n        for (var col = lindex; col < cols; col += wg) {\n          let value = exp(getValue(row, col, row_stride) - rowMaxShared) / rowSumShared;\n          setValue(row, col, row_stride, value);\n        }\n      }`;return{name:"Softmax",shaderCache:{hint:`${a}`,inputDependencies:["type"]},getRunData:()=>({outputs:[{dims:r,dataType:e.dataType}],dispatchGroup:{x:l},programUniforms:[{type:12,data:p}]}),getShaderSource:$}},Cu=(e,t)=>{Fc(e.inputs),e.compute(qc(e.inputs[0],t))},Iu=e=>$e({axis:e.axis})});var Kc,jc,Yc,Zc,Qc,Tu,Eu,Pu=q(()=>{"use strict";ie();_e();je();be();Kc=e=>{if(!e||e.length<1)throw new Error("too few inputs")},jc=(e,t)=>{let r=[],o=t.numOutputs;return e[1].dims[0]>0&&(e[1].getBigInt64Array().forEach(n=>r.push(Number(n))),o=r.length),$e({numOutputs:o,axis:t.axis,splitSizes:r})},Yc=e=>`\nfn calculateOutputIndex(index: u32) -> u32 {\n    for (var i: u32 = 0u; i < ${e}u; i += 1u ) {\n    if (index < ${re("uniforms.size_in_split_axis","i",e)}) {\n        return i;\n    }\n    }\n    return ${e}u;\n}`,Zc=e=>{let t=e.length,r=[];for(let o=0;o<t;++o){let n=e[o].setByIndices("indices","input[global_idx]");t===1?r.push(n):o===0?r.push(`if (output_number == ${o}u) { ${n} }`):o===t-1?r.push(`else { ${n} }`):r.push(`else if (output_number == ${o}) { ${n} }`)}return`\n      fn writeBufferData(output_number: u32, indices: ${e[0].type.indices}, global_idx: u32) {\n        ${r.join(`\n`)}\n      }`},Qc=(e,t)=>{let r=e[0].dims,o=z.size(r),n=e[0].dataType,s=z.normalizeAxis(t.axis,r.length),u=new Array(t.numOutputs),l=M("input",n,r.length),a=new Array(t.numOutputs),p=[],m=[],f=0,b=[{type:12,data:o}];for(let y=0;y<t.numOutputs;y++){f+=t.splitSizes[y],a[y]=f;let $=r.slice();$[t.axis]=t.splitSizes[y],m.push($),u[y]=F(`output${y}`,n,$.length),p.push({dims:m[y],dataType:e[0].dataType})}b.push({type:12,data:a},...j(r,...m));let _=y=>`\n  ${y.registerUniform("input_size","u32").registerUniform("size_in_split_axis","u32",a.length).declareVariables(l,...u)}\n  ${Yc(a.length)}\n  ${Zc(u)}\n\n  ${y.mainStart()}\n    ${y.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.input_size")}\n\n    var indices = ${l.offsetToIndices("global_idx")};\n    var index = ${l.indicesGet("indices",s)};\n    let output_number = calculateOutputIndex(index);\n    if (output_number != 0) {\n      index -= ${re("uniforms.size_in_split_axis","output_number - 1u",a.length)};\n      ${l.indicesSet("indices",s,"index")};\n    }\n    writeBufferData(output_number, indices, global_idx);\n  }`;return{name:"Split",shaderCache:{hint:t.cacheKey,inputDependencies:["rank"]},getShaderSource:_,getRunData:()=>({outputs:p,dispatchGroup:{x:Math.ceil(o/64)},programUniforms:b})}},Tu=(e,t)=>{Kc(e.inputs);let r=e.inputs.length===1?t:jc(e.inputs,t);e.compute(Qc(e.inputs,r),{inputs:[0]})},Eu=e=>{let t=e.axis,r=e.splitSizes,o=e.numOutputs<0?r.length:e.numOutputs;if(o!==r.length)throw new Error("numOutputs and splitSizes lengh must be equal");return $e({axis:t,numOutputs:o,splitSizes:r})}});var Ou,Xc,Jc,ep,ku,Ru=q(()=>{"use strict";ie();_e();be();Ou=e=>Array.from(e.getBigInt64Array(),Number),Xc=e=>{if(!e||e.length!==2)throw new Error("Tile requires 2 inputs.");if(e[0].dataType!==1&&e[0].dataType!==6&&e[0].dataType!==12)throw new Error("Tile only support float, int32, and uint32 data types");if(e[1].dataType!==7)throw new Error("Tile `repeats` input should be of int64 data type");if(e[1].dims.length!==1)throw new Error("Tile `repeats` input should be 1-D");if(Ou(e[1]).length!==e[0].dims.length)throw new Error("Tile `repeats` input should have same number of elements as rank of input data tensor")},Jc=(e,t)=>{let r=[];for(let o=0;o<e.length;++o)r.push(e[o]*t[o]);return r},ep=e=>{let t=e[0].dims,r=Ou(e[1]),o=Jc(t,r),n=z.size(o),s=e[0].dataType,u=M("input",s,t.length),l=F("output",s,o.length),a=p=>`\n      const inputShape = ${u.indices(...t)};\n      ${p.registerUniform("output_size","u32").declareVariables(u,l)}\n      ${p.mainStart()}\n      ${p.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}\n      let output_indices = ${l.offsetToIndices("global_idx")};\n      var input_indices: ${u.type.indices};\n      for (var i = 0; i < ${t.length}; i++) {\n        let input_dim_i = ${u.indicesGet("uniforms.input_shape","i")};\n        let input_dim_value = ${l.indicesGet("output_indices","i")}  % input_dim_i;\n\n        ${u.indicesSet("input_indices","i","input_dim_value")}\n      }\n      ${l.setByOffset("global_idx",u.getByIndices("input_indices"))}\n    }`;return{name:"Tile",shaderCache:{hint:`${r}`,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:o,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(n/64)},programUniforms:[{type:12,data:n},...j(e[0].dims,o)]}),getShaderSource:a}},ku=e=>{Xc(e.inputs),e.compute(ep(e.inputs),{inputs:[0]})}});var tp,rp,Bu,Du=q(()=>{"use strict";ie();_e();be();tp=(e,t,r,o,n)=>{let s=F("output_data",n,r.length,4),u=M("a_data",t[1].dataType,t[1].dims.length,4),l=M("b_data",t[2].dataType,t[2].dims.length,4),a=M("c_data",t[0].dataType,t[0].dims.length,4),p,m=(f,b,_)=>`select(${b}, ${f}, ${_})`;if(!o)p=s.setByOffset("global_idx",m(u.getByOffset("global_idx"),l.getByOffset("global_idx"),a.getByOffset("global_idx")));else{let f=(b,_,y="")=>{let $=`a_data[index_a${_}][component_a${_}]`,I=`b_data[index_b${_}][component_b${_}]`,C=`bool(c_data[index_c${_}] & (0xffu << (component_c${_} * 8)))`;return`\n            let output_indices${_} = ${s.offsetToIndices(`global_idx * 4u + ${_}u`)};\n            let offset_a${_} = ${u.broadcastedIndicesToOffset(`output_indices${_}`,s)};\n            let offset_b${_} = ${l.broadcastedIndicesToOffset(`output_indices${_}`,s)};\n            let offset_c${_} = ${a.broadcastedIndicesToOffset(`output_indices${_}`,s)};\n            let index_a${_} = offset_a${_} / 4u;\n            let index_b${_} = offset_b${_} / 4u;\n            let index_c${_} = offset_c${_} / 4u;\n            let component_a${_} = offset_a${_} % 4u;\n            let component_b${_} = offset_b${_} % 4u;\n            let component_c${_} = offset_c${_} % 4u;\n            ${b}[${_}] = ${y}(${m($,I,C)});\n          `};n===9?p=`\n            var data = vec4<u32>(0);\n            ${f("data",0,"u32")}\n            ${f("data",1,"u32")}\n            ${f("data",2,"u32")}\n            ${f("data",3,"u32")}\n            output_data[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:p=`\n            ${f("output_data[global_idx]",0)}\n            ${f("output_data[global_idx]",1)}\n            ${f("output_data[global_idx]",2)}\n            ${f("output_data[global_idx]",3)}\n          `}return`\n        ${e.registerUniform("vec_size","u32").declareVariables(a,u,l,s)}\n        ${e.mainStart()}\n        ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}\n        ${p}\n      }`},rp=e=>{let t=e[1].dims,r=e[2].dims,o=e[0].dims,n=e[1].dataType,s=!(z.areEqual(t,r)&&z.areEqual(r,o)),u=t,l=z.size(t);if(s){let p=mt.calcShape(mt.calcShape(t,r,!1),o,!1);if(!p)throw new Error("Can\'t perform where op on the given tensors");u=p,l=z.size(u)}let a=Math.ceil(l/4);return{name:"Where",shaderCache:{inputDependencies:["rank","rank","rank"]},getShaderSource:p=>tp(p,e,u,s,n),getRunData:()=>({outputs:[{dims:u,dataType:n}],dispatchGroup:{x:Math.ceil(l/64/4)},programUniforms:[{type:12,data:a},...j(o,t,r,u)]})}},Bu=e=>{e.compute(rp(e.inputs))}});var Mu,zu=q(()=>{"use strict";Qa();Hn();ei();ri();Ni();Qi();es();jn();fs();ys();_s();Cs();As();Ps();Rs();Ms();Us();Ns();Zn();Hs();Ks();Ys();pu();fu();Yr();bu();vu();Su();Au();Pu();Ru();Yt();en();Du();Mu=new Map([["Abs",[ni]],["Acos",[oi]],["Acosh",[ai]],["Add",[Wi]],["ArgMax",[Za,Gn]],["ArgMin",[Ya,Gn]],["Asin",[ii]],["Asinh",[si]],["Atan",[ui]],["Atanh",[di]],["Attention",[Xa]],["AveragePool",[nu,ru]],["BatchNormalization",[Ja]],["BiasAdd",[ti]],["BiasSplitGelu",[Vi]],["Cast",[ci,li]],["Ceil",[mi]],["Clip",[pi]],["Concat",[Xi,Ji]],["Conv",[Jn,Xn]],["ConvTranspose",[ms,ps]],["Cos",[fi]],["Cosh",[hi]],["CumSum",[hs,gs]],["Div",[Gi]],["Einsum",[vs,$s]],["Elu",[gi,Xr]],["Equal",[Hi]],["Erf",[yi]],["Exp",[bi]],["Expand",[Ss]],["FastGelu",[Is]],["Floor",[wi]],["FusedConv",[Jn,Xn]],["Gather",[Es,Ts]],["GatherElements",[ks,Os]],["Gelu",[vi]],["Gemm",[Ds,Bs]],["GlobalAveragePool",[iu,au]],["GlobalMaxPool",[cu,lu]],["Greater",[Ki]],["GreaterOrEqual",[Yi]],["HardSigmoid",[Ti,Ai]],["InstanceNormalization",[zs]],["LayerNormalization",[Vs]],["LeakyRelu",[$i,Xr]],["Less",[ji]],["LessOrEqual",[Zi]],["Log",[zi]],["MatMul",[is]],["MatMulNBits",[Ws,Gs]],["MaxPool",[uu,du]],["Mul",[Li]],["MultiHeadAttention",[qs,Fs]],["Neg",[xi]],["Not",[_i]],["Pad",[js]],["Pow",[Fi]],["Range",[mu]],["Reciprocal",[Si]],["ReduceMin",[Ha]],["ReduceMean",[Ua]],["ReduceMax",[Ga]],["ReduceSum",[Fa]],["ReduceProd",[La]],["ReduceL1",[Va]],["ReduceL2",[Na]],["ReduceLogSum",[Ka]],["ReduceLogSumExp",[Wa]],["ReduceSumSquare",[qa]],["Relu",[Ci]],["Resize",[gu,yu]],["Sigmoid",[Ii]],["Sin",[Ei]],["Sinh",[Pi]],["Slice",[_u,xu]],["SkipLayerNormalization",[wu]],["Split",[Tu,Eu]],["Sqrt",[Oi]],["Softmax",[Cu,Iu]],["Sub",[qi]],["Tan",[ki]],["Tanh",[Bi]],["ThresholdedRelu",[Mi,Xr]],["Tile",[ku]],["Transpose",[Ca,Ia]],["Where",[Bu]]])});var cn,Uu=q(()=>{"use strict";Kt();Pt();be();cn=class{constructor(t){this.backend=t;this.repo=new Map,this.attributesBound=!1}getArtifact(t){return this.repo.get(t)}setArtifact(t,r){this.repo.set(t,r)}run(t,r,o,n,s){Mt(t.programInfo.name);let u=this.backend.device,l=this.backend.getComputePassEncoder();this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2);let a=[];for(let m of r)a.push({binding:a.length,resource:{buffer:m.buffer}});for(let m of o)a.push({binding:a.length,resource:{buffer:m.buffer}});s&&a.push({binding:a.length,resource:s});let p=u.createBindGroup({layout:t.computePipeline.getBindGroupLayout(0),entries:a,label:t.programInfo.name});if(this.backend.sessionStatus==="capturing"){let m={kernelId:this.backend.currentKernelId,computePipeline:t.computePipeline,bindGroup:p,dispatchGroup:n};this.backend.capturedCommandList.get(this.backend.currentSessionId).push(m)}l.setPipeline(t.computePipeline),l.setBindGroup(0,p),l.dispatchWorkgroups(...n),this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2+1),this.backend.pendingDispatchNumber++,(this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber||this.backend.queryType==="at-passes")&&this.backend.endComputePass(),this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber&&this.backend.flush(),Et(t.programInfo.name)}dispose(){}build(t,r){Mt(t.name);let o=this.backend.device,n=[];o.features.has("shader-f16")&&n.push("enable f16;");let s=xa(r),u=t.getShaderSource(s),l=`${n.join(`\n`)}\n${s.additionalImplementations}\n${u}`,a=o.createShaderModule({code:l,label:t.name});De("verbose",()=>`[WebGPU] ${t.name} shader code: ${l}`);let p=o.createComputePipeline({compute:{module:a,entryPoint:"main"},layout:"auto",label:t.name});return Et(t.name),{programInfo:t,computePipeline:p}}normalizeDispatchGroupSize(t){let r=typeof t=="number"?t:t.x,o=typeof t=="number"?1:t.y||1,n=typeof t=="number"?1:t.z||1,s=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(r<=s&&o<=s&&n<=s)return[r,o,n];let u=r*o*n,l=Math.ceil(Math.sqrt(u));if(l>s){if(l=Math.ceil(Math.cbrt(u)),l>s)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[l,l,l]}else return[l,l,1]}}});var np,op,ao,pn,Vu=q(()=>{"use strict";Kt();ie();Pt();ba();_a();zu();Uu();np=(e,t)=>{if(t.length!==e.length)throw new Error(`inputDependencies length ${t.length} is not equal to inputTensors length ${e.length}.`);let r=[];for(let o=0;o<e.length;++o){let n=e[o].dataType;switch(t[o]){case"none":{r.push("");break}case"type":{r.push(`${n}`);break}case"rank":{let s=e[o].dims.length;r.push(`${n};${s}`);break}case"dims":{let s=e[o].dims.join(",");r.push(`${n};${s}`);break}default:throw new Error(`unsupported input dependency: ${t[o]}`)}}return r.join("|")},op=(e,t,r)=>{let o=e.name;return e.shaderCache?.hint&&(o+="["+e.shaderCache.hint+"]"),o+=":"+r+`:${np(t,e.shaderCache?.inputDependencies??new Array(t.length).fill("dims"))}`,o},ao=class{constructor(t){t&&(this.architecture=t.architecture,this.vendor=t.vendor)}isArchitecture(t){return this.architecture===t}isVendor(t){return this.vendor===t}},pn=class{constructor(){this.currentSessionId=null;this.currentKernelId=null;this.commandEncoder=null;this.computePassEncoder=null;this.maxDispatchNumber=16;this.pendingDispatchNumber=0;this.pendingKernels=[];this.pendingQueries=new Map;this.sessionStatus="default";this.capturedCommandList=new Map;this.capturedPendingKernels=new Map;this.sessionExternalDataMapping=new Map}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let t=this.kernelCustomData.get(this.currentKernelId);return t||(t={},this.kernelCustomData.set(this.currentKernelId,t)),t}async initialize(t,r){this.env=t;let o=[],n={requiredLimits:{maxComputeWorkgroupStorageSize:r.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:r.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:r.limits.maxStorageBufferBindingSize,maxBufferSize:r.limits.maxBufferSize,maxComputeInvocationsPerWorkgroup:r.limits.maxComputeInvocationsPerWorkgroup,maxComputeWorkgroupSizeX:r.limits.maxComputeWorkgroupSizeX,maxComputeWorkgroupSizeY:r.limits.maxComputeWorkgroupSizeY,maxComputeWorkgroupSizeZ:r.limits.maxComputeWorkgroupSizeZ},requiredFeatures:o};r.features.has("chromium-experimental-timestamp-query-inside-passes")?o.push("chromium-experimental-timestamp-query-inside-passes"):r.features.has("timestamp-query")&&o.push("timestamp-query"),r.features.has("shader-f16")&&o.push("shader-f16"),this.device=await r.requestDevice(n),this.adapterInfo=new ao(await r.requestAdapterInfo()),this.gpuDataManager=$a(this),this.programManager=new cn(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,ga(t.logLevel,!!t.debug),this.device.onuncapturederror=s=>{s.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${s.error.message}`)},Object.defineProperty(this.env.webgpu,"device",{value:this.device,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this.env.webgpu,"adapter",{value:r,writable:!1,enumerable:!0,configurable:!1}),this.setQueryType()}dispose(){typeof this.querySet<"u"&&this.querySet.destroy(),this.gpuDataManager.dispose()}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){if(!this.computePassEncoder){let t=this.getCommandEncoder(),r={};this.queryType==="at-passes"&&(r.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:this.pendingDispatchNumber*2,endOfPassWriteIndex:this.pendingDispatchNumber*2+1}),this.computePassEncoder=t.beginComputePass(r)}return this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){if(!this.commandEncoder)return;Mt(),this.endComputePass();let t;this.queryType!=="none"&&(this.commandEncoder.resolveQuerySet(this.querySet,0,this.pendingDispatchNumber*2,this.queryResolveBuffer,0),t=this.device.createBuffer({size:this.pendingDispatchNumber*2*8,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.pendingQueries.set(t,this.pendingKernels),this.pendingKernels=[],this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,t,0,this.pendingDispatchNumber*2*8)),this.device.queue.submit([this.commandEncoder.finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0,this.queryType!=="none"&&t.mapAsync(GPUMapMode.READ).then(()=>{let r=new BigUint64Array(t.getMappedRange()),o=this.pendingQueries.get(t);for(let n=0;n<r.length/2;n++){let s=o[n],u=s.kernelId,l=this.kernels.get(u),a=l.kernelType,p=l.kernelName,m=s.programName,f=s.inputTensorViews,b=s.outputTensorViews,_=r[n*2],y=r[n*2+1];typeof this.queryTimeBase>"u"&&(this.queryTimeBase=_);let $=Number(_-this.queryTimeBase),I=Number(y-this.queryTimeBase);if(!Number.isSafeInteger($)||!Number.isSafeInteger(I))throw new RangeError("incorrect timestamp range");if(this.env.webgpu.profiling?.ondata)this.env.webgpu.profiling.ondata({version:1,inputsMetadata:f.map(C=>({dims:C.dims,dataType:Tt(C.dataType)})),outputsMetadata:b.map(C=>({dims:C.dims,dataType:Tt(C.dataType)})),kernelId:u,kernelType:a,kernelName:p,programName:m,startTime:$,endTime:I});else{let C="";f.forEach((A,T)=>{C+=`input[${T}]: [${A.dims}] | ${Tt(A.dataType)}, `});let v="";b.forEach((A,T)=>{v+=`output[${T}]: [${A.dims}] | ${Tt(A.dataType)}, `}),console.log(`[profiling] kernel "${u}|${a}|${p}|${m}" ${C}${v}execution time: ${I-$} ns`)}kn("GPU",`${m}::${_}::${y}`)}t.unmap(),this.pendingQueries.delete(t)}),Et()}run(t,r,o,n,s){Mt(t.name);let u=[];for(let v=0;v<r.length;++v){let A=r[v].data;if(A===0)continue;let T=this.gpuDataManager.get(A);if(!T)throw new Error(`no GPU data for input: ${A}`);u.push(T)}let{outputs:l,dispatchGroup:a,programUniforms:p}=t.getRunData(r),m=o.length===0?l.map((v,A)=>A):o;if(m.length!==l.length)throw new Error(`Output size ${m.length} must be equal to ${l.length}.`);let f=[],b=[];for(let v=0;v<l.length;++v){if(!Number.isInteger(m[v])||m[v]<-3||m[v]>=l.length)throw new Error(`Invalid output index: ${m[v]}`);if(m[v]===-3)continue;let A=m[v]===-1,T=m[v]===-2,D=A||T?s(l[v].dataType,l[v].dims):n(m[v],l[v].dataType,l[v].dims);if(f.push(D),D.data===0)continue;let U=this.gpuDataManager.get(D.data);if(!U)throw new Error(`no GPU data for output: ${D.data}`);if(A&&this.temporaryData.push(U),T){let V=this.kernelPersistentData.get(this.currentKernelId);V||(V=[],this.kernelPersistentData.set(this.currentKernelId,V)),V.push(U)}b.push(U)}if(u.length!==r.length||b.length!==f.length){if(b.length===0)return Et(t.name),f;throw new Error(`Program ${t.name} has zero-sized tensor(s) in inputs or outputs. This is not supported now.`)}let _;if(p){let v=0,A=[];p.forEach(V=>{let H=typeof V.data=="number"?[V.data]:V.data;if(H.length===0)return;let R=V.type===10?2:4,L,pe;V.type===10?(pe=H.length>4?16:H.length>2?8:H.length*R,L=H.length>4?16:R*H.length):(pe=H.length<=2?H.length*R:16,L=16),v=Math.ceil(v/pe)*pe,A.push(v);let Ie=V.type===10?8:4;v+=H.length>4?Math.ceil(H.length/Ie)*L:H.length*R});let T=16;v=Math.ceil(v/T)*T;let D=new ArrayBuffer(v);p.forEach((V,H)=>{let R=A[H],L=typeof V.data=="number"?[V.data]:V.data;if(V.type===6)new Int32Array(D,R,L.length).set(L);else if(V.type===12)new Uint32Array(D,R,L.length).set(L);else if(V.type===10)new Uint16Array(D,R,L.length).set(L);else if(V.type===1)new Float32Array(D,R,L.length).set(L);else throw new Error(`Unsupported uniform type: ${Tt(V.type)}`)});let U=this.gpuDataManager.create(v,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.device.queue.writeBuffer(U.buffer,0,D,0,v),this.gpuDataManager.release(U.id),_={offset:0,size:v,buffer:U.buffer}}let y=this.programManager.normalizeDispatchGroupSize(a),$=y[1]===1&&y[2]===1,I=op(t,r,$),C=this.programManager.getArtifact(I);if(C||(C=this.programManager.build(t,y),this.programManager.setArtifact(I,C),De("info",()=>`[artifact] key: ${I}, programName: ${t.name}`)),De("info",()=>`[ProgramManager] run "${t.name}" (key=${I}) with ${y[0]}x${y[1]}x${y[2]}`),this.queryType!=="none"||this.sessionStatus==="capturing"){let v={kernelId:this.currentKernelId,programName:C.programInfo.name,inputTensorViews:r,outputTensorViews:f};this.pendingKernels.push(v),this.sessionStatus==="capturing"&&this.capturedPendingKernels.get(this.currentSessionId).push(v)}return this.programManager.run(C,u,b,y,_),Et(t.name),f}upload(t,r){this.gpuDataManager.upload(t,r)}memcpy(t,r){this.gpuDataManager.memcpy(t,r)}async download(t,r){await this.gpuDataManager.download(t,r)}alloc(t){return this.gpuDataManager.create(t).id}free(t){return this.gpuDataManager.release(t)}createKernel(t,r,o,n){let s=Mu.get(t);if(!s)throw new Error(`kernel not implemented: ${t}`);let u={kernelType:t,kernelName:n,kernelEntry:s[0],attributes:[s[1],o]};this.kernels.set(r,u)}releaseKernel(t){let r=this.kernelPersistentData.get(t);if(r){for(let o of r)this.gpuDataManager.release(o.id);this.kernelPersistentData.delete(t)}this.kernelCustomData.delete(t),this.kernels.delete(t)}computeKernel(t,r,o){let n=this.kernels.get(t);if(!n)throw new Error(`kernel not created: ${t}`);let s=n.kernelType,u=n.kernelName,l=n.kernelEntry,a=n.attributes;if(this.currentKernelId!==null)throw new Error(`kernel "[${s}] ${u}" is not allowed to be called recursively`);this.currentKernelId=t,a[0]&&(a[1]=a[0](a[1]),a[0]=void 0),De("info",()=>`[WebGPU] Start to run kernel "[${s}] ${u}"...`);let p=this.env.debug;this.temporaryData=[];try{return p&&this.device.pushErrorScope("validation"),l(r,a[1]),0}catch(m){return o.push(Promise.resolve(`[WebGPU] Kernel "[${s}] ${u}" failed. ${m}`)),1}finally{p&&o.push(this.device.popErrorScope().then(m=>m?`GPU validation error for kernel "[${s}] ${u}": ${m.message}`:null));for(let m of this.temporaryData)this.gpuDataManager.release(m.id);this.temporaryData=[],this.currentKernelId=null}}registerBuffer(t,r,o,n){let s=this.sessionExternalDataMapping.get(t);s||(s=new Map,this.sessionExternalDataMapping.set(t,s));let u=s.get(r),l=this.gpuDataManager.registerExternalBuffer(o,n,u?.[1]);return s.set(r,[l,o]),l}unregisterBuffers(t){let r=this.sessionExternalDataMapping.get(t);r&&(r.forEach(o=>this.gpuDataManager.unregisterExternalBuffer(o[1])),this.sessionExternalDataMapping.delete(t))}getBuffer(t){let r=this.gpuDataManager.get(t);if(!r)throw new Error(`no GPU data for buffer: ${t}`);return r.buffer}createDownloader(t,r,o){return async()=>{let n=await Dn(this,t,r);return ya(n.buffer,o)}}writeTimestamp(t){this.queryType==="inside-passes"&&this.computePassEncoder.writeTimestamp(this.querySet,t)}setQueryType(){this.queryType="none",(this.env.webgpu.profiling?.mode==="default"||(typeof this.env.trace>"u"?this.env.wasm.trace:this.env.trace))&&(this.device.features.has("chromium-experimental-timestamp-query-inside-passes")?this.queryType="inside-passes":this.device.features.has("timestamp-query")&&(this.queryType="at-passes"),this.queryType!=="none"&&typeof this.querySet>"u"&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxDispatchNumber*2}),this.queryResolveBuffer=this.device.createBuffer({size:this.maxDispatchNumber*2*8,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE})))}captureBegin(){De("info","captureBegin"),this.capturedCommandList.get(this.currentSessionId)||this.capturedCommandList.set(this.currentSessionId,[]),this.capturedPendingKernels.get(this.currentSessionId)||this.capturedPendingKernels.set(this.currentSessionId,[]),this.flush(),this.sessionStatus="capturing"}captureEnd(){De("info","captureEnd"),this.flush(),this.sessionStatus="default"}replay(){De("info","replay"),this.sessionStatus="replaying";let t=this.capturedCommandList.get(this.currentSessionId),r=this.capturedPendingKernels.get(this.currentSessionId),o=t.length;this.pendingKernels=[];for(let n=0;n<o;n++){let s=this.getComputePassEncoder(),u=t[n];this.writeTimestamp(this.pendingDispatchNumber*2),s.setPipeline(u.computePipeline),s.setBindGroup(0,u.bindGroup),s.dispatchWorkgroups(...u.dispatchGroup),this.writeTimestamp(this.pendingDispatchNumber*2+1),this.pendingDispatchNumber++,this.queryType!=="none"&&this.pendingKernels.push(r[n]),(this.pendingDispatchNumber>=this.maxDispatchNumber||this.queryType==="at-passes")&&this.endComputePass(),this.pendingDispatchNumber>=this.maxDispatchNumber&&this.flush()}this.flush(),this.sessionStatus="default"}onReleaseSession(t){this.unregisterBuffers(t),this.capturedCommandList.has(t)&&this.capturedCommandList.delete(t),this.capturedPendingKernels.has(t)&&this.capturedPendingKernels.delete(t),this.gpuDataManager.onReleaseSession(t)}onRunStart(t){this.currentSessionId=t,this.setQueryType()}}});var Nu={};Mr(Nu,{init:()=>ap});var wr,io,ap,Wu=q(()=>{"use strict";ie();Vu();Pt();_e();wr=class e{constructor(t,r,o,n){this.module=t;this.dataType=r;this.data=o;this.dims=n}getFloat32Array(){if(this.dataType!==1)throw new Error("Invalid data type");let t=z.size(this.dims);return t===0?new Float32Array:new Float32Array(this.module.HEAP8.buffer,this.data,t)}getBigInt64Array(){if(this.dataType!==7)throw new Error("Invalid data type");let t=z.size(this.dims);return t===0?new BigInt64Array:new BigInt64Array(this.module.HEAP8.buffer,this.data,t)}getInt32Array(){if(this.dataType!==6)throw new Error("Invalid data type");let t=z.size(this.dims);return t===0?new Int32Array:new Int32Array(this.module.HEAP8.buffer,this.data,t)}reshape(t){if(z.size(t)!==z.size(this.dims))throw new Error("Invalid new shape");return new e(this.module,this.dataType,this.data,t)}},io=class{constructor(t,r,o){this.module=t;this.backend=r;this.customDataOffset=0;this.customDataSize=0;this.adapterInfo=r.adapterInfo;let n=t.HEAPU32,s=o>>>2;this.opKernelContext=n[s++];let u=n[s++];this.outputCount=n[s++],this.customDataOffset=n[s++],this.customDataSize=n[s++];let l=[];for(let a=0;a<u;a++){let p=n[s++],m=n[s++],f=n[s++],b=[];for(let _=0;_<f;_++)b.push(n[s++]);l.push(new wr(t,p,m,b))}this.inputs=l}get kernelCustomData(){return this.backend.currentKernelCustomData}get customDataBuffer(){return this.module.HEAPU8.subarray(this.customDataOffset,this.customDataOffset+this.customDataSize)}compute(t,r){let o=r?.inputs?.map(l=>typeof l=="number"?this.inputs[l]:l)??this.inputs,n=r?.outputs??[],s=(l,a,p)=>new wr(this.module,a,this.output(l,p),p),u=(l,a)=>{let p=fr(l);if(!p)throw new Error(`Unsupported data type: ${l}`);let m=p*z.size(a),f=m>0?this.backend.gpuDataManager.create(m).id:0;return new wr(this.module,l,f,a)};return this.backend.run(t,o,n,s,u)}output(t,r){let o=this.module.stackSave();try{let n=this.module.stackAlloc((1+r.length)*4),s=n>>2;this.module.HEAPU32[s++]=r.length;for(let u=0;u<r.length;u++)this.module.HEAPU32[s++]=r[u];return this.module._JsepOutput(this.opKernelContext,t,n)}catch(n){throw new Error(`Failed to generate kernel\'s output[${t}] with dims [${r}]. If you are running with pre-allocated output, please make sure the output type/dims are correct. Error: ${n}`)}finally{this.module.stackRestore(o)}}},ap=async(e,t,r,o)=>{let n=t.jsepInit;if(!n)throw new Error("Failed to initialize JSEP. The WebAssembly module is not built with JSEP support.");if(e==="webgpu"){let s=new pn;await s.initialize(r,o),n("webgpu",[s,u=>s.alloc(u),u=>s.free(u),(u,l,a,p=!1)=>{if(p)De("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${u}, dst=${l}, size=${a}`),s.memcpy(u,l);else{De("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${u}, gpuDataId=${l}, size=${a}`);let m=t.HEAPU8.subarray(u>>>0,(u>>>0)+a);s.upload(l,m)}},async(u,l,a)=>{De("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${u}, dataOffset=${l}, size=${a}`),await s.download(u,()=>t.HEAPU8.subarray(l>>>0,(l>>>0)+a))},(u,l,a)=>s.createKernel(u,l,a,t.UTF8ToString(t._JsepGetNodeName(l))),u=>s.releaseKernel(u),(u,l,a,p)=>{De("verbose",()=>`[WebGPU] jsepRun: sessionHandle=${a}, kernel=${u}, contextDataOffset=${l}`);let m=new io(t,s,l);return s.computeKernel(u,m,p)},()=>s.captureBegin(),()=>s.captureEnd(),()=>s.replay()])}else n("webnn")}});var Ho;Ho=Ro();var bd=No(),An,Tn=!1,zr=!1,Go=!1,wd=e=>{if(e===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+e+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+e+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},vd=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},$d=(e,t)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":t?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Lo=async e=>{if(Tn)return Promise.resolve();if(zr)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Go)throw new Error("previous call to \'initializeWebAssembly()\' failed.");zr=!0;let t=e.initTimeout,r=e.numThreads,o=e.simd,n=wd(r),s=o&&vd(),u=e.wasmPaths,l=typeof u=="string"?u:void 0,a=$d(s,n),p=typeof u=="object"?u[a]:void 0,m=!1,f=[];if(t>0&&f.push(new Promise(b=>{setTimeout(()=>{m=!0,b()},t)})),f.push(new Promise((b,_)=>{let y=n?bd:Ho,$={locateFile:(I,C)=>{if(n&&I.endsWith(".worker.js")&&typeof Blob<"u")return URL.createObjectURL(new Blob([Wo()],{type:"text/javascript"}));if(I.endsWith(".wasm")){if(p)return p;let v=l??C;return a==="ort-wasm-simd.wasm"?v+"ort-wasm-simd.jsep.wasm":a==="ort-wasm-simd-threaded.wasm"?v+"ort-wasm-simd-threaded.jsep.wasm":v+a}return C+I}};if(n)if($.numThreads=r,typeof Blob>"u")$.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let I=`var ortWasmThreaded=${y.toString()};`;$.mainScriptUrlOrBlob=new Blob([I],{type:"text/javascript"})}y($).then(I=>{zr=!1,Tn=!0,An=I,b()},I=>{zr=!1,Go=!0,_(I)})})),await Promise.race(f),m)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},We=()=>{if(Tn&&An)return An;throw new Error("WebAssembly is not initialized yet.")};var Ge=(e,t)=>{let r=We(),o=r.lengthBytesUTF8(e)+1,n=r._malloc(o);return r.stringToUTF8(e,n,o),t.push(n),n},mr=(e,t,r,o)=>{if(typeof e=="object"&&e!==null){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach(([n,s])=>{let u=t?t+n:n;if(typeof s=="object")mr(s,u+".",r,o);else if(typeof s=="string"||typeof s=="number")o(u,s.toString());else if(typeof s=="boolean")o(u,s?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof s}`)})},Be=e=>{let t=We(),r=t.stackSave();try{let o=t.stackAlloc(8);t._OrtGetLastError(o,o+4);let n=t.HEAP32[o/4],s=t.HEAPU32[o/4+1],u=s?t.UTF8ToString(s):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${u}`)}finally{t.stackRestore(r)}};var Fo=e=>{let t=We(),r=0,o=[],n=e||{};try{if(e?.logSeverityLevel===void 0)n.logSeverityLevel=2;else if(typeof e.logSeverityLevel!="number"||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(e?.logVerbosityLevel===void 0)n.logVerbosityLevel=0;else if(typeof e.logVerbosityLevel!="number"||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);e?.terminate===void 0&&(n.terminate=!1);let s=0;return e?.tag!==void 0&&(s=Ge(e.tag,o)),r=t._OrtCreateRunOptions(n.logSeverityLevel,n.logVerbosityLevel,!!n.terminate,s),r===0&&Be("Can\'t create run options."),e?.extra!==void 0&&mr(e.extra,"",new WeakSet,(u,l)=>{let a=Ge(u,o),p=Ge(l,o);t._OrtAddRunConfigEntry(r,a,p)!==0&&Be(`Can\'t set a run config entry: ${u} - ${l}.`)}),[r,o]}catch(s){throw r!==0&&t._OrtReleaseRunOptions(r),o.forEach(u=>t._free(u)),s}};var _d=e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}},xd=e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}},Sd=e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});let t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some(r=>(typeof r=="string"?r:r.name)==="webgpu")&&(e.enableMemPattern=!1)},Cd=(e,t,r)=>{for(let o of t){let n=typeof o=="string"?o:o.name;switch(n){case"webnn":if(n="WEBNN",typeof o!="string"){let u=o;if(u?.deviceType){let l=Ge("deviceType",r),a=Ge(u.deviceType,r);We()._OrtAddSessionConfigEntry(e,l,a)!==0&&Be(`Can\'t set a session config entry: \'deviceType\' - ${u.deviceType}.`)}if(u?.numThreads){let l=u.numThreads;(typeof l!="number"||!Number.isInteger(l)||l<0)&&(l=0);let a=Ge("numThreads",r),p=Ge(l.toString(),r);We()._OrtAddSessionConfigEntry(e,a,p)!==0&&Be(`Can\'t set a session config entry: \'numThreads\' - ${u.numThreads}.`)}if(u?.powerPreference){let l=Ge("powerPreference",r),a=Ge(u.powerPreference,r);We()._OrtAddSessionConfigEntry(e,l,a)!==0&&Be(`Can\'t set a session config entry: \'powerPreference\' - ${u.powerPreference}.`)}}break;case"webgpu":if(n="JS",typeof o!="string"){let u=o;if(u?.preferredLayout){if(u.preferredLayout!=="NCHW"&&u.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${u.preferredLayout}`);let l=Ge("preferredLayout",r),a=Ge(u.preferredLayout,r);We()._OrtAddSessionConfigEntry(e,l,a)!==0&&Be(`Can\'t set a session config entry: \'preferredLayout\' - ${u.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${n}`)}let s=Ge(n,r);We()._OrtAppendExecutionProvider(e,s)!==0&&Be(`Can\'t append execution provider: ${n}.`)}},qo=e=>{let t=We(),r=0,o=[],n=e||{};Sd(n);try{let s=_d(n.graphOptimizationLevel??"all"),u=xd(n.executionMode??"sequential"),l=typeof n.logId=="string"?Ge(n.logId,o):0,a=n.logSeverityLevel??2;if(!Number.isInteger(a)||a<0||a>4)throw new Error(`log serverity level is not valid: ${a}`);let p=n.logVerbosityLevel??0;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log verbosity level is not valid: ${p}`);let m=typeof n.optimizedModelFilePath=="string"?Ge(n.optimizedModelFilePath,o):0;if(r=t._OrtCreateSessionOptions(s,!!n.enableCpuMemArena,!!n.enableMemPattern,u,!!n.enableProfiling,0,l,a,p,m),r===0&&Be("Can\'t create session options."),n.executionProviders&&Cd(r,n.executionProviders,o),n.enableGraphCapture!==void 0){if(typeof n.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${n.enableGraphCapture}`);let f=Ge("enableGraphCapture",o),b=Ge(n.enableGraphCapture.toString(),o);t._OrtAddSessionConfigEntry(r,f,b)!==0&&Be(`Can\'t set a session config entry: \'enableGraphCapture\' - ${n.enableGraphCapture}.`)}if(n.freeDimensionOverrides)for(let[f,b]of Object.entries(n.freeDimensionOverrides)){if(typeof f!="string")throw new Error(`free dimension override name must be a string: ${f}`);if(typeof b!="number"||!Number.isInteger(b)||b<0)throw new Error(`free dimension override value must be a non-negative integer: ${b}`);let _=Ge(f,o);t._OrtAddFreeDimensionOverride(r,_,b)!==0&&Be(`Can\'t set a free dimension override: ${f} - ${b}.`)}return n.extra!==void 0&&mr(n.extra,"",new WeakSet,(f,b)=>{let _=Ge(f,o),y=Ge(b,o);t._OrtAddSessionConfigEntry(r,_,y)!==0&&Be(`Can\'t set a session config entry: ${f} - ${b}.`)}),[r,o]}catch(s){throw r!==0&&t._OrtReleaseSessionOptions(r),o.forEach(u=>t._free(u)),s}};ie();var jo=async e=>{if(typeof e=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(e))}catch(t){if(t.code==="ERR_FS_FILE_TOO_LARGE"){let r=(void 0)(e),o=[];for await(let n of r)o.push(n);return new Uint8Array(Buffer.concat(o))}throw t}else{let t=await fetch(e);if(!t.ok)throw new Error(`failed to load external data file: ${e}`);let r=t.headers.get("Content-Length"),o=r?parseInt(r,10):0;if(o<1073741824)return new Uint8Array(await t.arrayBuffer());{if(!t.body)throw new Error(`failed to load external data file: ${e}, no response body.`);let n=t.body.getReader(),s;try{s=new ArrayBuffer(o)}catch(l){if(l instanceof RangeError){let a=Math.ceil(o/65536);s=new WebAssembly.Memory({initial:a,maximum:a}).buffer}else throw l}let u=0;for(;;){let{done:l,value:a}=await n.read();if(l)break;let p=a.byteLength;new Uint8Array(s,u,p).set(a),u+=p}return new Uint8Array(s,0,o)}}else return e instanceof Blob?new Uint8Array(await e.arrayBuffer()):e instanceof Uint8Array?e:new Uint8Array(e)};var ip=(e,t)=>{We()._OrtInit(e,t)!==0&&Be("Can\'t initialize onnxruntime.")},Hu=async e=>{ip(e.wasm.numThreads,hr(e.logLevel))},Lu=async(e,t)=>{{let r=(Wu(),Ft(Nu)).init;if(t==="webgpu"){if(typeof navigator>"u"||!navigator.gpu)throw new Error("WebGPU is not supported in current environment");let o=e.webgpu.adapter;if(o){if(typeof o.limits!="object"||typeof o.features!="object"||typeof o.requestDevice!="function")throw new Error("Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.")}else{let n=e.webgpu.powerPreference;if(n!==void 0&&n!=="low-power"&&n!=="high-performance")throw new Error(`Invalid powerPreference setting: "${n}"`);let s=e.webgpu.forceFallbackAdapter;if(s!==void 0&&typeof s!="boolean")throw new Error(`Invalid forceFallbackAdapter setting: "${s}"`);if(o=await navigator.gpu.requestAdapter({powerPreference:n,forceFallbackAdapter:s}),!o)throw new Error(\'Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.\')}if(!e.wasm.simd)throw new Error("Not supported for WebGPU=ON and SIMD=OFF. Please set `env.wasm.simd` to true when using `webgpu` EP");await r("webgpu",We(),e,o)}if(t==="webnn"){if(typeof navigator>"u"||!navigator.ml)throw new Error("WebNN is not supported in current environment");await r("webnn",We(),e)}}},Ut=new Map,sp=e=>{let t=We(),r=t.stackSave();try{let o=t.stackAlloc(8);return t._OrtGetInputOutputCount(e,o,o+4)!==0&&Be("Can\'t get session input/output count."),[t.HEAP32[o/4],t.HEAP32[o/4+1]]}finally{t.stackRestore(r)}},so=e=>{let t=We(),r=t._malloc(e.byteLength);if(r===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},Fu=async(e,t)=>{let r,o,n=We();Array.isArray(e)?[r,o]=e:e.buffer===n.HEAPU8.buffer?[r,o]=[e.byteOffset,e.byteLength]:[r,o]=so(e);let s=0,u=0,l=0,a=[],p=[],m=[];try{if([u,a]=qo(t),t?.externalData&&n.mountExternalData){let v=[];for(let A of t.externalData){let T=typeof A=="string"?A:A.path;v.push(jo(typeof A=="string"?A:A.data).then(D=>{n.mountExternalData(T,D)}))}await Promise.all(v)}s=await n._OrtCreateSession(r,o,u),s===0&&Be("Can\'t create a session.");let[f,b]=sp(s),_=!!t?.enableGraphCapture,y=[],$=[],I=[];for(let v=0;v<f;v++){let A=n._OrtGetInputName(s,v);A===0&&Be("Can\'t get an input name."),p.push(A),y.push(n.UTF8ToString(A))}for(let v=0;v<b;v++){let A=n._OrtGetOutputName(s,v);A===0&&Be("Can\'t get an output name."),m.push(A);let T=n.UTF8ToString(A);$.push(T);{if(_&&t?.preferredOutputLocation===void 0){I.push("gpu-buffer");continue}let D=typeof t?.preferredOutputLocation=="string"?t.preferredOutputLocation:t?.preferredOutputLocation?.[T]??"cpu";if(D!=="cpu"&&D!=="cpu-pinned"&&D!=="gpu-buffer")throw new Error(`Not supported preferred output location: ${D}.`);if(_&&D!=="gpu-buffer")throw new Error(`Not supported preferred output location: ${D}. Only \'gpu-buffer\' location is supported when enableGraphCapture is true.`);I.push(D)}}let C=null;return I.some(v=>v==="gpu-buffer")&&(l=n._OrtCreateBinding(s),l===0&&Be("Can\'t create IO binding."),C={handle:l,outputPreferredLocations:I,outputPreferredLocationsEncoded:I.map(v=>Pn(v))}),Ut.set(s,[s,p,m,C,_,!1]),[s,y,$]}catch(f){throw p.forEach(b=>n._OrtFree(b)),m.forEach(b=>n._OrtFree(b)),l!==0&&n._OrtReleaseBinding(l),s!==0&&n._OrtReleaseSession(s),f}finally{n._free(r),u!==0&&n._OrtReleaseSessionOptions(u),a.forEach(f=>n._free(f)),n.unmountExternalData?.()}},qu=e=>{let t=We(),r=Ut.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);let[o,n,s,u,l]=r;u&&(l&&t._OrtClearBoundOutputs(u.handle),t._OrtReleaseBinding(u.handle)),t.jsepOnReleaseSession?.(e),n.forEach(a=>t._OrtFree(a)),s.forEach(a=>t._OrtFree(a)),t._OrtReleaseSession(o),Ut.delete(e)},Gu=(e,t,r,o,n,s=!1)=>{if(!e){t.push(0);return}let u=We(),l=e[0],a=e[1],p=e[3],m,f;if(l==="string"&&p==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(s&&p!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${n} when enableGraphCapture is true.`);if(p==="gpu-buffer"){let y=e[2].gpuBuffer,$=fr(En(l));f=a.reduce((C,v)=>C*v,1)*$;let I=u.jsepRegisterBuffer;if(!I)throw new Error(\'Tensor location "gpu-buffer" is not supported without using WebGPU.\');m=I(o,n,y,f)}else{let y=e[2];if(Array.isArray(y)){f=4*y.length,m=u._malloc(f),r.push(m);let $=m/4;for(let I=0;I<y.length;I++){if(typeof y[I]!="string")throw new TypeError(`tensor data at index ${I} is not a string`);u.HEAPU32[$++]=Ge(y[I],r)}}else f=y.byteLength,m=u._malloc(f),r.push(m),u.HEAPU8.set(new Uint8Array(y.buffer,y.byteOffset,f),m)}let b=u.stackSave(),_=u.stackAlloc(4*a.length);try{let y=_/4;a.forEach(I=>u.HEAP32[y++]=I);let $=u._OrtCreateTensor(En(l),m,f,_,a.length,Pn(p));$===0&&Be(`Can\'t create tensor for input/output. session=${o}, index=${n}.`),t.push($)}finally{u.stackRestore(b)}},Ku=async(e,t,r,o,n,s)=>{let u=We(),l=Ut.get(e);if(!l)throw new Error(`cannot run inference. invalid session id: ${e}`);let a=l[0],p=l[1],m=l[2],f=l[3],b=l[4],_=l[5],y=t.length,$=o.length,I=0,C=[],v=[],A=[],T=[],D=u.stackSave(),U=u.stackAlloc(y*4),V=u.stackAlloc(y*4),H=u.stackAlloc($*4),R=u.stackAlloc($*4);try{[I,C]=Fo(s);for(let Q=0;Q<y;Q++)Gu(r[Q],v,T,e,t[Q],b);for(let Q=0;Q<$;Q++)Gu(n[Q],A,T,e,y+o[Q],b);let L=U/4,pe=V/4,Ie=H/4,we=R/4;for(let Q=0;Q<y;Q++)u.HEAPU32[L++]=v[Q],u.HEAPU32[pe++]=p[t[Q]];for(let Q=0;Q<$;Q++)u.HEAPU32[Ie++]=A[Q],u.HEAPU32[we++]=m[o[Q]];if(f&&!_){let{handle:Q,outputPreferredLocations:xe,outputPreferredLocationsEncoded:me}=f;if(p.length!==y)throw new Error(`input count from feeds (${y}) is expected to be always equal to model\'s input count (${p.length}).`);for(let ue=0;ue<y;ue++){let se=t[ue];await u._OrtBindInput(Q,p[se],v[ue])!==0&&Be(`Can\'t bind input[${ue}] for session=${e}.`)}for(let ue=0;ue<$;ue++){let se=o[ue];n[ue]?.[3]?u._OrtBindOutput(Q,m[se],A[ue],0)!==0&&Be(`Can\'t bind pre-allocated output[${ue}] for session=${e}.`):u._OrtBindOutput(Q,m[se],0,me[se])!==0&&Be(`Can\'t bind output[${ue}] to ${xe[ue]} for session=${e}.`)}Ut.set(e,[a,p,m,f,b,!0])}u.jsepOnRunStart?.(a);let ne;f?ne=await u._OrtRunWithBinding(a,f.handle,$,H,I):ne=await u._OrtRun(a,V,U,y,R,$,H,I),ne!==0&&Be("failed to call OrtRun().");let ze=[];for(let Q=0;Q<$;Q++){let xe=u.HEAPU32[H/4+Q];if(xe===A[Q]){ze.push(n[Q]);continue}let me=u.stackSave(),ue=u.stackAlloc(4*4),se=!1,he,Ae=0;try{u._OrtGetTensorData(xe,ue,ue+4,ue+8,ue+12)!==0&&Be(`Can\'t access output tensor data on index ${Q}.`);let G=ue/4,J=u.HEAPU32[G++];Ae=u.HEAPU32[G++];let Se=u.HEAPU32[G++],Qe=u.HEAPU32[G++],Xe=[];for(let Ne=0;Ne<Qe;Ne++)Xe.push(u.HEAPU32[Se/4+Ne]);u._OrtFree(Se);let Le=Xe.reduce((Ne,Fe)=>Ne*Fe,1);he=Tt(J);let wt=f?.outputPreferredLocations[o[Q]];if(he==="string"){if(wt==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let Ne=[],Fe=Ae/4;for(let Je=0;Je<Le;Je++){let kt=u.HEAPU32[Fe++],vt=Je===Le-1?void 0:u.HEAPU32[Fe]-kt;Ne.push(u.UTF8ToString(kt,vt))}ze.push([he,Xe,Ne,"cpu"])}else if(wt==="gpu-buffer"&&Le>0){let Ne=u.jsepGetBuffer;if(!Ne)throw new Error(\'preferredLocation "gpu-buffer" is not supported without using WebGPU.\');let Fe=Ne(Ae),Je=fr(J);if(Je===void 0||!Ko(he))throw new Error(`Unsupported data type: ${he}`);se=!0,ze.push([he,Xe,{gpuBuffer:Fe,download:u.jsepCreateDownloader(Fe,Le*Je,he),dispose:()=>{u._OrtReleaseTensor(xe)}},"gpu-buffer"])}else{let Ne=Ur(he),Fe=new Ne(Le);new Uint8Array(Fe.buffer,Fe.byteOffset,Fe.byteLength).set(u.HEAPU8.subarray(Ae,Ae+Fe.byteLength)),ze.push([he,Xe,Fe,"cpu"])}}finally{u.stackRestore(me),he==="string"&&Ae&&u._free(Ae),se||u._OrtReleaseTensor(xe)}}return f&&!b&&(u._OrtClearBoundOutputs(f.handle),Ut.set(e,[a,p,m,f,b,!1])),ze}finally{u.stackRestore(D),v.forEach(L=>u._OrtReleaseTensor(L)),A.forEach(L=>u._OrtReleaseTensor(L)),T.forEach(L=>u._free(L)),I!==0&&u._OrtReleaseRunOptions(I),C.forEach(L=>u._free(L))}},ju=e=>{let t=We(),r=Ut.get(e);if(!r)throw new Error("invalid session id");let o=r[0],n=t._OrtEndProfiling(o);n===0&&Be("Can\'t get an profile file name."),t._OrtFree(n)},Yu=e=>{let t=[];for(let r of e){let o=r[2];!Array.isArray(o)&&"buffer"in o&&t.push(o.buffer)}return t};self.onmessage=e=>{let{type:t,in:r}=e.data;try{switch(t){case"init-wasm":Lo(r.wasm).then(()=>{Hu(r).then(()=>{postMessage({type:t})},o=>{postMessage({type:t,err:o})})},o=>{postMessage({type:t,err:o})});break;case"init-ep":{let{epName:o,env:n}=r;Lu(n,o).then(()=>{postMessage({type:t})},s=>{postMessage({type:t,err:s})});break}case"copy-from":{let{buffer:o}=r,n=so(o);postMessage({type:t,out:n});break}case"create":{let{model:o,options:n}=r;Fu(o,n).then(s=>{postMessage({type:t,out:s})},s=>{postMessage({type:t,err:s})});break}case"release":qu(r),postMessage({type:t});break;case"run":{let{sessionId:o,inputIndices:n,inputs:s,outputIndices:u,options:l}=r;Ku(o,n,s,u,new Array(u.length).fill(null),l).then(a=>{a.some(p=>p[3]!=="cpu")?postMessage({type:t,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:t,out:a},Yu([...s,...a]))},a=>{postMessage({type:t,err:a})});break}case"end-profiling":ju(r),postMessage({type:t});break;default:}}catch(o){postMessage({type:t,err:o})}};})();\n/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n'}),Kt,ct,Rr,zn,Bn,Ba,Da,or,sr,ff,Rn,Ul,Nl,Wl,Vl,Gl,Hl,Ll,Ma=F$1(()=>{var o;lt(),Dl(),nr(),Kt=()=>!!Ae.wasm.proxy&&typeof document<"u",Rr=!1,zn=!1,Bn=!1,Da=new Map,or=(s,j)=>{let et=Da.get(s);et?et.push(j):Da.set(s,[j])},sr=()=>{if(Rr||!zn||Bn||!ct)throw new Error("worker not ready")},ff=s=>{switch(s.data.type){case"init-wasm":Rr=!1,s.data.err?(Bn=!0,Ba[1](s.data.err)):(zn=!0,Ba[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let j=Da.get(s.data.type);s.data.err?j.shift()[1](s.data.err):j.shift()[0](s.data.out);break}}},Rn=typeof document<"u"?(o=document==null?void 0:document.currentScript)==null?void 0:o.src:void 0,Ul=async()=>{if(!zn){if(Rr)throw new Error("multiple calls to 'initWasm()' detected.");if(Bn)throw new Error("previous call to 'initWasm()' failed.");if(Rr=!0,Kt())return Ae.wasm.wasmPaths===void 0&&Rn&&Rn.indexOf("blob:")!==0&&(Ae.wasm.wasmPaths=Rn.substr(0,+Rn.lastIndexOf("/")+1)),new Promise((s,j)=>{ct==null||ct.terminate();let et=URL.createObjectURL(new Blob([Ml()],{type:"text/javascript"}));ct=new Worker(et,{name:"ort-wasm-proxy-worker"}),ct.onerror=At=>j(At),ct.onmessage=ff,URL.revokeObjectURL(et),Ba=[s,j];let bt={type:"init-wasm",in:Ae};ct.postMessage(bt)});try{await Ki(Ae.wasm),await Tl(Ae),zn=!0}catch(s){throw Bn=!0,s}finally{Rr=!1}}},Nl=async s=>{if(Kt())return sr(),new Promise((j,et)=>{or("init-ep",[j,et]);let bt={type:"init-ep",in:{epName:s,env:Ae}};ct.postMessage(bt)});await Ol(Ae,s)},Wl=async s=>Kt()?(sr(),new Promise((j,et)=>{or("copy-from",[j,et]);let bt={type:"copy-from",in:{buffer:s}};ct.postMessage(bt,[s.buffer])})):za(s),Vl=async(s,j)=>{if(Kt()){if(j!=null&&j.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return sr(),new Promise((et,bt)=>{or("create",[et,bt]);let At={type:"create",in:{model:s,options:{...j}}},Et=[];s instanceof Uint8Array&&Et.push(s.buffer),ct.postMessage(At,Et)})}else return kl(s,j)},Gl=async s=>{if(Kt())return sr(),new Promise((j,et)=>{or("release",[j,et]);let bt={type:"release",in:s};ct.postMessage(bt)});Pl(s)},Hl=async(s,j,et,bt,At,Et)=>{if(Kt()){if(et.some(Ut=>Ut[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(At.some(Ut=>Ut))throw new Error("pre-allocated output tensor is not supported for proxy.");return sr(),new Promise((Ut,zt)=>{or("run",[Ut,zt]);let It=et,Qt={type:"run",in:{sessionId:s,inputIndices:j,inputs:It,outputIndices:bt,options:Et}};ct.postMessage(Qt,Bl(It))})}else return Rl(s,j,et,bt,At,Et)},Ll=async s=>{if(Kt())return sr(),new Promise((j,et)=>{or("end-profiling",[j,et]);let bt={type:"end-profiling",in:s};ct.postMessage(bt)});zl(s)}}),Fl,mf,Dn,ql=F$1(()=>{lt(),Ma(),ie(),oa(),Fl=(o,s)=>{switch(o.location){case"cpu":return[o.type,o.dims,o.data,"cpu"];case"gpu-buffer":return[o.type,o.dims,{gpuBuffer:o.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${o.location} for ${s()}`)}},mf=o=>{switch(o[3]){case"cpu":return new Ze(o[0],o[2],o[1]);case"gpu-buffer":{let s=o[0];if(!un(s))throw new Error(`not supported data type: ${s} for deserializing GPU tensor`);let{gpuBuffer:j,download:et,dispose:bt}=o[2];return Ze.fromGpuBuffer(j,{dataType:s,dims:o[1],download:et,dispose:bt})}default:throw new Error(`invalid data location: ${o[3]}`)}},Dn=class{async fetchModelAndCopyToWasmMemory(o){return Wl(await Ar(o))}async loadModel(o,s){st();let j;typeof o=="string"?typeof process<"u"&&process.versions&&process.versions.node?j=await Ar(o):j=await this.fetchModelAndCopyToWasmMemory(o):j=o,[this.sessionId,this.inputNames,this.outputNames]=await Vl(j,s),nt()}async dispose(){return Gl(this.sessionId)}async run(o,s,j){st();let et=[],bt=[];Object.entries(o).forEach(Pt=>{let Yt=Pt[0],cr=Pt[1],_r=this.inputNames.indexOf(Yt);if(_r===-1)throw new Error(`invalid input '${Yt}'`);et.push(cr),bt.push(_r)});let At=[],Et=[];Object.entries(s).forEach(Pt=>{let Yt=Pt[0],cr=Pt[1],_r=this.outputNames.indexOf(Yt);if(_r===-1)throw new Error(`invalid output '${Yt}'`);At.push(cr),Et.push(_r)});let Ut=et.map((Pt,Yt)=>Fl(Pt,()=>`input "${this.inputNames[bt[Yt]]}"`)),zt=At.map((Pt,Yt)=>Pt?Fl(Pt,()=>`output "${this.outputNames[Et[Yt]]}"`):null),It=await Hl(this.sessionId,bt,Ut,Et,zt,j),Qt={};for(let Pt=0;Pt<It.length;Pt++)Qt[this.outputNames[Et[Pt]]]=At[Pt]??mf(It[Pt]);return nt(),Qt}startProfiling(){}endProfiling(){Ll(this.sessionId)}}}),hf,Mn,jl=F$1(()=>{lt(),Ma(),ql(),hf=()=>{if((typeof Ae.wasm.initTimeout!="number"||Ae.wasm.initTimeout<0)&&(Ae.wasm.initTimeout=0),typeof Ae.wasm.simd!="boolean"&&(Ae.wasm.simd=!0),typeof Ae.wasm.proxy!="boolean"&&(Ae.wasm.proxy=!1),typeof Ae.wasm.trace!="boolean"&&(Ae.wasm.trace=!1),typeof Ae.wasm.numThreads!="number"||!Number.isInteger(Ae.wasm.numThreads)||Ae.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(Ae.wasm.numThreads=1);let o=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;Ae.wasm.numThreads=Math.min(4,Math.ceil((o||1)/2))}},Mn=class{async init(o){hf(),await Ul(),await Nl(o)}async createInferenceSessionHandler(o,s){let j=new Dn;return await j.loadModel(o,s),Promise.resolve(j)}}}),Kl={};rr(Kl,{wasmBackend:()=>gf});var gf,Yl=F$1(()=>{jl(),gf=new Mn});lt();lt();lt();var Ri="1.17.3",Kv=Yn;{let o=(Yl(),Gt(Kl)).wasmBackend;Lt("webgpu",o,5),Lt("webnn",o,5),Lt("cpu",o,10),Lt("wasm",o,10)}Object.defineProperty(Ae.versions,"web",{value:Ri,enumerable:!0});/**
* @license
* Copyright 2021 Google LLC. All Rights Reserved.
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
* =============================================================================
*//**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 *//**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ort_gpu=Object.freeze(Object.defineProperty({__proto__:null,get InferenceSession(){return md},get TRACE(){return tn},get TRACE_FUNC_BEGIN(){return st},get TRACE_FUNC_END(){return nt},get Tensor(){return Ze},get TrainingSession(){return gd},default:Kv,get env(){return Ae},get registerBackend(){return Lt}},Symbol.toStringTag,{value:"Module"}));var util;(function(o){o.assertEqual=bt=>bt;function s(bt){}o.assertIs=s;function j(bt){throw new Error}o.assertNever=j,o.arrayToEnum=bt=>{const At={};for(const Et of bt)At[Et]=Et;return At},o.getValidEnumValues=bt=>{const At=o.objectKeys(bt).filter(Ut=>typeof bt[bt[Ut]]!="number"),Et={};for(const Ut of At)Et[Ut]=bt[Ut];return o.objectValues(Et)},o.objectValues=bt=>o.objectKeys(bt).map(function(At){return bt[At]}),o.objectKeys=typeof Object.keys=="function"?bt=>Object.keys(bt):bt=>{const At=[];for(const Et in bt)Object.prototype.hasOwnProperty.call(bt,Et)&&At.push(Et);return At},o.find=(bt,At)=>{for(const Et of bt)if(At(Et))return Et},o.isInteger=typeof Number.isInteger=="function"?bt=>Number.isInteger(bt):bt=>typeof bt=="number"&&isFinite(bt)&&Math.floor(bt)===bt;function et(bt,At=" | "){return bt.map(Et=>typeof Et=="string"?`'${Et}'`:Et).join(At)}o.joinValues=et,o.jsonStringifyReplacer=(bt,At)=>typeof At=="bigint"?At.toString():At})(util||(util={}));var objectUtil;(function(o){o.mergeShapes=(s,j)=>({...s,...j})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=o=>{switch(typeof o){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(o)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(o)?ZodParsedType.array:o===null?ZodParsedType.null:o.then&&typeof o.then=="function"&&o.catch&&typeof o.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&o instanceof Map?ZodParsedType.map:typeof Set<"u"&&o instanceof Set?ZodParsedType.set:typeof Date<"u"&&o instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=o=>JSON.stringify(o,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(s){super(),this.issues=[],this.addIssue=et=>{this.issues=[...this.issues,et]},this.addIssues=(et=[])=>{this.issues=[...this.issues,...et]};const j=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,j):this.__proto__=j,this.name="ZodError",this.issues=s}get errors(){return this.issues}format(s){const j=s||function(At){return At.message},et={_errors:[]},bt=At=>{for(const Et of At.issues)if(Et.code==="invalid_union")Et.unionErrors.map(bt);else if(Et.code==="invalid_return_type")bt(Et.returnTypeError);else if(Et.code==="invalid_arguments")bt(Et.argumentsError);else if(Et.path.length===0)et._errors.push(j(Et));else{let Ut=et,zt=0;for(;zt<Et.path.length;){const It=Et.path[zt];zt===Et.path.length-1?(Ut[It]=Ut[It]||{_errors:[]},Ut[It]._errors.push(j(Et))):Ut[It]=Ut[It]||{_errors:[]},Ut=Ut[It],zt++}}};return bt(this),et}static assert(s){if(!(s instanceof ZodError))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=j=>j.message){const j={},et=[];for(const bt of this.issues)bt.path.length>0?(j[bt.path[0]]=j[bt.path[0]]||[],j[bt.path[0]].push(s(bt))):et.push(s(bt));return{formErrors:et,fieldErrors:j}}get formErrors(){return this.flatten()}}ZodError.create=o=>new ZodError(o);const errorMap=(o,s)=>{let j;switch(o.code){case ZodIssueCode.invalid_type:o.received===ZodParsedType.undefined?j="Required":j=`Expected ${o.expected}, received ${o.received}`;break;case ZodIssueCode.invalid_literal:j=`Invalid literal value, expected ${JSON.stringify(o.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:j=`Unrecognized key(s) in object: ${util.joinValues(o.keys,", ")}`;break;case ZodIssueCode.invalid_union:j="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:j=`Invalid discriminator value. Expected ${util.joinValues(o.options)}`;break;case ZodIssueCode.invalid_enum_value:j=`Invalid enum value. Expected ${util.joinValues(o.options)}, received '${o.received}'`;break;case ZodIssueCode.invalid_arguments:j="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:j="Invalid function return type";break;case ZodIssueCode.invalid_date:j="Invalid date";break;case ZodIssueCode.invalid_string:typeof o.validation=="object"?"includes"in o.validation?(j=`Invalid input: must include "${o.validation.includes}"`,typeof o.validation.position=="number"&&(j=`${j} at one or more positions greater than or equal to ${o.validation.position}`)):"startsWith"in o.validation?j=`Invalid input: must start with "${o.validation.startsWith}"`:"endsWith"in o.validation?j=`Invalid input: must end with "${o.validation.endsWith}"`:util.assertNever(o.validation):o.validation!=="regex"?j=`Invalid ${o.validation}`:j="Invalid";break;case ZodIssueCode.too_small:o.type==="array"?j=`Array must contain ${o.exact?"exactly":o.inclusive?"at least":"more than"} ${o.minimum} element(s)`:o.type==="string"?j=`String must contain ${o.exact?"exactly":o.inclusive?"at least":"over"} ${o.minimum} character(s)`:o.type==="number"?j=`Number must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${o.minimum}`:o.type==="date"?j=`Date must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(o.minimum))}`:j="Invalid input";break;case ZodIssueCode.too_big:o.type==="array"?j=`Array must contain ${o.exact?"exactly":o.inclusive?"at most":"less than"} ${o.maximum} element(s)`:o.type==="string"?j=`String must contain ${o.exact?"exactly":o.inclusive?"at most":"under"} ${o.maximum} character(s)`:o.type==="number"?j=`Number must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="bigint"?j=`BigInt must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="date"?j=`Date must be ${o.exact?"exactly":o.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(o.maximum))}`:j="Invalid input";break;case ZodIssueCode.custom:j="Invalid input";break;case ZodIssueCode.invalid_intersection_types:j="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:j=`Number must be a multiple of ${o.multipleOf}`;break;case ZodIssueCode.not_finite:j="Number must be finite";break;default:j=s.defaultError,util.assertNever(o)}return{message:j}};let overrideErrorMap=errorMap;function setErrorMap(o){overrideErrorMap=o}function getErrorMap(){return overrideErrorMap}const makeIssue=o=>{const{data:s,path:j,errorMaps:et,issueData:bt}=o,At=[...j,...bt.path||[]],Et={...bt,path:At};if(bt.message!==void 0)return{...bt,path:At,message:bt.message};let Ut="";const zt=et.filter(It=>!!It).slice().reverse();for(const It of zt)Ut=It(Et,{data:s,defaultError:Ut}).message;return{...bt,path:At,message:Ut}},EMPTY_PATH=[];function addIssueToContext(o,s){const j=getErrorMap(),et=makeIssue({issueData:s,data:o.data,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,j,j===errorMap?void 0:errorMap].filter(bt=>!!bt)});o.common.issues.push(et)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,j){const et=[];for(const bt of j){if(bt.status==="aborted")return INVALID;bt.status==="dirty"&&s.dirty(),et.push(bt.value)}return{status:s.value,value:et}}static async mergeObjectAsync(s,j){const et=[];for(const bt of j){const At=await bt.key,Et=await bt.value;et.push({key:At,value:Et})}return ParseStatus.mergeObjectSync(s,et)}static mergeObjectSync(s,j){const et={};for(const bt of j){const{key:At,value:Et}=bt;if(At.status==="aborted"||Et.status==="aborted")return INVALID;At.status==="dirty"&&s.dirty(),Et.status==="dirty"&&s.dirty(),At.value!=="__proto__"&&(typeof Et.value<"u"||bt.alwaysSet)&&(et[At.value]=Et.value)}return{status:s.value,value:et}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=o=>({status:"dirty",value:o}),OK=o=>({status:"valid",value:o}),isAborted=o=>o.status==="aborted",isDirty=o=>o.status==="dirty",isValid=o=>o.status==="valid",isAsync=o=>typeof Promise<"u"&&o instanceof Promise;function __classPrivateFieldGet(o,s,j,et){if(j==="a"&&!et)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?o!==s||!et:!s.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?et:j==="a"?et.call(o):et?et.value:s.get(o)}function __classPrivateFieldSet(o,s,j,et,bt){if(et==="m")throw new TypeError("Private method is not writable");if(et==="a"&&!bt)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?o!==s||!bt:!s.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return et==="a"?bt.call(o,j):bt?bt.value=j:s.set(o,j),j}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(o){o.errToObj=s=>typeof s=="string"?{message:s}:s||{},o.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(s,j,et,bt){this._cachedPath=[],this.parent=s,this.data=j,this._path=et,this._key=bt}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(o,s)=>{if(isValid(s))return{success:!0,data:s.value};if(!o.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const j=new ZodError(o.common.issues);return this._error=j,this._error}}};function processCreateParams(o){if(!o)return{};const{errorMap:s,invalid_type_error:j,required_error:et,description:bt}=o;if(s&&(j||et))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:bt}:{errorMap:(Et,Ut)=>{var zt,It;const{message:Qt}=o;return Et.code==="invalid_enum_value"?{message:Qt??Ut.defaultError}:typeof Ut.data>"u"?{message:(zt=Qt??et)!==null&&zt!==void 0?zt:Ut.defaultError}:Et.code!=="invalid_type"?{message:Ut.defaultError}:{message:(It=Qt??j)!==null&&It!==void 0?It:Ut.defaultError}},description:bt}}class ZodType{constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(s){return getParsedType(s.data)}_getOrReturnCtx(s,j){return j||{common:s.parent.common,data:s.data,parsedType:getParsedType(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new ParseStatus,ctx:{common:s.parent.common,data:s.data,parsedType:getParsedType(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const j=this._parse(s);if(isAsync(j))throw new Error("Synchronous parse encountered promise.");return j}_parseAsync(s){const j=this._parse(s);return Promise.resolve(j)}parse(s,j){const et=this.safeParse(s,j);if(et.success)return et.data;throw et.error}safeParse(s,j){var et;const bt={common:{issues:[],async:(et=j==null?void 0:j.async)!==null&&et!==void 0?et:!1,contextualErrorMap:j==null?void 0:j.errorMap},path:(j==null?void 0:j.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:getParsedType(s)},At=this._parseSync({data:s,path:bt.path,parent:bt});return handleResult(bt,At)}async parseAsync(s,j){const et=await this.safeParseAsync(s,j);if(et.success)return et.data;throw et.error}async safeParseAsync(s,j){const et={common:{issues:[],contextualErrorMap:j==null?void 0:j.errorMap,async:!0},path:(j==null?void 0:j.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:getParsedType(s)},bt=this._parse({data:s,path:et.path,parent:et}),At=await(isAsync(bt)?bt:Promise.resolve(bt));return handleResult(et,At)}refine(s,j){const et=bt=>typeof j=="string"||typeof j>"u"?{message:j}:typeof j=="function"?j(bt):j;return this._refinement((bt,At)=>{const Et=s(bt),Ut=()=>At.addIssue({code:ZodIssueCode.custom,...et(bt)});return typeof Promise<"u"&&Et instanceof Promise?Et.then(zt=>zt?!0:(Ut(),!1)):Et?!0:(Ut(),!1)})}refinement(s,j){return this._refinement((et,bt)=>s(et)?!0:(bt.addIssue(typeof j=="function"?j(et,bt):j),!1))}_refinement(s){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(s){return ZodUnion.create([this,s],this._def)}and(s){return ZodIntersection.create(this,s,this._def)}transform(s){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const j=typeof s=="function"?s:()=>s;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:j,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(s){const j=typeof s=="function"?s:()=>s;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:j,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(s){const j=this.constructor;return new j({...this._def,description:s})}pipe(s){return ZodPipeline.create(this,s)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(o){let s="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return o.precision?s=`${s}\\.\\d{${o.precision}}`:o.precision==null&&(s=`${s}(\\.\\d+)?`),s}function timeRegex(o){return new RegExp(`^${timeRegexSource(o)}$`)}function datetimeRegex(o){let s=`${dateRegexSource}T${timeRegexSource(o)}`;const j=[];return j.push(o.local?"Z?":"Z"),o.offset&&j.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${j.join("|")})`,new RegExp(`^${s}$`)}function isValidIP(o,s){return!!((s==="v4"||!s)&&ipv4Regex.test(o)||(s==="v6"||!s)&&ipv6Regex.test(o))}class ZodString extends ZodType{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==ZodParsedType.string){const At=this._getOrReturnCtx(s);return addIssueToContext(At,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:At.parsedType}),INVALID}const et=new ParseStatus;let bt;for(const At of this._def.checks)if(At.kind==="min")s.data.length<At.value&&(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.too_small,minimum:At.value,type:"string",inclusive:!0,exact:!1,message:At.message}),et.dirty());else if(At.kind==="max")s.data.length>At.value&&(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.too_big,maximum:At.value,type:"string",inclusive:!0,exact:!1,message:At.message}),et.dirty());else if(At.kind==="length"){const Et=s.data.length>At.value,Ut=s.data.length<At.value;(Et||Ut)&&(bt=this._getOrReturnCtx(s,bt),Et?addIssueToContext(bt,{code:ZodIssueCode.too_big,maximum:At.value,type:"string",inclusive:!0,exact:!0,message:At.message}):Ut&&addIssueToContext(bt,{code:ZodIssueCode.too_small,minimum:At.value,type:"string",inclusive:!0,exact:!0,message:At.message}),et.dirty())}else if(At.kind==="email")emailRegex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"email",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty());else if(At.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"emoji",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty());else if(At.kind==="uuid")uuidRegex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"uuid",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty());else if(At.kind==="nanoid")nanoidRegex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty());else if(At.kind==="cuid")cuidRegex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"cuid",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty());else if(At.kind==="cuid2")cuid2Regex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty());else if(At.kind==="ulid")ulidRegex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"ulid",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty());else if(At.kind==="url")try{new URL(s.data)}catch{bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"url",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty()}else At.kind==="regex"?(At.regex.lastIndex=0,At.regex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"regex",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty())):At.kind==="trim"?s.data=s.data.trim():At.kind==="includes"?s.data.includes(At.value,At.position)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.invalid_string,validation:{includes:At.value,position:At.position},message:At.message}),et.dirty()):At.kind==="toLowerCase"?s.data=s.data.toLowerCase():At.kind==="toUpperCase"?s.data=s.data.toUpperCase():At.kind==="startsWith"?s.data.startsWith(At.value)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.invalid_string,validation:{startsWith:At.value},message:At.message}),et.dirty()):At.kind==="endsWith"?s.data.endsWith(At.value)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.invalid_string,validation:{endsWith:At.value},message:At.message}),et.dirty()):At.kind==="datetime"?datetimeRegex(At).test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.invalid_string,validation:"datetime",message:At.message}),et.dirty()):At.kind==="date"?dateRegex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.invalid_string,validation:"date",message:At.message}),et.dirty()):At.kind==="time"?timeRegex(At).test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.invalid_string,validation:"time",message:At.message}),et.dirty()):At.kind==="duration"?durationRegex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"duration",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty()):At.kind==="ip"?isValidIP(s.data,At.version)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"ip",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty()):At.kind==="base64"?base64Regex.test(s.data)||(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{validation:"base64",code:ZodIssueCode.invalid_string,message:At.message}),et.dirty()):util.assertNever(At);return{status:et.value,value:s.data}}_regex(s,j,et){return this.refinement(bt=>s.test(bt),{validation:j,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(et)})}_addCheck(s){return new ZodString({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...errorUtil.errToObj(s)})}url(s){return this._addCheck({kind:"url",...errorUtil.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...errorUtil.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...errorUtil.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...errorUtil.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...errorUtil.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...errorUtil.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...errorUtil.errToObj(s)})}datetime(s){var j,et;return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,offset:(j=s==null?void 0:s.offset)!==null&&j!==void 0?j:!1,local:(et=s==null?void 0:s.local)!==null&&et!==void 0?et:!1,...errorUtil.errToObj(s==null?void 0:s.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,...errorUtil.errToObj(s==null?void 0:s.message)})}duration(s){return this._addCheck({kind:"duration",...errorUtil.errToObj(s)})}regex(s,j){return this._addCheck({kind:"regex",regex:s,...errorUtil.errToObj(j)})}includes(s,j){return this._addCheck({kind:"includes",value:s,position:j==null?void 0:j.position,...errorUtil.errToObj(j==null?void 0:j.message)})}startsWith(s,j){return this._addCheck({kind:"startsWith",value:s,...errorUtil.errToObj(j)})}endsWith(s,j){return this._addCheck({kind:"endsWith",value:s,...errorUtil.errToObj(j)})}min(s,j){return this._addCheck({kind:"min",value:s,...errorUtil.errToObj(j)})}max(s,j){return this._addCheck({kind:"max",value:s,...errorUtil.errToObj(j)})}length(s,j){return this._addCheck({kind:"length",value:s,...errorUtil.errToObj(j)})}nonempty(s){return this.min(1,errorUtil.errToObj(s))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get minLength(){let s=null;for(const j of this._def.checks)j.kind==="min"&&(s===null||j.value>s)&&(s=j.value);return s}get maxLength(){let s=null;for(const j of this._def.checks)j.kind==="max"&&(s===null||j.value<s)&&(s=j.value);return s}}ZodString.create=o=>{var s;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(s=o==null?void 0:o.coerce)!==null&&s!==void 0?s:!1,...processCreateParams(o)})};function floatSafeRemainder(o,s){const j=(o.toString().split(".")[1]||"").length,et=(s.toString().split(".")[1]||"").length,bt=j>et?j:et,At=parseInt(o.toFixed(bt).replace(".","")),Et=parseInt(s.toFixed(bt).replace(".",""));return At%Et/Math.pow(10,bt)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==ZodParsedType.number){const At=this._getOrReturnCtx(s);return addIssueToContext(At,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:At.parsedType}),INVALID}let et;const bt=new ParseStatus;for(const At of this._def.checks)At.kind==="int"?util.isInteger(s.data)||(et=this._getOrReturnCtx(s,et),addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:At.message}),bt.dirty()):At.kind==="min"?(At.inclusive?s.data<At.value:s.data<=At.value)&&(et=this._getOrReturnCtx(s,et),addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:At.value,type:"number",inclusive:At.inclusive,exact:!1,message:At.message}),bt.dirty()):At.kind==="max"?(At.inclusive?s.data>At.value:s.data>=At.value)&&(et=this._getOrReturnCtx(s,et),addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:At.value,type:"number",inclusive:At.inclusive,exact:!1,message:At.message}),bt.dirty()):At.kind==="multipleOf"?floatSafeRemainder(s.data,At.value)!==0&&(et=this._getOrReturnCtx(s,et),addIssueToContext(et,{code:ZodIssueCode.not_multiple_of,multipleOf:At.value,message:At.message}),bt.dirty()):At.kind==="finite"?Number.isFinite(s.data)||(et=this._getOrReturnCtx(s,et),addIssueToContext(et,{code:ZodIssueCode.not_finite,message:At.message}),bt.dirty()):util.assertNever(At);return{status:bt.value,value:s.data}}gte(s,j){return this.setLimit("min",s,!0,errorUtil.toString(j))}gt(s,j){return this.setLimit("min",s,!1,errorUtil.toString(j))}lte(s,j){return this.setLimit("max",s,!0,errorUtil.toString(j))}lt(s,j){return this.setLimit("max",s,!1,errorUtil.toString(j))}setLimit(s,j,et,bt){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:s,value:j,inclusive:et,message:errorUtil.toString(bt)}]})}_addCheck(s){return new ZodNumber({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:errorUtil.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(s)})}multipleOf(s,j){return this._addCheck({kind:"multipleOf",value:s,message:errorUtil.toString(j)})}finite(s){return this._addCheck({kind:"finite",message:errorUtil.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(s)})}get minValue(){let s=null;for(const j of this._def.checks)j.kind==="min"&&(s===null||j.value>s)&&(s=j.value);return s}get maxValue(){let s=null;for(const j of this._def.checks)j.kind==="max"&&(s===null||j.value<s)&&(s=j.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&util.isInteger(s.value))}get isFinite(){let s=null,j=null;for(const et of this._def.checks){if(et.kind==="finite"||et.kind==="int"||et.kind==="multipleOf")return!0;et.kind==="min"?(j===null||et.value>j)&&(j=et.value):et.kind==="max"&&(s===null||et.value<s)&&(s=et.value)}return Number.isFinite(j)&&Number.isFinite(s)}}ZodNumber.create=o=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(o==null?void 0:o.coerce)||!1,...processCreateParams(o)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce&&(s.data=BigInt(s.data)),this._getType(s)!==ZodParsedType.bigint){const At=this._getOrReturnCtx(s);return addIssueToContext(At,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:At.parsedType}),INVALID}let et;const bt=new ParseStatus;for(const At of this._def.checks)At.kind==="min"?(At.inclusive?s.data<At.value:s.data<=At.value)&&(et=this._getOrReturnCtx(s,et),addIssueToContext(et,{code:ZodIssueCode.too_small,type:"bigint",minimum:At.value,inclusive:At.inclusive,message:At.message}),bt.dirty()):At.kind==="max"?(At.inclusive?s.data>At.value:s.data>=At.value)&&(et=this._getOrReturnCtx(s,et),addIssueToContext(et,{code:ZodIssueCode.too_big,type:"bigint",maximum:At.value,inclusive:At.inclusive,message:At.message}),bt.dirty()):At.kind==="multipleOf"?s.data%At.value!==BigInt(0)&&(et=this._getOrReturnCtx(s,et),addIssueToContext(et,{code:ZodIssueCode.not_multiple_of,multipleOf:At.value,message:At.message}),bt.dirty()):util.assertNever(At);return{status:bt.value,value:s.data}}gte(s,j){return this.setLimit("min",s,!0,errorUtil.toString(j))}gt(s,j){return this.setLimit("min",s,!1,errorUtil.toString(j))}lte(s,j){return this.setLimit("max",s,!0,errorUtil.toString(j))}lt(s,j){return this.setLimit("max",s,!1,errorUtil.toString(j))}setLimit(s,j,et,bt){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:s,value:j,inclusive:et,message:errorUtil.toString(bt)}]})}_addCheck(s){return new ZodBigInt({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(s)})}multipleOf(s,j){return this._addCheck({kind:"multipleOf",value:s,message:errorUtil.toString(j)})}get minValue(){let s=null;for(const j of this._def.checks)j.kind==="min"&&(s===null||j.value>s)&&(s=j.value);return s}get maxValue(){let s=null;for(const j of this._def.checks)j.kind==="max"&&(s===null||j.value<s)&&(s=j.value);return s}}ZodBigInt.create=o=>{var s;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(s=o==null?void 0:o.coerce)!==null&&s!==void 0?s:!1,...processCreateParams(o)})};class ZodBoolean extends ZodType{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==ZodParsedType.boolean){const et=this._getOrReturnCtx(s);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:et.parsedType}),INVALID}return OK(s.data)}}ZodBoolean.create=o=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(o==null?void 0:o.coerce)||!1,...processCreateParams(o)});class ZodDate extends ZodType{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==ZodParsedType.date){const At=this._getOrReturnCtx(s);return addIssueToContext(At,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:At.parsedType}),INVALID}if(isNaN(s.data.getTime())){const At=this._getOrReturnCtx(s);return addIssueToContext(At,{code:ZodIssueCode.invalid_date}),INVALID}const et=new ParseStatus;let bt;for(const At of this._def.checks)At.kind==="min"?s.data.getTime()<At.value&&(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.too_small,message:At.message,inclusive:!0,exact:!1,minimum:At.value,type:"date"}),et.dirty()):At.kind==="max"?s.data.getTime()>At.value&&(bt=this._getOrReturnCtx(s,bt),addIssueToContext(bt,{code:ZodIssueCode.too_big,message:At.message,inclusive:!0,exact:!1,maximum:At.value,type:"date"}),et.dirty()):util.assertNever(At);return{status:et.value,value:new Date(s.data.getTime())}}_addCheck(s){return new ZodDate({...this._def,checks:[...this._def.checks,s]})}min(s,j){return this._addCheck({kind:"min",value:s.getTime(),message:errorUtil.toString(j)})}max(s,j){return this._addCheck({kind:"max",value:s.getTime(),message:errorUtil.toString(j)})}get minDate(){let s=null;for(const j of this._def.checks)j.kind==="min"&&(s===null||j.value>s)&&(s=j.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const j of this._def.checks)j.kind==="max"&&(s===null||j.value<s)&&(s=j.value);return s!=null?new Date(s):null}}ZodDate.create=o=>new ZodDate({checks:[],coerce:(o==null?void 0:o.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(o)});class ZodSymbol extends ZodType{_parse(s){if(this._getType(s)!==ZodParsedType.symbol){const et=this._getOrReturnCtx(s);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:et.parsedType}),INVALID}return OK(s.data)}}ZodSymbol.create=o=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(o)});class ZodUndefined extends ZodType{_parse(s){if(this._getType(s)!==ZodParsedType.undefined){const et=this._getOrReturnCtx(s);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:et.parsedType}),INVALID}return OK(s.data)}}ZodUndefined.create=o=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(o)});class ZodNull extends ZodType{_parse(s){if(this._getType(s)!==ZodParsedType.null){const et=this._getOrReturnCtx(s);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:et.parsedType}),INVALID}return OK(s.data)}}ZodNull.create=o=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(o)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(s){return OK(s.data)}}ZodAny.create=o=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(o)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(s){return OK(s.data)}}ZodUnknown.create=o=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(o)});class ZodNever extends ZodType{_parse(s){const j=this._getOrReturnCtx(s);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:j.parsedType}),INVALID}}ZodNever.create=o=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(o)});class ZodVoid extends ZodType{_parse(s){if(this._getType(s)!==ZodParsedType.undefined){const et=this._getOrReturnCtx(s);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:et.parsedType}),INVALID}return OK(s.data)}}ZodVoid.create=o=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(o)});class ZodArray extends ZodType{_parse(s){const{ctx:j,status:et}=this._processInputParams(s),bt=this._def;if(j.parsedType!==ZodParsedType.array)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:j.parsedType}),INVALID;if(bt.exactLength!==null){const Et=j.data.length>bt.exactLength.value,Ut=j.data.length<bt.exactLength.value;(Et||Ut)&&(addIssueToContext(j,{code:Et?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:Ut?bt.exactLength.value:void 0,maximum:Et?bt.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:bt.exactLength.message}),et.dirty())}if(bt.minLength!==null&&j.data.length<bt.minLength.value&&(addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:bt.minLength.value,type:"array",inclusive:!0,exact:!1,message:bt.minLength.message}),et.dirty()),bt.maxLength!==null&&j.data.length>bt.maxLength.value&&(addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:bt.maxLength.value,type:"array",inclusive:!0,exact:!1,message:bt.maxLength.message}),et.dirty()),j.common.async)return Promise.all([...j.data].map((Et,Ut)=>bt.type._parseAsync(new ParseInputLazyPath(j,Et,j.path,Ut)))).then(Et=>ParseStatus.mergeArray(et,Et));const At=[...j.data].map((Et,Ut)=>bt.type._parseSync(new ParseInputLazyPath(j,Et,j.path,Ut)));return ParseStatus.mergeArray(et,At)}get element(){return this._def.type}min(s,j){return new ZodArray({...this._def,minLength:{value:s,message:errorUtil.toString(j)}})}max(s,j){return new ZodArray({...this._def,maxLength:{value:s,message:errorUtil.toString(j)}})}length(s,j){return new ZodArray({...this._def,exactLength:{value:s,message:errorUtil.toString(j)}})}nonempty(s){return this.min(1,s)}}ZodArray.create=(o,s)=>new ZodArray({type:o,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(s)});function deepPartialify(o){if(o instanceof ZodObject){const s={};for(const j in o.shape){const et=o.shape[j];s[j]=ZodOptional.create(deepPartialify(et))}return new ZodObject({...o._def,shape:()=>s})}else return o instanceof ZodArray?new ZodArray({...o._def,type:deepPartialify(o.element)}):o instanceof ZodOptional?ZodOptional.create(deepPartialify(o.unwrap())):o instanceof ZodNullable?ZodNullable.create(deepPartialify(o.unwrap())):o instanceof ZodTuple?ZodTuple.create(o.items.map(s=>deepPartialify(s))):o}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),j=util.objectKeys(s);return this._cached={shape:s,keys:j}}_parse(s){if(this._getType(s)!==ZodParsedType.object){const It=this._getOrReturnCtx(s);return addIssueToContext(It,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:It.parsedType}),INVALID}const{status:et,ctx:bt}=this._processInputParams(s),{shape:At,keys:Et}=this._getCached(),Ut=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const It in bt.data)Et.includes(It)||Ut.push(It);const zt=[];for(const It of Et){const Qt=At[It],Pt=bt.data[It];zt.push({key:{status:"valid",value:It},value:Qt._parse(new ParseInputLazyPath(bt,Pt,bt.path,It)),alwaysSet:It in bt.data})}if(this._def.catchall instanceof ZodNever){const It=this._def.unknownKeys;if(It==="passthrough")for(const Qt of Ut)zt.push({key:{status:"valid",value:Qt},value:{status:"valid",value:bt.data[Qt]}});else if(It==="strict")Ut.length>0&&(addIssueToContext(bt,{code:ZodIssueCode.unrecognized_keys,keys:Ut}),et.dirty());else if(It!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const It=this._def.catchall;for(const Qt of Ut){const Pt=bt.data[Qt];zt.push({key:{status:"valid",value:Qt},value:It._parse(new ParseInputLazyPath(bt,Pt,bt.path,Qt)),alwaysSet:Qt in bt.data})}}return bt.common.async?Promise.resolve().then(async()=>{const It=[];for(const Qt of zt){const Pt=await Qt.key,Yt=await Qt.value;It.push({key:Pt,value:Yt,alwaysSet:Qt.alwaysSet})}return It}).then(It=>ParseStatus.mergeObjectSync(et,It)):ParseStatus.mergeObjectSync(et,zt)}get shape(){return this._def.shape()}strict(s){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(j,et)=>{var bt,At,Et,Ut;const zt=(Et=(At=(bt=this._def).errorMap)===null||At===void 0?void 0:At.call(bt,j,et).message)!==null&&Et!==void 0?Et:et.defaultError;return j.code==="unrecognized_keys"?{message:(Ut=errorUtil.errToObj(s).message)!==null&&Ut!==void 0?Ut:zt}:{message:zt}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(s){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new ZodObject({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(s,j){return this.augment({[s]:j})}catchall(s){return new ZodObject({...this._def,catchall:s})}pick(s){const j={};return util.objectKeys(s).forEach(et=>{s[et]&&this.shape[et]&&(j[et]=this.shape[et])}),new ZodObject({...this._def,shape:()=>j})}omit(s){const j={};return util.objectKeys(this.shape).forEach(et=>{s[et]||(j[et]=this.shape[et])}),new ZodObject({...this._def,shape:()=>j})}deepPartial(){return deepPartialify(this)}partial(s){const j={};return util.objectKeys(this.shape).forEach(et=>{const bt=this.shape[et];s&&!s[et]?j[et]=bt:j[et]=bt.optional()}),new ZodObject({...this._def,shape:()=>j})}required(s){const j={};return util.objectKeys(this.shape).forEach(et=>{if(s&&!s[et])j[et]=this.shape[et];else{let At=this.shape[et];for(;At instanceof ZodOptional;)At=At._def.innerType;j[et]=At}}),new ZodObject({...this._def,shape:()=>j})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(o,s)=>new ZodObject({shape:()=>o,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(s)});ZodObject.strictCreate=(o,s)=>new ZodObject({shape:()=>o,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(s)});ZodObject.lazycreate=(o,s)=>new ZodObject({shape:o,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(s)});class ZodUnion extends ZodType{_parse(s){const{ctx:j}=this._processInputParams(s),et=this._def.options;function bt(At){for(const Ut of At)if(Ut.result.status==="valid")return Ut.result;for(const Ut of At)if(Ut.result.status==="dirty")return j.common.issues.push(...Ut.ctx.common.issues),Ut.result;const Et=At.map(Ut=>new ZodError(Ut.ctx.common.issues));return addIssueToContext(j,{code:ZodIssueCode.invalid_union,unionErrors:Et}),INVALID}if(j.common.async)return Promise.all(et.map(async At=>{const Et={...j,common:{...j.common,issues:[]},parent:null};return{result:await At._parseAsync({data:j.data,path:j.path,parent:Et}),ctx:Et}})).then(bt);{let At;const Et=[];for(const zt of et){const It={...j,common:{...j.common,issues:[]},parent:null},Qt=zt._parseSync({data:j.data,path:j.path,parent:It});if(Qt.status==="valid")return Qt;Qt.status==="dirty"&&!At&&(At={result:Qt,ctx:It}),It.common.issues.length&&Et.push(It.common.issues)}if(At)return j.common.issues.push(...At.ctx.common.issues),At.result;const Ut=Et.map(zt=>new ZodError(zt));return addIssueToContext(j,{code:ZodIssueCode.invalid_union,unionErrors:Ut}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(o,s)=>new ZodUnion({options:o,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(s)});const getDiscriminator=o=>o instanceof ZodLazy?getDiscriminator(o.schema):o instanceof ZodEffects?getDiscriminator(o.innerType()):o instanceof ZodLiteral?[o.value]:o instanceof ZodEnum?o.options:o instanceof ZodNativeEnum?util.objectValues(o.enum):o instanceof ZodDefault?getDiscriminator(o._def.innerType):o instanceof ZodUndefined?[void 0]:o instanceof ZodNull?[null]:o instanceof ZodOptional?[void 0,...getDiscriminator(o.unwrap())]:o instanceof ZodNullable?[null,...getDiscriminator(o.unwrap())]:o instanceof ZodBranded||o instanceof ZodReadonly?getDiscriminator(o.unwrap()):o instanceof ZodCatch?getDiscriminator(o._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(s){const{ctx:j}=this._processInputParams(s);if(j.parsedType!==ZodParsedType.object)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:j.parsedType}),INVALID;const et=this.discriminator,bt=j.data[et],At=this.optionsMap.get(bt);return At?j.common.async?At._parseAsync({data:j.data,path:j.path,parent:j}):At._parseSync({data:j.data,path:j.path,parent:j}):(addIssueToContext(j,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[et]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,j,et){const bt=new Map;for(const At of j){const Et=getDiscriminator(At.shape[s]);if(!Et.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const Ut of Et){if(bt.has(Ut))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(Ut)}`);bt.set(Ut,At)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:s,options:j,optionsMap:bt,...processCreateParams(et)})}}function mergeValues(o,s){const j=getParsedType(o),et=getParsedType(s);if(o===s)return{valid:!0,data:o};if(j===ZodParsedType.object&&et===ZodParsedType.object){const bt=util.objectKeys(s),At=util.objectKeys(o).filter(Ut=>bt.indexOf(Ut)!==-1),Et={...o,...s};for(const Ut of At){const zt=mergeValues(o[Ut],s[Ut]);if(!zt.valid)return{valid:!1};Et[Ut]=zt.data}return{valid:!0,data:Et}}else if(j===ZodParsedType.array&&et===ZodParsedType.array){if(o.length!==s.length)return{valid:!1};const bt=[];for(let At=0;At<o.length;At++){const Et=o[At],Ut=s[At],zt=mergeValues(Et,Ut);if(!zt.valid)return{valid:!1};bt.push(zt.data)}return{valid:!0,data:bt}}else return j===ZodParsedType.date&&et===ZodParsedType.date&&+o==+s?{valid:!0,data:o}:{valid:!1}}class ZodIntersection extends ZodType{_parse(s){const{status:j,ctx:et}=this._processInputParams(s),bt=(At,Et)=>{if(isAborted(At)||isAborted(Et))return INVALID;const Ut=mergeValues(At.value,Et.value);return Ut.valid?((isDirty(At)||isDirty(Et))&&j.dirty(),{status:j.value,value:Ut.data}):(addIssueToContext(et,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return et.common.async?Promise.all([this._def.left._parseAsync({data:et.data,path:et.path,parent:et}),this._def.right._parseAsync({data:et.data,path:et.path,parent:et})]).then(([At,Et])=>bt(At,Et)):bt(this._def.left._parseSync({data:et.data,path:et.path,parent:et}),this._def.right._parseSync({data:et.data,path:et.path,parent:et}))}}ZodIntersection.create=(o,s,j)=>new ZodIntersection({left:o,right:s,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(j)});class ZodTuple extends ZodType{_parse(s){const{status:j,ctx:et}=this._processInputParams(s);if(et.parsedType!==ZodParsedType.array)return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:et.parsedType}),INVALID;if(et.data.length<this._def.items.length)return addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&et.data.length>this._def.items.length&&(addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j.dirty());const At=[...et.data].map((Et,Ut)=>{const zt=this._def.items[Ut]||this._def.rest;return zt?zt._parse(new ParseInputLazyPath(et,Et,et.path,Ut)):null}).filter(Et=>!!Et);return et.common.async?Promise.all(At).then(Et=>ParseStatus.mergeArray(j,Et)):ParseStatus.mergeArray(j,At)}get items(){return this._def.items}rest(s){return new ZodTuple({...this._def,rest:s})}}ZodTuple.create=(o,s)=>{if(!Array.isArray(o))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:o,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(s)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:j,ctx:et}=this._processInputParams(s);if(et.parsedType!==ZodParsedType.object)return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:et.parsedType}),INVALID;const bt=[],At=this._def.keyType,Et=this._def.valueType;for(const Ut in et.data)bt.push({key:At._parse(new ParseInputLazyPath(et,Ut,et.path,Ut)),value:Et._parse(new ParseInputLazyPath(et,et.data[Ut],et.path,Ut)),alwaysSet:Ut in et.data});return et.common.async?ParseStatus.mergeObjectAsync(j,bt):ParseStatus.mergeObjectSync(j,bt)}get element(){return this._def.valueType}static create(s,j,et){return j instanceof ZodType?new ZodRecord({keyType:s,valueType:j,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(et)}):new ZodRecord({keyType:ZodString.create(),valueType:s,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(j)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:j,ctx:et}=this._processInputParams(s);if(et.parsedType!==ZodParsedType.map)return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:et.parsedType}),INVALID;const bt=this._def.keyType,At=this._def.valueType,Et=[...et.data.entries()].map(([Ut,zt],It)=>({key:bt._parse(new ParseInputLazyPath(et,Ut,et.path,[It,"key"])),value:At._parse(new ParseInputLazyPath(et,zt,et.path,[It,"value"]))}));if(et.common.async){const Ut=new Map;return Promise.resolve().then(async()=>{for(const zt of Et){const It=await zt.key,Qt=await zt.value;if(It.status==="aborted"||Qt.status==="aborted")return INVALID;(It.status==="dirty"||Qt.status==="dirty")&&j.dirty(),Ut.set(It.value,Qt.value)}return{status:j.value,value:Ut}})}else{const Ut=new Map;for(const zt of Et){const It=zt.key,Qt=zt.value;if(It.status==="aborted"||Qt.status==="aborted")return INVALID;(It.status==="dirty"||Qt.status==="dirty")&&j.dirty(),Ut.set(It.value,Qt.value)}return{status:j.value,value:Ut}}}}ZodMap.create=(o,s,j)=>new ZodMap({valueType:s,keyType:o,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(j)});class ZodSet extends ZodType{_parse(s){const{status:j,ctx:et}=this._processInputParams(s);if(et.parsedType!==ZodParsedType.set)return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:et.parsedType}),INVALID;const bt=this._def;bt.minSize!==null&&et.data.size<bt.minSize.value&&(addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:bt.minSize.value,type:"set",inclusive:!0,exact:!1,message:bt.minSize.message}),j.dirty()),bt.maxSize!==null&&et.data.size>bt.maxSize.value&&(addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:bt.maxSize.value,type:"set",inclusive:!0,exact:!1,message:bt.maxSize.message}),j.dirty());const At=this._def.valueType;function Et(zt){const It=new Set;for(const Qt of zt){if(Qt.status==="aborted")return INVALID;Qt.status==="dirty"&&j.dirty(),It.add(Qt.value)}return{status:j.value,value:It}}const Ut=[...et.data.values()].map((zt,It)=>At._parse(new ParseInputLazyPath(et,zt,et.path,It)));return et.common.async?Promise.all(Ut).then(zt=>Et(zt)):Et(Ut)}min(s,j){return new ZodSet({...this._def,minSize:{value:s,message:errorUtil.toString(j)}})}max(s,j){return new ZodSet({...this._def,maxSize:{value:s,message:errorUtil.toString(j)}})}size(s,j){return this.min(s,j).max(s,j)}nonempty(s){return this.min(1,s)}}ZodSet.create=(o,s)=>new ZodSet({valueType:o,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(s)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(s){const{ctx:j}=this._processInputParams(s);if(j.parsedType!==ZodParsedType.function)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:j.parsedType}),INVALID;function et(Ut,zt){return makeIssue({data:Ut,path:j.path,errorMaps:[j.common.contextualErrorMap,j.schemaErrorMap,getErrorMap(),errorMap].filter(It=>!!It),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:zt}})}function bt(Ut,zt){return makeIssue({data:Ut,path:j.path,errorMaps:[j.common.contextualErrorMap,j.schemaErrorMap,getErrorMap(),errorMap].filter(It=>!!It),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:zt}})}const At={errorMap:j.common.contextualErrorMap},Et=j.data;if(this._def.returns instanceof ZodPromise){const Ut=this;return OK(async function(...zt){const It=new ZodError([]),Qt=await Ut._def.args.parseAsync(zt,At).catch(cr=>{throw It.addIssue(et(zt,cr)),It}),Pt=await Reflect.apply(Et,this,Qt);return await Ut._def.returns._def.type.parseAsync(Pt,At).catch(cr=>{throw It.addIssue(bt(Pt,cr)),It})})}else{const Ut=this;return OK(function(...zt){const It=Ut._def.args.safeParse(zt,At);if(!It.success)throw new ZodError([et(zt,It.error)]);const Qt=Reflect.apply(Et,this,It.data),Pt=Ut._def.returns.safeParse(Qt,At);if(!Pt.success)throw new ZodError([bt(Qt,Pt.error)]);return Pt.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...s){return new ZodFunction({...this._def,args:ZodTuple.create(s).rest(ZodUnknown.create())})}returns(s){return new ZodFunction({...this._def,returns:s})}implement(s){return this.parse(s)}strictImplement(s){return this.parse(s)}static create(s,j,et){return new ZodFunction({args:s||ZodTuple.create([]).rest(ZodUnknown.create()),returns:j||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(et)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(s){const{ctx:j}=this._processInputParams(s);return this._def.getter()._parse({data:j.data,path:j.path,parent:j})}}ZodLazy.create=(o,s)=>new ZodLazy({getter:o,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(s)});class ZodLiteral extends ZodType{_parse(s){if(s.data!==this._def.value){const j=this._getOrReturnCtx(s);return addIssueToContext(j,{received:j.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:s.data}}get value(){return this._def.value}}ZodLiteral.create=(o,s)=>new ZodLiteral({value:o,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(s)});function createZodEnum(o,s){return new ZodEnum({values:o,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(s)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(s){if(typeof s.data!="string"){const j=this._getOrReturnCtx(s),et=this._def.values;return addIssueToContext(j,{expected:util.joinValues(et),received:j.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache,"f")||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values),"f"),!__classPrivateFieldGet(this,_ZodEnum_cache,"f").has(s.data)){const j=this._getOrReturnCtx(s),et=this._def.values;return addIssueToContext(j,{received:j.data,code:ZodIssueCode.invalid_enum_value,options:et}),INVALID}return OK(s.data)}get options(){return this._def.values}get enum(){const s={};for(const j of this._def.values)s[j]=j;return s}get Values(){const s={};for(const j of this._def.values)s[j]=j;return s}get Enum(){const s={};for(const j of this._def.values)s[j]=j;return s}extract(s,j=this._def){return ZodEnum.create(s,{...this._def,...j})}exclude(s,j=this._def){return ZodEnum.create(this.options.filter(et=>!s.includes(et)),{...this._def,...j})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(s){const j=util.getValidEnumValues(this._def.values),et=this._getOrReturnCtx(s);if(et.parsedType!==ZodParsedType.string&&et.parsedType!==ZodParsedType.number){const bt=util.objectValues(j);return addIssueToContext(et,{expected:util.joinValues(bt),received:et.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache,"f")||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values)),"f"),!__classPrivateFieldGet(this,_ZodNativeEnum_cache,"f").has(s.data)){const bt=util.objectValues(j);return addIssueToContext(et,{received:et.data,code:ZodIssueCode.invalid_enum_value,options:bt}),INVALID}return OK(s.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(o,s)=>new ZodNativeEnum({values:o,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(s)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(s){const{ctx:j}=this._processInputParams(s);if(j.parsedType!==ZodParsedType.promise&&j.common.async===!1)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:j.parsedType}),INVALID;const et=j.parsedType===ZodParsedType.promise?j.data:Promise.resolve(j.data);return OK(et.then(bt=>this._def.type.parseAsync(bt,{path:j.path,errorMap:j.common.contextualErrorMap})))}}ZodPromise.create=(o,s)=>new ZodPromise({type:o,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(s)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:j,ctx:et}=this._processInputParams(s),bt=this._def.effect||null,At={addIssue:Et=>{addIssueToContext(et,Et),Et.fatal?j.abort():j.dirty()},get path(){return et.path}};if(At.addIssue=At.addIssue.bind(At),bt.type==="preprocess"){const Et=bt.transform(et.data,At);if(et.common.async)return Promise.resolve(Et).then(async Ut=>{if(j.value==="aborted")return INVALID;const zt=await this._def.schema._parseAsync({data:Ut,path:et.path,parent:et});return zt.status==="aborted"?INVALID:zt.status==="dirty"||j.value==="dirty"?DIRTY(zt.value):zt});{if(j.value==="aborted")return INVALID;const Ut=this._def.schema._parseSync({data:Et,path:et.path,parent:et});return Ut.status==="aborted"?INVALID:Ut.status==="dirty"||j.value==="dirty"?DIRTY(Ut.value):Ut}}if(bt.type==="refinement"){const Et=Ut=>{const zt=bt.refinement(Ut,At);if(et.common.async)return Promise.resolve(zt);if(zt instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return Ut};if(et.common.async===!1){const Ut=this._def.schema._parseSync({data:et.data,path:et.path,parent:et});return Ut.status==="aborted"?INVALID:(Ut.status==="dirty"&&j.dirty(),Et(Ut.value),{status:j.value,value:Ut.value})}else return this._def.schema._parseAsync({data:et.data,path:et.path,parent:et}).then(Ut=>Ut.status==="aborted"?INVALID:(Ut.status==="dirty"&&j.dirty(),Et(Ut.value).then(()=>({status:j.value,value:Ut.value}))))}if(bt.type==="transform")if(et.common.async===!1){const Et=this._def.schema._parseSync({data:et.data,path:et.path,parent:et});if(!isValid(Et))return Et;const Ut=bt.transform(Et.value,At);if(Ut instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:j.value,value:Ut}}else return this._def.schema._parseAsync({data:et.data,path:et.path,parent:et}).then(Et=>isValid(Et)?Promise.resolve(bt.transform(Et.value,At)).then(Ut=>({status:j.value,value:Ut})):Et);util.assertNever(bt)}}ZodEffects.create=(o,s,j)=>new ZodEffects({schema:o,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:s,...processCreateParams(j)});ZodEffects.createWithPreprocess=(o,s,j)=>new ZodEffects({schema:s,effect:{type:"preprocess",transform:o},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(j)});class ZodOptional extends ZodType{_parse(s){return this._getType(s)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}ZodOptional.create=(o,s)=>new ZodOptional({innerType:o,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(s)});class ZodNullable extends ZodType{_parse(s){return this._getType(s)===ZodParsedType.null?OK(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}ZodNullable.create=(o,s)=>new ZodNullable({innerType:o,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(s)});class ZodDefault extends ZodType{_parse(s){const{ctx:j}=this._processInputParams(s);let et=j.data;return j.parsedType===ZodParsedType.undefined&&(et=this._def.defaultValue()),this._def.innerType._parse({data:et,path:j.path,parent:j})}removeDefault(){return this._def.innerType}}ZodDefault.create=(o,s)=>new ZodDefault({innerType:o,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...processCreateParams(s)});class ZodCatch extends ZodType{_parse(s){const{ctx:j}=this._processInputParams(s),et={...j,common:{...j.common,issues:[]}},bt=this._def.innerType._parse({data:et.data,path:et.path,parent:{...et}});return isAsync(bt)?bt.then(At=>({status:"valid",value:At.status==="valid"?At.value:this._def.catchValue({get error(){return new ZodError(et.common.issues)},input:et.data})})):{status:"valid",value:bt.status==="valid"?bt.value:this._def.catchValue({get error(){return new ZodError(et.common.issues)},input:et.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(o,s)=>new ZodCatch({innerType:o,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...processCreateParams(s)});class ZodNaN extends ZodType{_parse(s){if(this._getType(s)!==ZodParsedType.nan){const et=this._getOrReturnCtx(s);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:et.parsedType}),INVALID}return{status:"valid",value:s.data}}}ZodNaN.create=o=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(o)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(s){const{ctx:j}=this._processInputParams(s),et=j.data;return this._def.type._parse({data:et,path:j.path,parent:j})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(s){const{status:j,ctx:et}=this._processInputParams(s);if(et.common.async)return(async()=>{const At=await this._def.in._parseAsync({data:et.data,path:et.path,parent:et});return At.status==="aborted"?INVALID:At.status==="dirty"?(j.dirty(),DIRTY(At.value)):this._def.out._parseAsync({data:At.value,path:et.path,parent:et})})();{const bt=this._def.in._parseSync({data:et.data,path:et.path,parent:et});return bt.status==="aborted"?INVALID:bt.status==="dirty"?(j.dirty(),{status:"dirty",value:bt.value}):this._def.out._parseSync({data:bt.value,path:et.path,parent:et})}}static create(s,j){return new ZodPipeline({in:s,out:j,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(s){const j=this._def.innerType._parse(s),et=bt=>(isValid(bt)&&(bt.value=Object.freeze(bt.value)),bt);return isAsync(j)?j.then(bt=>et(bt)):et(j)}unwrap(){return this._def.innerType}}ZodReadonly.create=(o,s)=>new ZodReadonly({innerType:o,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(s)});function custom(o,s={},j){return o?ZodAny.create().superRefine((et,bt)=>{var At,Et;if(!o(et)){const Ut=typeof s=="function"?s(et):typeof s=="string"?{message:s}:s,zt=(Et=(At=Ut.fatal)!==null&&At!==void 0?At:j)!==null&&Et!==void 0?Et:!0,It=typeof Ut=="string"?{message:Ut}:Ut;bt.addIssue({code:"custom",...It,fatal:zt})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(o){o.ZodString="ZodString",o.ZodNumber="ZodNumber",o.ZodNaN="ZodNaN",o.ZodBigInt="ZodBigInt",o.ZodBoolean="ZodBoolean",o.ZodDate="ZodDate",o.ZodSymbol="ZodSymbol",o.ZodUndefined="ZodUndefined",o.ZodNull="ZodNull",o.ZodAny="ZodAny",o.ZodUnknown="ZodUnknown",o.ZodNever="ZodNever",o.ZodVoid="ZodVoid",o.ZodArray="ZodArray",o.ZodObject="ZodObject",o.ZodUnion="ZodUnion",o.ZodDiscriminatedUnion="ZodDiscriminatedUnion",o.ZodIntersection="ZodIntersection",o.ZodTuple="ZodTuple",o.ZodRecord="ZodRecord",o.ZodMap="ZodMap",o.ZodSet="ZodSet",o.ZodFunction="ZodFunction",o.ZodLazy="ZodLazy",o.ZodLiteral="ZodLiteral",o.ZodEnum="ZodEnum",o.ZodEffects="ZodEffects",o.ZodNativeEnum="ZodNativeEnum",o.ZodOptional="ZodOptional",o.ZodNullable="ZodNullable",o.ZodDefault="ZodDefault",o.ZodCatch="ZodCatch",o.ZodPromise="ZodPromise",o.ZodBranded="ZodBranded",o.ZodPipeline="ZodPipeline",o.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(o,s={message:`Input not instance of ${o.name}`})=>custom(j=>j instanceof o,s),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:o=>ZodString.create({...o,coerce:!0}),number:o=>ZodNumber.create({...o,coerce:!0}),boolean:o=>ZodBoolean.create({...o,coerce:!0}),bigint:o=>ZodBigInt.create({...o,coerce:!0}),date:o=>ZodDate.create({...o,coerce:!0})},NEVER=INVALID;var z$1=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(o,s)=>function(){return s||(0,o[__getOwnPropNames(o)[0]])((s={exports:{}}).exports,s),s.exports},__copyProps=(o,s,j,et)=>{if(s&&typeof s=="object"||typeof s=="function")for(let bt of __getOwnPropNames(s))!__hasOwnProp.call(o,bt)&&bt!==j&&__defProp(o,bt,{get:()=>s[bt],enumerable:!(et=__getOwnPropDesc(s,bt))||et.enumerable});return o},__toESM=(o,s,j)=>(j=o!=null?__create(__getProtoOf(o)):{},__copyProps(s||!o||!o.__esModule?__defProp(j,"default",{value:o,enumerable:!0}):j,o)),require_lodash=__commonJS({"../../node_modules/lodash/lodash.js"(o,s){(function(){var j,et="4.17.21",bt=200,At="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Et="Expected a function",Ut="Invalid `variable` option passed into `_.template`",zt="__lodash_hash_undefined__",It=500,Qt="__lodash_placeholder__",Pt=1,Yt=2,cr=4,_r=1,vr=2,Yr=1,Kr=2,jr=4,Hn=8,tA=16,nA=32,aA=64,lA=128,hA=256,pA=512,wA=30,NA="...",cA=800,CA=16,sA=1,UA=2,LA=3,RA=1/0,kA=9007199254740991,OA=17976931348623157e292,KA=NaN,yA=4294967295,TA=yA-1,r0=yA>>>1,qA=[["ary",lA],["bind",Yr],["bindKey",Kr],["curry",Hn],["curryRight",tA],["flip",pA],["partial",nA],["partialRight",aA],["rearg",hA]],XA="[object Arguments]",S0="[object Array]",U0="[object AsyncFunction]",C0="[object Boolean]",B0="[object Date]",Q0="[object DOMException]",T0="[object Error]",F0="[object Function]",k0="[object GeneratorFunction]",uA="[object Map]",ZA="[object Number]",jA="[object Null]",IA="[object Object]",$A="[object Promise]",QA="[object Proxy]",n0="[object RegExp]",t0="[object Set]",GA="[object String]",A0="[object Symbol]",y0="[object Undefined]",f0="[object WeakMap]",P0="[object WeakSet]",K0="[object ArrayBuffer]",$0="[object DataView]",w0="[object Float32Array]",E0="[object Float64Array]",t1="[object Int8Array]",O1="[object Int16Array]",v0="[object Int32Array]",X0="[object Uint8Array]",r1="[object Uint8ClampedArray]",L0="[object Uint16Array]",k1="[object Uint32Array]",M1=/\b__p \+= '';/g,N1=/\b(__p \+=) '' \+/g,mA=/(__e\(.*?\)|\b__t\)) \+\n'';/g,HA=/&(?:amp|lt|gt|quot|#39);/g,WA=/[&<>"']/g,c0=RegExp(HA.source),D0=RegExp(WA.source),W0=/<%-([\s\S]+?)%>/g,l1=/<%([\s\S]+?)%>/g,P1=/<%=([\s\S]+?)%>/g,V1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F1=/^\w*$/,m1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M0=/[\\^$.*+?()[\]{}|]/g,W1=RegExp(M0.source),u0=/^\s+/,h1=/\s/,E1=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,q1=/\{\n\/\* \[wrapped with (.+)\] \*/,iy=/,? & /,Ay=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,oy=/[()=,{}\[\]\/\s]/,sy=/\\(\\)?/g,d0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,e0=/\w*$/,R0=/^[-+]0x[0-9a-f]+$/i,z0=/^0b[01]+$/i,g1=/^\[object .+?Constructor\]$/,oA=/^0o[0-7]+$/i,gA=/^(?:0|[1-9]\d*)$/,xA=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,DA=/($^)/,o0=/['\n\r\u2028\u2029\\]/g,g0="\\ud800-\\udfff",N0="\\u0300-\\u036f",Z0="\\ufe20-\\ufe2f",J0="\\u20d0-\\u20ff",i1=N0+Z0+J0,u1="\\u2700-\\u27bf",S1="a-z\\xdf-\\xf6\\xf8-\\xff",R1="\\xac\\xb1\\xd7\\xf7",a0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",o1="\\u2000-\\u206f",b1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cy="A-Z\\xc0-\\xd6\\xd8-\\xde",Wy="\\ufe0e\\ufe0f",$v=R1+a0+o1+b1,Ky="['’]",Uv="["+g0+"]",Pv="["+$v+"]",Y0="["+i1+"]",sv="\\d+",Uy="["+u1+"]",wv="["+S1+"]",vy="[^"+g0+$v+sv+u1+S1+cy+"]",ly="\\ud83c[\\udffb-\\udfff]",lv="(?:"+Y0+"|"+ly+")",Py="[^"+g0+"]",Gy="(?:\\ud83c[\\udde6-\\uddff]){2}",Zy="[\\ud800-\\udbff][\\udc00-\\udfff]",Dy="["+cy+"]",Hy="\\u200d",qy="(?:"+wv+"|"+vy+")",_v="(?:"+Dy+"|"+vy+")",Dv="(?:"+Ky+"(?:d|ll|m|re|s|t|ve))?",Xy="(?:"+Ky+"(?:D|LL|M|RE|S|T|VE))?",xv=lv+"?",AA="["+Wy+"]?",EA="(?:"+Hy+"(?:"+[Py,Gy,Zy].join("|")+")"+AA+xv+")*",MA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zA="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",I0=AA+xv+EA,O0="(?:"+[Uy,Gy,Zy].join("|")+")"+I0,j0="(?:"+[Py+Y0+"?",Y0,Gy,Zy,Uv].join("|")+")",H1=RegExp(Ky,"g"),hy=RegExp(Y0,"g"),K1=RegExp(ly+"(?="+ly+")|"+j0+I0,"g"),ty=RegExp([Dy+"?"+wv+"+"+Dv+"(?="+[Pv,Dy,"$"].join("|")+")",_v+"+"+Xy+"(?="+[Pv,Dy+qy,"$"].join("|")+")",Dy+"?"+qy+"+"+Dv,Dy+"+"+Xy,zA,MA,sv,O0].join("|"),"g"),uv=RegExp("["+Hy+g0+i1+Wy+"]"),Ev=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,p0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],U1=-1,e1={};e1[w0]=e1[E0]=e1[t1]=e1[O1]=e1[v0]=e1[X0]=e1[r1]=e1[L0]=e1[k1]=!0,e1[XA]=e1[S0]=e1[K0]=e1[C0]=e1[$0]=e1[B0]=e1[T0]=e1[F0]=e1[uA]=e1[ZA]=e1[IA]=e1[n0]=e1[t0]=e1[GA]=e1[f0]=!1;var w1={};w1[XA]=w1[S0]=w1[K0]=w1[$0]=w1[C0]=w1[B0]=w1[w0]=w1[E0]=w1[t1]=w1[O1]=w1[v0]=w1[uA]=w1[ZA]=w1[IA]=w1[n0]=w1[t0]=w1[GA]=w1[A0]=w1[X0]=w1[r1]=w1[L0]=w1[k1]=!0,w1[T0]=w1[F0]=w1[f0]=!1;var Av={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},y$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v$={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},b$={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$$=parseFloat,w$=parseInt,_$=typeof global=="object"&&global&&global.Object===Object&&global,Lv=typeof self=="object"&&self&&self.Object===Object&&self,Y1=_$||Lv||Function("return this")(),rA=typeof o=="object"&&o&&!o.nodeType&&o,dA=rA&&typeof s=="object"&&s&&!s.nodeType&&s,vA=dA&&dA.exports===rA,FA=vA&&_$.process,JA=function(){try{var YA=dA&&dA.require&&dA.require("util").types;return YA||FA&&FA.binding&&FA.binding("util")}catch{}}(),s0=JA&&JA.isArrayBuffer,_0=JA&&JA.isDate,q0=JA&&JA.isMap,c1=JA&&JA.isRegExp,A1=JA&&JA.isSet,y1=JA&&JA.isTypedArray;function _1(YA,h0,l0){switch(l0.length){case 0:return YA.call(h0);case 1:return YA.call(h0,l0[0]);case 2:return YA.call(h0,l0[0],l0[1]);case 3:return YA.call(h0,l0[0],l0[1],l0[2])}return YA.apply(h0,l0)}function j1(YA,h0,l0,V0){for(var p1=-1,D1=YA==null?0:YA.length;++p1<D1;){var ry=YA[p1];h0(V0,ry,l0(ry),YA)}return V0}function i0(YA,h0){for(var l0=-1,V0=YA==null?0:YA.length;++l0<V0&&h0(YA[l0],l0,YA)!==!1;);return YA}function d1(YA,h0){for(var l0=YA==null?0:YA.length;l0--&&h0(YA[l0],l0,YA)!==!1;);return YA}function T1(YA,h0){for(var l0=-1,V0=YA==null?0:YA.length;++l0<V0;)if(!h0(YA[l0],l0,YA))return!1;return!0}function dy(YA,h0){for(var l0=-1,V0=YA==null?0:YA.length,p1=0,D1=[];++l0<V0;){var ry=YA[l0];h0(ry,l0,YA)&&(D1[p1++]=ry)}return D1}function Cv(YA,h0){var l0=YA==null?0:YA.length;return!!l0&&Mv(YA,h0,0)>-1}function Aw(YA,h0,l0){for(var V0=-1,p1=YA==null?0:YA.length;++V0<p1;)if(l0(h0,YA[V0]))return!0;return!1}function G1(YA,h0){for(var l0=-1,V0=YA==null?0:YA.length,p1=Array(V0);++l0<V0;)p1[l0]=h0(YA[l0],l0,YA);return p1}function cv(YA,h0){for(var l0=-1,V0=h0.length,p1=YA.length;++l0<V0;)YA[p1+l0]=h0[l0];return YA}function cw(YA,h0,l0,V0){var p1=-1,D1=YA==null?0:YA.length;for(V0&&D1&&(l0=YA[++p1]);++p1<D1;)l0=h0(l0,YA[p1],p1,YA);return l0}function wx(YA,h0,l0,V0){var p1=YA==null?0:YA.length;for(V0&&p1&&(l0=YA[--p1]);p1--;)l0=h0(l0,YA[p1],p1,YA);return l0}function dw(YA,h0){for(var l0=-1,V0=YA==null?0:YA.length;++l0<V0;)if(h0(YA[l0],l0,YA))return!0;return!1}var _x=pw("length");function xx(YA){return YA.split("")}function Ex(YA){return YA.match(Ay)||[]}function g2(YA,h0,l0){var V0;return l0(YA,function(p1,D1,ry){if(h0(p1,D1,ry))return V0=D1,!1}),V0}function x$(YA,h0,l0,V0){for(var p1=YA.length,D1=l0+(V0?1:-1);V0?D1--:++D1<p1;)if(h0(YA[D1],D1,YA))return D1;return-1}function Mv(YA,h0,l0){return h0===h0?Dx(YA,h0,l0):x$(YA,m2,l0)}function Cx(YA,h0,l0,V0){for(var p1=l0-1,D1=YA.length;++p1<D1;)if(V0(YA[p1],h0))return p1;return-1}function m2(YA){return YA!==YA}function y2(YA,h0){var l0=YA==null?0:YA.length;return l0?hw(YA,h0)/l0:KA}function pw(YA){return function(h0){return h0==null?j:h0[YA]}}function fw(YA){return function(h0){return YA==null?j:YA[h0]}}function v2(YA,h0,l0,V0,p1){return p1(YA,function(D1,ry,z1){l0=V0?(V0=!1,D1):h0(l0,D1,ry,z1)}),l0}function Bx(YA,h0){var l0=YA.length;for(YA.sort(h0);l0--;)YA[l0]=YA[l0].value;return YA}function hw(YA,h0){for(var l0,V0=-1,p1=YA.length;++V0<p1;){var D1=h0(YA[V0]);D1!==j&&(l0=l0===j?D1:l0+D1)}return l0}function gw(YA,h0){for(var l0=-1,V0=Array(YA);++l0<YA;)V0[l0]=h0(l0);return V0}function Sx(YA,h0){return G1(h0,function(l0){return[l0,YA[l0]]})}function b2(YA){return YA&&YA.slice(0,x2(YA)+1).replace(u0,"")}function xy(YA){return function(h0){return YA(h0)}}function mw(YA,h0){return G1(h0,function(l0){return YA[l0]})}function Yv(YA,h0){return YA.has(h0)}function $2(YA,h0){for(var l0=-1,V0=YA.length;++l0<V0&&Mv(h0,YA[l0],0)>-1;);return l0}function w2(YA,h0){for(var l0=YA.length;l0--&&Mv(h0,YA[l0],0)>-1;);return l0}function Tx(YA,h0){for(var l0=YA.length,V0=0;l0--;)YA[l0]===h0&&++V0;return V0}var Ix=fw(Av),Ox=fw(y$);function kx(YA){return"\\"+b$[YA]}function Fx(YA,h0){return YA==null?j:YA[h0]}function Nv(YA){return uv.test(YA)}function Rx(YA){return Ev.test(YA)}function Ux(YA){for(var h0,l0=[];!(h0=YA.next()).done;)l0.push(h0.value);return l0}function yw(YA){var h0=-1,l0=Array(YA.size);return YA.forEach(function(V0,p1){l0[++h0]=[p1,V0]}),l0}function _2(YA,h0){return function(l0){return YA(h0(l0))}}function dv(YA,h0){for(var l0=-1,V0=YA.length,p1=0,D1=[];++l0<V0;){var ry=YA[l0];(ry===h0||ry===Qt)&&(YA[l0]=Qt,D1[p1++]=l0)}return D1}function E$(YA){var h0=-1,l0=Array(YA.size);return YA.forEach(function(V0){l0[++h0]=V0}),l0}function Px(YA){var h0=-1,l0=Array(YA.size);return YA.forEach(function(V0){l0[++h0]=[V0,V0]}),l0}function Dx(YA,h0,l0){for(var V0=l0-1,p1=YA.length;++V0<p1;)if(YA[V0]===h0)return V0;return-1}function Lx(YA,h0,l0){for(var V0=l0+1;V0--;)if(YA[V0]===h0)return V0;return V0}function Qv(YA){return Nv(YA)?Nx(YA):_x(YA)}function Ly(YA){return Nv(YA)?Qx(YA):xx(YA)}function x2(YA){for(var h0=YA.length;h0--&&h1.test(YA.charAt(h0)););return h0}var Mx=fw(v$);function Nx(YA){for(var h0=K1.lastIndex=0;K1.test(YA);)++h0;return h0}function Qx(YA){return YA.match(K1)||[]}function Hx(YA){return YA.match(ty)||[]}var zx=function YA(h0){h0=h0==null?Y1:pv.defaults(Y1.Object(),h0,pv.pick(Y1,p0));var l0=h0.Array,V0=h0.Date,p1=h0.Error,D1=h0.Function,ry=h0.Math,z1=h0.Object,vw=h0.RegExp,jx=h0.String,Ty=h0.TypeError,C$=l0.prototype,Vx=D1.prototype,Hv=z1.prototype,B$=h0["__core-js_shared__"],S$=Vx.toString,Q1=Hv.hasOwnProperty,Wx=0,E2=function(){var er=/[^.]+$/.exec(B$&&B$.keys&&B$.keys.IE_PROTO||"");return er?"Symbol(src)_1."+er:""}(),T$=Hv.toString,Kx=S$.call(z1),Gx=Y1._,Zx=vw("^"+S$.call(Q1).replace(M0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I$=vA?h0.Buffer:j,fv=h0.Symbol,O$=h0.Uint8Array,C2=I$?I$.allocUnsafe:j,k$=_2(z1.getPrototypeOf,z1),S2=z1.create,T2=Hv.propertyIsEnumerable,F$=C$.splice,I2=fv?fv.isConcatSpreadable:j,Jv=fv?fv.iterator:j,Bv=fv?fv.toStringTag:j,R$=function(){try{var er=kv(z1,"defineProperty");return er({},"",{}),er}catch{}}(),qx=h0.clearTimeout!==Y1.clearTimeout&&h0.clearTimeout,Xx=V0&&V0.now!==Y1.Date.now&&V0.now,Yx=h0.setTimeout!==Y1.setTimeout&&h0.setTimeout,U$=ry.ceil,P$=ry.floor,bw=z1.getOwnPropertySymbols,Jx=I$?I$.isBuffer:j,O2=h0.isFinite,eE=C$.join,tE=_2(z1.keys,z1),ny=ry.max,py=ry.min,rE=V0.now,nE=h0.parseInt,k2=ry.random,iE=C$.reverse,$w=kv(h0,"DataView"),e$=kv(h0,"Map"),ww=kv(h0,"Promise"),zv=kv(h0,"Set"),t$=kv(h0,"WeakMap"),r$=kv(z1,"create"),D$=t$&&new t$,jv={},oE=Fv($w),aE=Fv(e$),sE=Fv(ww),lE=Fv(zv),uE=Fv(t$),L$=fv?fv.prototype:j,n$=L$?L$.valueOf:j,F2=L$?L$.toString:j;function bA(er){if(X1(er)&&!f1(er)&&!(er instanceof B1)){if(er instanceof Iy)return er;if(Q1.call(er,"__wrapped__"))return U_(er)}return new Iy(er)}var Vv=function(){function er(){}return function(fr){if(!Z1(fr))return{};if(S2)return S2(fr);er.prototype=fr;var eA=new er;return er.prototype=j,eA}}();function M$(){}function Iy(er,fr){this.__wrapped__=er,this.__actions__=[],this.__chain__=!!fr,this.__index__=0,this.__values__=j}bA.templateSettings={escape:W0,evaluate:l1,interpolate:P1,variable:"",imports:{_:bA}},bA.prototype=M$.prototype,bA.prototype.constructor=bA,Iy.prototype=Vv(M$.prototype),Iy.prototype.constructor=Iy;function B1(er){this.__wrapped__=er,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=yA,this.__views__=[]}function AE(){var er=new B1(this.__wrapped__);return er.__actions__=by(this.__actions__),er.__dir__=this.__dir__,er.__filtered__=this.__filtered__,er.__iteratees__=by(this.__iteratees__),er.__takeCount__=this.__takeCount__,er.__views__=by(this.__views__),er}function cE(){if(this.__filtered__){var er=new B1(this);er.__dir__=-1,er.__filtered__=!0}else er=this.clone(),er.__dir__*=-1;return er}function dE(){var er=this.__wrapped__.value(),fr=this.__dir__,eA=f1(er),iA=fr<0,fA=eA?er.length:0,_A=xC(0,fA,this.__views__),PA=_A.start,VA=_A.end,om=VA-PA,m0=iA?VA:PA-1,b0=this.__iteratees__,x0=b0.length,H0=0,G0=py(om,this.__takeCount__);if(!eA||!iA&&fA==om&&G0==om)return i_(er,this.__actions__);var a1=[];e:for(;om--&&H0<G0;){m0+=fr;for(var $1=-1,s1=er[m0];++$1<x0;){var C1=b0[$1],I1=C1.iteratee,By=C1.type,yy=I1(s1);if(By==UA)s1=yy;else if(!yy){if(By==sA)continue e;break e}}a1[H0++]=s1}return a1}B1.prototype=Vv(M$.prototype),B1.prototype.constructor=B1;function Sv(er){var fr=-1,eA=er==null?0:er.length;for(this.clear();++fr<eA;){var iA=er[fr];this.set(iA[0],iA[1])}}function pE(){this.__data__=r$?r$(null):{},this.size=0}function fE(er){var fr=this.has(er)&&delete this.__data__[er];return this.size-=fr?1:0,fr}function hE(er){var fr=this.__data__;if(r$){var eA=fr[er];return eA===zt?j:eA}return Q1.call(fr,er)?fr[er]:j}function gE(er){var fr=this.__data__;return r$?fr[er]!==j:Q1.call(fr,er)}function mE(er,fr){var eA=this.__data__;return this.size+=this.has(er)?0:1,eA[er]=r$&&fr===j?zt:fr,this}Sv.prototype.clear=pE,Sv.prototype.delete=fE,Sv.prototype.get=hE,Sv.prototype.has=gE,Sv.prototype.set=mE;function Yy(er){var fr=-1,eA=er==null?0:er.length;for(this.clear();++fr<eA;){var iA=er[fr];this.set(iA[0],iA[1])}}function yE(){this.__data__=[],this.size=0}function vE(er){var fr=this.__data__,eA=N$(fr,er);if(eA<0)return!1;var iA=fr.length-1;return eA==iA?fr.pop():F$.call(fr,eA,1),--this.size,!0}function bE(er){var fr=this.__data__,eA=N$(fr,er);return eA<0?j:fr[eA][1]}function $E(er){return N$(this.__data__,er)>-1}function wE(er,fr){var eA=this.__data__,iA=N$(eA,er);return iA<0?(++this.size,eA.push([er,fr])):eA[iA][1]=fr,this}Yy.prototype.clear=yE,Yy.prototype.delete=vE,Yy.prototype.get=bE,Yy.prototype.has=$E,Yy.prototype.set=wE;function Jy(er){var fr=-1,eA=er==null?0:er.length;for(this.clear();++fr<eA;){var iA=er[fr];this.set(iA[0],iA[1])}}function _E(){this.size=0,this.__data__={hash:new Sv,map:new(e$||Yy),string:new Sv}}function xE(er){var fr=Y$(this,er).delete(er);return this.size-=fr?1:0,fr}function EE(er){return Y$(this,er).get(er)}function CE(er){return Y$(this,er).has(er)}function BE(er,fr){var eA=Y$(this,er),iA=eA.size;return eA.set(er,fr),this.size+=eA.size==iA?0:1,this}Jy.prototype.clear=_E,Jy.prototype.delete=xE,Jy.prototype.get=EE,Jy.prototype.has=CE,Jy.prototype.set=BE;function Tv(er){var fr=-1,eA=er==null?0:er.length;for(this.__data__=new Jy;++fr<eA;)this.add(er[fr])}function SE(er){return this.__data__.set(er,zt),this}function TE(er){return this.__data__.has(er)}Tv.prototype.add=Tv.prototype.push=SE,Tv.prototype.has=TE;function My(er){var fr=this.__data__=new Yy(er);this.size=fr.size}function IE(){this.__data__=new Yy,this.size=0}function OE(er){var fr=this.__data__,eA=fr.delete(er);return this.size=fr.size,eA}function kE(er){return this.__data__.get(er)}function FE(er){return this.__data__.has(er)}function RE(er,fr){var eA=this.__data__;if(eA instanceof Yy){var iA=eA.__data__;if(!e$||iA.length<bt-1)return iA.push([er,fr]),this.size=++eA.size,this;eA=this.__data__=new Jy(iA)}return eA.set(er,fr),this.size=eA.size,this}My.prototype.clear=IE,My.prototype.delete=OE,My.prototype.get=kE,My.prototype.has=FE,My.prototype.set=RE;function R2(er,fr){var eA=f1(er),iA=!eA&&Rv(er),fA=!eA&&!iA&&vv(er),_A=!eA&&!iA&&!fA&&qv(er),PA=eA||iA||fA||_A,VA=PA?gw(er.length,jx):[],om=VA.length;for(var m0 in er)(fr||Q1.call(er,m0))&&!(PA&&(m0=="length"||fA&&(m0=="offset"||m0=="parent")||_A&&(m0=="buffer"||m0=="byteLength"||m0=="byteOffset")||nv(m0,om)))&&VA.push(m0);return VA}function U2(er){var fr=er.length;return fr?er[Fw(0,fr-1)]:j}function UE(er,fr){return J$(by(er),Iv(fr,0,er.length))}function PE(er){return J$(by(er))}function _w(er,fr,eA){(eA!==j&&!Ny(er[fr],eA)||eA===j&&!(fr in er))&&ev(er,fr,eA)}function i$(er,fr,eA){var iA=er[fr];(!(Q1.call(er,fr)&&Ny(iA,eA))||eA===j&&!(fr in er))&&ev(er,fr,eA)}function N$(er,fr){for(var eA=er.length;eA--;)if(Ny(er[eA][0],fr))return eA;return-1}function DE(er,fr,eA,iA){return hv(er,function(fA,_A,PA){fr(iA,fA,eA(fA),PA)}),iA}function P2(er,fr){return er&&jy(fr,ay(fr),er)}function LE(er,fr){return er&&jy(fr,wy(fr),er)}function ev(er,fr,eA){fr=="__proto__"&&R$?R$(er,fr,{configurable:!0,enumerable:!0,value:eA,writable:!0}):er[fr]=eA}function xw(er,fr){for(var eA=-1,iA=fr.length,fA=l0(iA),_A=er==null;++eA<iA;)fA[eA]=_A?j:i2(er,fr[eA]);return fA}function Iv(er,fr,eA){return er===er&&(eA!==j&&(er=er<=eA?er:eA),fr!==j&&(er=er>=fr?er:fr)),er}function Oy(er,fr,eA,iA,fA,_A){var PA,VA=fr&Pt,om=fr&Yt,m0=fr&cr;if(eA&&(PA=fA?eA(er,iA,fA,_A):eA(er)),PA!==j)return PA;if(!Z1(er))return er;var b0=f1(er);if(b0){if(PA=CC(er),!VA)return by(er,PA)}else{var x0=fy(er),H0=x0==F0||x0==k0;if(vv(er))return s_(er,VA);if(x0==IA||x0==XA||H0&&!fA){if(PA=om||H0?{}:C_(er),!VA)return om?hC(er,LE(PA,er)):fC(er,P2(PA,er))}else{if(!w1[x0])return fA?er:{};PA=BC(er,x0,VA)}}_A||(_A=new My);var G0=_A.get(er);if(G0)return G0;_A.set(er,PA),tx(er)?er.forEach(function(s1){PA.add(Oy(s1,fr,eA,s1,er,_A))}):J_(er)&&er.forEach(function(s1,C1){PA.set(C1,Oy(s1,fr,eA,C1,er,_A))});var a1=m0?om?jw:zw:om?wy:ay,$1=b0?j:a1(er);return i0($1||er,function(s1,C1){$1&&(C1=s1,s1=er[C1]),i$(PA,C1,Oy(s1,fr,eA,C1,er,_A))}),PA}function ME(er){var fr=ay(er);return function(eA){return D2(eA,er,fr)}}function D2(er,fr,eA){var iA=eA.length;if(er==null)return!iA;for(er=z1(er);iA--;){var fA=eA[iA],_A=fr[fA],PA=er[fA];if(PA===j&&!(fA in er)||!_A(PA))return!1}return!0}function L2(er,fr,eA){if(typeof er!="function")throw new Ty(Et);return c$(function(){er.apply(j,eA)},fr)}function o$(er,fr,eA,iA){var fA=-1,_A=Cv,PA=!0,VA=er.length,om=[],m0=fr.length;if(!VA)return om;eA&&(fr=G1(fr,xy(eA))),iA?(_A=Aw,PA=!1):fr.length>=bt&&(_A=Yv,PA=!1,fr=new Tv(fr));e:for(;++fA<VA;){var b0=er[fA],x0=eA==null?b0:eA(b0);if(b0=iA||b0!==0?b0:0,PA&&x0===x0){for(var H0=m0;H0--;)if(fr[H0]===x0)continue e;om.push(b0)}else _A(fr,x0,iA)||om.push(b0)}return om}var hv=d_(zy),M2=d_(Cw,!0);function NE(er,fr){var eA=!0;return hv(er,function(iA,fA,_A){return eA=!!fr(iA,fA,_A),eA}),eA}function Q$(er,fr,eA){for(var iA=-1,fA=er.length;++iA<fA;){var _A=er[iA],PA=fr(_A);if(PA!=null&&(VA===j?PA===PA&&!Cy(PA):eA(PA,VA)))var VA=PA,om=_A}return om}function QE(er,fr,eA,iA){var fA=er.length;for(eA=v1(eA),eA<0&&(eA=-eA>fA?0:fA+eA),iA=iA===j||iA>fA?fA:v1(iA),iA<0&&(iA+=fA),iA=eA>iA?0:nx(iA);eA<iA;)er[eA++]=fr;return er}function N2(er,fr){var eA=[];return hv(er,function(iA,fA,_A){fr(iA,fA,_A)&&eA.push(iA)}),eA}function uy(er,fr,eA,iA,fA){var _A=-1,PA=er.length;for(eA||(eA=TC),fA||(fA=[]);++_A<PA;){var VA=er[_A];fr>0&&eA(VA)?fr>1?uy(VA,fr-1,eA,iA,fA):cv(fA,VA):iA||(fA[fA.length]=VA)}return fA}var Ew=p_(),Q2=p_(!0);function zy(er,fr){return er&&Ew(er,fr,ay)}function Cw(er,fr){return er&&Q2(er,fr,ay)}function H$(er,fr){return dy(fr,function(eA){return iv(er[eA])})}function Ov(er,fr){fr=mv(fr,er);for(var eA=0,iA=fr.length;er!=null&&eA<iA;)er=er[Vy(fr[eA++])];return eA&&eA==iA?er:j}function z2(er,fr,eA){var iA=fr(er);return f1(er)?iA:cv(iA,eA(er))}function gy(er){return er==null?er===j?y0:jA:Bv&&Bv in z1(er)?_C(er):PC(er)}function Bw(er,fr){return er>fr}function HE(er,fr){return er!=null&&Q1.call(er,fr)}function zE(er,fr){return er!=null&&fr in z1(er)}function jE(er,fr,eA){return er>=py(fr,eA)&&er<ny(fr,eA)}function Sw(er,fr,eA){for(var iA=eA?Aw:Cv,fA=er[0].length,_A=er.length,PA=_A,VA=l0(_A),om=1/0,m0=[];PA--;){var b0=er[PA];PA&&fr&&(b0=G1(b0,xy(fr))),om=py(b0.length,om),VA[PA]=!eA&&(fr||fA>=120&&b0.length>=120)?new Tv(PA&&b0):j}b0=er[0];var x0=-1,H0=VA[0];e:for(;++x0<fA&&m0.length<om;){var G0=b0[x0],a1=fr?fr(G0):G0;if(G0=eA||G0!==0?G0:0,!(H0?Yv(H0,a1):iA(m0,a1,eA))){for(PA=_A;--PA;){var $1=VA[PA];if(!($1?Yv($1,a1):iA(er[PA],a1,eA)))continue e}H0&&H0.push(a1),m0.push(G0)}}return m0}function VE(er,fr,eA,iA){return zy(er,function(fA,_A,PA){fr(iA,eA(fA),_A,PA)}),iA}function a$(er,fr,eA){fr=mv(fr,er),er=I_(er,fr);var iA=er==null?er:er[Vy(Fy(fr))];return iA==null?j:_1(iA,er,eA)}function j2(er){return X1(er)&&gy(er)==XA}function WE(er){return X1(er)&&gy(er)==K0}function KE(er){return X1(er)&&gy(er)==B0}function s$(er,fr,eA,iA,fA){return er===fr?!0:er==null||fr==null||!X1(er)&&!X1(fr)?er!==er&&fr!==fr:GE(er,fr,eA,iA,s$,fA)}function GE(er,fr,eA,iA,fA,_A){var PA=f1(er),VA=f1(fr),om=PA?S0:fy(er),m0=VA?S0:fy(fr);om=om==XA?IA:om,m0=m0==XA?IA:m0;var b0=om==IA,x0=m0==IA,H0=om==m0;if(H0&&vv(er)){if(!vv(fr))return!1;PA=!0,b0=!1}if(H0&&!b0)return _A||(_A=new My),PA||qv(er)?__(er,fr,eA,iA,fA,_A):$C(er,fr,om,eA,iA,fA,_A);if(!(eA&_r)){var G0=b0&&Q1.call(er,"__wrapped__"),a1=x0&&Q1.call(fr,"__wrapped__");if(G0||a1){var $1=G0?er.value():er,s1=a1?fr.value():fr;return _A||(_A=new My),fA($1,s1,eA,iA,_A)}}return H0?(_A||(_A=new My),wC(er,fr,eA,iA,fA,_A)):!1}function ZE(er){return X1(er)&&fy(er)==uA}function Tw(er,fr,eA,iA){var fA=eA.length,_A=fA,PA=!iA;if(er==null)return!_A;for(er=z1(er);fA--;){var VA=eA[fA];if(PA&&VA[2]?VA[1]!==er[VA[0]]:!(VA[0]in er))return!1}for(;++fA<_A;){VA=eA[fA];var om=VA[0],m0=er[om],b0=VA[1];if(PA&&VA[2]){if(m0===j&&!(om in er))return!1}else{var x0=new My;if(iA)var H0=iA(m0,b0,om,er,fr,x0);if(!(H0===j?s$(b0,m0,_r|vr,iA,x0):H0))return!1}}return!0}function V2(er){if(!Z1(er)||OC(er))return!1;var fr=iv(er)?Zx:g1;return fr.test(Fv(er))}function qE(er){return X1(er)&&gy(er)==n0}function XE(er){return X1(er)&&fy(er)==t0}function YE(er){return X1(er)&&ow(er.length)&&!!e1[gy(er)]}function W2(er){return typeof er=="function"?er:er==null?_y:typeof er=="object"?f1(er)?Z2(er[0],er[1]):G2(er):fx(er)}function Iw(er){if(!A$(er))return tE(er);var fr=[];for(var eA in z1(er))Q1.call(er,eA)&&eA!="constructor"&&fr.push(eA);return fr}function JE(er){if(!Z1(er))return UC(er);var fr=A$(er),eA=[];for(var iA in er)iA=="constructor"&&(fr||!Q1.call(er,iA))||eA.push(iA);return eA}function Ow(er,fr){return er<fr}function K2(er,fr){var eA=-1,iA=$y(er)?l0(er.length):[];return hv(er,function(fA,_A,PA){iA[++eA]=fr(fA,_A,PA)}),iA}function G2(er){var fr=Ww(er);return fr.length==1&&fr[0][2]?S_(fr[0][0],fr[0][1]):function(eA){return eA===er||Tw(eA,er,fr)}}function Z2(er,fr){return Gw(er)&&B_(fr)?S_(Vy(er),fr):function(eA){var iA=i2(eA,er);return iA===j&&iA===fr?o2(eA,er):s$(fr,iA,_r|vr)}}function z$(er,fr,eA,iA,fA){er!==fr&&Ew(fr,function(_A,PA){if(fA||(fA=new My),Z1(_A))eC(er,fr,PA,eA,z$,iA,fA);else{var VA=iA?iA(qw(er,PA),_A,PA+"",er,fr,fA):j;VA===j&&(VA=_A),_w(er,PA,VA)}},wy)}function eC(er,fr,eA,iA,fA,_A,PA){var VA=qw(er,eA),om=qw(fr,eA),m0=PA.get(om);if(m0){_w(er,eA,m0);return}var b0=_A?_A(VA,om,eA+"",er,fr,PA):j,x0=b0===j;if(x0){var H0=f1(om),G0=!H0&&vv(om),a1=!H0&&!G0&&qv(om);b0=om,H0||G0||a1?f1(VA)?b0=VA:J1(VA)?b0=by(VA):G0?(x0=!1,b0=s_(om,!0)):a1?(x0=!1,b0=l_(om,!0)):b0=[]:d$(om)||Rv(om)?(b0=VA,Rv(VA)?b0=ix(VA):(!Z1(VA)||iv(VA))&&(b0=C_(om))):x0=!1}x0&&(PA.set(om,b0),fA(b0,om,iA,_A,PA),PA.delete(om)),_w(er,eA,b0)}function q2(er,fr){var eA=er.length;if(eA)return fr+=fr<0?eA:0,nv(fr,eA)?er[fr]:j}function X2(er,fr,eA){fr.length?fr=G1(fr,function(_A){return f1(_A)?function(PA){return Ov(PA,_A.length===1?_A[0]:_A)}:_A}):fr=[_y];var iA=-1;fr=G1(fr,xy(n1()));var fA=K2(er,function(_A,PA,VA){var om=G1(fr,function(m0){return m0(_A)});return{criteria:om,index:++iA,value:_A}});return Bx(fA,function(_A,PA){return pC(_A,PA,eA)})}function tC(er,fr){return Y2(er,fr,function(eA,iA){return o2(er,iA)})}function Y2(er,fr,eA){for(var iA=-1,fA=fr.length,_A={};++iA<fA;){var PA=fr[iA],VA=Ov(er,PA);eA(VA,PA)&&l$(_A,mv(PA,er),VA)}return _A}function rC(er){return function(fr){return Ov(fr,er)}}function kw(er,fr,eA,iA){var fA=iA?Cx:Mv,_A=-1,PA=fr.length,VA=er;for(er===fr&&(fr=by(fr)),eA&&(VA=G1(er,xy(eA)));++_A<PA;)for(var om=0,m0=fr[_A],b0=eA?eA(m0):m0;(om=fA(VA,b0,om,iA))>-1;)VA!==er&&F$.call(VA,om,1),F$.call(er,om,1);return er}function J2(er,fr){for(var eA=er?fr.length:0,iA=eA-1;eA--;){var fA=fr[eA];if(eA==iA||fA!==_A){var _A=fA;nv(fA)?F$.call(er,fA,1):Pw(er,fA)}}return er}function Fw(er,fr){return er+P$(k2()*(fr-er+1))}function nC(er,fr,eA,iA){for(var fA=-1,_A=ny(U$((fr-er)/(eA||1)),0),PA=l0(_A);_A--;)PA[iA?_A:++fA]=er,er+=eA;return PA}function Rw(er,fr){var eA="";if(!er||fr<1||fr>kA)return eA;do fr%2&&(eA+=er),fr=P$(fr/2),fr&&(er+=er);while(fr);return eA}function x1(er,fr){return Xw(T_(er,fr,_y),er+"")}function iC(er){return U2(Xv(er))}function oC(er,fr){var eA=Xv(er);return J$(eA,Iv(fr,0,eA.length))}function l$(er,fr,eA,iA){if(!Z1(er))return er;fr=mv(fr,er);for(var fA=-1,_A=fr.length,PA=_A-1,VA=er;VA!=null&&++fA<_A;){var om=Vy(fr[fA]),m0=eA;if(om==="__proto__"||om==="constructor"||om==="prototype")return er;if(fA!=PA){var b0=VA[om];m0=iA?iA(b0,om,VA):j,m0===j&&(m0=Z1(b0)?b0:nv(fr[fA+1])?[]:{})}i$(VA,om,m0),VA=VA[om]}return er}var e_=D$?function(er,fr){return D$.set(er,fr),er}:_y,aC=R$?function(er,fr){return R$(er,"toString",{configurable:!0,enumerable:!1,value:s2(fr),writable:!0})}:_y;function sC(er){return J$(Xv(er))}function ky(er,fr,eA){var iA=-1,fA=er.length;fr<0&&(fr=-fr>fA?0:fA+fr),eA=eA>fA?fA:eA,eA<0&&(eA+=fA),fA=fr>eA?0:eA-fr>>>0,fr>>>=0;for(var _A=l0(fA);++iA<fA;)_A[iA]=er[iA+fr];return _A}function lC(er,fr){var eA;return hv(er,function(iA,fA,_A){return eA=fr(iA,fA,_A),!eA}),!!eA}function j$(er,fr,eA){var iA=0,fA=er==null?iA:er.length;if(typeof fr=="number"&&fr===fr&&fA<=r0){for(;iA<fA;){var _A=iA+fA>>>1,PA=er[_A];PA!==null&&!Cy(PA)&&(eA?PA<=fr:PA<fr)?iA=_A+1:fA=_A}return fA}return Uw(er,fr,_y,eA)}function Uw(er,fr,eA,iA){var fA=0,_A=er==null?0:er.length;if(_A===0)return 0;fr=eA(fr);for(var PA=fr!==fr,VA=fr===null,om=Cy(fr),m0=fr===j;fA<_A;){var b0=P$((fA+_A)/2),x0=eA(er[b0]),H0=x0!==j,G0=x0===null,a1=x0===x0,$1=Cy(x0);if(PA)var s1=iA||a1;else m0?s1=a1&&(iA||H0):VA?s1=a1&&H0&&(iA||!G0):om?s1=a1&&H0&&!G0&&(iA||!$1):G0||$1?s1=!1:s1=iA?x0<=fr:x0<fr;s1?fA=b0+1:_A=b0}return py(_A,TA)}function t_(er,fr){for(var eA=-1,iA=er.length,fA=0,_A=[];++eA<iA;){var PA=er[eA],VA=fr?fr(PA):PA;if(!eA||!Ny(VA,om)){var om=VA;_A[fA++]=PA===0?0:PA}}return _A}function r_(er){return typeof er=="number"?er:Cy(er)?KA:+er}function Ey(er){if(typeof er=="string")return er;if(f1(er))return G1(er,Ey)+"";if(Cy(er))return F2?F2.call(er):"";var fr=er+"";return fr=="0"&&1/er==-RA?"-0":fr}function gv(er,fr,eA){var iA=-1,fA=Cv,_A=er.length,PA=!0,VA=[],om=VA;if(eA)PA=!1,fA=Aw;else if(_A>=bt){var m0=fr?null:vC(er);if(m0)return E$(m0);PA=!1,fA=Yv,om=new Tv}else om=fr?[]:VA;e:for(;++iA<_A;){var b0=er[iA],x0=fr?fr(b0):b0;if(b0=eA||b0!==0?b0:0,PA&&x0===x0){for(var H0=om.length;H0--;)if(om[H0]===x0)continue e;fr&&om.push(x0),VA.push(b0)}else fA(om,x0,eA)||(om!==VA&&om.push(x0),VA.push(b0))}return VA}function Pw(er,fr){return fr=mv(fr,er),er=I_(er,fr),er==null||delete er[Vy(Fy(fr))]}function n_(er,fr,eA,iA){return l$(er,fr,eA(Ov(er,fr)),iA)}function V$(er,fr,eA,iA){for(var fA=er.length,_A=iA?fA:-1;(iA?_A--:++_A<fA)&&fr(er[_A],_A,er););return eA?ky(er,iA?0:_A,iA?_A+1:fA):ky(er,iA?_A+1:0,iA?fA:_A)}function i_(er,fr){var eA=er;return eA instanceof B1&&(eA=eA.value()),cw(fr,function(iA,fA){return fA.func.apply(fA.thisArg,cv([iA],fA.args))},eA)}function Dw(er,fr,eA){var iA=er.length;if(iA<2)return iA?gv(er[0]):[];for(var fA=-1,_A=l0(iA);++fA<iA;)for(var PA=er[fA],VA=-1;++VA<iA;)VA!=fA&&(_A[fA]=o$(_A[fA]||PA,er[VA],fr,eA));return gv(uy(_A,1),fr,eA)}function o_(er,fr,eA){for(var iA=-1,fA=er.length,_A=fr.length,PA={};++iA<fA;){var VA=iA<_A?fr[iA]:j;eA(PA,er[iA],VA)}return PA}function Lw(er){return J1(er)?er:[]}function Mw(er){return typeof er=="function"?er:_y}function mv(er,fr){return f1(er)?er:Gw(er,fr)?[er]:R_(L1(er))}var uC=x1;function yv(er,fr,eA){var iA=er.length;return eA=eA===j?iA:eA,!fr&&eA>=iA?er:ky(er,fr,eA)}var a_=qx||function(er){return Y1.clearTimeout(er)};function s_(er,fr){if(fr)return er.slice();var eA=er.length,iA=C2?C2(eA):new er.constructor(eA);return er.copy(iA),iA}function Nw(er){var fr=new er.constructor(er.byteLength);return new O$(fr).set(new O$(er)),fr}function AC(er,fr){var eA=fr?Nw(er.buffer):er.buffer;return new er.constructor(eA,er.byteOffset,er.byteLength)}function cC(er){var fr=new er.constructor(er.source,e0.exec(er));return fr.lastIndex=er.lastIndex,fr}function dC(er){return n$?z1(n$.call(er)):{}}function l_(er,fr){var eA=fr?Nw(er.buffer):er.buffer;return new er.constructor(eA,er.byteOffset,er.length)}function u_(er,fr){if(er!==fr){var eA=er!==j,iA=er===null,fA=er===er,_A=Cy(er),PA=fr!==j,VA=fr===null,om=fr===fr,m0=Cy(fr);if(!VA&&!m0&&!_A&&er>fr||_A&&PA&&om&&!VA&&!m0||iA&&PA&&om||!eA&&om||!fA)return 1;if(!iA&&!_A&&!m0&&er<fr||m0&&eA&&fA&&!iA&&!_A||VA&&eA&&fA||!PA&&fA||!om)return-1}return 0}function pC(er,fr,eA){for(var iA=-1,fA=er.criteria,_A=fr.criteria,PA=fA.length,VA=eA.length;++iA<PA;){var om=u_(fA[iA],_A[iA]);if(om){if(iA>=VA)return om;var m0=eA[iA];return om*(m0=="desc"?-1:1)}}return er.index-fr.index}function A_(er,fr,eA,iA){for(var fA=-1,_A=er.length,PA=eA.length,VA=-1,om=fr.length,m0=ny(_A-PA,0),b0=l0(om+m0),x0=!iA;++VA<om;)b0[VA]=fr[VA];for(;++fA<PA;)(x0||fA<_A)&&(b0[eA[fA]]=er[fA]);for(;m0--;)b0[VA++]=er[fA++];return b0}function c_(er,fr,eA,iA){for(var fA=-1,_A=er.length,PA=-1,VA=eA.length,om=-1,m0=fr.length,b0=ny(_A-VA,0),x0=l0(b0+m0),H0=!iA;++fA<b0;)x0[fA]=er[fA];for(var G0=fA;++om<m0;)x0[G0+om]=fr[om];for(;++PA<VA;)(H0||fA<_A)&&(x0[G0+eA[PA]]=er[fA++]);return x0}function by(er,fr){var eA=-1,iA=er.length;for(fr||(fr=l0(iA));++eA<iA;)fr[eA]=er[eA];return fr}function jy(er,fr,eA,iA){var fA=!eA;eA||(eA={});for(var _A=-1,PA=fr.length;++_A<PA;){var VA=fr[_A],om=iA?iA(eA[VA],er[VA],VA,eA,er):j;om===j&&(om=er[VA]),fA?ev(eA,VA,om):i$(eA,VA,om)}return eA}function fC(er,fr){return jy(er,Kw(er),fr)}function hC(er,fr){return jy(er,x_(er),fr)}function W$(er,fr){return function(eA,iA){var fA=f1(eA)?j1:DE,_A=fr?fr():{};return fA(eA,er,n1(iA,2),_A)}}function Wv(er){return x1(function(fr,eA){var iA=-1,fA=eA.length,_A=fA>1?eA[fA-1]:j,PA=fA>2?eA[2]:j;for(_A=er.length>3&&typeof _A=="function"?(fA--,_A):j,PA&&my(eA[0],eA[1],PA)&&(_A=fA<3?j:_A,fA=1),fr=z1(fr);++iA<fA;){var VA=eA[iA];VA&&er(fr,VA,iA,_A)}return fr})}function d_(er,fr){return function(eA,iA){if(eA==null)return eA;if(!$y(eA))return er(eA,iA);for(var fA=eA.length,_A=fr?fA:-1,PA=z1(eA);(fr?_A--:++_A<fA)&&iA(PA[_A],_A,PA)!==!1;);return eA}}function p_(er){return function(fr,eA,iA){for(var fA=-1,_A=z1(fr),PA=iA(fr),VA=PA.length;VA--;){var om=PA[er?VA:++fA];if(eA(_A[om],om,_A)===!1)break}return fr}}function gC(er,fr,eA){var iA=fr&Yr,fA=u$(er);function _A(){var PA=this&&this!==Y1&&this instanceof _A?fA:er;return PA.apply(iA?eA:this,arguments)}return _A}function f_(er){return function(fr){fr=L1(fr);var eA=Nv(fr)?Ly(fr):j,iA=eA?eA[0]:fr.charAt(0),fA=eA?yv(eA,1).join(""):fr.slice(1);return iA[er]()+fA}}function Gv(er){return function(fr){return cw(dx(cx(fr).replace(H1,"")),er,"")}}function u$(er){return function(){var fr=arguments;switch(fr.length){case 0:return new er;case 1:return new er(fr[0]);case 2:return new er(fr[0],fr[1]);case 3:return new er(fr[0],fr[1],fr[2]);case 4:return new er(fr[0],fr[1],fr[2],fr[3]);case 5:return new er(fr[0],fr[1],fr[2],fr[3],fr[4]);case 6:return new er(fr[0],fr[1],fr[2],fr[3],fr[4],fr[5]);case 7:return new er(fr[0],fr[1],fr[2],fr[3],fr[4],fr[5],fr[6])}var eA=Vv(er.prototype),iA=er.apply(eA,fr);return Z1(iA)?iA:eA}}function mC(er,fr,eA){var iA=u$(er);function fA(){for(var _A=arguments.length,PA=l0(_A),VA=_A,om=Zv(fA);VA--;)PA[VA]=arguments[VA];var m0=_A<3&&PA[0]!==om&&PA[_A-1]!==om?[]:dv(PA,om);if(_A-=m0.length,_A<eA)return v_(er,fr,K$,fA.placeholder,j,PA,m0,j,j,eA-_A);var b0=this&&this!==Y1&&this instanceof fA?iA:er;return _1(b0,this,PA)}return fA}function h_(er){return function(fr,eA,iA){var fA=z1(fr);if(!$y(fr)){var _A=n1(eA,3);fr=ay(fr),eA=function(VA){return _A(fA[VA],VA,fA)}}var PA=er(fr,eA,iA);return PA>-1?fA[_A?fr[PA]:PA]:j}}function g_(er){return rv(function(fr){var eA=fr.length,iA=eA,fA=Iy.prototype.thru;for(er&&fr.reverse();iA--;){var _A=fr[iA];if(typeof _A!="function")throw new Ty(Et);if(fA&&!PA&&X$(_A)=="wrapper")var PA=new Iy([],!0)}for(iA=PA?iA:eA;++iA<eA;){_A=fr[iA];var VA=X$(_A),om=VA=="wrapper"?Vw(_A):j;om&&Zw(om[0])&&om[1]==(lA|Hn|nA|hA)&&!om[4].length&&om[9]==1?PA=PA[X$(om[0])].apply(PA,om[3]):PA=_A.length==1&&Zw(_A)?PA[VA]():PA.thru(_A)}return function(){var m0=arguments,b0=m0[0];if(PA&&m0.length==1&&f1(b0))return PA.plant(b0).value();for(var x0=0,H0=eA?fr[x0].apply(this,m0):b0;++x0<eA;)H0=fr[x0].call(this,H0);return H0}})}function K$(er,fr,eA,iA,fA,_A,PA,VA,om,m0){var b0=fr&lA,x0=fr&Yr,H0=fr&Kr,G0=fr&(Hn|tA),a1=fr&pA,$1=H0?j:u$(er);function s1(){for(var C1=arguments.length,I1=l0(C1),By=C1;By--;)I1[By]=arguments[By];if(G0)var yy=Zv(s1),Sy=Tx(I1,yy);if(iA&&(I1=A_(I1,iA,fA,G0)),_A&&(I1=c_(I1,_A,PA,G0)),C1-=Sy,G0&&C1<m0){var ey=dv(I1,yy);return v_(er,fr,K$,s1.placeholder,eA,I1,ey,VA,om,m0-C1)}var Qy=x0?eA:this,av=H0?Qy[er]:er;return C1=I1.length,VA?I1=DC(I1,VA):a1&&C1>1&&I1.reverse(),b0&&om<C1&&(I1.length=om),this&&this!==Y1&&this instanceof s1&&(av=$1||u$(av)),av.apply(Qy,I1)}return s1}function m_(er,fr){return function(eA,iA){return VE(eA,er,fr(iA),{})}}function G$(er,fr){return function(eA,iA){var fA;if(eA===j&&iA===j)return fr;if(eA!==j&&(fA=eA),iA!==j){if(fA===j)return iA;typeof eA=="string"||typeof iA=="string"?(eA=Ey(eA),iA=Ey(iA)):(eA=r_(eA),iA=r_(iA)),fA=er(eA,iA)}return fA}}function Qw(er){return rv(function(fr){return fr=G1(fr,xy(n1())),x1(function(eA){var iA=this;return er(fr,function(fA){return _1(fA,iA,eA)})})})}function Z$(er,fr){fr=fr===j?" ":Ey(fr);var eA=fr.length;if(eA<2)return eA?Rw(fr,er):fr;var iA=Rw(fr,U$(er/Qv(fr)));return Nv(fr)?yv(Ly(iA),0,er).join(""):iA.slice(0,er)}function yC(er,fr,eA,iA){var fA=fr&Yr,_A=u$(er);function PA(){for(var VA=-1,om=arguments.length,m0=-1,b0=iA.length,x0=l0(b0+om),H0=this&&this!==Y1&&this instanceof PA?_A:er;++m0<b0;)x0[m0]=iA[m0];for(;om--;)x0[m0++]=arguments[++VA];return _1(H0,fA?eA:this,x0)}return PA}function y_(er){return function(fr,eA,iA){return iA&&typeof iA!="number"&&my(fr,eA,iA)&&(eA=iA=j),fr=ov(fr),eA===j?(eA=fr,fr=0):eA=ov(eA),iA=iA===j?fr<eA?1:-1:ov(iA),nC(fr,eA,iA,er)}}function q$(er){return function(fr,eA){return typeof fr=="string"&&typeof eA=="string"||(fr=Ry(fr),eA=Ry(eA)),er(fr,eA)}}function v_(er,fr,eA,iA,fA,_A,PA,VA,om,m0){var b0=fr&Hn,x0=b0?PA:j,H0=b0?j:PA,G0=b0?_A:j,a1=b0?j:_A;fr|=b0?nA:aA,fr&=~(b0?aA:nA),fr&jr||(fr&=~(Yr|Kr));var $1=[er,fr,fA,G0,x0,a1,H0,VA,om,m0],s1=eA.apply(j,$1);return Zw(er)&&O_(s1,$1),s1.placeholder=iA,k_(s1,er,fr)}function Hw(er){var fr=ry[er];return function(eA,iA){if(eA=Ry(eA),iA=iA==null?0:py(v1(iA),292),iA&&O2(eA)){var fA=(L1(eA)+"e").split("e"),_A=fr(fA[0]+"e"+(+fA[1]+iA));return fA=(L1(_A)+"e").split("e"),+(fA[0]+"e"+(+fA[1]-iA))}return fr(eA)}}var vC=zv&&1/E$(new zv([,-0]))[1]==RA?function(er){return new zv(er)}:A2;function b_(er){return function(fr){var eA=fy(fr);return eA==uA?yw(fr):eA==t0?Px(fr):Sx(fr,er(fr))}}function tv(er,fr,eA,iA,fA,_A,PA,VA){var om=fr&Kr;if(!om&&typeof er!="function")throw new Ty(Et);var m0=iA?iA.length:0;if(m0||(fr&=~(nA|aA),iA=fA=j),PA=PA===j?PA:ny(v1(PA),0),VA=VA===j?VA:v1(VA),m0-=fA?fA.length:0,fr&aA){var b0=iA,x0=fA;iA=fA=j}var H0=om?j:Vw(er),G0=[er,fr,eA,iA,fA,b0,x0,_A,PA,VA];if(H0&&RC(G0,H0),er=G0[0],fr=G0[1],eA=G0[2],iA=G0[3],fA=G0[4],VA=G0[9]=G0[9]===j?om?0:er.length:ny(G0[9]-m0,0),!VA&&fr&(Hn|tA)&&(fr&=~(Hn|tA)),!fr||fr==Yr)var a1=gC(er,fr,eA);else fr==Hn||fr==tA?a1=mC(er,fr,VA):(fr==nA||fr==(Yr|nA))&&!fA.length?a1=yC(er,fr,eA,iA):a1=K$.apply(j,G0);var $1=H0?e_:O_;return k_($1(a1,G0),er,fr)}function $_(er,fr,eA,iA){return er===j||Ny(er,Hv[eA])&&!Q1.call(iA,eA)?fr:er}function w_(er,fr,eA,iA,fA,_A){return Z1(er)&&Z1(fr)&&(_A.set(fr,er),z$(er,fr,j,w_,_A),_A.delete(fr)),er}function bC(er){return d$(er)?j:er}function __(er,fr,eA,iA,fA,_A){var PA=eA&_r,VA=er.length,om=fr.length;if(VA!=om&&!(PA&&om>VA))return!1;var m0=_A.get(er),b0=_A.get(fr);if(m0&&b0)return m0==fr&&b0==er;var x0=-1,H0=!0,G0=eA&vr?new Tv:j;for(_A.set(er,fr),_A.set(fr,er);++x0<VA;){var a1=er[x0],$1=fr[x0];if(iA)var s1=PA?iA($1,a1,x0,fr,er,_A):iA(a1,$1,x0,er,fr,_A);if(s1!==j){if(s1)continue;H0=!1;break}if(G0){if(!dw(fr,function(C1,I1){if(!Yv(G0,I1)&&(a1===C1||fA(a1,C1,eA,iA,_A)))return G0.push(I1)})){H0=!1;break}}else if(!(a1===$1||fA(a1,$1,eA,iA,_A))){H0=!1;break}}return _A.delete(er),_A.delete(fr),H0}function $C(er,fr,eA,iA,fA,_A,PA){switch(eA){case $0:if(er.byteLength!=fr.byteLength||er.byteOffset!=fr.byteOffset)return!1;er=er.buffer,fr=fr.buffer;case K0:return!(er.byteLength!=fr.byteLength||!_A(new O$(er),new O$(fr)));case C0:case B0:case ZA:return Ny(+er,+fr);case T0:return er.name==fr.name&&er.message==fr.message;case n0:case GA:return er==fr+"";case uA:var VA=yw;case t0:var om=iA&_r;if(VA||(VA=E$),er.size!=fr.size&&!om)return!1;var m0=PA.get(er);if(m0)return m0==fr;iA|=vr,PA.set(er,fr);var b0=__(VA(er),VA(fr),iA,fA,_A,PA);return PA.delete(er),b0;case A0:if(n$)return n$.call(er)==n$.call(fr)}return!1}function wC(er,fr,eA,iA,fA,_A){var PA=eA&_r,VA=zw(er),om=VA.length,m0=zw(fr),b0=m0.length;if(om!=b0&&!PA)return!1;for(var x0=om;x0--;){var H0=VA[x0];if(!(PA?H0 in fr:Q1.call(fr,H0)))return!1}var G0=_A.get(er),a1=_A.get(fr);if(G0&&a1)return G0==fr&&a1==er;var $1=!0;_A.set(er,fr),_A.set(fr,er);for(var s1=PA;++x0<om;){H0=VA[x0];var C1=er[H0],I1=fr[H0];if(iA)var By=PA?iA(I1,C1,H0,fr,er,_A):iA(C1,I1,H0,er,fr,_A);if(!(By===j?C1===I1||fA(C1,I1,eA,iA,_A):By)){$1=!1;break}s1||(s1=H0=="constructor")}if($1&&!s1){var yy=er.constructor,Sy=fr.constructor;yy!=Sy&&"constructor"in er&&"constructor"in fr&&!(typeof yy=="function"&&yy instanceof yy&&typeof Sy=="function"&&Sy instanceof Sy)&&($1=!1)}return _A.delete(er),_A.delete(fr),$1}function rv(er){return Xw(T_(er,j,L_),er+"")}function zw(er){return z2(er,ay,Kw)}function jw(er){return z2(er,wy,x_)}var Vw=D$?function(er){return D$.get(er)}:A2;function X$(er){for(var fr=er.name+"",eA=jv[fr],iA=Q1.call(jv,fr)?eA.length:0;iA--;){var fA=eA[iA],_A=fA.func;if(_A==null||_A==er)return fA.name}return fr}function Zv(er){var fr=Q1.call(bA,"placeholder")?bA:er;return fr.placeholder}function n1(){var er=bA.iteratee||l2;return er=er===l2?W2:er,arguments.length?er(arguments[0],arguments[1]):er}function Y$(er,fr){var eA=er.__data__;return IC(fr)?eA[typeof fr=="string"?"string":"hash"]:eA.map}function Ww(er){for(var fr=ay(er),eA=fr.length;eA--;){var iA=fr[eA],fA=er[iA];fr[eA]=[iA,fA,B_(fA)]}return fr}function kv(er,fr){var eA=Fx(er,fr);return V2(eA)?eA:j}function _C(er){var fr=Q1.call(er,Bv),eA=er[Bv];try{er[Bv]=j;var iA=!0}catch{}var fA=T$.call(er);return iA&&(fr?er[Bv]=eA:delete er[Bv]),fA}var Kw=bw?function(er){return er==null?[]:(er=z1(er),dy(bw(er),function(fr){return T2.call(er,fr)}))}:c2,x_=bw?function(er){for(var fr=[];er;)cv(fr,Kw(er)),er=k$(er);return fr}:c2,fy=gy;($w&&fy(new $w(new ArrayBuffer(1)))!=$0||e$&&fy(new e$)!=uA||ww&&fy(ww.resolve())!=$A||zv&&fy(new zv)!=t0||t$&&fy(new t$)!=f0)&&(fy=function(er){var fr=gy(er),eA=fr==IA?er.constructor:j,iA=eA?Fv(eA):"";if(iA)switch(iA){case oE:return $0;case aE:return uA;case sE:return $A;case lE:return t0;case uE:return f0}return fr});function xC(er,fr,eA){for(var iA=-1,fA=eA.length;++iA<fA;){var _A=eA[iA],PA=_A.size;switch(_A.type){case"drop":er+=PA;break;case"dropRight":fr-=PA;break;case"take":fr=py(fr,er+PA);break;case"takeRight":er=ny(er,fr-PA);break}}return{start:er,end:fr}}function EC(er){var fr=er.match(q1);return fr?fr[1].split(iy):[]}function E_(er,fr,eA){fr=mv(fr,er);for(var iA=-1,fA=fr.length,_A=!1;++iA<fA;){var PA=Vy(fr[iA]);if(!(_A=er!=null&&eA(er,PA)))break;er=er[PA]}return _A||++iA!=fA?_A:(fA=er==null?0:er.length,!!fA&&ow(fA)&&nv(PA,fA)&&(f1(er)||Rv(er)))}function CC(er){var fr=er.length,eA=new er.constructor(fr);return fr&&typeof er[0]=="string"&&Q1.call(er,"index")&&(eA.index=er.index,eA.input=er.input),eA}function C_(er){return typeof er.constructor=="function"&&!A$(er)?Vv(k$(er)):{}}function BC(er,fr,eA){var iA=er.constructor;switch(fr){case K0:return Nw(er);case C0:case B0:return new iA(+er);case $0:return AC(er,eA);case w0:case E0:case t1:case O1:case v0:case X0:case r1:case L0:case k1:return l_(er,eA);case uA:return new iA;case ZA:case GA:return new iA(er);case n0:return cC(er);case t0:return new iA;case A0:return dC(er)}}function SC(er,fr){var eA=fr.length;if(!eA)return er;var iA=eA-1;return fr[iA]=(eA>1?"& ":"")+fr[iA],fr=fr.join(eA>2?", ":" "),er.replace(E1,`{
/* [wrapped with `+fr+`] */
`)}function TC(er){return f1(er)||Rv(er)||!!(I2&&er&&er[I2])}function nv(er,fr){var eA=typeof er;return fr=fr??kA,!!fr&&(eA=="number"||eA!="symbol"&&gA.test(er))&&er>-1&&er%1==0&&er<fr}function my(er,fr,eA){if(!Z1(eA))return!1;var iA=typeof fr;return(iA=="number"?$y(eA)&&nv(fr,eA.length):iA=="string"&&fr in eA)?Ny(eA[fr],er):!1}function Gw(er,fr){if(f1(er))return!1;var eA=typeof er;return eA=="number"||eA=="symbol"||eA=="boolean"||er==null||Cy(er)?!0:F1.test(er)||!V1.test(er)||fr!=null&&er in z1(fr)}function IC(er){var fr=typeof er;return fr=="string"||fr=="number"||fr=="symbol"||fr=="boolean"?er!=="__proto__":er===null}function Zw(er){var fr=X$(er),eA=bA[fr];if(typeof eA!="function"||!(fr in B1.prototype))return!1;if(er===eA)return!0;var iA=Vw(eA);return!!iA&&er===iA[0]}function OC(er){return!!E2&&E2 in er}var kC=B$?iv:d2;function A$(er){var fr=er&&er.constructor,eA=typeof fr=="function"&&fr.prototype||Hv;return er===eA}function B_(er){return er===er&&!Z1(er)}function S_(er,fr){return function(eA){return eA==null?!1:eA[er]===fr&&(fr!==j||er in z1(eA))}}function FC(er){var fr=nw(er,function(iA){return eA.size===It&&eA.clear(),iA}),eA=fr.cache;return fr}function RC(er,fr){var eA=er[1],iA=fr[1],fA=eA|iA,_A=fA<(Yr|Kr|lA),PA=iA==lA&&eA==Hn||iA==lA&&eA==hA&&er[7].length<=fr[8]||iA==(lA|hA)&&fr[7].length<=fr[8]&&eA==Hn;if(!(_A||PA))return er;iA&Yr&&(er[2]=fr[2],fA|=eA&Yr?0:jr);var VA=fr[3];if(VA){var om=er[3];er[3]=om?A_(om,VA,fr[4]):VA,er[4]=om?dv(er[3],Qt):fr[4]}return VA=fr[5],VA&&(om=er[5],er[5]=om?c_(om,VA,fr[6]):VA,er[6]=om?dv(er[5],Qt):fr[6]),VA=fr[7],VA&&(er[7]=VA),iA&lA&&(er[8]=er[8]==null?fr[8]:py(er[8],fr[8])),er[9]==null&&(er[9]=fr[9]),er[0]=fr[0],er[1]=fA,er}function UC(er){var fr=[];if(er!=null)for(var eA in z1(er))fr.push(eA);return fr}function PC(er){return T$.call(er)}function T_(er,fr,eA){return fr=ny(fr===j?er.length-1:fr,0),function(){for(var iA=arguments,fA=-1,_A=ny(iA.length-fr,0),PA=l0(_A);++fA<_A;)PA[fA]=iA[fr+fA];fA=-1;for(var VA=l0(fr+1);++fA<fr;)VA[fA]=iA[fA];return VA[fr]=eA(PA),_1(er,this,VA)}}function I_(er,fr){return fr.length<2?er:Ov(er,ky(fr,0,-1))}function DC(er,fr){for(var eA=er.length,iA=py(fr.length,eA),fA=by(er);iA--;){var _A=fr[iA];er[iA]=nv(_A,eA)?fA[_A]:j}return er}function qw(er,fr){if(!(fr==="constructor"&&typeof er[fr]=="function")&&fr!="__proto__")return er[fr]}var O_=F_(e_),c$=Yx||function(er,fr){return Y1.setTimeout(er,fr)},Xw=F_(aC);function k_(er,fr,eA){var iA=fr+"";return Xw(er,SC(iA,LC(EC(iA),eA)))}function F_(er){var fr=0,eA=0;return function(){var iA=rE(),fA=CA-(iA-eA);if(eA=iA,fA>0){if(++fr>=cA)return arguments[0]}else fr=0;return er.apply(j,arguments)}}function J$(er,fr){var eA=-1,iA=er.length,fA=iA-1;for(fr=fr===j?iA:fr;++eA<fr;){var _A=Fw(eA,fA),PA=er[_A];er[_A]=er[eA],er[eA]=PA}return er.length=fr,er}var R_=FC(function(er){var fr=[];return er.charCodeAt(0)===46&&fr.push(""),er.replace(m1,function(eA,iA,fA,_A){fr.push(fA?_A.replace(sy,"$1"):iA||eA)}),fr});function Vy(er){if(typeof er=="string"||Cy(er))return er;var fr=er+"";return fr=="0"&&1/er==-RA?"-0":fr}function Fv(er){if(er!=null){try{return S$.call(er)}catch{}try{return er+""}catch{}}return""}function LC(er,fr){return i0(qA,function(eA){var iA="_."+eA[0];fr&eA[1]&&!Cv(er,iA)&&er.push(iA)}),er.sort()}function U_(er){if(er instanceof B1)return er.clone();var fr=new Iy(er.__wrapped__,er.__chain__);return fr.__actions__=by(er.__actions__),fr.__index__=er.__index__,fr.__values__=er.__values__,fr}function MC(er,fr,eA){(eA?my(er,fr,eA):fr===j)?fr=1:fr=ny(v1(fr),0);var iA=er==null?0:er.length;if(!iA||fr<1)return[];for(var fA=0,_A=0,PA=l0(U$(iA/fr));fA<iA;)PA[_A++]=ky(er,fA,fA+=fr);return PA}function NC(er){for(var fr=-1,eA=er==null?0:er.length,iA=0,fA=[];++fr<eA;){var _A=er[fr];_A&&(fA[iA++]=_A)}return fA}function QC(){var er=arguments.length;if(!er)return[];for(var fr=l0(er-1),eA=arguments[0],iA=er;iA--;)fr[iA-1]=arguments[iA];return cv(f1(eA)?by(eA):[eA],uy(fr,1))}var HC=x1(function(er,fr){return J1(er)?o$(er,uy(fr,1,J1,!0)):[]}),zC=x1(function(er,fr){var eA=Fy(fr);return J1(eA)&&(eA=j),J1(er)?o$(er,uy(fr,1,J1,!0),n1(eA,2)):[]}),jC=x1(function(er,fr){var eA=Fy(fr);return J1(eA)&&(eA=j),J1(er)?o$(er,uy(fr,1,J1,!0),j,eA):[]});function VC(er,fr,eA){var iA=er==null?0:er.length;return iA?(fr=eA||fr===j?1:v1(fr),ky(er,fr<0?0:fr,iA)):[]}function WC(er,fr,eA){var iA=er==null?0:er.length;return iA?(fr=eA||fr===j?1:v1(fr),fr=iA-fr,ky(er,0,fr<0?0:fr)):[]}function KC(er,fr){return er&&er.length?V$(er,n1(fr,3),!0,!0):[]}function GC(er,fr){return er&&er.length?V$(er,n1(fr,3),!0):[]}function ZC(er,fr,eA,iA){var fA=er==null?0:er.length;return fA?(eA&&typeof eA!="number"&&my(er,fr,eA)&&(eA=0,iA=fA),QE(er,fr,eA,iA)):[]}function P_(er,fr,eA){var iA=er==null?0:er.length;if(!iA)return-1;var fA=eA==null?0:v1(eA);return fA<0&&(fA=ny(iA+fA,0)),x$(er,n1(fr,3),fA)}function D_(er,fr,eA){var iA=er==null?0:er.length;if(!iA)return-1;var fA=iA-1;return eA!==j&&(fA=v1(eA),fA=eA<0?ny(iA+fA,0):py(fA,iA-1)),x$(er,n1(fr,3),fA,!0)}function L_(er){var fr=er==null?0:er.length;return fr?uy(er,1):[]}function qC(er){var fr=er==null?0:er.length;return fr?uy(er,RA):[]}function XC(er,fr){var eA=er==null?0:er.length;return eA?(fr=fr===j?1:v1(fr),uy(er,fr)):[]}function YC(er){for(var fr=-1,eA=er==null?0:er.length,iA={};++fr<eA;){var fA=er[fr];iA[fA[0]]=fA[1]}return iA}function M_(er){return er&&er.length?er[0]:j}function JC(er,fr,eA){var iA=er==null?0:er.length;if(!iA)return-1;var fA=eA==null?0:v1(eA);return fA<0&&(fA=ny(iA+fA,0)),Mv(er,fr,fA)}function eB(er){var fr=er==null?0:er.length;return fr?ky(er,0,-1):[]}var tB=x1(function(er){var fr=G1(er,Lw);return fr.length&&fr[0]===er[0]?Sw(fr):[]}),rB=x1(function(er){var fr=Fy(er),eA=G1(er,Lw);return fr===Fy(eA)?fr=j:eA.pop(),eA.length&&eA[0]===er[0]?Sw(eA,n1(fr,2)):[]}),nB=x1(function(er){var fr=Fy(er),eA=G1(er,Lw);return fr=typeof fr=="function"?fr:j,fr&&eA.pop(),eA.length&&eA[0]===er[0]?Sw(eA,j,fr):[]});function iB(er,fr){return er==null?"":eE.call(er,fr)}function Fy(er){var fr=er==null?0:er.length;return fr?er[fr-1]:j}function oB(er,fr,eA){var iA=er==null?0:er.length;if(!iA)return-1;var fA=iA;return eA!==j&&(fA=v1(eA),fA=fA<0?ny(iA+fA,0):py(fA,iA-1)),fr===fr?Lx(er,fr,fA):x$(er,m2,fA,!0)}function aB(er,fr){return er&&er.length?q2(er,v1(fr)):j}var sB=x1(N_);function N_(er,fr){return er&&er.length&&fr&&fr.length?kw(er,fr):er}function lB(er,fr,eA){return er&&er.length&&fr&&fr.length?kw(er,fr,n1(eA,2)):er}function uB(er,fr,eA){return er&&er.length&&fr&&fr.length?kw(er,fr,j,eA):er}var AB=rv(function(er,fr){var eA=er==null?0:er.length,iA=xw(er,fr);return J2(er,G1(fr,function(fA){return nv(fA,eA)?+fA:fA}).sort(u_)),iA});function cB(er,fr){var eA=[];if(!(er&&er.length))return eA;var iA=-1,fA=[],_A=er.length;for(fr=n1(fr,3);++iA<_A;){var PA=er[iA];fr(PA,iA,er)&&(eA.push(PA),fA.push(iA))}return J2(er,fA),eA}function Yw(er){return er==null?er:iE.call(er)}function dB(er,fr,eA){var iA=er==null?0:er.length;return iA?(eA&&typeof eA!="number"&&my(er,fr,eA)?(fr=0,eA=iA):(fr=fr==null?0:v1(fr),eA=eA===j?iA:v1(eA)),ky(er,fr,eA)):[]}function pB(er,fr){return j$(er,fr)}function fB(er,fr,eA){return Uw(er,fr,n1(eA,2))}function hB(er,fr){var eA=er==null?0:er.length;if(eA){var iA=j$(er,fr);if(iA<eA&&Ny(er[iA],fr))return iA}return-1}function gB(er,fr){return j$(er,fr,!0)}function mB(er,fr,eA){return Uw(er,fr,n1(eA,2),!0)}function yB(er,fr){var eA=er==null?0:er.length;if(eA){var iA=j$(er,fr,!0)-1;if(Ny(er[iA],fr))return iA}return-1}function vB(er){return er&&er.length?t_(er):[]}function bB(er,fr){return er&&er.length?t_(er,n1(fr,2)):[]}function $B(er){var fr=er==null?0:er.length;return fr?ky(er,1,fr):[]}function wB(er,fr,eA){return er&&er.length?(fr=eA||fr===j?1:v1(fr),ky(er,0,fr<0?0:fr)):[]}function _B(er,fr,eA){var iA=er==null?0:er.length;return iA?(fr=eA||fr===j?1:v1(fr),fr=iA-fr,ky(er,fr<0?0:fr,iA)):[]}function xB(er,fr){return er&&er.length?V$(er,n1(fr,3),!1,!0):[]}function SB(er,fr){return er&&er.length?V$(er,n1(fr,3)):[]}var TB=x1(function(er){return gv(uy(er,1,J1,!0))}),IB=x1(function(er){var fr=Fy(er);return J1(fr)&&(fr=j),gv(uy(er,1,J1,!0),n1(fr,2))}),OB=x1(function(er){var fr=Fy(er);return fr=typeof fr=="function"?fr:j,gv(uy(er,1,J1,!0),j,fr)});function kB(er){return er&&er.length?gv(er):[]}function FB(er,fr){return er&&er.length?gv(er,n1(fr,2)):[]}function RB(er,fr){return fr=typeof fr=="function"?fr:j,er&&er.length?gv(er,j,fr):[]}function Jw(er){if(!(er&&er.length))return[];var fr=0;return er=dy(er,function(eA){if(J1(eA))return fr=ny(eA.length,fr),!0}),gw(fr,function(eA){return G1(er,pw(eA))})}function Q_(er,fr){if(!(er&&er.length))return[];var eA=Jw(er);return fr==null?eA:G1(eA,function(iA){return _1(fr,j,iA)})}var UB=x1(function(er,fr){return J1(er)?o$(er,fr):[]}),PB=x1(function(er){return Dw(dy(er,J1))}),DB=x1(function(er){var fr=Fy(er);return J1(fr)&&(fr=j),Dw(dy(er,J1),n1(fr,2))}),LB=x1(function(er){var fr=Fy(er);return fr=typeof fr=="function"?fr:j,Dw(dy(er,J1),j,fr)}),MB=x1(Jw);function NB(er,fr){return o_(er||[],fr||[],i$)}function QB(er,fr){return o_(er||[],fr||[],l$)}var HB=x1(function(er){var fr=er.length,eA=fr>1?er[fr-1]:j;return eA=typeof eA=="function"?(er.pop(),eA):j,Q_(er,eA)});function H_(er){var fr=bA(er);return fr.__chain__=!0,fr}function zB(er,fr){return fr(er),er}function ew(er,fr){return fr(er)}var jB=rv(function(er){var fr=er.length,eA=fr?er[0]:0,iA=this.__wrapped__,fA=function(_A){return xw(_A,er)};return fr>1||this.__actions__.length||!(iA instanceof B1)||!nv(eA)?this.thru(fA):(iA=iA.slice(eA,+eA+(fr?1:0)),iA.__actions__.push({func:ew,args:[fA],thisArg:j}),new Iy(iA,this.__chain__).thru(function(_A){return fr&&!_A.length&&_A.push(j),_A}))});function VB(){return H_(this)}function WB(){return new Iy(this.value(),this.__chain__)}function KB(){this.__values__===j&&(this.__values__=rx(this.value()));var er=this.__index__>=this.__values__.length,fr=er?j:this.__values__[this.__index__++];return{done:er,value:fr}}function GB(){return this}function ZB(er){for(var fr,eA=this;eA instanceof M$;){var iA=U_(eA);iA.__index__=0,iA.__values__=j,fr?fA.__wrapped__=iA:fr=iA;var fA=iA;eA=eA.__wrapped__}return fA.__wrapped__=er,fr}function qB(){var er=this.__wrapped__;if(er instanceof B1){var fr=er;return this.__actions__.length&&(fr=new B1(this)),fr=fr.reverse(),fr.__actions__.push({func:ew,args:[Yw],thisArg:j}),new Iy(fr,this.__chain__)}return this.thru(Yw)}function XB(){return i_(this.__wrapped__,this.__actions__)}var YB=W$(function(er,fr,eA){Q1.call(er,eA)?++er[eA]:ev(er,eA,1)});function JB(er,fr,eA){var iA=f1(er)?T1:NE;return eA&&my(er,fr,eA)&&(fr=j),iA(er,n1(fr,3))}function e3(er,fr){var eA=f1(er)?dy:N2;return eA(er,n1(fr,3))}var t3=h_(P_),r3=h_(D_);function n3(er,fr){return uy(tw(er,fr),1)}function i3(er,fr){return uy(tw(er,fr),RA)}function o3(er,fr,eA){return eA=eA===j?1:v1(eA),uy(tw(er,fr),eA)}function z_(er,fr){var eA=f1(er)?i0:hv;return eA(er,n1(fr,3))}function j_(er,fr){var eA=f1(er)?d1:M2;return eA(er,n1(fr,3))}var a3=W$(function(er,fr,eA){Q1.call(er,eA)?er[eA].push(fr):ev(er,eA,[fr])});function s3(er,fr,eA,iA){er=$y(er)?er:Xv(er),eA=eA&&!iA?v1(eA):0;var fA=er.length;return eA<0&&(eA=ny(fA+eA,0)),aw(er)?eA<=fA&&er.indexOf(fr,eA)>-1:!!fA&&Mv(er,fr,eA)>-1}var l3=x1(function(er,fr,eA){var iA=-1,fA=typeof fr=="function",_A=$y(er)?l0(er.length):[];return hv(er,function(PA){_A[++iA]=fA?_1(fr,PA,eA):a$(PA,fr,eA)}),_A}),u3=W$(function(er,fr,eA){ev(er,eA,fr)});function tw(er,fr){var eA=f1(er)?G1:K2;return eA(er,n1(fr,3))}function A3(er,fr,eA,iA){return er==null?[]:(f1(fr)||(fr=fr==null?[]:[fr]),eA=iA?j:eA,f1(eA)||(eA=eA==null?[]:[eA]),X2(er,fr,eA))}var c3=W$(function(er,fr,eA){er[eA?0:1].push(fr)},function(){return[[],[]]});function d3(er,fr,eA){var iA=f1(er)?cw:v2,fA=arguments.length<3;return iA(er,n1(fr,4),eA,fA,hv)}function p3(er,fr,eA){var iA=f1(er)?wx:v2,fA=arguments.length<3;return iA(er,n1(fr,4),eA,fA,M2)}function f3(er,fr){var eA=f1(er)?dy:N2;return eA(er,iw(n1(fr,3)))}function h3(er){var fr=f1(er)?U2:iC;return fr(er)}function g3(er,fr,eA){(eA?my(er,fr,eA):fr===j)?fr=1:fr=v1(fr);var iA=f1(er)?UE:oC;return iA(er,fr)}function m3(er){var fr=f1(er)?PE:sC;return fr(er)}function y3(er){if(er==null)return 0;if($y(er))return aw(er)?Qv(er):er.length;var fr=fy(er);return fr==uA||fr==t0?er.size:Iw(er).length}function v3(er,fr,eA){var iA=f1(er)?dw:lC;return eA&&my(er,fr,eA)&&(fr=j),iA(er,n1(fr,3))}var b3=x1(function(er,fr){if(er==null)return[];var eA=fr.length;return eA>1&&my(er,fr[0],fr[1])?fr=[]:eA>2&&my(fr[0],fr[1],fr[2])&&(fr=[fr[0]]),X2(er,uy(fr,1),[])}),rw=Xx||function(){return Y1.Date.now()};function $3(er,fr){if(typeof fr!="function")throw new Ty(Et);return er=v1(er),function(){if(--er<1)return fr.apply(this,arguments)}}function V_(er,fr,eA){return fr=eA?j:fr,fr=er&&fr==null?er.length:fr,tv(er,lA,j,j,j,j,fr)}function W_(er,fr){var eA;if(typeof fr!="function")throw new Ty(Et);return er=v1(er),function(){return--er>0&&(eA=fr.apply(this,arguments)),er<=1&&(fr=j),eA}}var e2=x1(function(er,fr,eA){var iA=Yr;if(eA.length){var fA=dv(eA,Zv(e2));iA|=nA}return tv(er,iA,fr,eA,fA)}),K_=x1(function(er,fr,eA){var iA=Yr|Kr;if(eA.length){var fA=dv(eA,Zv(K_));iA|=nA}return tv(fr,iA,er,eA,fA)});function G_(er,fr,eA){fr=eA?j:fr;var iA=tv(er,Hn,j,j,j,j,j,fr);return iA.placeholder=G_.placeholder,iA}function Z_(er,fr,eA){fr=eA?j:fr;var iA=tv(er,tA,j,j,j,j,j,fr);return iA.placeholder=Z_.placeholder,iA}function q_(er,fr,eA){var iA,fA,_A,PA,VA,om,m0=0,b0=!1,x0=!1,H0=!0;if(typeof er!="function")throw new Ty(Et);fr=Ry(fr)||0,Z1(eA)&&(b0=!!eA.leading,x0="maxWait"in eA,_A=x0?ny(Ry(eA.maxWait)||0,fr):_A,H0="trailing"in eA?!!eA.trailing:H0);function G0(ey){var Qy=iA,av=fA;return iA=fA=j,m0=ey,PA=er.apply(av,Qy),PA}function a1(ey){return m0=ey,VA=c$(C1,fr),b0?G0(ey):PA}function $1(ey){var Qy=ey-om,av=ey-m0,hx=fr-Qy;return x0?py(hx,_A-av):hx}function s1(ey){var Qy=ey-om,av=ey-m0;return om===j||Qy>=fr||Qy<0||x0&&av>=_A}function C1(){var ey=rw();if(s1(ey))return I1(ey);VA=c$(C1,$1(ey))}function I1(ey){return VA=j,H0&&iA?G0(ey):(iA=fA=j,PA)}function By(){VA!==j&&a_(VA),m0=0,iA=om=fA=VA=j}function yy(){return VA===j?PA:I1(rw())}function Sy(){var ey=rw(),Qy=s1(ey);if(iA=arguments,fA=this,om=ey,Qy){if(VA===j)return a1(om);if(x0)return a_(VA),VA=c$(C1,fr),G0(om)}return VA===j&&(VA=c$(C1,fr)),PA}return Sy.cancel=By,Sy.flush=yy,Sy}var w3=x1(function(er,fr){return L2(er,1,fr)}),_3=x1(function(er,fr,eA){return L2(er,Ry(fr)||0,eA)});function x3(er){return tv(er,pA)}function nw(er,fr){if(typeof er!="function"||fr!=null&&typeof fr!="function")throw new Ty(Et);var eA=function(){var iA=arguments,fA=fr?fr.apply(this,iA):iA[0],_A=eA.cache;if(_A.has(fA))return _A.get(fA);var PA=er.apply(this,iA);return eA.cache=_A.set(fA,PA)||_A,PA};return eA.cache=new(nw.Cache||Jy),eA}nw.Cache=Jy;function iw(er){if(typeof er!="function")throw new Ty(Et);return function(){var fr=arguments;switch(fr.length){case 0:return!er.call(this);case 1:return!er.call(this,fr[0]);case 2:return!er.call(this,fr[0],fr[1]);case 3:return!er.call(this,fr[0],fr[1],fr[2])}return!er.apply(this,fr)}}function E3(er){return W_(2,er)}var C3=uC(function(er,fr){fr=fr.length==1&&f1(fr[0])?G1(fr[0],xy(n1())):G1(uy(fr,1),xy(n1()));var eA=fr.length;return x1(function(iA){for(var fA=-1,_A=py(iA.length,eA);++fA<_A;)iA[fA]=fr[fA].call(this,iA[fA]);return _1(er,this,iA)})}),t2=x1(function(er,fr){var eA=dv(fr,Zv(t2));return tv(er,nA,j,fr,eA)}),X_=x1(function(er,fr){var eA=dv(fr,Zv(X_));return tv(er,aA,j,fr,eA)}),B3=rv(function(er,fr){return tv(er,hA,j,j,j,fr)});function S3(er,fr){if(typeof er!="function")throw new Ty(Et);return fr=fr===j?fr:v1(fr),x1(er,fr)}function T3(er,fr){if(typeof er!="function")throw new Ty(Et);return fr=fr==null?0:ny(v1(fr),0),x1(function(eA){var iA=eA[fr],fA=yv(eA,0,fr);return iA&&cv(fA,iA),_1(er,this,fA)})}function I3(er,fr,eA){var iA=!0,fA=!0;if(typeof er!="function")throw new Ty(Et);return Z1(eA)&&(iA="leading"in eA?!!eA.leading:iA,fA="trailing"in eA?!!eA.trailing:fA),q_(er,fr,{leading:iA,maxWait:fr,trailing:fA})}function O3(er){return V_(er,1)}function k3(er,fr){return t2(Mw(fr),er)}function F3(){if(!arguments.length)return[];var er=arguments[0];return f1(er)?er:[er]}function R3(er){return Oy(er,cr)}function U3(er,fr){return fr=typeof fr=="function"?fr:j,Oy(er,cr,fr)}function P3(er){return Oy(er,Pt|cr)}function D3(er,fr){return fr=typeof fr=="function"?fr:j,Oy(er,Pt|cr,fr)}function L3(er,fr){return fr==null||D2(er,fr,ay(fr))}function Ny(er,fr){return er===fr||er!==er&&fr!==fr}var M3=q$(Bw),N3=q$(function(er,fr){return er>=fr}),Rv=j2(function(){return arguments}())?j2:function(er){return X1(er)&&Q1.call(er,"callee")&&!T2.call(er,"callee")},f1=l0.isArray,Q3=s0?xy(s0):WE;function $y(er){return er!=null&&ow(er.length)&&!iv(er)}function J1(er){return X1(er)&&$y(er)}function z3(er){return er===!0||er===!1||X1(er)&&gy(er)==C0}var vv=Jx||d2,j3=_0?xy(_0):KE;function V3(er){return X1(er)&&er.nodeType===1&&!d$(er)}function W3(er){if(er==null)return!0;if($y(er)&&(f1(er)||typeof er=="string"||typeof er.splice=="function"||vv(er)||qv(er)||Rv(er)))return!er.length;var fr=fy(er);if(fr==uA||fr==t0)return!er.size;if(A$(er))return!Iw(er).length;for(var eA in er)if(Q1.call(er,eA))return!1;return!0}function K3(er,fr){return s$(er,fr)}function G3(er,fr,eA){eA=typeof eA=="function"?eA:j;var iA=eA?eA(er,fr):j;return iA===j?s$(er,fr,j,eA):!!iA}function r2(er){if(!X1(er))return!1;var fr=gy(er);return fr==T0||fr==Q0||typeof er.message=="string"&&typeof er.name=="string"&&!d$(er)}function Z3(er){return typeof er=="number"&&O2(er)}function iv(er){if(!Z1(er))return!1;var fr=gy(er);return fr==F0||fr==k0||fr==U0||fr==QA}function Y_(er){return typeof er=="number"&&er==v1(er)}function ow(er){return typeof er=="number"&&er>-1&&er%1==0&&er<=kA}function Z1(er){var fr=typeof er;return er!=null&&(fr=="object"||fr=="function")}function X1(er){return er!=null&&typeof er=="object"}var J_=q0?xy(q0):ZE;function q3(er,fr){return er===fr||Tw(er,fr,Ww(fr))}function X3(er,fr,eA){return eA=typeof eA=="function"?eA:j,Tw(er,fr,Ww(fr),eA)}function Y3(er){return ex(er)&&er!=+er}function J3(er){if(kC(er))throw new p1(At);return V2(er)}function eS(er){return er===null}function tS(er){return er==null}function ex(er){return typeof er=="number"||X1(er)&&gy(er)==ZA}function d$(er){if(!X1(er)||gy(er)!=IA)return!1;var fr=k$(er);if(fr===null)return!0;var eA=Q1.call(fr,"constructor")&&fr.constructor;return typeof eA=="function"&&eA instanceof eA&&S$.call(eA)==Kx}var n2=c1?xy(c1):qE;function rS(er){return Y_(er)&&er>=-kA&&er<=kA}var tx=A1?xy(A1):XE;function aw(er){return typeof er=="string"||!f1(er)&&X1(er)&&gy(er)==GA}function Cy(er){return typeof er=="symbol"||X1(er)&&gy(er)==A0}var qv=y1?xy(y1):YE;function nS(er){return er===j}function iS(er){return X1(er)&&fy(er)==f0}function oS(er){return X1(er)&&gy(er)==P0}var aS=q$(Ow),sS=q$(function(er,fr){return er<=fr});function rx(er){if(!er)return[];if($y(er))return aw(er)?Ly(er):by(er);if(Jv&&er[Jv])return Ux(er[Jv]());var fr=fy(er),eA=fr==uA?yw:fr==t0?E$:Xv;return eA(er)}function ov(er){if(!er)return er===0?er:0;if(er=Ry(er),er===RA||er===-RA){var fr=er<0?-1:1;return fr*OA}return er===er?er:0}function v1(er){var fr=ov(er),eA=fr%1;return fr===fr?eA?fr-eA:fr:0}function nx(er){return er?Iv(v1(er),0,yA):0}function Ry(er){if(typeof er=="number")return er;if(Cy(er))return KA;if(Z1(er)){var fr=typeof er.valueOf=="function"?er.valueOf():er;er=Z1(fr)?fr+"":fr}if(typeof er!="string")return er===0?er:+er;er=b2(er);var eA=z0.test(er);return eA||oA.test(er)?w$(er.slice(2),eA?2:8):R0.test(er)?KA:+er}function ix(er){return jy(er,wy(er))}function lS(er){return er?Iv(v1(er),-kA,kA):er===0?er:0}function L1(er){return er==null?"":Ey(er)}var uS=Wv(function(er,fr){if(A$(fr)||$y(fr)){jy(fr,ay(fr),er);return}for(var eA in fr)Q1.call(fr,eA)&&i$(er,eA,fr[eA])}),ox=Wv(function(er,fr){jy(fr,wy(fr),er)}),sw=Wv(function(er,fr,eA,iA){jy(fr,wy(fr),er,iA)}),AS=Wv(function(er,fr,eA,iA){jy(fr,ay(fr),er,iA)}),cS=rv(xw);function dS(er,fr){var eA=Vv(er);return fr==null?eA:P2(eA,fr)}var pS=x1(function(er,fr){er=z1(er);var eA=-1,iA=fr.length,fA=iA>2?fr[2]:j;for(fA&&my(fr[0],fr[1],fA)&&(iA=1);++eA<iA;)for(var _A=fr[eA],PA=wy(_A),VA=-1,om=PA.length;++VA<om;){var m0=PA[VA],b0=er[m0];(b0===j||Ny(b0,Hv[m0])&&!Q1.call(er,m0))&&(er[m0]=_A[m0])}return er}),fS=x1(function(er){return er.push(j,w_),_1(ax,j,er)});function hS(er,fr){return g2(er,n1(fr,3),zy)}function gS(er,fr){return g2(er,n1(fr,3),Cw)}function mS(er,fr){return er==null?er:Ew(er,n1(fr,3),wy)}function yS(er,fr){return er==null?er:Q2(er,n1(fr,3),wy)}function vS(er,fr){return er&&zy(er,n1(fr,3))}function bS(er,fr){return er&&Cw(er,n1(fr,3))}function $S(er){return er==null?[]:H$(er,ay(er))}function wS(er){return er==null?[]:H$(er,wy(er))}function i2(er,fr,eA){var iA=er==null?j:Ov(er,fr);return iA===j?eA:iA}function _S(er,fr){return er!=null&&E_(er,fr,HE)}function o2(er,fr){return er!=null&&E_(er,fr,zE)}var xS=m_(function(er,fr,eA){fr!=null&&typeof fr.toString!="function"&&(fr=T$.call(fr)),er[fr]=eA},s2(_y)),ES=m_(function(er,fr,eA){fr!=null&&typeof fr.toString!="function"&&(fr=T$.call(fr)),Q1.call(er,fr)?er[fr].push(eA):er[fr]=[eA]},n1),CS=x1(a$);function ay(er){return $y(er)?R2(er):Iw(er)}function wy(er){return $y(er)?R2(er,!0):JE(er)}function BS(er,fr){var eA={};return fr=n1(fr,3),zy(er,function(iA,fA,_A){ev(eA,fr(iA,fA,_A),iA)}),eA}function SS(er,fr){var eA={};return fr=n1(fr,3),zy(er,function(iA,fA,_A){ev(eA,fA,fr(iA,fA,_A))}),eA}var TS=Wv(function(er,fr,eA){z$(er,fr,eA)}),ax=Wv(function(er,fr,eA,iA){z$(er,fr,eA,iA)}),OS=rv(function(er,fr){var eA={};if(er==null)return eA;var iA=!1;fr=G1(fr,function(_A){return _A=mv(_A,er),iA||(iA=_A.length>1),_A}),jy(er,jw(er),eA),iA&&(eA=Oy(eA,Pt|Yt|cr,bC));for(var fA=fr.length;fA--;)Pw(eA,fr[fA]);return eA});function kS(er,fr){return sx(er,iw(n1(fr)))}var FS=rv(function(er,fr){return er==null?{}:tC(er,fr)});function sx(er,fr){if(er==null)return{};var eA=G1(jw(er),function(iA){return[iA]});return fr=n1(fr),Y2(er,eA,function(iA,fA){return fr(iA,fA[0])})}function RS(er,fr,eA){fr=mv(fr,er);var iA=-1,fA=fr.length;for(fA||(fA=1,er=j);++iA<fA;){var _A=er==null?j:er[Vy(fr[iA])];_A===j&&(iA=fA,_A=eA),er=iv(_A)?_A.call(er):_A}return er}function US(er,fr,eA){return er==null?er:l$(er,fr,eA)}function PS(er,fr,eA,iA){return iA=typeof iA=="function"?iA:j,er==null?er:l$(er,fr,eA,iA)}var lx=b_(ay),ux=b_(wy);function DS(er,fr,eA){var iA=f1(er),fA=iA||vv(er)||qv(er);if(fr=n1(fr,4),eA==null){var _A=er&&er.constructor;fA?eA=iA?new _A:[]:Z1(er)?eA=iv(_A)?Vv(k$(er)):{}:eA={}}return(fA?i0:zy)(er,function(PA,VA,om){return fr(eA,PA,VA,om)}),eA}function LS(er,fr){return er==null?!0:Pw(er,fr)}function QS(er,fr,eA){return er==null?er:n_(er,fr,Mw(eA))}function HS(er,fr,eA,iA){return iA=typeof iA=="function"?iA:j,er==null?er:n_(er,fr,Mw(eA),iA)}function Xv(er){return er==null?[]:mw(er,ay(er))}function zS(er){return er==null?[]:mw(er,wy(er))}function jS(er,fr,eA){return eA===j&&(eA=fr,fr=j),eA!==j&&(eA=Ry(eA),eA=eA===eA?eA:0),fr!==j&&(fr=Ry(fr),fr=fr===fr?fr:0),Iv(Ry(er),fr,eA)}function VS(er,fr,eA){return fr=ov(fr),eA===j?(eA=fr,fr=0):eA=ov(eA),er=Ry(er),jE(er,fr,eA)}function WS(er,fr,eA){if(eA&&typeof eA!="boolean"&&my(er,fr,eA)&&(fr=eA=j),eA===j&&(typeof fr=="boolean"?(eA=fr,fr=j):typeof er=="boolean"&&(eA=er,er=j)),er===j&&fr===j?(er=0,fr=1):(er=ov(er),fr===j?(fr=er,er=0):fr=ov(fr)),er>fr){var iA=er;er=fr,fr=iA}if(eA||er%1||fr%1){var fA=k2();return py(er+fA*(fr-er+$$("1e-"+((fA+"").length-1))),fr)}return Fw(er,fr)}var KS=Gv(function(er,fr,eA){return fr=fr.toLowerCase(),er+(eA?Ax(fr):fr)});function Ax(er){return a2(L1(er).toLowerCase())}function cx(er){return er=L1(er),er&&er.replace(xA,Ix).replace(hy,"")}function GS(er,fr,eA){er=L1(er),fr=Ey(fr);var iA=er.length;eA=eA===j?iA:Iv(v1(eA),0,iA);var fA=eA;return eA-=fr.length,eA>=0&&er.slice(eA,fA)==fr}function ZS(er){return er=L1(er),er&&D0.test(er)?er.replace(WA,Ox):er}function qS(er){return er=L1(er),er&&W1.test(er)?er.replace(M0,"\\$&"):er}var XS=Gv(function(er,fr,eA){return er+(eA?"-":"")+fr.toLowerCase()}),YS=Gv(function(er,fr,eA){return er+(eA?" ":"")+fr.toLowerCase()}),JS=f_("toLowerCase");function eT(er,fr,eA){er=L1(er),fr=v1(fr);var iA=fr?Qv(er):0;if(!fr||iA>=fr)return er;var fA=(fr-iA)/2;return Z$(P$(fA),eA)+er+Z$(U$(fA),eA)}function tT(er,fr,eA){er=L1(er),fr=v1(fr);var iA=fr?Qv(er):0;return fr&&iA<fr?er+Z$(fr-iA,eA):er}function rT(er,fr,eA){er=L1(er),fr=v1(fr);var iA=fr?Qv(er):0;return fr&&iA<fr?Z$(fr-iA,eA)+er:er}function nT(er,fr,eA){return eA||fr==null?fr=0:fr&&(fr=+fr),nE(L1(er).replace(u0,""),fr||0)}function iT(er,fr,eA){return(eA?my(er,fr,eA):fr===j)?fr=1:fr=v1(fr),Rw(L1(er),fr)}function oT(){var er=arguments,fr=L1(er[0]);return er.length<3?fr:fr.replace(er[1],er[2])}var aT=Gv(function(er,fr,eA){return er+(eA?"_":"")+fr.toLowerCase()});function sT(er,fr,eA){return eA&&typeof eA!="number"&&my(er,fr,eA)&&(fr=eA=j),eA=eA===j?yA:eA>>>0,eA?(er=L1(er),er&&(typeof fr=="string"||fr!=null&&!n2(fr))&&(fr=Ey(fr),!fr&&Nv(er))?yv(Ly(er),0,eA):er.split(fr,eA)):[]}var lT=Gv(function(er,fr,eA){return er+(eA?" ":"")+a2(fr)});function uT(er,fr,eA){return er=L1(er),eA=eA==null?0:Iv(v1(eA),0,er.length),fr=Ey(fr),er.slice(eA,eA+fr.length)==fr}function AT(er,fr,eA){var iA=bA.templateSettings;eA&&my(er,fr,eA)&&(fr=j),er=L1(er),fr=sw({},fr,iA,$_);var fA=sw({},fr.imports,iA.imports,$_),_A=ay(fA),PA=mw(fA,_A),VA,om,m0=0,b0=fr.interpolate||DA,x0="__p += '",H0=vw((fr.escape||DA).source+"|"+b0.source+"|"+(b0===P1?d0:DA).source+"|"+(fr.evaluate||DA).source+"|$","g"),G0="//# sourceURL="+(Q1.call(fr,"sourceURL")?(fr.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++U1+"]")+`
`;er.replace(H0,function(s1,C1,I1,By,yy,Sy){return I1||(I1=By),x0+=er.slice(m0,Sy).replace(o0,kx),C1&&(VA=!0,x0+=`' +
__e(`+C1+`) +
'`),yy&&(om=!0,x0+=`';
`+yy+`;
__p += '`),I1&&(x0+=`' +
((__t = (`+I1+`)) == null ? '' : __t) +
'`),m0=Sy+s1.length,s1}),x0+=`';
`;var a1=Q1.call(fr,"variable")&&fr.variable;if(!a1)x0=`with (obj) {
`+x0+`
}
`;else if(oy.test(a1))throw new p1(Ut);x0=(om?x0.replace(M1,""):x0).replace(N1,"$1").replace(mA,"$1;"),x0="function("+(a1||"obj")+`) {
`+(a1?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(VA?", __e = _.escape":"")+(om?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x0+`return __p
}`;var $1=px(function(){return D1(_A,G0+"return "+x0).apply(j,PA)});if($1.source=x0,r2($1))throw $1;return $1}function cT(er){return L1(er).toLowerCase()}function dT(er){return L1(er).toUpperCase()}function pT(er,fr,eA){if(er=L1(er),er&&(eA||fr===j))return b2(er);if(!er||!(fr=Ey(fr)))return er;var iA=Ly(er),fA=Ly(fr),_A=$2(iA,fA),PA=w2(iA,fA)+1;return yv(iA,_A,PA).join("")}function fT(er,fr,eA){if(er=L1(er),er&&(eA||fr===j))return er.slice(0,x2(er)+1);if(!er||!(fr=Ey(fr)))return er;var iA=Ly(er),fA=w2(iA,Ly(fr))+1;return yv(iA,0,fA).join("")}function hT(er,fr,eA){if(er=L1(er),er&&(eA||fr===j))return er.replace(u0,"");if(!er||!(fr=Ey(fr)))return er;var iA=Ly(er),fA=$2(iA,Ly(fr));return yv(iA,fA).join("")}function gT(er,fr){var eA=wA,iA=NA;if(Z1(fr)){var fA="separator"in fr?fr.separator:fA;eA="length"in fr?v1(fr.length):eA,iA="omission"in fr?Ey(fr.omission):iA}er=L1(er);var _A=er.length;if(Nv(er)){var PA=Ly(er);_A=PA.length}if(eA>=_A)return er;var VA=eA-Qv(iA);if(VA<1)return iA;var om=PA?yv(PA,0,VA).join(""):er.slice(0,VA);if(fA===j)return om+iA;if(PA&&(VA+=om.length-VA),n2(fA)){if(er.slice(VA).search(fA)){var m0,b0=om;for(fA.global||(fA=vw(fA.source,L1(e0.exec(fA))+"g")),fA.lastIndex=0;m0=fA.exec(b0);)var x0=m0.index;om=om.slice(0,x0===j?VA:x0)}}else if(er.indexOf(Ey(fA),VA)!=VA){var H0=om.lastIndexOf(fA);H0>-1&&(om=om.slice(0,H0))}return om+iA}function mT(er){return er=L1(er),er&&c0.test(er)?er.replace(HA,Mx):er}var yT=Gv(function(er,fr,eA){return er+(eA?" ":"")+fr.toUpperCase()}),a2=f_("toUpperCase");function dx(er,fr,eA){return er=L1(er),fr=eA?j:fr,fr===j?Rx(er)?Hx(er):Ex(er):er.match(fr)||[]}var px=x1(function(er,fr){try{return _1(er,j,fr)}catch(eA){return r2(eA)?eA:new p1(eA)}}),vT=rv(function(er,fr){return i0(fr,function(eA){eA=Vy(eA),ev(er,eA,e2(er[eA],er))}),er});function bT(er){var fr=er==null?0:er.length,eA=n1();return er=fr?G1(er,function(iA){if(typeof iA[1]!="function")throw new Ty(Et);return[eA(iA[0]),iA[1]]}):[],x1(function(iA){for(var fA=-1;++fA<fr;){var _A=er[fA];if(_1(_A[0],this,iA))return _1(_A[1],this,iA)}})}function $T(er){return ME(Oy(er,Pt))}function s2(er){return function(){return er}}function wT(er,fr){return er==null||er!==er?fr:er}var _T=g_(),xT=g_(!0);function _y(er){return er}function l2(er){return W2(typeof er=="function"?er:Oy(er,Pt))}function ET(er){return G2(Oy(er,Pt))}function CT(er,fr){return Z2(er,Oy(fr,Pt))}var BT=x1(function(er,fr){return function(eA){return a$(eA,er,fr)}}),ST=x1(function(er,fr){return function(eA){return a$(er,eA,fr)}});function u2(er,fr,eA){var iA=ay(fr),fA=H$(fr,iA);eA==null&&!(Z1(fr)&&(fA.length||!iA.length))&&(eA=fr,fr=er,er=this,fA=H$(fr,ay(fr)));var _A=!(Z1(eA)&&"chain"in eA)||!!eA.chain,PA=iv(er);return i0(fA,function(VA){var om=fr[VA];er[VA]=om,PA&&(er.prototype[VA]=function(){var m0=this.__chain__;if(_A||m0){var b0=er(this.__wrapped__),x0=b0.__actions__=by(this.__actions__);return x0.push({func:om,args:arguments,thisArg:er}),b0.__chain__=m0,b0}return om.apply(er,cv([this.value()],arguments))})}),er}function TT(){return Y1._===this&&(Y1._=Gx),this}function A2(){}function IT(er){return er=v1(er),x1(function(fr){return q2(fr,er)})}var OT=Qw(G1),kT=Qw(T1),FT=Qw(dw);function fx(er){return Gw(er)?pw(Vy(er)):rC(er)}function RT(er){return function(fr){return er==null?j:Ov(er,fr)}}var UT=y_(),PT=y_(!0);function c2(){return[]}function d2(){return!1}function DT(){return{}}function LT(){return""}function MT(){return!0}function NT(er,fr){if(er=v1(er),er<1||er>kA)return[];var eA=yA,iA=py(er,yA);fr=n1(fr),er-=yA;for(var fA=gw(iA,fr);++eA<er;)fr(eA);return fA}function QT(er){return f1(er)?G1(er,Vy):Cy(er)?[er]:by(R_(L1(er)))}function HT(er){var fr=++Wx;return L1(er)+fr}var zT=G$(function(er,fr){return er+fr},0),jT=Hw("ceil"),VT=G$(function(er,fr){return er/fr},1),WT=Hw("floor");function KT(er){return er&&er.length?Q$(er,_y,Bw):j}function GT(er,fr){return er&&er.length?Q$(er,n1(fr,2),Bw):j}function ZT(er){return y2(er,_y)}function qT(er,fr){return y2(er,n1(fr,2))}function XT(er){return er&&er.length?Q$(er,_y,Ow):j}function YT(er,fr){return er&&er.length?Q$(er,n1(fr,2),Ow):j}var eI=G$(function(er,fr){return er*fr},1),tI=Hw("round"),rI=G$(function(er,fr){return er-fr},0);function nI(er){return er&&er.length?hw(er,_y):0}function iI(er,fr){return er&&er.length?hw(er,n1(fr,2)):0}return bA.after=$3,bA.ary=V_,bA.assign=uS,bA.assignIn=ox,bA.assignInWith=sw,bA.assignWith=AS,bA.at=cS,bA.before=W_,bA.bind=e2,bA.bindAll=vT,bA.bindKey=K_,bA.castArray=F3,bA.chain=H_,bA.chunk=MC,bA.compact=NC,bA.concat=QC,bA.cond=bT,bA.conforms=$T,bA.constant=s2,bA.countBy=YB,bA.create=dS,bA.curry=G_,bA.curryRight=Z_,bA.debounce=q_,bA.defaults=pS,bA.defaultsDeep=fS,bA.defer=w3,bA.delay=_3,bA.difference=HC,bA.differenceBy=zC,bA.differenceWith=jC,bA.drop=VC,bA.dropRight=WC,bA.dropRightWhile=KC,bA.dropWhile=GC,bA.fill=ZC,bA.filter=e3,bA.flatMap=n3,bA.flatMapDeep=i3,bA.flatMapDepth=o3,bA.flatten=L_,bA.flattenDeep=qC,bA.flattenDepth=XC,bA.flip=x3,bA.flow=_T,bA.flowRight=xT,bA.fromPairs=YC,bA.functions=$S,bA.functionsIn=wS,bA.groupBy=a3,bA.initial=eB,bA.intersection=tB,bA.intersectionBy=rB,bA.intersectionWith=nB,bA.invert=xS,bA.invertBy=ES,bA.invokeMap=l3,bA.iteratee=l2,bA.keyBy=u3,bA.keys=ay,bA.keysIn=wy,bA.map=tw,bA.mapKeys=BS,bA.mapValues=SS,bA.matches=ET,bA.matchesProperty=CT,bA.memoize=nw,bA.merge=TS,bA.mergeWith=ax,bA.method=BT,bA.methodOf=ST,bA.mixin=u2,bA.negate=iw,bA.nthArg=IT,bA.omit=OS,bA.omitBy=kS,bA.once=E3,bA.orderBy=A3,bA.over=OT,bA.overArgs=C3,bA.overEvery=kT,bA.overSome=FT,bA.partial=t2,bA.partialRight=X_,bA.partition=c3,bA.pick=FS,bA.pickBy=sx,bA.property=fx,bA.propertyOf=RT,bA.pull=sB,bA.pullAll=N_,bA.pullAllBy=lB,bA.pullAllWith=uB,bA.pullAt=AB,bA.range=UT,bA.rangeRight=PT,bA.rearg=B3,bA.reject=f3,bA.remove=cB,bA.rest=S3,bA.reverse=Yw,bA.sampleSize=g3,bA.set=US,bA.setWith=PS,bA.shuffle=m3,bA.slice=dB,bA.sortBy=b3,bA.sortedUniq=vB,bA.sortedUniqBy=bB,bA.split=sT,bA.spread=T3,bA.tail=$B,bA.take=wB,bA.takeRight=_B,bA.takeRightWhile=xB,bA.takeWhile=SB,bA.tap=zB,bA.throttle=I3,bA.thru=ew,bA.toArray=rx,bA.toPairs=lx,bA.toPairsIn=ux,bA.toPath=QT,bA.toPlainObject=ix,bA.transform=DS,bA.unary=O3,bA.union=TB,bA.unionBy=IB,bA.unionWith=OB,bA.uniq=kB,bA.uniqBy=FB,bA.uniqWith=RB,bA.unset=LS,bA.unzip=Jw,bA.unzipWith=Q_,bA.update=QS,bA.updateWith=HS,bA.values=Xv,bA.valuesIn=zS,bA.without=UB,bA.words=dx,bA.wrap=k3,bA.xor=PB,bA.xorBy=DB,bA.xorWith=LB,bA.zip=MB,bA.zipObject=NB,bA.zipObjectDeep=QB,bA.zipWith=HB,bA.entries=lx,bA.entriesIn=ux,bA.extend=ox,bA.extendWith=sw,u2(bA,bA),bA.add=zT,bA.attempt=px,bA.camelCase=KS,bA.capitalize=Ax,bA.ceil=jT,bA.clamp=jS,bA.clone=R3,bA.cloneDeep=P3,bA.cloneDeepWith=D3,bA.cloneWith=U3,bA.conformsTo=L3,bA.deburr=cx,bA.defaultTo=wT,bA.divide=VT,bA.endsWith=GS,bA.eq=Ny,bA.escape=ZS,bA.escapeRegExp=qS,bA.every=JB,bA.find=t3,bA.findIndex=P_,bA.findKey=hS,bA.findLast=r3,bA.findLastIndex=D_,bA.findLastKey=gS,bA.floor=WT,bA.forEach=z_,bA.forEachRight=j_,bA.forIn=mS,bA.forInRight=yS,bA.forOwn=vS,bA.forOwnRight=bS,bA.get=i2,bA.gt=M3,bA.gte=N3,bA.has=_S,bA.hasIn=o2,bA.head=M_,bA.identity=_y,bA.includes=s3,bA.indexOf=JC,bA.inRange=VS,bA.invoke=CS,bA.isArguments=Rv,bA.isArray=f1,bA.isArrayBuffer=Q3,bA.isArrayLike=$y,bA.isArrayLikeObject=J1,bA.isBoolean=z3,bA.isBuffer=vv,bA.isDate=j3,bA.isElement=V3,bA.isEmpty=W3,bA.isEqual=K3,bA.isEqualWith=G3,bA.isError=r2,bA.isFinite=Z3,bA.isFunction=iv,bA.isInteger=Y_,bA.isLength=ow,bA.isMap=J_,bA.isMatch=q3,bA.isMatchWith=X3,bA.isNaN=Y3,bA.isNative=J3,bA.isNil=tS,bA.isNull=eS,bA.isNumber=ex,bA.isObject=Z1,bA.isObjectLike=X1,bA.isPlainObject=d$,bA.isRegExp=n2,bA.isSafeInteger=rS,bA.isSet=tx,bA.isString=aw,bA.isSymbol=Cy,bA.isTypedArray=qv,bA.isUndefined=nS,bA.isWeakMap=iS,bA.isWeakSet=oS,bA.join=iB,bA.kebabCase=XS,bA.last=Fy,bA.lastIndexOf=oB,bA.lowerCase=YS,bA.lowerFirst=JS,bA.lt=aS,bA.lte=sS,bA.max=KT,bA.maxBy=GT,bA.mean=ZT,bA.meanBy=qT,bA.min=XT,bA.minBy=YT,bA.stubArray=c2,bA.stubFalse=d2,bA.stubObject=DT,bA.stubString=LT,bA.stubTrue=MT,bA.multiply=eI,bA.nth=aB,bA.noConflict=TT,bA.noop=A2,bA.now=rw,bA.pad=eT,bA.padEnd=tT,bA.padStart=rT,bA.parseInt=nT,bA.random=WS,bA.reduce=d3,bA.reduceRight=p3,bA.repeat=iT,bA.replace=oT,bA.result=RS,bA.round=tI,bA.runInContext=YA,bA.sample=h3,bA.size=y3,bA.snakeCase=aT,bA.some=v3,bA.sortedIndex=pB,bA.sortedIndexBy=fB,bA.sortedIndexOf=hB,bA.sortedLastIndex=gB,bA.sortedLastIndexBy=mB,bA.sortedLastIndexOf=yB,bA.startCase=lT,bA.startsWith=uT,bA.subtract=rI,bA.sum=nI,bA.sumBy=iI,bA.template=AT,bA.times=NT,bA.toFinite=ov,bA.toInteger=v1,bA.toLength=nx,bA.toLower=cT,bA.toNumber=Ry,bA.toSafeInteger=lS,bA.toString=L1,bA.toUpper=dT,bA.trim=pT,bA.trimEnd=fT,bA.trimStart=hT,bA.truncate=gT,bA.unescape=mT,bA.uniqueId=HT,bA.upperCase=yT,bA.upperFirst=a2,bA.each=z_,bA.eachRight=j_,bA.first=M_,u2(bA,function(){var er={};return zy(bA,function(fr,eA){Q1.call(bA.prototype,eA)||(er[eA]=fr)}),er}(),{chain:!1}),bA.VERSION=et,i0(["bind","bindKey","curry","curryRight","partial","partialRight"],function(er){bA[er].placeholder=bA}),i0(["drop","take"],function(er,fr){B1.prototype[er]=function(eA){eA=eA===j?1:ny(v1(eA),0);var iA=this.__filtered__&&!fr?new B1(this):this.clone();return iA.__filtered__?iA.__takeCount__=py(eA,iA.__takeCount__):iA.__views__.push({size:py(eA,yA),type:er+(iA.__dir__<0?"Right":"")}),iA},B1.prototype[er+"Right"]=function(eA){return this.reverse()[er](eA).reverse()}}),i0(["filter","map","takeWhile"],function(er,fr){var eA=fr+1,iA=eA==sA||eA==LA;B1.prototype[er]=function(fA){var _A=this.clone();return _A.__iteratees__.push({iteratee:n1(fA,3),type:eA}),_A.__filtered__=_A.__filtered__||iA,_A}}),i0(["head","last"],function(er,fr){var eA="take"+(fr?"Right":"");B1.prototype[er]=function(){return this[eA](1).value()[0]}}),i0(["initial","tail"],function(er,fr){var eA="drop"+(fr?"":"Right");B1.prototype[er]=function(){return this.__filtered__?new B1(this):this[eA](1)}}),B1.prototype.compact=function(){return this.filter(_y)},B1.prototype.find=function(er){return this.filter(er).head()},B1.prototype.findLast=function(er){return this.reverse().find(er)},B1.prototype.invokeMap=x1(function(er,fr){return typeof er=="function"?new B1(this):this.map(function(eA){return a$(eA,er,fr)})}),B1.prototype.reject=function(er){return this.filter(iw(n1(er)))},B1.prototype.slice=function(er,fr){er=v1(er);var eA=this;return eA.__filtered__&&(er>0||fr<0)?new B1(eA):(er<0?eA=eA.takeRight(-er):er&&(eA=eA.drop(er)),fr!==j&&(fr=v1(fr),eA=fr<0?eA.dropRight(-fr):eA.take(fr-er)),eA)},B1.prototype.takeRightWhile=function(er){return this.reverse().takeWhile(er).reverse()},B1.prototype.toArray=function(){return this.take(yA)},zy(B1.prototype,function(er,fr){var eA=/^(?:filter|find|map|reject)|While$/.test(fr),iA=/^(?:head|last)$/.test(fr),fA=bA[iA?"take"+(fr=="last"?"Right":""):fr],_A=iA||/^find/.test(fr);fA&&(bA.prototype[fr]=function(){var PA=this.__wrapped__,VA=iA?[1]:arguments,om=PA instanceof B1,m0=VA[0],b0=om||f1(PA),x0=function(C1){var I1=fA.apply(bA,cv([C1],VA));return iA&&H0?I1[0]:I1};b0&&eA&&typeof m0=="function"&&m0.length!=1&&(om=b0=!1);var H0=this.__chain__,G0=!!this.__actions__.length,a1=_A&&!H0,$1=om&&!G0;if(!_A&&b0){PA=$1?PA:new B1(this);var s1=er.apply(PA,VA);return s1.__actions__.push({func:ew,args:[x0],thisArg:j}),new Iy(s1,H0)}return a1&&$1?er.apply(this,VA):(s1=this.thru(x0),a1?iA?s1.value()[0]:s1.value():s1)})}),i0(["pop","push","shift","sort","splice","unshift"],function(er){var fr=C$[er],eA=/^(?:push|sort|unshift)$/.test(er)?"tap":"thru",iA=/^(?:pop|shift)$/.test(er);bA.prototype[er]=function(){var fA=arguments;if(iA&&!this.__chain__){var _A=this.value();return fr.apply(f1(_A)?_A:[],fA)}return this[eA](function(PA){return fr.apply(f1(PA)?PA:[],fA)})}}),zy(B1.prototype,function(er,fr){var eA=bA[fr];if(eA){var iA=eA.name+"";Q1.call(jv,iA)||(jv[iA]=[]),jv[iA].push({name:fr,func:eA})}}),jv[K$(j,Kr).name]=[{name:"wrapper",func:j}],B1.prototype.clone=AE,B1.prototype.reverse=cE,B1.prototype.value=dE,bA.prototype.at=jB,bA.prototype.chain=VB,bA.prototype.commit=WB,bA.prototype.next=KB,bA.prototype.plant=ZB,bA.prototype.reverse=qB,bA.prototype.toJSON=bA.prototype.valueOf=bA.prototype.value=XB,bA.prototype.first=bA.prototype.head,Jv&&(bA.prototype[Jv]=GB),bA},pv=zx();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Y1._=pv,define(function(){return pv})):dA?((dA.exports=pv)._=pv,rA._=pv):Y1._=pv}).call(o)}}),import_lodash=__toESM(require_lodash());async function imageDecode(o){const s=MimeType.fromString(o.type);switch(s.type){case"image/x-alpha8":{const j=parseInt(s.params.width),et=parseInt(s.params.height);return ndarray4(new Uint8Array(await o.arrayBuffer()),[et,j,1])}case"image/x-rgba8":{const j=parseInt(s.params.width),et=parseInt(s.params.height);return ndarray4(new Uint8Array(await o.arrayBuffer()),[et,j,4])}case"application/octet-stream":case"image/png":case"image/jpeg":case"image/jpg":case"image/webp":{const j=await createImageBitmap(o),et=imageBitmapToImageData(j);return ndarray4(new Uint8Array(et.data),[et.height,et.width,4])}default:throw new Error(`Invalid format: ${s.type} with params: ${s.params}`)}}async function imageEncode(o,s=.8,j="image/png"){const[et,bt,At]=o.shape;switch(j){case"image/x-alpha8":case"image/x-rgba8":{const zt=MimeType.create(j,{width:bt.toString(),height:et.toString()});return new Blob([o.data],{type:zt.toString()})}case"image/png":case"image/jpeg":case"image/webp":{const zt=new ImageData(new Uint8ClampedArray(o.data),bt,et);var Et=createCanvas(zt.width,zt.height),Ut=Et.getContext("2d");return Ut.putImageData(zt,0,0),Et.convertToBlob({quality:s,type:j})}default:throw new Error(`Invalid format: ${j}`)}}var MimeType=class h2{constructor(s,j){this.type="application/octet-stream",this.params={},this.type=s,this.params=j}toString(){const s=[];for(const j in this.params){const et=this.params[j];s.push(`${j}=${et}`)}return[this.type,...s].join(";")}static create(s,j){return new h2(s,j)}isIdentical(s){return this.type===s.type&&this.params===s.params}isEqual(s){return this.type===s.type}static fromString(s){const[j,...et]=s.split(";"),bt={};for(const At of et){const[Et,Ut]=At.split("=");bt[Et.trim()]=Ut.trim()}return new h2(j,bt)}};function isAbsoluteURI(o){return new RegExp("^(?:[a-z+]+:)?//","i").test(o)}function ensureAbsoluteURI(o,s){return isAbsoluteURI(o)?o:new URL(o,s).href}function imageBitmapToImageData(o){var s=createCanvas(o.width,o.height),j=s.getContext("2d");return j.drawImage(o,0,0),j.getImageData(0,0,s.width,s.height)}function createTypeArray(o){if(typeof Uint8Array<"u")return new Uint8Array(o);if(typeof Uint8ClampedArray<"u")return new Uint8ClampedArray(o);if(typeof Uint16Array<"u")return new Uint16Array(o);if(typeof Uint32Array<"u")return new Uint32Array(o);if(typeof Float32Array<"u")return new Float32Array(o);if(typeof Float64Array<"u")return new Float64Array(o);throw new Error("TypedArray not supported")}function tensorResizeBilinear(o,s,j,et=!1){const[bt,At,Et]=o.shape;let Ut=At/s,zt=bt/j;et&&(Ut=zt=Math.max(Ut,zt)>1?Math.max(Ut,zt):Math.min(Ut,zt));const It=ndarray4(createTypeArray(Et*s*j),[j,s,Et]);for(let Qt=0;Qt<j;Qt++)for(let Pt=0;Pt<s;Pt++){const Yt=Pt*Ut,cr=Qt*zt,_r=Math.max(Math.floor(Yt),0),vr=Math.min(Math.ceil(Yt),At-1),Yr=Math.max(Math.floor(cr),0),Kr=Math.min(Math.ceil(cr),bt-1),jr=Yt-_r,Hn=cr-Yr;for(let tA=0;tA<Et;tA++){const nA=o.get(Yr,_r,tA),aA=o.get(Yr,vr,tA),lA=o.get(Kr,_r,tA),hA=o.get(Kr,vr,tA),pA=(1-jr)*(1-Hn)*nA+jr*(1-Hn)*aA+(1-jr)*Hn*lA+jr*Hn*hA;It.set(Qt,Pt,tA,pA)}}return It}function tensorHWCtoBCHW(o,s=[128,128,128],j=[256,256,256]){var et=o.data;const[bt,At,Et]=o.shape,Ut=bt*At,zt=new Float32Array(3*Ut);for(let It=0,Qt=0;It<et.length;It+=4,Qt+=1)zt[Qt]=(et[It]-s[0])/j[0],zt[Qt+Ut]=(et[It+1]-s[1])/j[1],zt[Qt+Ut+Ut]=(et[It+2]-s[2])/j[2];return ndarray4(zt,[1,3,bt,At])}async function imageSourceToImageData(o,s){return typeof o=="string"&&(o=ensureAbsoluteURI(o,s.publicPath),o=new URL(o)),o instanceof URL&&(o=await(await fetch(o,{})).blob()),(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o=new Blob([o])),o instanceof Blob&&(o=await imageDecode(o)),o}function convertFloat32ToUint8(o){const s=new Uint8Array(o.data.length);for(let j=0;j<o.data.length;j++)s[j]=o.data[j]*255;return ndarray4(s,o.shape)}function createCanvas(o,s){let j;if(typeof OffscreenCanvas<"u"?j=new OffscreenCanvas(o,s):j=document.createElement("canvas"),!j)throw new Error("Canvas nor OffscreenCanvas are available in the current context.");return j}async function loadAsUrl(o,s){return URL.createObjectURL(await loadAsBlob(o,s))}async function loadAsBlob(o,s){const j=new URL("resources.json",s.publicPath),et=await fetch(j);if(!et.ok)throw new Error("Resource metadata not found. Ensure that the config.publicPath is configured correctly.");const At=(await et.json())[o];if(!At)throw new Error(`Resource ${o} not found. Ensure that the config.publicPath is configured correctly.`);const Et=At.chunks;let Ut=0;const zt=Et.map(async Pt=>{const Yt=Pt.offsets[1]-Pt.offsets[0],cr=s.publicPath?new URL(Pt.hash,s.publicPath).toString():Pt.hash,vr=await(await fetch(cr,s.fetchArgs)).blob();if(Yt!==vr.size)throw new Error(`Failed to fetch ${o} with size ${Yt} but got ${vr.size}`);return s.progress&&(Ut+=Yt,s.progress(`fetch:${o}`,Ut,At.size)),vr}),It=await Promise.all(zt),Qt=new Blob(It,{type:At.mime});if(Qt.size!==At.size)throw new Error(`Failed to fetch ${o} with size ${At.size} but got ${Qt.size}`);return Qt}var simd=()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),threads=()=>(async o=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(o)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),webgpu=()=>navigator.gpu!==void 0,maxNumThreads=()=>navigator.hardwareConcurrency??4;async function createOnnxSession(o,s){const j=s.device==="gpu",et=await threads(),bt=simd(),At=s.proxyToWorker,Et=[j?"webgpu":"wasm"],Ut=j?ort_gpu:ort_cpu;s.debug&&(console.debug("	Using Threads:",et),console.debug("	Using SIMD:",bt),console.debug("	Using WebGPU:",j),console.debug("	Proxy to Worker:",At),Ut.env.debug=!0,Ut.env.logLevel="verbose"),Ut.env.wasm.numThreads=maxNumThreads(),Ut.env.wasm.simd=simd(),Ut.env.wasm.proxy=At;const zt={"ort-wasm-simd-threaded.wasm":et&&bt,"ort-wasm-simd.wasm":!et&&bt,"ort-wasm-threaded.wasm":!j&&et&&!bt,"ort-wasm.wasm":!j&&!et&&!bt},It={};for(const[Yt,cr]of Object.entries(zt))if(cr){const _r=j&&Yt.includes("simd")?`/onnxruntime-web/${Yt.replace(".wasm",".jsep.wasm")}`:`/onnxruntime-web/${Yt}`;It[Yt]=await loadAsUrl(_r,s)}Ut.env.wasm.wasmPaths=It,s.debug&&console.debug("ort.env.wasm:",Ut.env.wasm);const Qt={executionProviders:Et,graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0};return await Ut.InferenceSession.create(o,Qt).catch(Yt=>{throw new Error(`Failed to create session: "${Yt}". Please check if the publicPath is set correctly.`)})}async function runOnnxSession(o,s,j,et){const At=et.device==="gpu"?ort_gpu:ort_cpu,Et={};for(const[It,Qt]of s)Et[It]=new At.Tensor("float32",new Float32Array(Qt.data),Qt.shape);const Ut=await o.run(Et,{}),zt=[];for(const It of j){const Qt=Ut[It],Pt=Qt.dims,Yt=Qt.data,cr=ndarray4(Yt,Pt);zt.push(cr)}return zt}var package_default={name:"@imgly/background-removal",version:"1.5.1",description:"Background Removal in the Browser",keywords:["background-removal","client-side","data-privacy","image-segmentation","image-matting","onnx"],repository:{type:"git",url:"git+https://github.com/imgly/background-removal-js.git"},license:"SEE LICENSE IN LICENSE.md",author:{name:"IMG.LY GmbH",email:"support@img.ly",url:"https://img.ly"},bugs:{email:"support@img.ly"},source:"./src/index.ts",main:"./dist/index.cjs",module:"./dist/index.mjs",types:"./dist/src/index.d.ts",exports:{".":{require:"./dist/index.cjs",import:"./dist/index.mjs",types:"./dist/src/index.d.ts"}},homepage:"https://img.ly/showcases/cesdk/web/background-removal",files:["LICENSE.md","README.md","CHANGELOG.md","ThirdPartyLicenses.json","dist/","bin/"],scripts:{start:"npm run watch",clean:"npx rimraf dist",test:"true",resources:"node ../../scripts/package-resources.mjs","changelog:create":"node ../../scripts/changelog/changelog-create.mjs","changelog:generate":"node ../../scripts/changelog/changelog-generate.mjs",build:"npm run clean && npm run types && npm run resources && npm run changelog:generate && node scripts/build.mjs",types:" npx tsc --declaration --emitDeclarationOnly --declarationDir dist --declarationMap",watch:"npm run clean && npm run resources && npm run changelog:generate && node scripts/watch.mjs","publish:latest":"npm publish --tag latest --access public","publish:next":"npm publish --tag next --access public","package:pack":"npm pack . --pack-destination ../../releases",lint:"npx prettier --write ."},dependencies:{"@types/lodash-es":"^4.17.12","@types/ndarray":"~1.0.14","@types/node":"~20.3.0","lodash-es":"^4.17.21",ndarray:"~1.0.0","onnxruntime-web":"~1.17.0",zod:"^3.23.8"},devDependencies:{assert:"~2.0.0",esbuild:"~0.18.0",glob:"~10.3.0","npm-dts":"~1.3.0",process:"~0.11.0","ts-loader":"~9.4.0",tslib:"~2.5.0",typescript:"~5.1.0",util:"~0.12.0",webpack:"~5.85.0","webpack-cli":"~5.1.0"},bundleDependencies:[]},ConfigSchema=z$1.object({publicPath:z$1.string().optional().describe("The public path to the wasm files and the onnx model.").default("https://staticimgly.com/@imgly/background-removal-data/${PACKAGE_VERSION}/dist/").transform(o=>o.replace("${PACKAGE_NAME}",package_default.name).replace("${PACKAGE_VERSION}",package_default.version)),debug:z$1.boolean().default(!1).describe("Whether to enable debug logging."),rescale:z$1.boolean().default(!0).describe("Whether to rescale the image."),device:z$1.enum(["cpu","gpu"]).default("cpu").describe("The device to run the model on."),proxyToWorker:z$1.boolean().default(!0).describe("Whether to proxy inference to a web worker."),fetchArgs:z$1.any().default({}).describe("Arguments to pass to fetch when loading the model."),progress:z$1.function().args(z$1.string(),z$1.number(),z$1.number()).returns(z$1.void()).describe("Progress callback.").optional(),model:z$1.preprocess(o=>{switch(o){case"large":return"isnet";case"small":return"isnet_quint8";case"medium":return"isnet_fp16";default:return o}},z$1.enum(["isnet","isnet_fp16","isnet_quint8"])).default("medium"),output:z$1.object({format:z$1.enum(["image/png","image/jpeg","image/webp","image/x-rgba8","image/x-alpha8"]).default("image/png"),quality:z$1.number().default(.8)}).default({})}).default({}).transform(o=>{if(o.debug&&console.log("Config:",o),o.debug&&!o.progress&&(o.progress=o.progress??((s,j,et)=>{console.debug(`Downloading ${s}: ${j} of ${et}`)}),crossOriginIsolated||o.debug&&console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),o.device=="gpu")if(!webgpu())o.debug&&console.debug("Switching to CPU for GPU not supported."),o.device="cpu";else switch(o.model){case"isnet":break;case"isnet_fp16":case"isnet_quint8":o.debug&&console.debug("Switching to f32 model for GPU"),o.model="isnet";break}return o});function validateConfig(o){return ConfigSchema.parse(o??{})}async function initBase(o){o.debug&&console.debug("Loading model...",o.model);const s=o.model,et=await(await loadAsBlob(`/models/${s}`,o)).arrayBuffer();return await createOnnxSession(et,o)}async function initInference(o){o=validateConfig(o);const s=await initBase(o);return{config:o,session:{base:s}}}async function runInference(o,s,j){const[bt,At,Et]=o.shape,Ut=!1;let zt=tensorResizeBilinear(o,1024,1024,Ut);const It=tensorHWCtoBCHW(zt);let Qt=await runOnnxSession(j.base,[["input",It]],["output"],s),Pt=ndarray4(Qt[0].data,[1024,1024,1]),Yt=convertFloat32ToUint8(Pt);return s.rescale?(Yt=tensorResizeBilinear(Yt,At,bt,Ut),[Yt,o]):[Yt,zt]}var init=(0,import_lodash.memoize)(initInference,o=>JSON.stringify(o));async function removeBackground(o,s){var Yt,cr,_r,vr;const{config:j,session:et}=await init(s);j.progress&&j.progress("compute:decode",0,4);const bt=await imageSourceToImageData(o,j);(Yt=j.progress)==null||Yt.call(j,"compute:inference",1,4);const[At,Et]=await runInference(bt,j,et);(cr=j.progress)==null||cr.call(j,"compute:mask",2,4);const Ut=Et,[zt,It]=Ut.shape,Qt=zt*It;for(let Yr=0;Yr<Qt;Yr+=1)Ut.data[4*Yr+3]=At.data[Yr];(_r=j.progress)==null||_r.call(j,"compute:encode",3,4);const Pt=await imageEncode(Ut,j.output.quality,j.output.format);return(vr=j.progress)==null||vr.call(j,"compute:encode",4,4),Pt}/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/function commonjsRequire(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(o,s){(function(j){o.exports=j()})(function(){return function j(et,bt,At){function Et(It,Qt){if(!bt[It]){if(!et[It]){var Pt=typeof commonjsRequire=="function"&&commonjsRequire;if(!Qt&&Pt)return Pt(It,!0);if(Ut)return Ut(It,!0);var Yt=new Error("Cannot find module '"+It+"'");throw Yt.code="MODULE_NOT_FOUND",Yt}var cr=bt[It]={exports:{}};et[It][0].call(cr.exports,function(_r){var vr=et[It][1][_r];return Et(vr||_r)},cr,cr.exports,j,et,bt,At)}return bt[It].exports}for(var Ut=typeof commonjsRequire=="function"&&commonjsRequire,zt=0;zt<At.length;zt++)Et(At[zt]);return Et}({1:[function(j,et,bt){var At=j("./utils"),Et=j("./support"),Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";bt.encode=function(zt){for(var It,Qt,Pt,Yt,cr,_r,vr,Yr=[],Kr=0,jr=zt.length,Hn=jr,tA=At.getTypeOf(zt)!=="string";Kr<zt.length;)Hn=jr-Kr,Pt=tA?(It=zt[Kr++],Qt=Kr<jr?zt[Kr++]:0,Kr<jr?zt[Kr++]:0):(It=zt.charCodeAt(Kr++),Qt=Kr<jr?zt.charCodeAt(Kr++):0,Kr<jr?zt.charCodeAt(Kr++):0),Yt=It>>2,cr=(3&It)<<4|Qt>>4,_r=1<Hn?(15&Qt)<<2|Pt>>6:64,vr=2<Hn?63&Pt:64,Yr.push(Ut.charAt(Yt)+Ut.charAt(cr)+Ut.charAt(_r)+Ut.charAt(vr));return Yr.join("")},bt.decode=function(zt){var It,Qt,Pt,Yt,cr,_r,vr=0,Yr=0,Kr="data:";if(zt.substr(0,Kr.length)===Kr)throw new Error("Invalid base64 input, it looks like a data url.");var jr,Hn=3*(zt=zt.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(zt.charAt(zt.length-1)===Ut.charAt(64)&&Hn--,zt.charAt(zt.length-2)===Ut.charAt(64)&&Hn--,Hn%1!=0)throw new Error("Invalid base64 input, bad content length.");for(jr=Et.uint8array?new Uint8Array(0|Hn):new Array(0|Hn);vr<zt.length;)It=Ut.indexOf(zt.charAt(vr++))<<2|(Yt=Ut.indexOf(zt.charAt(vr++)))>>4,Qt=(15&Yt)<<4|(cr=Ut.indexOf(zt.charAt(vr++)))>>2,Pt=(3&cr)<<6|(_r=Ut.indexOf(zt.charAt(vr++))),jr[Yr++]=It,cr!==64&&(jr[Yr++]=Qt),_r!==64&&(jr[Yr++]=Pt);return jr}},{"./support":30,"./utils":32}],2:[function(j,et,bt){var At=j("./external"),Et=j("./stream/DataWorker"),Ut=j("./stream/Crc32Probe"),zt=j("./stream/DataLengthProbe");function It(Qt,Pt,Yt,cr,_r){this.compressedSize=Qt,this.uncompressedSize=Pt,this.crc32=Yt,this.compression=cr,this.compressedContent=_r}It.prototype={getContentWorker:function(){var Qt=new Et(At.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new zt("data_length")),Pt=this;return Qt.on("end",function(){if(this.streamInfo.data_length!==Pt.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Qt},getCompressedWorker:function(){return new Et(At.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},It.createWorkerFrom=function(Qt,Pt,Yt){return Qt.pipe(new Ut).pipe(new zt("uncompressedSize")).pipe(Pt.compressWorker(Yt)).pipe(new zt("compressedSize")).withStreamInfo("compression",Pt)},et.exports=It},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(j,et,bt){var At=j("./stream/GenericWorker");bt.STORE={magic:"\0\0",compressWorker:function(){return new At("STORE compression")},uncompressWorker:function(){return new At("STORE decompression")}},bt.DEFLATE=j("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(j,et,bt){var At=j("./utils"),Et=function(){for(var Ut,zt=[],It=0;It<256;It++){Ut=It;for(var Qt=0;Qt<8;Qt++)Ut=1&Ut?3988292384^Ut>>>1:Ut>>>1;zt[It]=Ut}return zt}();et.exports=function(Ut,zt){return Ut!==void 0&&Ut.length?At.getTypeOf(Ut)!=="string"?function(It,Qt,Pt,Yt){var cr=Et,_r=Yt+Pt;It^=-1;for(var vr=Yt;vr<_r;vr++)It=It>>>8^cr[255&(It^Qt[vr])];return-1^It}(0|zt,Ut,Ut.length,0):function(It,Qt,Pt,Yt){var cr=Et,_r=Yt+Pt;It^=-1;for(var vr=Yt;vr<_r;vr++)It=It>>>8^cr[255&(It^Qt.charCodeAt(vr))];return-1^It}(0|zt,Ut,Ut.length,0):0}},{"./utils":32}],5:[function(j,et,bt){bt.base64=!1,bt.binary=!1,bt.dir=!1,bt.createFolders=!0,bt.date=null,bt.compression=null,bt.compressionOptions=null,bt.comment=null,bt.unixPermissions=null,bt.dosPermissions=null},{}],6:[function(j,et,bt){var At=null;At=typeof Promise<"u"?Promise:j("lie"),et.exports={Promise:At}},{lie:37}],7:[function(j,et,bt){var At=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",Et=j("pako"),Ut=j("./utils"),zt=j("./stream/GenericWorker"),It=At?"uint8array":"array";function Qt(Pt,Yt){zt.call(this,"FlateWorker/"+Pt),this._pako=null,this._pakoAction=Pt,this._pakoOptions=Yt,this.meta={}}bt.magic="\b\0",Ut.inherits(Qt,zt),Qt.prototype.processChunk=function(Pt){this.meta=Pt.meta,this._pako===null&&this._createPako(),this._pako.push(Ut.transformTo(It,Pt.data),!1)},Qt.prototype.flush=function(){zt.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},Qt.prototype.cleanUp=function(){zt.prototype.cleanUp.call(this),this._pako=null},Qt.prototype._createPako=function(){this._pako=new Et[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Pt=this;this._pako.onData=function(Yt){Pt.push({data:Yt,meta:Pt.meta})}},bt.compressWorker=function(Pt){return new Qt("Deflate",Pt)},bt.uncompressWorker=function(){return new Qt("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(j,et,bt){function At(cr,_r){var vr,Yr="";for(vr=0;vr<_r;vr++)Yr+=String.fromCharCode(255&cr),cr>>>=8;return Yr}function Et(cr,_r,vr,Yr,Kr,jr){var Hn,tA,nA=cr.file,aA=cr.compression,lA=jr!==It.utf8encode,hA=Ut.transformTo("string",jr(nA.name)),pA=Ut.transformTo("string",It.utf8encode(nA.name)),wA=nA.comment,NA=Ut.transformTo("string",jr(wA)),cA=Ut.transformTo("string",It.utf8encode(wA)),CA=pA.length!==nA.name.length,sA=cA.length!==wA.length,UA="",LA="",RA="",kA=nA.dir,OA=nA.date,KA={crc32:0,compressedSize:0,uncompressedSize:0};_r&&!vr||(KA.crc32=cr.crc32,KA.compressedSize=cr.compressedSize,KA.uncompressedSize=cr.uncompressedSize);var yA=0;_r&&(yA|=8),lA||!CA&&!sA||(yA|=2048);var TA=0,r0=0;kA&&(TA|=16),Kr==="UNIX"?(r0=798,TA|=function(XA,S0){var U0=XA;return XA||(U0=S0?16893:33204),(65535&U0)<<16}(nA.unixPermissions,kA)):(r0=20,TA|=function(XA){return 63&(XA||0)}(nA.dosPermissions)),Hn=OA.getUTCHours(),Hn<<=6,Hn|=OA.getUTCMinutes(),Hn<<=5,Hn|=OA.getUTCSeconds()/2,tA=OA.getUTCFullYear()-1980,tA<<=4,tA|=OA.getUTCMonth()+1,tA<<=5,tA|=OA.getUTCDate(),CA&&(LA=At(1,1)+At(Qt(hA),4)+pA,UA+="up"+At(LA.length,2)+LA),sA&&(RA=At(1,1)+At(Qt(NA),4)+cA,UA+="uc"+At(RA.length,2)+RA);var qA="";return qA+=`
\0`,qA+=At(yA,2),qA+=aA.magic,qA+=At(Hn,2),qA+=At(tA,2),qA+=At(KA.crc32,4),qA+=At(KA.compressedSize,4),qA+=At(KA.uncompressedSize,4),qA+=At(hA.length,2),qA+=At(UA.length,2),{fileRecord:Pt.LOCAL_FILE_HEADER+qA+hA+UA,dirRecord:Pt.CENTRAL_FILE_HEADER+At(r0,2)+qA+At(NA.length,2)+"\0\0\0\0"+At(TA,4)+At(Yr,4)+hA+UA+NA}}var Ut=j("../utils"),zt=j("../stream/GenericWorker"),It=j("../utf8"),Qt=j("../crc32"),Pt=j("../signature");function Yt(cr,_r,vr,Yr){zt.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_r,this.zipPlatform=vr,this.encodeFileName=Yr,this.streamFiles=cr,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}Ut.inherits(Yt,zt),Yt.prototype.push=function(cr){var _r=cr.meta.percent||0,vr=this.entriesCount,Yr=this._sources.length;this.accumulate?this.contentBuffer.push(cr):(this.bytesWritten+=cr.data.length,zt.prototype.push.call(this,{data:cr.data,meta:{currentFile:this.currentFile,percent:vr?(_r+100*(vr-Yr-1))/vr:100}}))},Yt.prototype.openedSource=function(cr){this.currentSourceOffset=this.bytesWritten,this.currentFile=cr.file.name;var _r=this.streamFiles&&!cr.file.dir;if(_r){var vr=Et(cr,_r,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:vr.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Yt.prototype.closedSource=function(cr){this.accumulate=!1;var _r=this.streamFiles&&!cr.file.dir,vr=Et(cr,_r,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(vr.dirRecord),_r)this.push({data:function(Yr){return Pt.DATA_DESCRIPTOR+At(Yr.crc32,4)+At(Yr.compressedSize,4)+At(Yr.uncompressedSize,4)}(cr),meta:{percent:100}});else for(this.push({data:vr.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Yt.prototype.flush=function(){for(var cr=this.bytesWritten,_r=0;_r<this.dirRecords.length;_r++)this.push({data:this.dirRecords[_r],meta:{percent:100}});var vr=this.bytesWritten-cr,Yr=function(Kr,jr,Hn,tA,nA){var aA=Ut.transformTo("string",nA(tA));return Pt.CENTRAL_DIRECTORY_END+"\0\0\0\0"+At(Kr,2)+At(Kr,2)+At(jr,4)+At(Hn,4)+At(aA.length,2)+aA}(this.dirRecords.length,vr,cr,this.zipComment,this.encodeFileName);this.push({data:Yr,meta:{percent:100}})},Yt.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Yt.prototype.registerPrevious=function(cr){this._sources.push(cr);var _r=this;return cr.on("data",function(vr){_r.processChunk(vr)}),cr.on("end",function(){_r.closedSource(_r.previous.streamInfo),_r._sources.length?_r.prepareNextSource():_r.end()}),cr.on("error",function(vr){_r.error(vr)}),this},Yt.prototype.resume=function(){return!!zt.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Yt.prototype.error=function(cr){var _r=this._sources;if(!zt.prototype.error.call(this,cr))return!1;for(var vr=0;vr<_r.length;vr++)try{_r[vr].error(cr)}catch{}return!0},Yt.prototype.lock=function(){zt.prototype.lock.call(this);for(var cr=this._sources,_r=0;_r<cr.length;_r++)cr[_r].lock()},et.exports=Yt},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(j,et,bt){var At=j("../compressions"),Et=j("./ZipFileWorker");bt.generateWorker=function(Ut,zt,It){var Qt=new Et(zt.streamFiles,It,zt.platform,zt.encodeFileName),Pt=0;try{Ut.forEach(function(Yt,cr){Pt++;var _r=function(jr,Hn){var tA=jr||Hn,nA=At[tA];if(!nA)throw new Error(tA+" is not a valid compression method !");return nA}(cr.options.compression,zt.compression),vr=cr.options.compressionOptions||zt.compressionOptions||{},Yr=cr.dir,Kr=cr.date;cr._compressWorker(_r,vr).withStreamInfo("file",{name:Yt,dir:Yr,date:Kr,comment:cr.comment||"",unixPermissions:cr.unixPermissions,dosPermissions:cr.dosPermissions}).pipe(Qt)}),Qt.entriesCount=Pt}catch(Yt){Qt.error(Yt)}return Qt}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(j,et,bt){function At(){if(!(this instanceof At))return new At;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var Et=new At;for(var Ut in this)typeof this[Ut]!="function"&&(Et[Ut]=this[Ut]);return Et}}(At.prototype=j("./object")).loadAsync=j("./load"),At.support=j("./support"),At.defaults=j("./defaults"),At.version="3.10.1",At.loadAsync=function(Et,Ut){return new At().loadAsync(Et,Ut)},At.external=j("./external"),et.exports=At},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(j,et,bt){var At=j("./utils"),Et=j("./external"),Ut=j("./utf8"),zt=j("./zipEntries"),It=j("./stream/Crc32Probe"),Qt=j("./nodejsUtils");function Pt(Yt){return new Et.Promise(function(cr,_r){var vr=Yt.decompressed.getContentWorker().pipe(new It);vr.on("error",function(Yr){_r(Yr)}).on("end",function(){vr.streamInfo.crc32!==Yt.decompressed.crc32?_r(new Error("Corrupted zip : CRC32 mismatch")):cr()}).resume()})}et.exports=function(Yt,cr){var _r=this;return cr=At.extend(cr||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:Ut.utf8decode}),Qt.isNode&&Qt.isStream(Yt)?Et.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):At.prepareContent("the loaded zip file",Yt,!0,cr.optimizedBinaryString,cr.base64).then(function(vr){var Yr=new zt(cr);return Yr.load(vr),Yr}).then(function(vr){var Yr=[Et.Promise.resolve(vr)],Kr=vr.files;if(cr.checkCRC32)for(var jr=0;jr<Kr.length;jr++)Yr.push(Pt(Kr[jr]));return Et.Promise.all(Yr)}).then(function(vr){for(var Yr=vr.shift(),Kr=Yr.files,jr=0;jr<Kr.length;jr++){var Hn=Kr[jr],tA=Hn.fileNameStr,nA=At.resolve(Hn.fileNameStr);_r.file(nA,Hn.decompressed,{binary:!0,optimizedBinaryString:!0,date:Hn.date,dir:Hn.dir,comment:Hn.fileCommentStr.length?Hn.fileCommentStr:null,unixPermissions:Hn.unixPermissions,dosPermissions:Hn.dosPermissions,createFolders:cr.createFolders}),Hn.dir||(_r.file(nA).unsafeOriginalName=tA)}return Yr.zipComment.length&&(_r.comment=Yr.zipComment),_r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(j,et,bt){var At=j("../utils"),Et=j("../stream/GenericWorker");function Ut(zt,It){Et.call(this,"Nodejs stream input adapter for "+zt),this._upstreamEnded=!1,this._bindStream(It)}At.inherits(Ut,Et),Ut.prototype._bindStream=function(zt){var It=this;(this._stream=zt).pause(),zt.on("data",function(Qt){It.push({data:Qt,meta:{percent:0}})}).on("error",function(Qt){It.isPaused?this.generatedError=Qt:It.error(Qt)}).on("end",function(){It.isPaused?It._upstreamEnded=!0:It.end()})},Ut.prototype.pause=function(){return!!Et.prototype.pause.call(this)&&(this._stream.pause(),!0)},Ut.prototype.resume=function(){return!!Et.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},et.exports=Ut},{"../stream/GenericWorker":28,"../utils":32}],13:[function(j,et,bt){var At=j("readable-stream").Readable;function Et(Ut,zt,It){At.call(this,zt),this._helper=Ut;var Qt=this;Ut.on("data",function(Pt,Yt){Qt.push(Pt)||Qt._helper.pause(),It&&It(Yt)}).on("error",function(Pt){Qt.emit("error",Pt)}).on("end",function(){Qt.push(null)})}j("../utils").inherits(Et,At),Et.prototype._read=function(){this._helper.resume()},et.exports=Et},{"../utils":32,"readable-stream":16}],14:[function(j,et,bt){et.exports={isNode:typeof Buffer<"u",newBufferFrom:function(At,Et){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(At,Et);if(typeof At=="number")throw new Error('The "data" argument must not be a number');return new Buffer(At,Et)},allocBuffer:function(At){if(Buffer.alloc)return Buffer.alloc(At);var Et=new Buffer(At);return Et.fill(0),Et},isBuffer:function(At){return Buffer.isBuffer(At)},isStream:function(At){return At&&typeof At.on=="function"&&typeof At.pause=="function"&&typeof At.resume=="function"}}},{}],15:[function(j,et,bt){function At(nA,aA,lA){var hA,pA=Ut.getTypeOf(aA),wA=Ut.extend(lA||{},Qt);wA.date=wA.date||new Date,wA.compression!==null&&(wA.compression=wA.compression.toUpperCase()),typeof wA.unixPermissions=="string"&&(wA.unixPermissions=parseInt(wA.unixPermissions,8)),wA.unixPermissions&&16384&wA.unixPermissions&&(wA.dir=!0),wA.dosPermissions&&16&wA.dosPermissions&&(wA.dir=!0),wA.dir&&(nA=Kr(nA)),wA.createFolders&&(hA=Yr(nA))&&jr.call(this,hA,!0);var NA=pA==="string"&&wA.binary===!1&&wA.base64===!1;lA&&lA.binary!==void 0||(wA.binary=!NA),(aA instanceof Pt&&aA.uncompressedSize===0||wA.dir||!aA||aA.length===0)&&(wA.base64=!1,wA.binary=!0,aA="",wA.compression="STORE",pA="string");var cA=null;cA=aA instanceof Pt||aA instanceof zt?aA:_r.isNode&&_r.isStream(aA)?new vr(nA,aA):Ut.prepareContent(nA,aA,wA.binary,wA.optimizedBinaryString,wA.base64);var CA=new Yt(nA,cA,wA);this.files[nA]=CA}var Et=j("./utf8"),Ut=j("./utils"),zt=j("./stream/GenericWorker"),It=j("./stream/StreamHelper"),Qt=j("./defaults"),Pt=j("./compressedObject"),Yt=j("./zipObject"),cr=j("./generate"),_r=j("./nodejsUtils"),vr=j("./nodejs/NodejsStreamInputAdapter"),Yr=function(nA){nA.slice(-1)==="/"&&(nA=nA.substring(0,nA.length-1));var aA=nA.lastIndexOf("/");return 0<aA?nA.substring(0,aA):""},Kr=function(nA){return nA.slice(-1)!=="/"&&(nA+="/"),nA},jr=function(nA,aA){return aA=aA!==void 0?aA:Qt.createFolders,nA=Kr(nA),this.files[nA]||At.call(this,nA,null,{dir:!0,createFolders:aA}),this.files[nA]};function Hn(nA){return Object.prototype.toString.call(nA)==="[object RegExp]"}var tA={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(nA){var aA,lA,hA;for(aA in this.files)hA=this.files[aA],(lA=aA.slice(this.root.length,aA.length))&&aA.slice(0,this.root.length)===this.root&&nA(lA,hA)},filter:function(nA){var aA=[];return this.forEach(function(lA,hA){nA(lA,hA)&&aA.push(hA)}),aA},file:function(nA,aA,lA){if(arguments.length!==1)return nA=this.root+nA,At.call(this,nA,aA,lA),this;if(Hn(nA)){var hA=nA;return this.filter(function(wA,NA){return!NA.dir&&hA.test(wA)})}var pA=this.files[this.root+nA];return pA&&!pA.dir?pA:null},folder:function(nA){if(!nA)return this;if(Hn(nA))return this.filter(function(pA,wA){return wA.dir&&nA.test(pA)});var aA=this.root+nA,lA=jr.call(this,aA),hA=this.clone();return hA.root=lA.name,hA},remove:function(nA){nA=this.root+nA;var aA=this.files[nA];if(aA||(nA.slice(-1)!=="/"&&(nA+="/"),aA=this.files[nA]),aA&&!aA.dir)delete this.files[nA];else for(var lA=this.filter(function(pA,wA){return wA.name.slice(0,nA.length)===nA}),hA=0;hA<lA.length;hA++)delete this.files[lA[hA].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(nA){var aA,lA={};try{if((lA=Ut.extend(nA||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Et.utf8encode})).type=lA.type.toLowerCase(),lA.compression=lA.compression.toUpperCase(),lA.type==="binarystring"&&(lA.type="string"),!lA.type)throw new Error("No output type specified.");Ut.checkSupport(lA.type),lA.platform!=="darwin"&&lA.platform!=="freebsd"&&lA.platform!=="linux"&&lA.platform!=="sunos"||(lA.platform="UNIX"),lA.platform==="win32"&&(lA.platform="DOS");var hA=lA.comment||this.comment||"";aA=cr.generateWorker(this,lA,hA)}catch(pA){(aA=new zt("error")).error(pA)}return new It(aA,lA.type||"string",lA.mimeType)},generateAsync:function(nA,aA){return this.generateInternalStream(nA).accumulate(aA)},generateNodeStream:function(nA,aA){return(nA=nA||{}).type||(nA.type="nodebuffer"),this.generateInternalStream(nA).toNodejsStream(aA)}};et.exports=tA},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(j,et,bt){et.exports=j("stream")},{stream:void 0}],17:[function(j,et,bt){var At=j("./DataReader");function Et(Ut){At.call(this,Ut);for(var zt=0;zt<this.data.length;zt++)Ut[zt]=255&Ut[zt]}j("../utils").inherits(Et,At),Et.prototype.byteAt=function(Ut){return this.data[this.zero+Ut]},Et.prototype.lastIndexOfSignature=function(Ut){for(var zt=Ut.charCodeAt(0),It=Ut.charCodeAt(1),Qt=Ut.charCodeAt(2),Pt=Ut.charCodeAt(3),Yt=this.length-4;0<=Yt;--Yt)if(this.data[Yt]===zt&&this.data[Yt+1]===It&&this.data[Yt+2]===Qt&&this.data[Yt+3]===Pt)return Yt-this.zero;return-1},Et.prototype.readAndCheckSignature=function(Ut){var zt=Ut.charCodeAt(0),It=Ut.charCodeAt(1),Qt=Ut.charCodeAt(2),Pt=Ut.charCodeAt(3),Yt=this.readData(4);return zt===Yt[0]&&It===Yt[1]&&Qt===Yt[2]&&Pt===Yt[3]},Et.prototype.readData=function(Ut){if(this.checkOffset(Ut),Ut===0)return[];var zt=this.data.slice(this.zero+this.index,this.zero+this.index+Ut);return this.index+=Ut,zt},et.exports=Et},{"../utils":32,"./DataReader":18}],18:[function(j,et,bt){var At=j("../utils");function Et(Ut){this.data=Ut,this.length=Ut.length,this.index=0,this.zero=0}Et.prototype={checkOffset:function(Ut){this.checkIndex(this.index+Ut)},checkIndex:function(Ut){if(this.length<this.zero+Ut||Ut<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+Ut+"). Corrupted zip ?")},setIndex:function(Ut){this.checkIndex(Ut),this.index=Ut},skip:function(Ut){this.setIndex(this.index+Ut)},byteAt:function(){},readInt:function(Ut){var zt,It=0;for(this.checkOffset(Ut),zt=this.index+Ut-1;zt>=this.index;zt--)It=(It<<8)+this.byteAt(zt);return this.index+=Ut,It},readString:function(Ut){return At.transformTo("string",this.readData(Ut))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var Ut=this.readInt(4);return new Date(Date.UTC(1980+(Ut>>25&127),(Ut>>21&15)-1,Ut>>16&31,Ut>>11&31,Ut>>5&63,(31&Ut)<<1))}},et.exports=Et},{"../utils":32}],19:[function(j,et,bt){var At=j("./Uint8ArrayReader");function Et(Ut){At.call(this,Ut)}j("../utils").inherits(Et,At),Et.prototype.readData=function(Ut){this.checkOffset(Ut);var zt=this.data.slice(this.zero+this.index,this.zero+this.index+Ut);return this.index+=Ut,zt},et.exports=Et},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(j,et,bt){var At=j("./DataReader");function Et(Ut){At.call(this,Ut)}j("../utils").inherits(Et,At),Et.prototype.byteAt=function(Ut){return this.data.charCodeAt(this.zero+Ut)},Et.prototype.lastIndexOfSignature=function(Ut){return this.data.lastIndexOf(Ut)-this.zero},Et.prototype.readAndCheckSignature=function(Ut){return Ut===this.readData(4)},Et.prototype.readData=function(Ut){this.checkOffset(Ut);var zt=this.data.slice(this.zero+this.index,this.zero+this.index+Ut);return this.index+=Ut,zt},et.exports=Et},{"../utils":32,"./DataReader":18}],21:[function(j,et,bt){var At=j("./ArrayReader");function Et(Ut){At.call(this,Ut)}j("../utils").inherits(Et,At),Et.prototype.readData=function(Ut){if(this.checkOffset(Ut),Ut===0)return new Uint8Array(0);var zt=this.data.subarray(this.zero+this.index,this.zero+this.index+Ut);return this.index+=Ut,zt},et.exports=Et},{"../utils":32,"./ArrayReader":17}],22:[function(j,et,bt){var At=j("../utils"),Et=j("../support"),Ut=j("./ArrayReader"),zt=j("./StringReader"),It=j("./NodeBufferReader"),Qt=j("./Uint8ArrayReader");et.exports=function(Pt){var Yt=At.getTypeOf(Pt);return At.checkSupport(Yt),Yt!=="string"||Et.uint8array?Yt==="nodebuffer"?new It(Pt):Et.uint8array?new Qt(At.transformTo("uint8array",Pt)):new Ut(At.transformTo("array",Pt)):new zt(Pt)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(j,et,bt){bt.LOCAL_FILE_HEADER="PK",bt.CENTRAL_FILE_HEADER="PK",bt.CENTRAL_DIRECTORY_END="PK",bt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",bt.ZIP64_CENTRAL_DIRECTORY_END="PK",bt.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(j,et,bt){var At=j("./GenericWorker"),Et=j("../utils");function Ut(zt){At.call(this,"ConvertWorker to "+zt),this.destType=zt}Et.inherits(Ut,At),Ut.prototype.processChunk=function(zt){this.push({data:Et.transformTo(this.destType,zt.data),meta:zt.meta})},et.exports=Ut},{"../utils":32,"./GenericWorker":28}],25:[function(j,et,bt){var At=j("./GenericWorker"),Et=j("../crc32");function Ut(){At.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}j("../utils").inherits(Ut,At),Ut.prototype.processChunk=function(zt){this.streamInfo.crc32=Et(zt.data,this.streamInfo.crc32||0),this.push(zt)},et.exports=Ut},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(j,et,bt){var At=j("../utils"),Et=j("./GenericWorker");function Ut(zt){Et.call(this,"DataLengthProbe for "+zt),this.propName=zt,this.withStreamInfo(zt,0)}At.inherits(Ut,Et),Ut.prototype.processChunk=function(zt){if(zt){var It=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=It+zt.data.length}Et.prototype.processChunk.call(this,zt)},et.exports=Ut},{"../utils":32,"./GenericWorker":28}],27:[function(j,et,bt){var At=j("../utils"),Et=j("./GenericWorker");function Ut(zt){Et.call(this,"DataWorker");var It=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,zt.then(function(Qt){It.dataIsReady=!0,It.data=Qt,It.max=Qt&&Qt.length||0,It.type=At.getTypeOf(Qt),It.isPaused||It._tickAndRepeat()},function(Qt){It.error(Qt)})}At.inherits(Ut,Et),Ut.prototype.cleanUp=function(){Et.prototype.cleanUp.call(this),this.data=null},Ut.prototype.resume=function(){return!!Et.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,At.delay(this._tickAndRepeat,[],this)),!0)},Ut.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(At.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},Ut.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var zt=null,It=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":zt=this.data.substring(this.index,It);break;case"uint8array":zt=this.data.subarray(this.index,It);break;case"array":case"nodebuffer":zt=this.data.slice(this.index,It)}return this.index=It,this.push({data:zt,meta:{percent:this.max?this.index/this.max*100:0}})},et.exports=Ut},{"../utils":32,"./GenericWorker":28}],28:[function(j,et,bt){function At(Et){this.name=Et||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}At.prototype={push:function(Et){this.emit("data",Et)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(Et){this.emit("error",Et)}return!0},error:function(Et){return!this.isFinished&&(this.isPaused?this.generatedError=Et:(this.isFinished=!0,this.emit("error",Et),this.previous&&this.previous.error(Et),this.cleanUp()),!0)},on:function(Et,Ut){return this._listeners[Et].push(Ut),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(Et,Ut){if(this._listeners[Et])for(var zt=0;zt<this._listeners[Et].length;zt++)this._listeners[Et][zt].call(this,Ut)},pipe:function(Et){return Et.registerPrevious(this)},registerPrevious:function(Et){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=Et.streamInfo,this.mergeStreamInfo(),this.previous=Et;var Ut=this;return Et.on("data",function(zt){Ut.processChunk(zt)}),Et.on("end",function(){Ut.end()}),Et.on("error",function(zt){Ut.error(zt)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var Et=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),Et=!0),this.previous&&this.previous.resume(),!Et},flush:function(){},processChunk:function(Et){this.push(Et)},withStreamInfo:function(Et,Ut){return this.extraStreamInfo[Et]=Ut,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var Et in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,Et)&&(this.streamInfo[Et]=this.extraStreamInfo[Et])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var Et="Worker "+this.name;return this.previous?this.previous+" -> "+Et:Et}},et.exports=At},{}],29:[function(j,et,bt){var At=j("../utils"),Et=j("./ConvertWorker"),Ut=j("./GenericWorker"),zt=j("../base64"),It=j("../support"),Qt=j("../external"),Pt=null;if(It.nodestream)try{Pt=j("../nodejs/NodejsStreamOutputAdapter")}catch{}function Yt(_r,vr){return new Qt.Promise(function(Yr,Kr){var jr=[],Hn=_r._internalType,tA=_r._outputType,nA=_r._mimeType;_r.on("data",function(aA,lA){jr.push(aA),vr&&vr(lA)}).on("error",function(aA){jr=[],Kr(aA)}).on("end",function(){try{var aA=function(lA,hA,pA){switch(lA){case"blob":return At.newBlob(At.transformTo("arraybuffer",hA),pA);case"base64":return zt.encode(hA);default:return At.transformTo(lA,hA)}}(tA,function(lA,hA){var pA,wA=0,NA=null,cA=0;for(pA=0;pA<hA.length;pA++)cA+=hA[pA].length;switch(lA){case"string":return hA.join("");case"array":return Array.prototype.concat.apply([],hA);case"uint8array":for(NA=new Uint8Array(cA),pA=0;pA<hA.length;pA++)NA.set(hA[pA],wA),wA+=hA[pA].length;return NA;case"nodebuffer":return Buffer.concat(hA);default:throw new Error("concat : unsupported type '"+lA+"'")}}(Hn,jr),nA);Yr(aA)}catch(lA){Kr(lA)}jr=[]}).resume()})}function cr(_r,vr,Yr){var Kr=vr;switch(vr){case"blob":case"arraybuffer":Kr="uint8array";break;case"base64":Kr="string"}try{this._internalType=Kr,this._outputType=vr,this._mimeType=Yr,At.checkSupport(Kr),this._worker=_r.pipe(new Et(Kr)),_r.lock()}catch(jr){this._worker=new Ut("error"),this._worker.error(jr)}}cr.prototype={accumulate:function(_r){return Yt(this,_r)},on:function(_r,vr){var Yr=this;return _r==="data"?this._worker.on(_r,function(Kr){vr.call(Yr,Kr.data,Kr.meta)}):this._worker.on(_r,function(){At.delay(vr,arguments,Yr)}),this},resume:function(){return At.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_r){if(At.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Pt(this,{objectMode:this._outputType!=="nodebuffer"},_r)}},et.exports=cr},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(j,et,bt){if(bt.base64=!0,bt.array=!0,bt.string=!0,bt.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",bt.nodebuffer=typeof Buffer<"u",bt.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")bt.blob=!1;else{var At=new ArrayBuffer(0);try{bt.blob=new Blob([At],{type:"application/zip"}).size===0}catch{try{var Et=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);Et.append(At),bt.blob=Et.getBlob("application/zip").size===0}catch{bt.blob=!1}}}try{bt.nodestream=!!j("readable-stream").Readable}catch{bt.nodestream=!1}},{"readable-stream":16}],31:[function(j,et,bt){for(var At=j("./utils"),Et=j("./support"),Ut=j("./nodejsUtils"),zt=j("./stream/GenericWorker"),It=new Array(256),Qt=0;Qt<256;Qt++)It[Qt]=252<=Qt?6:248<=Qt?5:240<=Qt?4:224<=Qt?3:192<=Qt?2:1;It[254]=It[254]=1;function Pt(){zt.call(this,"utf-8 decode"),this.leftOver=null}function Yt(){zt.call(this,"utf-8 encode")}bt.utf8encode=function(cr){return Et.nodebuffer?Ut.newBufferFrom(cr,"utf-8"):function(_r){var vr,Yr,Kr,jr,Hn,tA=_r.length,nA=0;for(jr=0;jr<tA;jr++)(64512&(Yr=_r.charCodeAt(jr)))==55296&&jr+1<tA&&(64512&(Kr=_r.charCodeAt(jr+1)))==56320&&(Yr=65536+(Yr-55296<<10)+(Kr-56320),jr++),nA+=Yr<128?1:Yr<2048?2:Yr<65536?3:4;for(vr=Et.uint8array?new Uint8Array(nA):new Array(nA),jr=Hn=0;Hn<nA;jr++)(64512&(Yr=_r.charCodeAt(jr)))==55296&&jr+1<tA&&(64512&(Kr=_r.charCodeAt(jr+1)))==56320&&(Yr=65536+(Yr-55296<<10)+(Kr-56320),jr++),Yr<128?vr[Hn++]=Yr:(Yr<2048?vr[Hn++]=192|Yr>>>6:(Yr<65536?vr[Hn++]=224|Yr>>>12:(vr[Hn++]=240|Yr>>>18,vr[Hn++]=128|Yr>>>12&63),vr[Hn++]=128|Yr>>>6&63),vr[Hn++]=128|63&Yr);return vr}(cr)},bt.utf8decode=function(cr){return Et.nodebuffer?At.transformTo("nodebuffer",cr).toString("utf-8"):function(_r){var vr,Yr,Kr,jr,Hn=_r.length,tA=new Array(2*Hn);for(vr=Yr=0;vr<Hn;)if((Kr=_r[vr++])<128)tA[Yr++]=Kr;else if(4<(jr=It[Kr]))tA[Yr++]=65533,vr+=jr-1;else{for(Kr&=jr===2?31:jr===3?15:7;1<jr&&vr<Hn;)Kr=Kr<<6|63&_r[vr++],jr--;1<jr?tA[Yr++]=65533:Kr<65536?tA[Yr++]=Kr:(Kr-=65536,tA[Yr++]=55296|Kr>>10&1023,tA[Yr++]=56320|1023&Kr)}return tA.length!==Yr&&(tA.subarray?tA=tA.subarray(0,Yr):tA.length=Yr),At.applyFromCharCode(tA)}(cr=At.transformTo(Et.uint8array?"uint8array":"array",cr))},At.inherits(Pt,zt),Pt.prototype.processChunk=function(cr){var _r=At.transformTo(Et.uint8array?"uint8array":"array",cr.data);if(this.leftOver&&this.leftOver.length){if(Et.uint8array){var vr=_r;(_r=new Uint8Array(vr.length+this.leftOver.length)).set(this.leftOver,0),_r.set(vr,this.leftOver.length)}else _r=this.leftOver.concat(_r);this.leftOver=null}var Yr=function(jr,Hn){var tA;for((Hn=Hn||jr.length)>jr.length&&(Hn=jr.length),tA=Hn-1;0<=tA&&(192&jr[tA])==128;)tA--;return tA<0||tA===0?Hn:tA+It[jr[tA]]>Hn?tA:Hn}(_r),Kr=_r;Yr!==_r.length&&(Et.uint8array?(Kr=_r.subarray(0,Yr),this.leftOver=_r.subarray(Yr,_r.length)):(Kr=_r.slice(0,Yr),this.leftOver=_r.slice(Yr,_r.length))),this.push({data:bt.utf8decode(Kr),meta:cr.meta})},Pt.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:bt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},bt.Utf8DecodeWorker=Pt,At.inherits(Yt,zt),Yt.prototype.processChunk=function(cr){this.push({data:bt.utf8encode(cr.data),meta:cr.meta})},bt.Utf8EncodeWorker=Yt},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(j,et,bt){var At=j("./support"),Et=j("./base64"),Ut=j("./nodejsUtils"),zt=j("./external");function It(vr){return vr}function Qt(vr,Yr){for(var Kr=0;Kr<vr.length;++Kr)Yr[Kr]=255&vr.charCodeAt(Kr);return Yr}j("setimmediate"),bt.newBlob=function(vr,Yr){bt.checkSupport("blob");try{return new Blob([vr],{type:Yr})}catch{try{var Kr=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Kr.append(vr),Kr.getBlob(Yr)}catch{throw new Error("Bug : can't construct the Blob.")}}};var Pt={stringifyByChunk:function(vr,Yr,Kr){var jr=[],Hn=0,tA=vr.length;if(tA<=Kr)return String.fromCharCode.apply(null,vr);for(;Hn<tA;)Yr==="array"||Yr==="nodebuffer"?jr.push(String.fromCharCode.apply(null,vr.slice(Hn,Math.min(Hn+Kr,tA)))):jr.push(String.fromCharCode.apply(null,vr.subarray(Hn,Math.min(Hn+Kr,tA)))),Hn+=Kr;return jr.join("")},stringifyByChar:function(vr){for(var Yr="",Kr=0;Kr<vr.length;Kr++)Yr+=String.fromCharCode(vr[Kr]);return Yr},applyCanBeUsed:{uint8array:function(){try{return At.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return At.nodebuffer&&String.fromCharCode.apply(null,Ut.allocBuffer(1)).length===1}catch{return!1}}()}};function Yt(vr){var Yr=65536,Kr=bt.getTypeOf(vr),jr=!0;if(Kr==="uint8array"?jr=Pt.applyCanBeUsed.uint8array:Kr==="nodebuffer"&&(jr=Pt.applyCanBeUsed.nodebuffer),jr)for(;1<Yr;)try{return Pt.stringifyByChunk(vr,Kr,Yr)}catch{Yr=Math.floor(Yr/2)}return Pt.stringifyByChar(vr)}function cr(vr,Yr){for(var Kr=0;Kr<vr.length;Kr++)Yr[Kr]=vr[Kr];return Yr}bt.applyFromCharCode=Yt;var _r={};_r.string={string:It,array:function(vr){return Qt(vr,new Array(vr.length))},arraybuffer:function(vr){return _r.string.uint8array(vr).buffer},uint8array:function(vr){return Qt(vr,new Uint8Array(vr.length))},nodebuffer:function(vr){return Qt(vr,Ut.allocBuffer(vr.length))}},_r.array={string:Yt,array:It,arraybuffer:function(vr){return new Uint8Array(vr).buffer},uint8array:function(vr){return new Uint8Array(vr)},nodebuffer:function(vr){return Ut.newBufferFrom(vr)}},_r.arraybuffer={string:function(vr){return Yt(new Uint8Array(vr))},array:function(vr){return cr(new Uint8Array(vr),new Array(vr.byteLength))},arraybuffer:It,uint8array:function(vr){return new Uint8Array(vr)},nodebuffer:function(vr){return Ut.newBufferFrom(new Uint8Array(vr))}},_r.uint8array={string:Yt,array:function(vr){return cr(vr,new Array(vr.length))},arraybuffer:function(vr){return vr.buffer},uint8array:It,nodebuffer:function(vr){return Ut.newBufferFrom(vr)}},_r.nodebuffer={string:Yt,array:function(vr){return cr(vr,new Array(vr.length))},arraybuffer:function(vr){return _r.nodebuffer.uint8array(vr).buffer},uint8array:function(vr){return cr(vr,new Uint8Array(vr.length))},nodebuffer:It},bt.transformTo=function(vr,Yr){if(Yr=Yr||"",!vr)return Yr;bt.checkSupport(vr);var Kr=bt.getTypeOf(Yr);return _r[Kr][vr](Yr)},bt.resolve=function(vr){for(var Yr=vr.split("/"),Kr=[],jr=0;jr<Yr.length;jr++){var Hn=Yr[jr];Hn==="."||Hn===""&&jr!==0&&jr!==Yr.length-1||(Hn===".."?Kr.pop():Kr.push(Hn))}return Kr.join("/")},bt.getTypeOf=function(vr){return typeof vr=="string"?"string":Object.prototype.toString.call(vr)==="[object Array]"?"array":At.nodebuffer&&Ut.isBuffer(vr)?"nodebuffer":At.uint8array&&vr instanceof Uint8Array?"uint8array":At.arraybuffer&&vr instanceof ArrayBuffer?"arraybuffer":void 0},bt.checkSupport=function(vr){if(!At[vr.toLowerCase()])throw new Error(vr+" is not supported by this platform")},bt.MAX_VALUE_16BITS=65535,bt.MAX_VALUE_32BITS=-1,bt.pretty=function(vr){var Yr,Kr,jr="";for(Kr=0;Kr<(vr||"").length;Kr++)jr+="\\x"+((Yr=vr.charCodeAt(Kr))<16?"0":"")+Yr.toString(16).toUpperCase();return jr},bt.delay=function(vr,Yr,Kr){setImmediate(function(){vr.apply(Kr||null,Yr||[])})},bt.inherits=function(vr,Yr){function Kr(){}Kr.prototype=Yr.prototype,vr.prototype=new Kr},bt.extend=function(){var vr,Yr,Kr={};for(vr=0;vr<arguments.length;vr++)for(Yr in arguments[vr])Object.prototype.hasOwnProperty.call(arguments[vr],Yr)&&Kr[Yr]===void 0&&(Kr[Yr]=arguments[vr][Yr]);return Kr},bt.prepareContent=function(vr,Yr,Kr,jr,Hn){return zt.Promise.resolve(Yr).then(function(tA){return At.blob&&(tA instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(tA))!==-1)&&typeof FileReader<"u"?new zt.Promise(function(nA,aA){var lA=new FileReader;lA.onload=function(hA){nA(hA.target.result)},lA.onerror=function(hA){aA(hA.target.error)},lA.readAsArrayBuffer(tA)}):tA}).then(function(tA){var nA=bt.getTypeOf(tA);return nA?(nA==="arraybuffer"?tA=bt.transformTo("uint8array",tA):nA==="string"&&(Hn?tA=Et.decode(tA):Kr&&jr!==!0&&(tA=function(aA){return Qt(aA,At.uint8array?new Uint8Array(aA.length):new Array(aA.length))}(tA))),tA):zt.Promise.reject(new Error("Can't read the data of '"+vr+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(j,et,bt){var At=j("./reader/readerFor"),Et=j("./utils"),Ut=j("./signature"),zt=j("./zipEntry"),It=j("./support");function Qt(Pt){this.files=[],this.loadOptions=Pt}Qt.prototype={checkSignature:function(Pt){if(!this.reader.readAndCheckSignature(Pt)){this.reader.index-=4;var Yt=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Et.pretty(Yt)+", expected "+Et.pretty(Pt)+")")}},isSignature:function(Pt,Yt){var cr=this.reader.index;this.reader.setIndex(Pt);var _r=this.reader.readString(4)===Yt;return this.reader.setIndex(cr),_r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Pt=this.reader.readData(this.zipCommentLength),Yt=It.uint8array?"uint8array":"array",cr=Et.transformTo(Yt,Pt);this.zipComment=this.loadOptions.decodeFileName(cr)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Pt,Yt,cr,_r=this.zip64EndOfCentralSize-44;0<_r;)Pt=this.reader.readInt(2),Yt=this.reader.readInt(4),cr=this.reader.readData(Yt),this.zip64ExtensibleData[Pt]={id:Pt,length:Yt,value:cr}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Pt,Yt;for(Pt=0;Pt<this.files.length;Pt++)Yt=this.files[Pt],this.reader.setIndex(Yt.localHeaderOffset),this.checkSignature(Ut.LOCAL_FILE_HEADER),Yt.readLocalPart(this.reader),Yt.handleUTF8(),Yt.processAttributes()},readCentralDir:function(){var Pt;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(Ut.CENTRAL_FILE_HEADER);)(Pt=new zt({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Pt);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Pt=this.reader.lastIndexOfSignature(Ut.CENTRAL_DIRECTORY_END);if(Pt<0)throw this.isSignature(0,Ut.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Pt);var Yt=Pt;if(this.checkSignature(Ut.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===Et.MAX_VALUE_16BITS||this.diskWithCentralDirStart===Et.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===Et.MAX_VALUE_16BITS||this.centralDirRecords===Et.MAX_VALUE_16BITS||this.centralDirSize===Et.MAX_VALUE_32BITS||this.centralDirOffset===Et.MAX_VALUE_32BITS){if(this.zip64=!0,(Pt=this.reader.lastIndexOfSignature(Ut.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Pt),this.checkSignature(Ut.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Ut.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Ut.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Ut.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var cr=this.centralDirOffset+this.centralDirSize;this.zip64&&(cr+=20,cr+=12+this.zip64EndOfCentralSize);var _r=Yt-cr;if(0<_r)this.isSignature(Yt,Ut.CENTRAL_FILE_HEADER)||(this.reader.zero=_r);else if(_r<0)throw new Error("Corrupted zip: missing "+Math.abs(_r)+" bytes.")},prepareReader:function(Pt){this.reader=At(Pt)},load:function(Pt){this.prepareReader(Pt),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},et.exports=Qt},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(j,et,bt){var At=j("./reader/readerFor"),Et=j("./utils"),Ut=j("./compressedObject"),zt=j("./crc32"),It=j("./utf8"),Qt=j("./compressions"),Pt=j("./support");function Yt(cr,_r){this.options=cr,this.loadOptions=_r}Yt.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(cr){var _r,vr;if(cr.skip(22),this.fileNameLength=cr.readInt(2),vr=cr.readInt(2),this.fileName=cr.readData(this.fileNameLength),cr.skip(vr),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_r=function(Yr){for(var Kr in Qt)if(Object.prototype.hasOwnProperty.call(Qt,Kr)&&Qt[Kr].magic===Yr)return Qt[Kr];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+Et.pretty(this.compressionMethod)+" unknown (inner file : "+Et.transformTo("string",this.fileName)+")");this.decompressed=new Ut(this.compressedSize,this.uncompressedSize,this.crc32,_r,cr.readData(this.compressedSize))},readCentralPart:function(cr){this.versionMadeBy=cr.readInt(2),cr.skip(2),this.bitFlag=cr.readInt(2),this.compressionMethod=cr.readString(2),this.date=cr.readDate(),this.crc32=cr.readInt(4),this.compressedSize=cr.readInt(4),this.uncompressedSize=cr.readInt(4);var _r=cr.readInt(2);if(this.extraFieldsLength=cr.readInt(2),this.fileCommentLength=cr.readInt(2),this.diskNumberStart=cr.readInt(2),this.internalFileAttributes=cr.readInt(2),this.externalFileAttributes=cr.readInt(4),this.localHeaderOffset=cr.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");cr.skip(_r),this.readExtraFields(cr),this.parseZIP64ExtraField(cr),this.fileComment=cr.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var cr=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),cr==0&&(this.dosPermissions=63&this.externalFileAttributes),cr==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var cr=At(this.extraFields[1].value);this.uncompressedSize===Et.MAX_VALUE_32BITS&&(this.uncompressedSize=cr.readInt(8)),this.compressedSize===Et.MAX_VALUE_32BITS&&(this.compressedSize=cr.readInt(8)),this.localHeaderOffset===Et.MAX_VALUE_32BITS&&(this.localHeaderOffset=cr.readInt(8)),this.diskNumberStart===Et.MAX_VALUE_32BITS&&(this.diskNumberStart=cr.readInt(4))}},readExtraFields:function(cr){var _r,vr,Yr,Kr=cr.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});cr.index+4<Kr;)_r=cr.readInt(2),vr=cr.readInt(2),Yr=cr.readData(vr),this.extraFields[_r]={id:_r,length:vr,value:Yr};cr.setIndex(Kr)},handleUTF8:function(){var cr=Pt.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=It.utf8decode(this.fileName),this.fileCommentStr=It.utf8decode(this.fileComment);else{var _r=this.findExtraFieldUnicodePath();if(_r!==null)this.fileNameStr=_r;else{var vr=Et.transformTo(cr,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(vr)}var Yr=this.findExtraFieldUnicodeComment();if(Yr!==null)this.fileCommentStr=Yr;else{var Kr=Et.transformTo(cr,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Kr)}}},findExtraFieldUnicodePath:function(){var cr=this.extraFields[28789];if(cr){var _r=At(cr.value);return _r.readInt(1)!==1||zt(this.fileName)!==_r.readInt(4)?null:It.utf8decode(_r.readData(cr.length-5))}return null},findExtraFieldUnicodeComment:function(){var cr=this.extraFields[25461];if(cr){var _r=At(cr.value);return _r.readInt(1)!==1||zt(this.fileComment)!==_r.readInt(4)?null:It.utf8decode(_r.readData(cr.length-5))}return null}},et.exports=Yt},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(j,et,bt){function At(_r,vr,Yr){this.name=_r,this.dir=Yr.dir,this.date=Yr.date,this.comment=Yr.comment,this.unixPermissions=Yr.unixPermissions,this.dosPermissions=Yr.dosPermissions,this._data=vr,this._dataBinary=Yr.binary,this.options={compression:Yr.compression,compressionOptions:Yr.compressionOptions}}var Et=j("./stream/StreamHelper"),Ut=j("./stream/DataWorker"),zt=j("./utf8"),It=j("./compressedObject"),Qt=j("./stream/GenericWorker");At.prototype={internalStream:function(_r){var vr=null,Yr="string";try{if(!_r)throw new Error("No output type specified.");var Kr=(Yr=_r.toLowerCase())==="string"||Yr==="text";Yr!=="binarystring"&&Yr!=="text"||(Yr="string"),vr=this._decompressWorker();var jr=!this._dataBinary;jr&&!Kr&&(vr=vr.pipe(new zt.Utf8EncodeWorker)),!jr&&Kr&&(vr=vr.pipe(new zt.Utf8DecodeWorker))}catch(Hn){(vr=new Qt("error")).error(Hn)}return new Et(vr,Yr,"")},async:function(_r,vr){return this.internalStream(_r).accumulate(vr)},nodeStream:function(_r,vr){return this.internalStream(_r||"nodebuffer").toNodejsStream(vr)},_compressWorker:function(_r,vr){if(this._data instanceof It&&this._data.compression.magic===_r.magic)return this._data.getCompressedWorker();var Yr=this._decompressWorker();return this._dataBinary||(Yr=Yr.pipe(new zt.Utf8EncodeWorker)),It.createWorkerFrom(Yr,_r,vr)},_decompressWorker:function(){return this._data instanceof It?this._data.getContentWorker():this._data instanceof Qt?this._data:new Ut(this._data)}};for(var Pt=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Yt=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},cr=0;cr<Pt.length;cr++)At.prototype[Pt[cr]]=Yt;et.exports=At},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(j,et,bt){(function(At){var Et,Ut,zt=At.MutationObserver||At.WebKitMutationObserver;if(zt){var It=0,Qt=new zt(_r),Pt=At.document.createTextNode("");Qt.observe(Pt,{characterData:!0}),Et=function(){Pt.data=It=++It%2}}else if(At.setImmediate||At.MessageChannel===void 0)Et="document"in At&&"onreadystatechange"in At.document.createElement("script")?function(){var vr=At.document.createElement("script");vr.onreadystatechange=function(){_r(),vr.onreadystatechange=null,vr.parentNode.removeChild(vr),vr=null},At.document.documentElement.appendChild(vr)}:function(){setTimeout(_r,0)};else{var Yt=new At.MessageChannel;Yt.port1.onmessage=_r,Et=function(){Yt.port2.postMessage(0)}}var cr=[];function _r(){var vr,Yr;Ut=!0;for(var Kr=cr.length;Kr;){for(Yr=cr,cr=[],vr=-1;++vr<Kr;)Yr[vr]();Kr=cr.length}Ut=!1}et.exports=function(vr){cr.push(vr)!==1||Ut||Et()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(j,et,bt){var At=j("immediate");function Et(){}var Ut={},zt=["REJECTED"],It=["FULFILLED"],Qt=["PENDING"];function Pt(Kr){if(typeof Kr!="function")throw new TypeError("resolver must be a function");this.state=Qt,this.queue=[],this.outcome=void 0,Kr!==Et&&vr(this,Kr)}function Yt(Kr,jr,Hn){this.promise=Kr,typeof jr=="function"&&(this.onFulfilled=jr,this.callFulfilled=this.otherCallFulfilled),typeof Hn=="function"&&(this.onRejected=Hn,this.callRejected=this.otherCallRejected)}function cr(Kr,jr,Hn){At(function(){var tA;try{tA=jr(Hn)}catch(nA){return Ut.reject(Kr,nA)}tA===Kr?Ut.reject(Kr,new TypeError("Cannot resolve promise with itself")):Ut.resolve(Kr,tA)})}function _r(Kr){var jr=Kr&&Kr.then;if(Kr&&(typeof Kr=="object"||typeof Kr=="function")&&typeof jr=="function")return function(){jr.apply(Kr,arguments)}}function vr(Kr,jr){var Hn=!1;function tA(lA){Hn||(Hn=!0,Ut.reject(Kr,lA))}function nA(lA){Hn||(Hn=!0,Ut.resolve(Kr,lA))}var aA=Yr(function(){jr(nA,tA)});aA.status==="error"&&tA(aA.value)}function Yr(Kr,jr){var Hn={};try{Hn.value=Kr(jr),Hn.status="success"}catch(tA){Hn.status="error",Hn.value=tA}return Hn}(et.exports=Pt).prototype.finally=function(Kr){if(typeof Kr!="function")return this;var jr=this.constructor;return this.then(function(Hn){return jr.resolve(Kr()).then(function(){return Hn})},function(Hn){return jr.resolve(Kr()).then(function(){throw Hn})})},Pt.prototype.catch=function(Kr){return this.then(null,Kr)},Pt.prototype.then=function(Kr,jr){if(typeof Kr!="function"&&this.state===It||typeof jr!="function"&&this.state===zt)return this;var Hn=new this.constructor(Et);return this.state!==Qt?cr(Hn,this.state===It?Kr:jr,this.outcome):this.queue.push(new Yt(Hn,Kr,jr)),Hn},Yt.prototype.callFulfilled=function(Kr){Ut.resolve(this.promise,Kr)},Yt.prototype.otherCallFulfilled=function(Kr){cr(this.promise,this.onFulfilled,Kr)},Yt.prototype.callRejected=function(Kr){Ut.reject(this.promise,Kr)},Yt.prototype.otherCallRejected=function(Kr){cr(this.promise,this.onRejected,Kr)},Ut.resolve=function(Kr,jr){var Hn=Yr(_r,jr);if(Hn.status==="error")return Ut.reject(Kr,Hn.value);var tA=Hn.value;if(tA)vr(Kr,tA);else{Kr.state=It,Kr.outcome=jr;for(var nA=-1,aA=Kr.queue.length;++nA<aA;)Kr.queue[nA].callFulfilled(jr)}return Kr},Ut.reject=function(Kr,jr){Kr.state=zt,Kr.outcome=jr;for(var Hn=-1,tA=Kr.queue.length;++Hn<tA;)Kr.queue[Hn].callRejected(jr);return Kr},Pt.resolve=function(Kr){return Kr instanceof this?Kr:Ut.resolve(new this(Et),Kr)},Pt.reject=function(Kr){var jr=new this(Et);return Ut.reject(jr,Kr)},Pt.all=function(Kr){var jr=this;if(Object.prototype.toString.call(Kr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Hn=Kr.length,tA=!1;if(!Hn)return this.resolve([]);for(var nA=new Array(Hn),aA=0,lA=-1,hA=new this(Et);++lA<Hn;)pA(Kr[lA],lA);return hA;function pA(wA,NA){jr.resolve(wA).then(function(cA){nA[NA]=cA,++aA!==Hn||tA||(tA=!0,Ut.resolve(hA,nA))},function(cA){tA||(tA=!0,Ut.reject(hA,cA))})}},Pt.race=function(Kr){var jr=this;if(Object.prototype.toString.call(Kr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Hn=Kr.length,tA=!1;if(!Hn)return this.resolve([]);for(var nA=-1,aA=new this(Et);++nA<Hn;)lA=Kr[nA],jr.resolve(lA).then(function(hA){tA||(tA=!0,Ut.resolve(aA,hA))},function(hA){tA||(tA=!0,Ut.reject(aA,hA))});var lA;return aA}},{immediate:36}],38:[function(j,et,bt){var At={};(0,j("./lib/utils/common").assign)(At,j("./lib/deflate"),j("./lib/inflate"),j("./lib/zlib/constants")),et.exports=At},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(j,et,bt){var At=j("./zlib/deflate"),Et=j("./utils/common"),Ut=j("./utils/strings"),zt=j("./zlib/messages"),It=j("./zlib/zstream"),Qt=Object.prototype.toString,Pt=0,Yt=-1,cr=0,_r=8;function vr(Kr){if(!(this instanceof vr))return new vr(Kr);this.options=Et.assign({level:Yt,method:_r,chunkSize:16384,windowBits:15,memLevel:8,strategy:cr,to:""},Kr||{});var jr=this.options;jr.raw&&0<jr.windowBits?jr.windowBits=-jr.windowBits:jr.gzip&&0<jr.windowBits&&jr.windowBits<16&&(jr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new It,this.strm.avail_out=0;var Hn=At.deflateInit2(this.strm,jr.level,jr.method,jr.windowBits,jr.memLevel,jr.strategy);if(Hn!==Pt)throw new Error(zt[Hn]);if(jr.header&&At.deflateSetHeader(this.strm,jr.header),jr.dictionary){var tA;if(tA=typeof jr.dictionary=="string"?Ut.string2buf(jr.dictionary):Qt.call(jr.dictionary)==="[object ArrayBuffer]"?new Uint8Array(jr.dictionary):jr.dictionary,(Hn=At.deflateSetDictionary(this.strm,tA))!==Pt)throw new Error(zt[Hn]);this._dict_set=!0}}function Yr(Kr,jr){var Hn=new vr(jr);if(Hn.push(Kr,!0),Hn.err)throw Hn.msg||zt[Hn.err];return Hn.result}vr.prototype.push=function(Kr,jr){var Hn,tA,nA=this.strm,aA=this.options.chunkSize;if(this.ended)return!1;tA=jr===~~jr?jr:jr===!0?4:0,typeof Kr=="string"?nA.input=Ut.string2buf(Kr):Qt.call(Kr)==="[object ArrayBuffer]"?nA.input=new Uint8Array(Kr):nA.input=Kr,nA.next_in=0,nA.avail_in=nA.input.length;do{if(nA.avail_out===0&&(nA.output=new Et.Buf8(aA),nA.next_out=0,nA.avail_out=aA),(Hn=At.deflate(nA,tA))!==1&&Hn!==Pt)return this.onEnd(Hn),!(this.ended=!0);nA.avail_out!==0&&(nA.avail_in!==0||tA!==4&&tA!==2)||(this.options.to==="string"?this.onData(Ut.buf2binstring(Et.shrinkBuf(nA.output,nA.next_out))):this.onData(Et.shrinkBuf(nA.output,nA.next_out)))}while((0<nA.avail_in||nA.avail_out===0)&&Hn!==1);return tA===4?(Hn=At.deflateEnd(this.strm),this.onEnd(Hn),this.ended=!0,Hn===Pt):tA!==2||(this.onEnd(Pt),!(nA.avail_out=0))},vr.prototype.onData=function(Kr){this.chunks.push(Kr)},vr.prototype.onEnd=function(Kr){Kr===Pt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Et.flattenChunks(this.chunks)),this.chunks=[],this.err=Kr,this.msg=this.strm.msg},bt.Deflate=vr,bt.deflate=Yr,bt.deflateRaw=function(Kr,jr){return(jr=jr||{}).raw=!0,Yr(Kr,jr)},bt.gzip=function(Kr,jr){return(jr=jr||{}).gzip=!0,Yr(Kr,jr)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(j,et,bt){var At=j("./zlib/inflate"),Et=j("./utils/common"),Ut=j("./utils/strings"),zt=j("./zlib/constants"),It=j("./zlib/messages"),Qt=j("./zlib/zstream"),Pt=j("./zlib/gzheader"),Yt=Object.prototype.toString;function cr(vr){if(!(this instanceof cr))return new cr(vr);this.options=Et.assign({chunkSize:16384,windowBits:0,to:""},vr||{});var Yr=this.options;Yr.raw&&0<=Yr.windowBits&&Yr.windowBits<16&&(Yr.windowBits=-Yr.windowBits,Yr.windowBits===0&&(Yr.windowBits=-15)),!(0<=Yr.windowBits&&Yr.windowBits<16)||vr&&vr.windowBits||(Yr.windowBits+=32),15<Yr.windowBits&&Yr.windowBits<48&&!(15&Yr.windowBits)&&(Yr.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;var Kr=At.inflateInit2(this.strm,Yr.windowBits);if(Kr!==zt.Z_OK)throw new Error(It[Kr]);this.header=new Pt,At.inflateGetHeader(this.strm,this.header)}function _r(vr,Yr){var Kr=new cr(Yr);if(Kr.push(vr,!0),Kr.err)throw Kr.msg||It[Kr.err];return Kr.result}cr.prototype.push=function(vr,Yr){var Kr,jr,Hn,tA,nA,aA,lA=this.strm,hA=this.options.chunkSize,pA=this.options.dictionary,wA=!1;if(this.ended)return!1;jr=Yr===~~Yr?Yr:Yr===!0?zt.Z_FINISH:zt.Z_NO_FLUSH,typeof vr=="string"?lA.input=Ut.binstring2buf(vr):Yt.call(vr)==="[object ArrayBuffer]"?lA.input=new Uint8Array(vr):lA.input=vr,lA.next_in=0,lA.avail_in=lA.input.length;do{if(lA.avail_out===0&&(lA.output=new Et.Buf8(hA),lA.next_out=0,lA.avail_out=hA),(Kr=At.inflate(lA,zt.Z_NO_FLUSH))===zt.Z_NEED_DICT&&pA&&(aA=typeof pA=="string"?Ut.string2buf(pA):Yt.call(pA)==="[object ArrayBuffer]"?new Uint8Array(pA):pA,Kr=At.inflateSetDictionary(this.strm,aA)),Kr===zt.Z_BUF_ERROR&&wA===!0&&(Kr=zt.Z_OK,wA=!1),Kr!==zt.Z_STREAM_END&&Kr!==zt.Z_OK)return this.onEnd(Kr),!(this.ended=!0);lA.next_out&&(lA.avail_out!==0&&Kr!==zt.Z_STREAM_END&&(lA.avail_in!==0||jr!==zt.Z_FINISH&&jr!==zt.Z_SYNC_FLUSH)||(this.options.to==="string"?(Hn=Ut.utf8border(lA.output,lA.next_out),tA=lA.next_out-Hn,nA=Ut.buf2string(lA.output,Hn),lA.next_out=tA,lA.avail_out=hA-tA,tA&&Et.arraySet(lA.output,lA.output,Hn,tA,0),this.onData(nA)):this.onData(Et.shrinkBuf(lA.output,lA.next_out)))),lA.avail_in===0&&lA.avail_out===0&&(wA=!0)}while((0<lA.avail_in||lA.avail_out===0)&&Kr!==zt.Z_STREAM_END);return Kr===zt.Z_STREAM_END&&(jr=zt.Z_FINISH),jr===zt.Z_FINISH?(Kr=At.inflateEnd(this.strm),this.onEnd(Kr),this.ended=!0,Kr===zt.Z_OK):jr!==zt.Z_SYNC_FLUSH||(this.onEnd(zt.Z_OK),!(lA.avail_out=0))},cr.prototype.onData=function(vr){this.chunks.push(vr)},cr.prototype.onEnd=function(vr){vr===zt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Et.flattenChunks(this.chunks)),this.chunks=[],this.err=vr,this.msg=this.strm.msg},bt.Inflate=cr,bt.inflate=_r,bt.inflateRaw=function(vr,Yr){return(Yr=Yr||{}).raw=!0,_r(vr,Yr)},bt.ungzip=_r},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(j,et,bt){var At=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";bt.assign=function(zt){for(var It=Array.prototype.slice.call(arguments,1);It.length;){var Qt=It.shift();if(Qt){if(typeof Qt!="object")throw new TypeError(Qt+"must be non-object");for(var Pt in Qt)Qt.hasOwnProperty(Pt)&&(zt[Pt]=Qt[Pt])}}return zt},bt.shrinkBuf=function(zt,It){return zt.length===It?zt:zt.subarray?zt.subarray(0,It):(zt.length=It,zt)};var Et={arraySet:function(zt,It,Qt,Pt,Yt){if(It.subarray&&zt.subarray)zt.set(It.subarray(Qt,Qt+Pt),Yt);else for(var cr=0;cr<Pt;cr++)zt[Yt+cr]=It[Qt+cr]},flattenChunks:function(zt){var It,Qt,Pt,Yt,cr,_r;for(It=Pt=0,Qt=zt.length;It<Qt;It++)Pt+=zt[It].length;for(_r=new Uint8Array(Pt),It=Yt=0,Qt=zt.length;It<Qt;It++)cr=zt[It],_r.set(cr,Yt),Yt+=cr.length;return _r}},Ut={arraySet:function(zt,It,Qt,Pt,Yt){for(var cr=0;cr<Pt;cr++)zt[Yt+cr]=It[Qt+cr]},flattenChunks:function(zt){return[].concat.apply([],zt)}};bt.setTyped=function(zt){zt?(bt.Buf8=Uint8Array,bt.Buf16=Uint16Array,bt.Buf32=Int32Array,bt.assign(bt,Et)):(bt.Buf8=Array,bt.Buf16=Array,bt.Buf32=Array,bt.assign(bt,Ut))},bt.setTyped(At)},{}],42:[function(j,et,bt){var At=j("./common"),Et=!0,Ut=!0;try{String.fromCharCode.apply(null,[0])}catch{Et=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ut=!1}for(var zt=new At.Buf8(256),It=0;It<256;It++)zt[It]=252<=It?6:248<=It?5:240<=It?4:224<=It?3:192<=It?2:1;function Qt(Pt,Yt){if(Yt<65537&&(Pt.subarray&&Ut||!Pt.subarray&&Et))return String.fromCharCode.apply(null,At.shrinkBuf(Pt,Yt));for(var cr="",_r=0;_r<Yt;_r++)cr+=String.fromCharCode(Pt[_r]);return cr}zt[254]=zt[254]=1,bt.string2buf=function(Pt){var Yt,cr,_r,vr,Yr,Kr=Pt.length,jr=0;for(vr=0;vr<Kr;vr++)(64512&(cr=Pt.charCodeAt(vr)))==55296&&vr+1<Kr&&(64512&(_r=Pt.charCodeAt(vr+1)))==56320&&(cr=65536+(cr-55296<<10)+(_r-56320),vr++),jr+=cr<128?1:cr<2048?2:cr<65536?3:4;for(Yt=new At.Buf8(jr),vr=Yr=0;Yr<jr;vr++)(64512&(cr=Pt.charCodeAt(vr)))==55296&&vr+1<Kr&&(64512&(_r=Pt.charCodeAt(vr+1)))==56320&&(cr=65536+(cr-55296<<10)+(_r-56320),vr++),cr<128?Yt[Yr++]=cr:(cr<2048?Yt[Yr++]=192|cr>>>6:(cr<65536?Yt[Yr++]=224|cr>>>12:(Yt[Yr++]=240|cr>>>18,Yt[Yr++]=128|cr>>>12&63),Yt[Yr++]=128|cr>>>6&63),Yt[Yr++]=128|63&cr);return Yt},bt.buf2binstring=function(Pt){return Qt(Pt,Pt.length)},bt.binstring2buf=function(Pt){for(var Yt=new At.Buf8(Pt.length),cr=0,_r=Yt.length;cr<_r;cr++)Yt[cr]=Pt.charCodeAt(cr);return Yt},bt.buf2string=function(Pt,Yt){var cr,_r,vr,Yr,Kr=Yt||Pt.length,jr=new Array(2*Kr);for(cr=_r=0;cr<Kr;)if((vr=Pt[cr++])<128)jr[_r++]=vr;else if(4<(Yr=zt[vr]))jr[_r++]=65533,cr+=Yr-1;else{for(vr&=Yr===2?31:Yr===3?15:7;1<Yr&&cr<Kr;)vr=vr<<6|63&Pt[cr++],Yr--;1<Yr?jr[_r++]=65533:vr<65536?jr[_r++]=vr:(vr-=65536,jr[_r++]=55296|vr>>10&1023,jr[_r++]=56320|1023&vr)}return Qt(jr,_r)},bt.utf8border=function(Pt,Yt){var cr;for((Yt=Yt||Pt.length)>Pt.length&&(Yt=Pt.length),cr=Yt-1;0<=cr&&(192&Pt[cr])==128;)cr--;return cr<0||cr===0?Yt:cr+zt[Pt[cr]]>Yt?cr:Yt}},{"./common":41}],43:[function(j,et,bt){et.exports=function(At,Et,Ut,zt){for(var It=65535&At|0,Qt=At>>>16&65535|0,Pt=0;Ut!==0;){for(Ut-=Pt=2e3<Ut?2e3:Ut;Qt=Qt+(It=It+Et[zt++]|0)|0,--Pt;);It%=65521,Qt%=65521}return It|Qt<<16|0}},{}],44:[function(j,et,bt){et.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(j,et,bt){var At=function(){for(var Et,Ut=[],zt=0;zt<256;zt++){Et=zt;for(var It=0;It<8;It++)Et=1&Et?3988292384^Et>>>1:Et>>>1;Ut[zt]=Et}return Ut}();et.exports=function(Et,Ut,zt,It){var Qt=At,Pt=It+zt;Et^=-1;for(var Yt=It;Yt<Pt;Yt++)Et=Et>>>8^Qt[255&(Et^Ut[Yt])];return-1^Et}},{}],46:[function(j,et,bt){var At,Et=j("../utils/common"),Ut=j("./trees"),zt=j("./adler32"),It=j("./crc32"),Qt=j("./messages"),Pt=0,Yt=4,cr=0,_r=-2,vr=-1,Yr=4,Kr=2,jr=8,Hn=9,tA=286,nA=30,aA=19,lA=2*tA+1,hA=15,pA=3,wA=258,NA=wA+pA+1,cA=42,CA=113,sA=1,UA=2,LA=3,RA=4;function kA(uA,ZA){return uA.msg=Qt[ZA],ZA}function OA(uA){return(uA<<1)-(4<uA?9:0)}function KA(uA){for(var ZA=uA.length;0<=--ZA;)uA[ZA]=0}function yA(uA){var ZA=uA.state,jA=ZA.pending;jA>uA.avail_out&&(jA=uA.avail_out),jA!==0&&(Et.arraySet(uA.output,ZA.pending_buf,ZA.pending_out,jA,uA.next_out),uA.next_out+=jA,ZA.pending_out+=jA,uA.total_out+=jA,uA.avail_out-=jA,ZA.pending-=jA,ZA.pending===0&&(ZA.pending_out=0))}function TA(uA,ZA){Ut._tr_flush_block(uA,0<=uA.block_start?uA.block_start:-1,uA.strstart-uA.block_start,ZA),uA.block_start=uA.strstart,yA(uA.strm)}function r0(uA,ZA){uA.pending_buf[uA.pending++]=ZA}function qA(uA,ZA){uA.pending_buf[uA.pending++]=ZA>>>8&255,uA.pending_buf[uA.pending++]=255&ZA}function XA(uA,ZA){var jA,IA,$A=uA.max_chain_length,QA=uA.strstart,n0=uA.prev_length,t0=uA.nice_match,GA=uA.strstart>uA.w_size-NA?uA.strstart-(uA.w_size-NA):0,A0=uA.window,y0=uA.w_mask,f0=uA.prev,P0=uA.strstart+wA,K0=A0[QA+n0-1],$0=A0[QA+n0];uA.prev_length>=uA.good_match&&($A>>=2),t0>uA.lookahead&&(t0=uA.lookahead);do if(A0[(jA=ZA)+n0]===$0&&A0[jA+n0-1]===K0&&A0[jA]===A0[QA]&&A0[++jA]===A0[QA+1]){QA+=2,jA++;do;while(A0[++QA]===A0[++jA]&&A0[++QA]===A0[++jA]&&A0[++QA]===A0[++jA]&&A0[++QA]===A0[++jA]&&A0[++QA]===A0[++jA]&&A0[++QA]===A0[++jA]&&A0[++QA]===A0[++jA]&&A0[++QA]===A0[++jA]&&QA<P0);if(IA=wA-(P0-QA),QA=P0-wA,n0<IA){if(uA.match_start=ZA,t0<=(n0=IA))break;K0=A0[QA+n0-1],$0=A0[QA+n0]}}while((ZA=f0[ZA&y0])>GA&&--$A!=0);return n0<=uA.lookahead?n0:uA.lookahead}function S0(uA){var ZA,jA,IA,$A,QA,n0,t0,GA,A0,y0,f0=uA.w_size;do{if($A=uA.window_size-uA.lookahead-uA.strstart,uA.strstart>=f0+(f0-NA)){for(Et.arraySet(uA.window,uA.window,f0,f0,0),uA.match_start-=f0,uA.strstart-=f0,uA.block_start-=f0,ZA=jA=uA.hash_size;IA=uA.head[--ZA],uA.head[ZA]=f0<=IA?IA-f0:0,--jA;);for(ZA=jA=f0;IA=uA.prev[--ZA],uA.prev[ZA]=f0<=IA?IA-f0:0,--jA;);$A+=f0}if(uA.strm.avail_in===0)break;if(n0=uA.strm,t0=uA.window,GA=uA.strstart+uA.lookahead,A0=$A,y0=void 0,y0=n0.avail_in,A0<y0&&(y0=A0),jA=y0===0?0:(n0.avail_in-=y0,Et.arraySet(t0,n0.input,n0.next_in,y0,GA),n0.state.wrap===1?n0.adler=zt(n0.adler,t0,y0,GA):n0.state.wrap===2&&(n0.adler=It(n0.adler,t0,y0,GA)),n0.next_in+=y0,n0.total_in+=y0,y0),uA.lookahead+=jA,uA.lookahead+uA.insert>=pA)for(QA=uA.strstart-uA.insert,uA.ins_h=uA.window[QA],uA.ins_h=(uA.ins_h<<uA.hash_shift^uA.window[QA+1])&uA.hash_mask;uA.insert&&(uA.ins_h=(uA.ins_h<<uA.hash_shift^uA.window[QA+pA-1])&uA.hash_mask,uA.prev[QA&uA.w_mask]=uA.head[uA.ins_h],uA.head[uA.ins_h]=QA,QA++,uA.insert--,!(uA.lookahead+uA.insert<pA)););}while(uA.lookahead<NA&&uA.strm.avail_in!==0)}function U0(uA,ZA){for(var jA,IA;;){if(uA.lookahead<NA){if(S0(uA),uA.lookahead<NA&&ZA===Pt)return sA;if(uA.lookahead===0)break}if(jA=0,uA.lookahead>=pA&&(uA.ins_h=(uA.ins_h<<uA.hash_shift^uA.window[uA.strstart+pA-1])&uA.hash_mask,jA=uA.prev[uA.strstart&uA.w_mask]=uA.head[uA.ins_h],uA.head[uA.ins_h]=uA.strstart),jA!==0&&uA.strstart-jA<=uA.w_size-NA&&(uA.match_length=XA(uA,jA)),uA.match_length>=pA)if(IA=Ut._tr_tally(uA,uA.strstart-uA.match_start,uA.match_length-pA),uA.lookahead-=uA.match_length,uA.match_length<=uA.max_lazy_match&&uA.lookahead>=pA){for(uA.match_length--;uA.strstart++,uA.ins_h=(uA.ins_h<<uA.hash_shift^uA.window[uA.strstart+pA-1])&uA.hash_mask,jA=uA.prev[uA.strstart&uA.w_mask]=uA.head[uA.ins_h],uA.head[uA.ins_h]=uA.strstart,--uA.match_length!=0;);uA.strstart++}else uA.strstart+=uA.match_length,uA.match_length=0,uA.ins_h=uA.window[uA.strstart],uA.ins_h=(uA.ins_h<<uA.hash_shift^uA.window[uA.strstart+1])&uA.hash_mask;else IA=Ut._tr_tally(uA,0,uA.window[uA.strstart]),uA.lookahead--,uA.strstart++;if(IA&&(TA(uA,!1),uA.strm.avail_out===0))return sA}return uA.insert=uA.strstart<pA-1?uA.strstart:pA-1,ZA===Yt?(TA(uA,!0),uA.strm.avail_out===0?LA:RA):uA.last_lit&&(TA(uA,!1),uA.strm.avail_out===0)?sA:UA}function C0(uA,ZA){for(var jA,IA,$A;;){if(uA.lookahead<NA){if(S0(uA),uA.lookahead<NA&&ZA===Pt)return sA;if(uA.lookahead===0)break}if(jA=0,uA.lookahead>=pA&&(uA.ins_h=(uA.ins_h<<uA.hash_shift^uA.window[uA.strstart+pA-1])&uA.hash_mask,jA=uA.prev[uA.strstart&uA.w_mask]=uA.head[uA.ins_h],uA.head[uA.ins_h]=uA.strstart),uA.prev_length=uA.match_length,uA.prev_match=uA.match_start,uA.match_length=pA-1,jA!==0&&uA.prev_length<uA.max_lazy_match&&uA.strstart-jA<=uA.w_size-NA&&(uA.match_length=XA(uA,jA),uA.match_length<=5&&(uA.strategy===1||uA.match_length===pA&&4096<uA.strstart-uA.match_start)&&(uA.match_length=pA-1)),uA.prev_length>=pA&&uA.match_length<=uA.prev_length){for($A=uA.strstart+uA.lookahead-pA,IA=Ut._tr_tally(uA,uA.strstart-1-uA.prev_match,uA.prev_length-pA),uA.lookahead-=uA.prev_length-1,uA.prev_length-=2;++uA.strstart<=$A&&(uA.ins_h=(uA.ins_h<<uA.hash_shift^uA.window[uA.strstart+pA-1])&uA.hash_mask,jA=uA.prev[uA.strstart&uA.w_mask]=uA.head[uA.ins_h],uA.head[uA.ins_h]=uA.strstart),--uA.prev_length!=0;);if(uA.match_available=0,uA.match_length=pA-1,uA.strstart++,IA&&(TA(uA,!1),uA.strm.avail_out===0))return sA}else if(uA.match_available){if((IA=Ut._tr_tally(uA,0,uA.window[uA.strstart-1]))&&TA(uA,!1),uA.strstart++,uA.lookahead--,uA.strm.avail_out===0)return sA}else uA.match_available=1,uA.strstart++,uA.lookahead--}return uA.match_available&&(IA=Ut._tr_tally(uA,0,uA.window[uA.strstart-1]),uA.match_available=0),uA.insert=uA.strstart<pA-1?uA.strstart:pA-1,ZA===Yt?(TA(uA,!0),uA.strm.avail_out===0?LA:RA):uA.last_lit&&(TA(uA,!1),uA.strm.avail_out===0)?sA:UA}function B0(uA,ZA,jA,IA,$A){this.good_length=uA,this.max_lazy=ZA,this.nice_length=jA,this.max_chain=IA,this.func=$A}function Q0(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=jr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Et.Buf16(2*lA),this.dyn_dtree=new Et.Buf16(2*(2*nA+1)),this.bl_tree=new Et.Buf16(2*(2*aA+1)),KA(this.dyn_ltree),KA(this.dyn_dtree),KA(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Et.Buf16(hA+1),this.heap=new Et.Buf16(2*tA+1),KA(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Et.Buf16(2*tA+1),KA(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T0(uA){var ZA;return uA&&uA.state?(uA.total_in=uA.total_out=0,uA.data_type=Kr,(ZA=uA.state).pending=0,ZA.pending_out=0,ZA.wrap<0&&(ZA.wrap=-ZA.wrap),ZA.status=ZA.wrap?cA:CA,uA.adler=ZA.wrap===2?0:1,ZA.last_flush=Pt,Ut._tr_init(ZA),cr):kA(uA,_r)}function F0(uA){var ZA=T0(uA);return ZA===cr&&function(jA){jA.window_size=2*jA.w_size,KA(jA.head),jA.max_lazy_match=At[jA.level].max_lazy,jA.good_match=At[jA.level].good_length,jA.nice_match=At[jA.level].nice_length,jA.max_chain_length=At[jA.level].max_chain,jA.strstart=0,jA.block_start=0,jA.lookahead=0,jA.insert=0,jA.match_length=jA.prev_length=pA-1,jA.match_available=0,jA.ins_h=0}(uA.state),ZA}function k0(uA,ZA,jA,IA,$A,QA){if(!uA)return _r;var n0=1;if(ZA===vr&&(ZA=6),IA<0?(n0=0,IA=-IA):15<IA&&(n0=2,IA-=16),$A<1||Hn<$A||jA!==jr||IA<8||15<IA||ZA<0||9<ZA||QA<0||Yr<QA)return kA(uA,_r);IA===8&&(IA=9);var t0=new Q0;return(uA.state=t0).strm=uA,t0.wrap=n0,t0.gzhead=null,t0.w_bits=IA,t0.w_size=1<<t0.w_bits,t0.w_mask=t0.w_size-1,t0.hash_bits=$A+7,t0.hash_size=1<<t0.hash_bits,t0.hash_mask=t0.hash_size-1,t0.hash_shift=~~((t0.hash_bits+pA-1)/pA),t0.window=new Et.Buf8(2*t0.w_size),t0.head=new Et.Buf16(t0.hash_size),t0.prev=new Et.Buf16(t0.w_size),t0.lit_bufsize=1<<$A+6,t0.pending_buf_size=4*t0.lit_bufsize,t0.pending_buf=new Et.Buf8(t0.pending_buf_size),t0.d_buf=1*t0.lit_bufsize,t0.l_buf=3*t0.lit_bufsize,t0.level=ZA,t0.strategy=QA,t0.method=jA,F0(uA)}At=[new B0(0,0,0,0,function(uA,ZA){var jA=65535;for(jA>uA.pending_buf_size-5&&(jA=uA.pending_buf_size-5);;){if(uA.lookahead<=1){if(S0(uA),uA.lookahead===0&&ZA===Pt)return sA;if(uA.lookahead===0)break}uA.strstart+=uA.lookahead,uA.lookahead=0;var IA=uA.block_start+jA;if((uA.strstart===0||uA.strstart>=IA)&&(uA.lookahead=uA.strstart-IA,uA.strstart=IA,TA(uA,!1),uA.strm.avail_out===0)||uA.strstart-uA.block_start>=uA.w_size-NA&&(TA(uA,!1),uA.strm.avail_out===0))return sA}return uA.insert=0,ZA===Yt?(TA(uA,!0),uA.strm.avail_out===0?LA:RA):(uA.strstart>uA.block_start&&(TA(uA,!1),uA.strm.avail_out),sA)}),new B0(4,4,8,4,U0),new B0(4,5,16,8,U0),new B0(4,6,32,32,U0),new B0(4,4,16,16,C0),new B0(8,16,32,32,C0),new B0(8,16,128,128,C0),new B0(8,32,128,256,C0),new B0(32,128,258,1024,C0),new B0(32,258,258,4096,C0)],bt.deflateInit=function(uA,ZA){return k0(uA,ZA,jr,15,8,0)},bt.deflateInit2=k0,bt.deflateReset=F0,bt.deflateResetKeep=T0,bt.deflateSetHeader=function(uA,ZA){return uA&&uA.state?uA.state.wrap!==2?_r:(uA.state.gzhead=ZA,cr):_r},bt.deflate=function(uA,ZA){var jA,IA,$A,QA;if(!uA||!uA.state||5<ZA||ZA<0)return uA?kA(uA,_r):_r;if(IA=uA.state,!uA.output||!uA.input&&uA.avail_in!==0||IA.status===666&&ZA!==Yt)return kA(uA,uA.avail_out===0?-5:_r);if(IA.strm=uA,jA=IA.last_flush,IA.last_flush=ZA,IA.status===cA)if(IA.wrap===2)uA.adler=0,r0(IA,31),r0(IA,139),r0(IA,8),IA.gzhead?(r0(IA,(IA.gzhead.text?1:0)+(IA.gzhead.hcrc?2:0)+(IA.gzhead.extra?4:0)+(IA.gzhead.name?8:0)+(IA.gzhead.comment?16:0)),r0(IA,255&IA.gzhead.time),r0(IA,IA.gzhead.time>>8&255),r0(IA,IA.gzhead.time>>16&255),r0(IA,IA.gzhead.time>>24&255),r0(IA,IA.level===9?2:2<=IA.strategy||IA.level<2?4:0),r0(IA,255&IA.gzhead.os),IA.gzhead.extra&&IA.gzhead.extra.length&&(r0(IA,255&IA.gzhead.extra.length),r0(IA,IA.gzhead.extra.length>>8&255)),IA.gzhead.hcrc&&(uA.adler=It(uA.adler,IA.pending_buf,IA.pending,0)),IA.gzindex=0,IA.status=69):(r0(IA,0),r0(IA,0),r0(IA,0),r0(IA,0),r0(IA,0),r0(IA,IA.level===9?2:2<=IA.strategy||IA.level<2?4:0),r0(IA,3),IA.status=CA);else{var n0=jr+(IA.w_bits-8<<4)<<8;n0|=(2<=IA.strategy||IA.level<2?0:IA.level<6?1:IA.level===6?2:3)<<6,IA.strstart!==0&&(n0|=32),n0+=31-n0%31,IA.status=CA,qA(IA,n0),IA.strstart!==0&&(qA(IA,uA.adler>>>16),qA(IA,65535&uA.adler)),uA.adler=1}if(IA.status===69)if(IA.gzhead.extra){for($A=IA.pending;IA.gzindex<(65535&IA.gzhead.extra.length)&&(IA.pending!==IA.pending_buf_size||(IA.gzhead.hcrc&&IA.pending>$A&&(uA.adler=It(uA.adler,IA.pending_buf,IA.pending-$A,$A)),yA(uA),$A=IA.pending,IA.pending!==IA.pending_buf_size));)r0(IA,255&IA.gzhead.extra[IA.gzindex]),IA.gzindex++;IA.gzhead.hcrc&&IA.pending>$A&&(uA.adler=It(uA.adler,IA.pending_buf,IA.pending-$A,$A)),IA.gzindex===IA.gzhead.extra.length&&(IA.gzindex=0,IA.status=73)}else IA.status=73;if(IA.status===73)if(IA.gzhead.name){$A=IA.pending;do{if(IA.pending===IA.pending_buf_size&&(IA.gzhead.hcrc&&IA.pending>$A&&(uA.adler=It(uA.adler,IA.pending_buf,IA.pending-$A,$A)),yA(uA),$A=IA.pending,IA.pending===IA.pending_buf_size)){QA=1;break}QA=IA.gzindex<IA.gzhead.name.length?255&IA.gzhead.name.charCodeAt(IA.gzindex++):0,r0(IA,QA)}while(QA!==0);IA.gzhead.hcrc&&IA.pending>$A&&(uA.adler=It(uA.adler,IA.pending_buf,IA.pending-$A,$A)),QA===0&&(IA.gzindex=0,IA.status=91)}else IA.status=91;if(IA.status===91)if(IA.gzhead.comment){$A=IA.pending;do{if(IA.pending===IA.pending_buf_size&&(IA.gzhead.hcrc&&IA.pending>$A&&(uA.adler=It(uA.adler,IA.pending_buf,IA.pending-$A,$A)),yA(uA),$A=IA.pending,IA.pending===IA.pending_buf_size)){QA=1;break}QA=IA.gzindex<IA.gzhead.comment.length?255&IA.gzhead.comment.charCodeAt(IA.gzindex++):0,r0(IA,QA)}while(QA!==0);IA.gzhead.hcrc&&IA.pending>$A&&(uA.adler=It(uA.adler,IA.pending_buf,IA.pending-$A,$A)),QA===0&&(IA.status=103)}else IA.status=103;if(IA.status===103&&(IA.gzhead.hcrc?(IA.pending+2>IA.pending_buf_size&&yA(uA),IA.pending+2<=IA.pending_buf_size&&(r0(IA,255&uA.adler),r0(IA,uA.adler>>8&255),uA.adler=0,IA.status=CA)):IA.status=CA),IA.pending!==0){if(yA(uA),uA.avail_out===0)return IA.last_flush=-1,cr}else if(uA.avail_in===0&&OA(ZA)<=OA(jA)&&ZA!==Yt)return kA(uA,-5);if(IA.status===666&&uA.avail_in!==0)return kA(uA,-5);if(uA.avail_in!==0||IA.lookahead!==0||ZA!==Pt&&IA.status!==666){var t0=IA.strategy===2?function(GA,A0){for(var y0;;){if(GA.lookahead===0&&(S0(GA),GA.lookahead===0)){if(A0===Pt)return sA;break}if(GA.match_length=0,y0=Ut._tr_tally(GA,0,GA.window[GA.strstart]),GA.lookahead--,GA.strstart++,y0&&(TA(GA,!1),GA.strm.avail_out===0))return sA}return GA.insert=0,A0===Yt?(TA(GA,!0),GA.strm.avail_out===0?LA:RA):GA.last_lit&&(TA(GA,!1),GA.strm.avail_out===0)?sA:UA}(IA,ZA):IA.strategy===3?function(GA,A0){for(var y0,f0,P0,K0,$0=GA.window;;){if(GA.lookahead<=wA){if(S0(GA),GA.lookahead<=wA&&A0===Pt)return sA;if(GA.lookahead===0)break}if(GA.match_length=0,GA.lookahead>=pA&&0<GA.strstart&&(f0=$0[P0=GA.strstart-1])===$0[++P0]&&f0===$0[++P0]&&f0===$0[++P0]){K0=GA.strstart+wA;do;while(f0===$0[++P0]&&f0===$0[++P0]&&f0===$0[++P0]&&f0===$0[++P0]&&f0===$0[++P0]&&f0===$0[++P0]&&f0===$0[++P0]&&f0===$0[++P0]&&P0<K0);GA.match_length=wA-(K0-P0),GA.match_length>GA.lookahead&&(GA.match_length=GA.lookahead)}if(GA.match_length>=pA?(y0=Ut._tr_tally(GA,1,GA.match_length-pA),GA.lookahead-=GA.match_length,GA.strstart+=GA.match_length,GA.match_length=0):(y0=Ut._tr_tally(GA,0,GA.window[GA.strstart]),GA.lookahead--,GA.strstart++),y0&&(TA(GA,!1),GA.strm.avail_out===0))return sA}return GA.insert=0,A0===Yt?(TA(GA,!0),GA.strm.avail_out===0?LA:RA):GA.last_lit&&(TA(GA,!1),GA.strm.avail_out===0)?sA:UA}(IA,ZA):At[IA.level].func(IA,ZA);if(t0!==LA&&t0!==RA||(IA.status=666),t0===sA||t0===LA)return uA.avail_out===0&&(IA.last_flush=-1),cr;if(t0===UA&&(ZA===1?Ut._tr_align(IA):ZA!==5&&(Ut._tr_stored_block(IA,0,0,!1),ZA===3&&(KA(IA.head),IA.lookahead===0&&(IA.strstart=0,IA.block_start=0,IA.insert=0))),yA(uA),uA.avail_out===0))return IA.last_flush=-1,cr}return ZA!==Yt?cr:IA.wrap<=0?1:(IA.wrap===2?(r0(IA,255&uA.adler),r0(IA,uA.adler>>8&255),r0(IA,uA.adler>>16&255),r0(IA,uA.adler>>24&255),r0(IA,255&uA.total_in),r0(IA,uA.total_in>>8&255),r0(IA,uA.total_in>>16&255),r0(IA,uA.total_in>>24&255)):(qA(IA,uA.adler>>>16),qA(IA,65535&uA.adler)),yA(uA),0<IA.wrap&&(IA.wrap=-IA.wrap),IA.pending!==0?cr:1)},bt.deflateEnd=function(uA){var ZA;return uA&&uA.state?(ZA=uA.state.status)!==cA&&ZA!==69&&ZA!==73&&ZA!==91&&ZA!==103&&ZA!==CA&&ZA!==666?kA(uA,_r):(uA.state=null,ZA===CA?kA(uA,-3):cr):_r},bt.deflateSetDictionary=function(uA,ZA){var jA,IA,$A,QA,n0,t0,GA,A0,y0=ZA.length;if(!uA||!uA.state||(QA=(jA=uA.state).wrap)===2||QA===1&&jA.status!==cA||jA.lookahead)return _r;for(QA===1&&(uA.adler=zt(uA.adler,ZA,y0,0)),jA.wrap=0,y0>=jA.w_size&&(QA===0&&(KA(jA.head),jA.strstart=0,jA.block_start=0,jA.insert=0),A0=new Et.Buf8(jA.w_size),Et.arraySet(A0,ZA,y0-jA.w_size,jA.w_size,0),ZA=A0,y0=jA.w_size),n0=uA.avail_in,t0=uA.next_in,GA=uA.input,uA.avail_in=y0,uA.next_in=0,uA.input=ZA,S0(jA);jA.lookahead>=pA;){for(IA=jA.strstart,$A=jA.lookahead-(pA-1);jA.ins_h=(jA.ins_h<<jA.hash_shift^jA.window[IA+pA-1])&jA.hash_mask,jA.prev[IA&jA.w_mask]=jA.head[jA.ins_h],jA.head[jA.ins_h]=IA,IA++,--$A;);jA.strstart=IA,jA.lookahead=pA-1,S0(jA)}return jA.strstart+=jA.lookahead,jA.block_start=jA.strstart,jA.insert=jA.lookahead,jA.lookahead=0,jA.match_length=jA.prev_length=pA-1,jA.match_available=0,uA.next_in=t0,uA.input=GA,uA.avail_in=n0,jA.wrap=QA,cr},bt.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(j,et,bt){et.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(j,et,bt){et.exports=function(At,Et){var Ut,zt,It,Qt,Pt,Yt,cr,_r,vr,Yr,Kr,jr,Hn,tA,nA,aA,lA,hA,pA,wA,NA,cA,CA,sA,UA;Ut=At.state,zt=At.next_in,sA=At.input,It=zt+(At.avail_in-5),Qt=At.next_out,UA=At.output,Pt=Qt-(Et-At.avail_out),Yt=Qt+(At.avail_out-257),cr=Ut.dmax,_r=Ut.wsize,vr=Ut.whave,Yr=Ut.wnext,Kr=Ut.window,jr=Ut.hold,Hn=Ut.bits,tA=Ut.lencode,nA=Ut.distcode,aA=(1<<Ut.lenbits)-1,lA=(1<<Ut.distbits)-1;e:do{Hn<15&&(jr+=sA[zt++]<<Hn,Hn+=8,jr+=sA[zt++]<<Hn,Hn+=8),hA=tA[jr&aA];t:for(;;){if(jr>>>=pA=hA>>>24,Hn-=pA,(pA=hA>>>16&255)===0)UA[Qt++]=65535&hA;else{if(!(16&pA)){if(!(64&pA)){hA=tA[(65535&hA)+(jr&(1<<pA)-1)];continue t}if(32&pA){Ut.mode=12;break e}At.msg="invalid literal/length code",Ut.mode=30;break e}wA=65535&hA,(pA&=15)&&(Hn<pA&&(jr+=sA[zt++]<<Hn,Hn+=8),wA+=jr&(1<<pA)-1,jr>>>=pA,Hn-=pA),Hn<15&&(jr+=sA[zt++]<<Hn,Hn+=8,jr+=sA[zt++]<<Hn,Hn+=8),hA=nA[jr&lA];r:for(;;){if(jr>>>=pA=hA>>>24,Hn-=pA,!(16&(pA=hA>>>16&255))){if(!(64&pA)){hA=nA[(65535&hA)+(jr&(1<<pA)-1)];continue r}At.msg="invalid distance code",Ut.mode=30;break e}if(NA=65535&hA,Hn<(pA&=15)&&(jr+=sA[zt++]<<Hn,(Hn+=8)<pA&&(jr+=sA[zt++]<<Hn,Hn+=8)),cr<(NA+=jr&(1<<pA)-1)){At.msg="invalid distance too far back",Ut.mode=30;break e}if(jr>>>=pA,Hn-=pA,(pA=Qt-Pt)<NA){if(vr<(pA=NA-pA)&&Ut.sane){At.msg="invalid distance too far back",Ut.mode=30;break e}if(CA=Kr,(cA=0)===Yr){if(cA+=_r-pA,pA<wA){for(wA-=pA;UA[Qt++]=Kr[cA++],--pA;);cA=Qt-NA,CA=UA}}else if(Yr<pA){if(cA+=_r+Yr-pA,(pA-=Yr)<wA){for(wA-=pA;UA[Qt++]=Kr[cA++],--pA;);if(cA=0,Yr<wA){for(wA-=pA=Yr;UA[Qt++]=Kr[cA++],--pA;);cA=Qt-NA,CA=UA}}}else if(cA+=Yr-pA,pA<wA){for(wA-=pA;UA[Qt++]=Kr[cA++],--pA;);cA=Qt-NA,CA=UA}for(;2<wA;)UA[Qt++]=CA[cA++],UA[Qt++]=CA[cA++],UA[Qt++]=CA[cA++],wA-=3;wA&&(UA[Qt++]=CA[cA++],1<wA&&(UA[Qt++]=CA[cA++]))}else{for(cA=Qt-NA;UA[Qt++]=UA[cA++],UA[Qt++]=UA[cA++],UA[Qt++]=UA[cA++],2<(wA-=3););wA&&(UA[Qt++]=UA[cA++],1<wA&&(UA[Qt++]=UA[cA++]))}break}}break}}while(zt<It&&Qt<Yt);zt-=wA=Hn>>3,jr&=(1<<(Hn-=wA<<3))-1,At.next_in=zt,At.next_out=Qt,At.avail_in=zt<It?It-zt+5:5-(zt-It),At.avail_out=Qt<Yt?Yt-Qt+257:257-(Qt-Yt),Ut.hold=jr,Ut.bits=Hn}},{}],49:[function(j,et,bt){var At=j("../utils/common"),Et=j("./adler32"),Ut=j("./crc32"),zt=j("./inffast"),It=j("./inftrees"),Qt=1,Pt=2,Yt=0,cr=-2,_r=1,vr=852,Yr=592;function Kr(cA){return(cA>>>24&255)+(cA>>>8&65280)+((65280&cA)<<8)+((255&cA)<<24)}function jr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new At.Buf16(320),this.work=new At.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Hn(cA){var CA;return cA&&cA.state?(CA=cA.state,cA.total_in=cA.total_out=CA.total=0,cA.msg="",CA.wrap&&(cA.adler=1&CA.wrap),CA.mode=_r,CA.last=0,CA.havedict=0,CA.dmax=32768,CA.head=null,CA.hold=0,CA.bits=0,CA.lencode=CA.lendyn=new At.Buf32(vr),CA.distcode=CA.distdyn=new At.Buf32(Yr),CA.sane=1,CA.back=-1,Yt):cr}function tA(cA){var CA;return cA&&cA.state?((CA=cA.state).wsize=0,CA.whave=0,CA.wnext=0,Hn(cA)):cr}function nA(cA,CA){var sA,UA;return cA&&cA.state?(UA=cA.state,CA<0?(sA=0,CA=-CA):(sA=1+(CA>>4),CA<48&&(CA&=15)),CA&&(CA<8||15<CA)?cr:(UA.window!==null&&UA.wbits!==CA&&(UA.window=null),UA.wrap=sA,UA.wbits=CA,tA(cA))):cr}function aA(cA,CA){var sA,UA;return cA?(UA=new jr,(cA.state=UA).window=null,(sA=nA(cA,CA))!==Yt&&(cA.state=null),sA):cr}var lA,hA,pA=!0;function wA(cA){if(pA){var CA;for(lA=new At.Buf32(512),hA=new At.Buf32(32),CA=0;CA<144;)cA.lens[CA++]=8;for(;CA<256;)cA.lens[CA++]=9;for(;CA<280;)cA.lens[CA++]=7;for(;CA<288;)cA.lens[CA++]=8;for(It(Qt,cA.lens,0,288,lA,0,cA.work,{bits:9}),CA=0;CA<32;)cA.lens[CA++]=5;It(Pt,cA.lens,0,32,hA,0,cA.work,{bits:5}),pA=!1}cA.lencode=lA,cA.lenbits=9,cA.distcode=hA,cA.distbits=5}function NA(cA,CA,sA,UA){var LA,RA=cA.state;return RA.window===null&&(RA.wsize=1<<RA.wbits,RA.wnext=0,RA.whave=0,RA.window=new At.Buf8(RA.wsize)),UA>=RA.wsize?(At.arraySet(RA.window,CA,sA-RA.wsize,RA.wsize,0),RA.wnext=0,RA.whave=RA.wsize):(UA<(LA=RA.wsize-RA.wnext)&&(LA=UA),At.arraySet(RA.window,CA,sA-UA,LA,RA.wnext),(UA-=LA)?(At.arraySet(RA.window,CA,sA-UA,UA,0),RA.wnext=UA,RA.whave=RA.wsize):(RA.wnext+=LA,RA.wnext===RA.wsize&&(RA.wnext=0),RA.whave<RA.wsize&&(RA.whave+=LA))),0}bt.inflateReset=tA,bt.inflateReset2=nA,bt.inflateResetKeep=Hn,bt.inflateInit=function(cA){return aA(cA,15)},bt.inflateInit2=aA,bt.inflate=function(cA,CA){var sA,UA,LA,RA,kA,OA,KA,yA,TA,r0,qA,XA,S0,U0,C0,B0,Q0,T0,F0,k0,uA,ZA,jA,IA,$A=0,QA=new At.Buf8(4),n0=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!cA||!cA.state||!cA.output||!cA.input&&cA.avail_in!==0)return cr;(sA=cA.state).mode===12&&(sA.mode=13),kA=cA.next_out,LA=cA.output,KA=cA.avail_out,RA=cA.next_in,UA=cA.input,OA=cA.avail_in,yA=sA.hold,TA=sA.bits,r0=OA,qA=KA,ZA=Yt;e:for(;;)switch(sA.mode){case _r:if(sA.wrap===0){sA.mode=13;break}for(;TA<16;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if(2&sA.wrap&&yA===35615){QA[sA.check=0]=255&yA,QA[1]=yA>>>8&255,sA.check=Ut(sA.check,QA,2,0),TA=yA=0,sA.mode=2;break}if(sA.flags=0,sA.head&&(sA.head.done=!1),!(1&sA.wrap)||(((255&yA)<<8)+(yA>>8))%31){cA.msg="incorrect header check",sA.mode=30;break}if((15&yA)!=8){cA.msg="unknown compression method",sA.mode=30;break}if(TA-=4,uA=8+(15&(yA>>>=4)),sA.wbits===0)sA.wbits=uA;else if(uA>sA.wbits){cA.msg="invalid window size",sA.mode=30;break}sA.dmax=1<<uA,cA.adler=sA.check=1,sA.mode=512&yA?10:12,TA=yA=0;break;case 2:for(;TA<16;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if(sA.flags=yA,(255&sA.flags)!=8){cA.msg="unknown compression method",sA.mode=30;break}if(57344&sA.flags){cA.msg="unknown header flags set",sA.mode=30;break}sA.head&&(sA.head.text=yA>>8&1),512&sA.flags&&(QA[0]=255&yA,QA[1]=yA>>>8&255,sA.check=Ut(sA.check,QA,2,0)),TA=yA=0,sA.mode=3;case 3:for(;TA<32;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}sA.head&&(sA.head.time=yA),512&sA.flags&&(QA[0]=255&yA,QA[1]=yA>>>8&255,QA[2]=yA>>>16&255,QA[3]=yA>>>24&255,sA.check=Ut(sA.check,QA,4,0)),TA=yA=0,sA.mode=4;case 4:for(;TA<16;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}sA.head&&(sA.head.xflags=255&yA,sA.head.os=yA>>8),512&sA.flags&&(QA[0]=255&yA,QA[1]=yA>>>8&255,sA.check=Ut(sA.check,QA,2,0)),TA=yA=0,sA.mode=5;case 5:if(1024&sA.flags){for(;TA<16;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}sA.length=yA,sA.head&&(sA.head.extra_len=yA),512&sA.flags&&(QA[0]=255&yA,QA[1]=yA>>>8&255,sA.check=Ut(sA.check,QA,2,0)),TA=yA=0}else sA.head&&(sA.head.extra=null);sA.mode=6;case 6:if(1024&sA.flags&&(OA<(XA=sA.length)&&(XA=OA),XA&&(sA.head&&(uA=sA.head.extra_len-sA.length,sA.head.extra||(sA.head.extra=new Array(sA.head.extra_len)),At.arraySet(sA.head.extra,UA,RA,XA,uA)),512&sA.flags&&(sA.check=Ut(sA.check,UA,XA,RA)),OA-=XA,RA+=XA,sA.length-=XA),sA.length))break e;sA.length=0,sA.mode=7;case 7:if(2048&sA.flags){if(OA===0)break e;for(XA=0;uA=UA[RA+XA++],sA.head&&uA&&sA.length<65536&&(sA.head.name+=String.fromCharCode(uA)),uA&&XA<OA;);if(512&sA.flags&&(sA.check=Ut(sA.check,UA,XA,RA)),OA-=XA,RA+=XA,uA)break e}else sA.head&&(sA.head.name=null);sA.length=0,sA.mode=8;case 8:if(4096&sA.flags){if(OA===0)break e;for(XA=0;uA=UA[RA+XA++],sA.head&&uA&&sA.length<65536&&(sA.head.comment+=String.fromCharCode(uA)),uA&&XA<OA;);if(512&sA.flags&&(sA.check=Ut(sA.check,UA,XA,RA)),OA-=XA,RA+=XA,uA)break e}else sA.head&&(sA.head.comment=null);sA.mode=9;case 9:if(512&sA.flags){for(;TA<16;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if(yA!==(65535&sA.check)){cA.msg="header crc mismatch",sA.mode=30;break}TA=yA=0}sA.head&&(sA.head.hcrc=sA.flags>>9&1,sA.head.done=!0),cA.adler=sA.check=0,sA.mode=12;break;case 10:for(;TA<32;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}cA.adler=sA.check=Kr(yA),TA=yA=0,sA.mode=11;case 11:if(sA.havedict===0)return cA.next_out=kA,cA.avail_out=KA,cA.next_in=RA,cA.avail_in=OA,sA.hold=yA,sA.bits=TA,2;cA.adler=sA.check=1,sA.mode=12;case 12:if(CA===5||CA===6)break e;case 13:if(sA.last){yA>>>=7&TA,TA-=7&TA,sA.mode=27;break}for(;TA<3;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}switch(sA.last=1&yA,TA-=1,3&(yA>>>=1)){case 0:sA.mode=14;break;case 1:if(wA(sA),sA.mode=20,CA!==6)break;yA>>>=2,TA-=2;break e;case 2:sA.mode=17;break;case 3:cA.msg="invalid block type",sA.mode=30}yA>>>=2,TA-=2;break;case 14:for(yA>>>=7&TA,TA-=7&TA;TA<32;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if((65535&yA)!=(yA>>>16^65535)){cA.msg="invalid stored block lengths",sA.mode=30;break}if(sA.length=65535&yA,TA=yA=0,sA.mode=15,CA===6)break e;case 15:sA.mode=16;case 16:if(XA=sA.length){if(OA<XA&&(XA=OA),KA<XA&&(XA=KA),XA===0)break e;At.arraySet(LA,UA,RA,XA,kA),OA-=XA,RA+=XA,KA-=XA,kA+=XA,sA.length-=XA;break}sA.mode=12;break;case 17:for(;TA<14;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if(sA.nlen=257+(31&yA),yA>>>=5,TA-=5,sA.ndist=1+(31&yA),yA>>>=5,TA-=5,sA.ncode=4+(15&yA),yA>>>=4,TA-=4,286<sA.nlen||30<sA.ndist){cA.msg="too many length or distance symbols",sA.mode=30;break}sA.have=0,sA.mode=18;case 18:for(;sA.have<sA.ncode;){for(;TA<3;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}sA.lens[n0[sA.have++]]=7&yA,yA>>>=3,TA-=3}for(;sA.have<19;)sA.lens[n0[sA.have++]]=0;if(sA.lencode=sA.lendyn,sA.lenbits=7,jA={bits:sA.lenbits},ZA=It(0,sA.lens,0,19,sA.lencode,0,sA.work,jA),sA.lenbits=jA.bits,ZA){cA.msg="invalid code lengths set",sA.mode=30;break}sA.have=0,sA.mode=19;case 19:for(;sA.have<sA.nlen+sA.ndist;){for(;B0=($A=sA.lencode[yA&(1<<sA.lenbits)-1])>>>16&255,Q0=65535&$A,!((C0=$A>>>24)<=TA);){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if(Q0<16)yA>>>=C0,TA-=C0,sA.lens[sA.have++]=Q0;else{if(Q0===16){for(IA=C0+2;TA<IA;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if(yA>>>=C0,TA-=C0,sA.have===0){cA.msg="invalid bit length repeat",sA.mode=30;break}uA=sA.lens[sA.have-1],XA=3+(3&yA),yA>>>=2,TA-=2}else if(Q0===17){for(IA=C0+3;TA<IA;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}TA-=C0,uA=0,XA=3+(7&(yA>>>=C0)),yA>>>=3,TA-=3}else{for(IA=C0+7;TA<IA;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}TA-=C0,uA=0,XA=11+(127&(yA>>>=C0)),yA>>>=7,TA-=7}if(sA.have+XA>sA.nlen+sA.ndist){cA.msg="invalid bit length repeat",sA.mode=30;break}for(;XA--;)sA.lens[sA.have++]=uA}}if(sA.mode===30)break;if(sA.lens[256]===0){cA.msg="invalid code -- missing end-of-block",sA.mode=30;break}if(sA.lenbits=9,jA={bits:sA.lenbits},ZA=It(Qt,sA.lens,0,sA.nlen,sA.lencode,0,sA.work,jA),sA.lenbits=jA.bits,ZA){cA.msg="invalid literal/lengths set",sA.mode=30;break}if(sA.distbits=6,sA.distcode=sA.distdyn,jA={bits:sA.distbits},ZA=It(Pt,sA.lens,sA.nlen,sA.ndist,sA.distcode,0,sA.work,jA),sA.distbits=jA.bits,ZA){cA.msg="invalid distances set",sA.mode=30;break}if(sA.mode=20,CA===6)break e;case 20:sA.mode=21;case 21:if(6<=OA&&258<=KA){cA.next_out=kA,cA.avail_out=KA,cA.next_in=RA,cA.avail_in=OA,sA.hold=yA,sA.bits=TA,zt(cA,qA),kA=cA.next_out,LA=cA.output,KA=cA.avail_out,RA=cA.next_in,UA=cA.input,OA=cA.avail_in,yA=sA.hold,TA=sA.bits,sA.mode===12&&(sA.back=-1);break}for(sA.back=0;B0=($A=sA.lencode[yA&(1<<sA.lenbits)-1])>>>16&255,Q0=65535&$A,!((C0=$A>>>24)<=TA);){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if(B0&&!(240&B0)){for(T0=C0,F0=B0,k0=Q0;B0=($A=sA.lencode[k0+((yA&(1<<T0+F0)-1)>>T0)])>>>16&255,Q0=65535&$A,!(T0+(C0=$A>>>24)<=TA);){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}yA>>>=T0,TA-=T0,sA.back+=T0}if(yA>>>=C0,TA-=C0,sA.back+=C0,sA.length=Q0,B0===0){sA.mode=26;break}if(32&B0){sA.back=-1,sA.mode=12;break}if(64&B0){cA.msg="invalid literal/length code",sA.mode=30;break}sA.extra=15&B0,sA.mode=22;case 22:if(sA.extra){for(IA=sA.extra;TA<IA;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}sA.length+=yA&(1<<sA.extra)-1,yA>>>=sA.extra,TA-=sA.extra,sA.back+=sA.extra}sA.was=sA.length,sA.mode=23;case 23:for(;B0=($A=sA.distcode[yA&(1<<sA.distbits)-1])>>>16&255,Q0=65535&$A,!((C0=$A>>>24)<=TA);){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if(!(240&B0)){for(T0=C0,F0=B0,k0=Q0;B0=($A=sA.distcode[k0+((yA&(1<<T0+F0)-1)>>T0)])>>>16&255,Q0=65535&$A,!(T0+(C0=$A>>>24)<=TA);){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}yA>>>=T0,TA-=T0,sA.back+=T0}if(yA>>>=C0,TA-=C0,sA.back+=C0,64&B0){cA.msg="invalid distance code",sA.mode=30;break}sA.offset=Q0,sA.extra=15&B0,sA.mode=24;case 24:if(sA.extra){for(IA=sA.extra;TA<IA;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}sA.offset+=yA&(1<<sA.extra)-1,yA>>>=sA.extra,TA-=sA.extra,sA.back+=sA.extra}if(sA.offset>sA.dmax){cA.msg="invalid distance too far back",sA.mode=30;break}sA.mode=25;case 25:if(KA===0)break e;if(XA=qA-KA,sA.offset>XA){if((XA=sA.offset-XA)>sA.whave&&sA.sane){cA.msg="invalid distance too far back",sA.mode=30;break}S0=XA>sA.wnext?(XA-=sA.wnext,sA.wsize-XA):sA.wnext-XA,XA>sA.length&&(XA=sA.length),U0=sA.window}else U0=LA,S0=kA-sA.offset,XA=sA.length;for(KA<XA&&(XA=KA),KA-=XA,sA.length-=XA;LA[kA++]=U0[S0++],--XA;);sA.length===0&&(sA.mode=21);break;case 26:if(KA===0)break e;LA[kA++]=sA.length,KA--,sA.mode=21;break;case 27:if(sA.wrap){for(;TA<32;){if(OA===0)break e;OA--,yA|=UA[RA++]<<TA,TA+=8}if(qA-=KA,cA.total_out+=qA,sA.total+=qA,qA&&(cA.adler=sA.check=sA.flags?Ut(sA.check,LA,qA,kA-qA):Et(sA.check,LA,qA,kA-qA)),qA=KA,(sA.flags?yA:Kr(yA))!==sA.check){cA.msg="incorrect data check",sA.mode=30;break}TA=yA=0}sA.mode=28;case 28:if(sA.wrap&&sA.flags){for(;TA<32;){if(OA===0)break e;OA--,yA+=UA[RA++]<<TA,TA+=8}if(yA!==(4294967295&sA.total)){cA.msg="incorrect length check",sA.mode=30;break}TA=yA=0}sA.mode=29;case 29:ZA=1;break e;case 30:ZA=-3;break e;case 31:return-4;case 32:default:return cr}return cA.next_out=kA,cA.avail_out=KA,cA.next_in=RA,cA.avail_in=OA,sA.hold=yA,sA.bits=TA,(sA.wsize||qA!==cA.avail_out&&sA.mode<30&&(sA.mode<27||CA!==4))&&NA(cA,cA.output,cA.next_out,qA-cA.avail_out)?(sA.mode=31,-4):(r0-=cA.avail_in,qA-=cA.avail_out,cA.total_in+=r0,cA.total_out+=qA,sA.total+=qA,sA.wrap&&qA&&(cA.adler=sA.check=sA.flags?Ut(sA.check,LA,qA,cA.next_out-qA):Et(sA.check,LA,qA,cA.next_out-qA)),cA.data_type=sA.bits+(sA.last?64:0)+(sA.mode===12?128:0)+(sA.mode===20||sA.mode===15?256:0),(r0==0&&qA===0||CA===4)&&ZA===Yt&&(ZA=-5),ZA)},bt.inflateEnd=function(cA){if(!cA||!cA.state)return cr;var CA=cA.state;return CA.window&&(CA.window=null),cA.state=null,Yt},bt.inflateGetHeader=function(cA,CA){var sA;return cA&&cA.state&&2&(sA=cA.state).wrap?((sA.head=CA).done=!1,Yt):cr},bt.inflateSetDictionary=function(cA,CA){var sA,UA=CA.length;return cA&&cA.state?(sA=cA.state).wrap!==0&&sA.mode!==11?cr:sA.mode===11&&Et(1,CA,UA,0)!==sA.check?-3:NA(cA,CA,UA,UA)?(sA.mode=31,-4):(sA.havedict=1,Yt):cr},bt.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(j,et,bt){var At=j("../utils/common"),Et=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ut=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],zt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],It=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];et.exports=function(Qt,Pt,Yt,cr,_r,vr,Yr,Kr){var jr,Hn,tA,nA,aA,lA,hA,pA,wA,NA=Kr.bits,cA=0,CA=0,sA=0,UA=0,LA=0,RA=0,kA=0,OA=0,KA=0,yA=0,TA=null,r0=0,qA=new At.Buf16(16),XA=new At.Buf16(16),S0=null,U0=0;for(cA=0;cA<=15;cA++)qA[cA]=0;for(CA=0;CA<cr;CA++)qA[Pt[Yt+CA]]++;for(LA=NA,UA=15;1<=UA&&qA[UA]===0;UA--);if(UA<LA&&(LA=UA),UA===0)return _r[vr++]=20971520,_r[vr++]=20971520,Kr.bits=1,0;for(sA=1;sA<UA&&qA[sA]===0;sA++);for(LA<sA&&(LA=sA),cA=OA=1;cA<=15;cA++)if(OA<<=1,(OA-=qA[cA])<0)return-1;if(0<OA&&(Qt===0||UA!==1))return-1;for(XA[1]=0,cA=1;cA<15;cA++)XA[cA+1]=XA[cA]+qA[cA];for(CA=0;CA<cr;CA++)Pt[Yt+CA]!==0&&(Yr[XA[Pt[Yt+CA]]++]=CA);if(lA=Qt===0?(TA=S0=Yr,19):Qt===1?(TA=Et,r0-=257,S0=Ut,U0-=257,256):(TA=zt,S0=It,-1),cA=sA,aA=vr,kA=CA=yA=0,tA=-1,nA=(KA=1<<(RA=LA))-1,Qt===1&&852<KA||Qt===2&&592<KA)return 1;for(;;){for(hA=cA-kA,wA=Yr[CA]<lA?(pA=0,Yr[CA]):Yr[CA]>lA?(pA=S0[U0+Yr[CA]],TA[r0+Yr[CA]]):(pA=96,0),jr=1<<cA-kA,sA=Hn=1<<RA;_r[aA+(yA>>kA)+(Hn-=jr)]=hA<<24|pA<<16|wA|0,Hn!==0;);for(jr=1<<cA-1;yA&jr;)jr>>=1;if(jr!==0?(yA&=jr-1,yA+=jr):yA=0,CA++,--qA[cA]==0){if(cA===UA)break;cA=Pt[Yt+Yr[CA]]}if(LA<cA&&(yA&nA)!==tA){for(kA===0&&(kA=LA),aA+=sA,OA=1<<(RA=cA-kA);RA+kA<UA&&!((OA-=qA[RA+kA])<=0);)RA++,OA<<=1;if(KA+=1<<RA,Qt===1&&852<KA||Qt===2&&592<KA)return 1;_r[tA=yA&nA]=LA<<24|RA<<16|aA-vr|0}}return yA!==0&&(_r[aA+yA]=cA-kA<<24|64<<16|0),Kr.bits=LA,0}},{"../utils/common":41}],51:[function(j,et,bt){et.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(j,et,bt){var At=j("../utils/common"),Et=0,Ut=1;function zt($A){for(var QA=$A.length;0<=--QA;)$A[QA]=0}var It=0,Qt=29,Pt=256,Yt=Pt+1+Qt,cr=30,_r=19,vr=2*Yt+1,Yr=15,Kr=16,jr=7,Hn=256,tA=16,nA=17,aA=18,lA=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],hA=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pA=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],wA=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],NA=new Array(2*(Yt+2));zt(NA);var cA=new Array(2*cr);zt(cA);var CA=new Array(512);zt(CA);var sA=new Array(256);zt(sA);var UA=new Array(Qt);zt(UA);var LA,RA,kA,OA=new Array(cr);function KA($A,QA,n0,t0,GA){this.static_tree=$A,this.extra_bits=QA,this.extra_base=n0,this.elems=t0,this.max_length=GA,this.has_stree=$A&&$A.length}function yA($A,QA){this.dyn_tree=$A,this.max_code=0,this.stat_desc=QA}function TA($A){return $A<256?CA[$A]:CA[256+($A>>>7)]}function r0($A,QA){$A.pending_buf[$A.pending++]=255&QA,$A.pending_buf[$A.pending++]=QA>>>8&255}function qA($A,QA,n0){$A.bi_valid>Kr-n0?($A.bi_buf|=QA<<$A.bi_valid&65535,r0($A,$A.bi_buf),$A.bi_buf=QA>>Kr-$A.bi_valid,$A.bi_valid+=n0-Kr):($A.bi_buf|=QA<<$A.bi_valid&65535,$A.bi_valid+=n0)}function XA($A,QA,n0){qA($A,n0[2*QA],n0[2*QA+1])}function S0($A,QA){for(var n0=0;n0|=1&$A,$A>>>=1,n0<<=1,0<--QA;);return n0>>>1}function U0($A,QA,n0){var t0,GA,A0=new Array(Yr+1),y0=0;for(t0=1;t0<=Yr;t0++)A0[t0]=y0=y0+n0[t0-1]<<1;for(GA=0;GA<=QA;GA++){var f0=$A[2*GA+1];f0!==0&&($A[2*GA]=S0(A0[f0]++,f0))}}function C0($A){var QA;for(QA=0;QA<Yt;QA++)$A.dyn_ltree[2*QA]=0;for(QA=0;QA<cr;QA++)$A.dyn_dtree[2*QA]=0;for(QA=0;QA<_r;QA++)$A.bl_tree[2*QA]=0;$A.dyn_ltree[2*Hn]=1,$A.opt_len=$A.static_len=0,$A.last_lit=$A.matches=0}function B0($A){8<$A.bi_valid?r0($A,$A.bi_buf):0<$A.bi_valid&&($A.pending_buf[$A.pending++]=$A.bi_buf),$A.bi_buf=0,$A.bi_valid=0}function Q0($A,QA,n0,t0){var GA=2*QA,A0=2*n0;return $A[GA]<$A[A0]||$A[GA]===$A[A0]&&t0[QA]<=t0[n0]}function T0($A,QA,n0){for(var t0=$A.heap[n0],GA=n0<<1;GA<=$A.heap_len&&(GA<$A.heap_len&&Q0(QA,$A.heap[GA+1],$A.heap[GA],$A.depth)&&GA++,!Q0(QA,t0,$A.heap[GA],$A.depth));)$A.heap[n0]=$A.heap[GA],n0=GA,GA<<=1;$A.heap[n0]=t0}function F0($A,QA,n0){var t0,GA,A0,y0,f0=0;if($A.last_lit!==0)for(;t0=$A.pending_buf[$A.d_buf+2*f0]<<8|$A.pending_buf[$A.d_buf+2*f0+1],GA=$A.pending_buf[$A.l_buf+f0],f0++,t0===0?XA($A,GA,QA):(XA($A,(A0=sA[GA])+Pt+1,QA),(y0=lA[A0])!==0&&qA($A,GA-=UA[A0],y0),XA($A,A0=TA(--t0),n0),(y0=hA[A0])!==0&&qA($A,t0-=OA[A0],y0)),f0<$A.last_lit;);XA($A,Hn,QA)}function k0($A,QA){var n0,t0,GA,A0=QA.dyn_tree,y0=QA.stat_desc.static_tree,f0=QA.stat_desc.has_stree,P0=QA.stat_desc.elems,K0=-1;for($A.heap_len=0,$A.heap_max=vr,n0=0;n0<P0;n0++)A0[2*n0]!==0?($A.heap[++$A.heap_len]=K0=n0,$A.depth[n0]=0):A0[2*n0+1]=0;for(;$A.heap_len<2;)A0[2*(GA=$A.heap[++$A.heap_len]=K0<2?++K0:0)]=1,$A.depth[GA]=0,$A.opt_len--,f0&&($A.static_len-=y0[2*GA+1]);for(QA.max_code=K0,n0=$A.heap_len>>1;1<=n0;n0--)T0($A,A0,n0);for(GA=P0;n0=$A.heap[1],$A.heap[1]=$A.heap[$A.heap_len--],T0($A,A0,1),t0=$A.heap[1],$A.heap[--$A.heap_max]=n0,$A.heap[--$A.heap_max]=t0,A0[2*GA]=A0[2*n0]+A0[2*t0],$A.depth[GA]=($A.depth[n0]>=$A.depth[t0]?$A.depth[n0]:$A.depth[t0])+1,A0[2*n0+1]=A0[2*t0+1]=GA,$A.heap[1]=GA++,T0($A,A0,1),2<=$A.heap_len;);$A.heap[--$A.heap_max]=$A.heap[1],function($0,w0){var E0,t1,O1,v0,X0,r1,L0=w0.dyn_tree,k1=w0.max_code,M1=w0.stat_desc.static_tree,N1=w0.stat_desc.has_stree,mA=w0.stat_desc.extra_bits,HA=w0.stat_desc.extra_base,WA=w0.stat_desc.max_length,c0=0;for(v0=0;v0<=Yr;v0++)$0.bl_count[v0]=0;for(L0[2*$0.heap[$0.heap_max]+1]=0,E0=$0.heap_max+1;E0<vr;E0++)WA<(v0=L0[2*L0[2*(t1=$0.heap[E0])+1]+1]+1)&&(v0=WA,c0++),L0[2*t1+1]=v0,k1<t1||($0.bl_count[v0]++,X0=0,HA<=t1&&(X0=mA[t1-HA]),r1=L0[2*t1],$0.opt_len+=r1*(v0+X0),N1&&($0.static_len+=r1*(M1[2*t1+1]+X0)));if(c0!==0){do{for(v0=WA-1;$0.bl_count[v0]===0;)v0--;$0.bl_count[v0]--,$0.bl_count[v0+1]+=2,$0.bl_count[WA]--,c0-=2}while(0<c0);for(v0=WA;v0!==0;v0--)for(t1=$0.bl_count[v0];t1!==0;)k1<(O1=$0.heap[--E0])||(L0[2*O1+1]!==v0&&($0.opt_len+=(v0-L0[2*O1+1])*L0[2*O1],L0[2*O1+1]=v0),t1--)}}($A,QA),U0(A0,K0,$A.bl_count)}function uA($A,QA,n0){var t0,GA,A0=-1,y0=QA[1],f0=0,P0=7,K0=4;for(y0===0&&(P0=138,K0=3),QA[2*(n0+1)+1]=65535,t0=0;t0<=n0;t0++)GA=y0,y0=QA[2*(t0+1)+1],++f0<P0&&GA===y0||(f0<K0?$A.bl_tree[2*GA]+=f0:GA!==0?(GA!==A0&&$A.bl_tree[2*GA]++,$A.bl_tree[2*tA]++):f0<=10?$A.bl_tree[2*nA]++:$A.bl_tree[2*aA]++,A0=GA,K0=(f0=0)===y0?(P0=138,3):GA===y0?(P0=6,3):(P0=7,4))}function ZA($A,QA,n0){var t0,GA,A0=-1,y0=QA[1],f0=0,P0=7,K0=4;for(y0===0&&(P0=138,K0=3),t0=0;t0<=n0;t0++)if(GA=y0,y0=QA[2*(t0+1)+1],!(++f0<P0&&GA===y0)){if(f0<K0)for(;XA($A,GA,$A.bl_tree),--f0!=0;);else GA!==0?(GA!==A0&&(XA($A,GA,$A.bl_tree),f0--),XA($A,tA,$A.bl_tree),qA($A,f0-3,2)):f0<=10?(XA($A,nA,$A.bl_tree),qA($A,f0-3,3)):(XA($A,aA,$A.bl_tree),qA($A,f0-11,7));A0=GA,K0=(f0=0)===y0?(P0=138,3):GA===y0?(P0=6,3):(P0=7,4)}}zt(OA);var jA=!1;function IA($A,QA,n0,t0){qA($A,(It<<1)+(t0?1:0),3),function(GA,A0,y0,f0){B0(GA),f0&&(r0(GA,y0),r0(GA,~y0)),At.arraySet(GA.pending_buf,GA.window,A0,y0,GA.pending),GA.pending+=y0}($A,QA,n0,!0)}bt._tr_init=function($A){jA||(function(){var QA,n0,t0,GA,A0,y0=new Array(Yr+1);for(GA=t0=0;GA<Qt-1;GA++)for(UA[GA]=t0,QA=0;QA<1<<lA[GA];QA++)sA[t0++]=GA;for(sA[t0-1]=GA,GA=A0=0;GA<16;GA++)for(OA[GA]=A0,QA=0;QA<1<<hA[GA];QA++)CA[A0++]=GA;for(A0>>=7;GA<cr;GA++)for(OA[GA]=A0<<7,QA=0;QA<1<<hA[GA]-7;QA++)CA[256+A0++]=GA;for(n0=0;n0<=Yr;n0++)y0[n0]=0;for(QA=0;QA<=143;)NA[2*QA+1]=8,QA++,y0[8]++;for(;QA<=255;)NA[2*QA+1]=9,QA++,y0[9]++;for(;QA<=279;)NA[2*QA+1]=7,QA++,y0[7]++;for(;QA<=287;)NA[2*QA+1]=8,QA++,y0[8]++;for(U0(NA,Yt+1,y0),QA=0;QA<cr;QA++)cA[2*QA+1]=5,cA[2*QA]=S0(QA,5);LA=new KA(NA,lA,Pt+1,Yt,Yr),RA=new KA(cA,hA,0,cr,Yr),kA=new KA(new Array(0),pA,0,_r,jr)}(),jA=!0),$A.l_desc=new yA($A.dyn_ltree,LA),$A.d_desc=new yA($A.dyn_dtree,RA),$A.bl_desc=new yA($A.bl_tree,kA),$A.bi_buf=0,$A.bi_valid=0,C0($A)},bt._tr_stored_block=IA,bt._tr_flush_block=function($A,QA,n0,t0){var GA,A0,y0=0;0<$A.level?($A.strm.data_type===2&&($A.strm.data_type=function(f0){var P0,K0=4093624447;for(P0=0;P0<=31;P0++,K0>>>=1)if(1&K0&&f0.dyn_ltree[2*P0]!==0)return Et;if(f0.dyn_ltree[18]!==0||f0.dyn_ltree[20]!==0||f0.dyn_ltree[26]!==0)return Ut;for(P0=32;P0<Pt;P0++)if(f0.dyn_ltree[2*P0]!==0)return Ut;return Et}($A)),k0($A,$A.l_desc),k0($A,$A.d_desc),y0=function(f0){var P0;for(uA(f0,f0.dyn_ltree,f0.l_desc.max_code),uA(f0,f0.dyn_dtree,f0.d_desc.max_code),k0(f0,f0.bl_desc),P0=_r-1;3<=P0&&f0.bl_tree[2*wA[P0]+1]===0;P0--);return f0.opt_len+=3*(P0+1)+5+5+4,P0}($A),GA=$A.opt_len+3+7>>>3,(A0=$A.static_len+3+7>>>3)<=GA&&(GA=A0)):GA=A0=n0+5,n0+4<=GA&&QA!==-1?IA($A,QA,n0,t0):$A.strategy===4||A0===GA?(qA($A,2+(t0?1:0),3),F0($A,NA,cA)):(qA($A,4+(t0?1:0),3),function(f0,P0,K0,$0){var w0;for(qA(f0,P0-257,5),qA(f0,K0-1,5),qA(f0,$0-4,4),w0=0;w0<$0;w0++)qA(f0,f0.bl_tree[2*wA[w0]+1],3);ZA(f0,f0.dyn_ltree,P0-1),ZA(f0,f0.dyn_dtree,K0-1)}($A,$A.l_desc.max_code+1,$A.d_desc.max_code+1,y0+1),F0($A,$A.dyn_ltree,$A.dyn_dtree)),C0($A),t0&&B0($A)},bt._tr_tally=function($A,QA,n0){return $A.pending_buf[$A.d_buf+2*$A.last_lit]=QA>>>8&255,$A.pending_buf[$A.d_buf+2*$A.last_lit+1]=255&QA,$A.pending_buf[$A.l_buf+$A.last_lit]=255&n0,$A.last_lit++,QA===0?$A.dyn_ltree[2*n0]++:($A.matches++,QA--,$A.dyn_ltree[2*(sA[n0]+Pt+1)]++,$A.dyn_dtree[2*TA(QA)]++),$A.last_lit===$A.lit_bufsize-1},bt._tr_align=function($A){qA($A,2,3),XA($A,Hn,NA),function(QA){QA.bi_valid===16?(r0(QA,QA.bi_buf),QA.bi_buf=0,QA.bi_valid=0):8<=QA.bi_valid&&(QA.pending_buf[QA.pending++]=255&QA.bi_buf,QA.bi_buf>>=8,QA.bi_valid-=8)}($A)}},{"../utils/common":41}],53:[function(j,et,bt){et.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(j,et,bt){(function(At){(function(Et,Ut){if(!Et.setImmediate){var zt,It,Qt,Pt,Yt=1,cr={},_r=!1,vr=Et.document,Yr=Object.getPrototypeOf&&Object.getPrototypeOf(Et);Yr=Yr&&Yr.setTimeout?Yr:Et,zt={}.toString.call(Et.process)==="[object process]"?function(tA){process.nextTick(function(){jr(tA)})}:function(){if(Et.postMessage&&!Et.importScripts){var tA=!0,nA=Et.onmessage;return Et.onmessage=function(){tA=!1},Et.postMessage("","*"),Et.onmessage=nA,tA}}()?(Pt="setImmediate$"+Math.random()+"$",Et.addEventListener?Et.addEventListener("message",Hn,!1):Et.attachEvent("onmessage",Hn),function(tA){Et.postMessage(Pt+tA,"*")}):Et.MessageChannel?((Qt=new MessageChannel).port1.onmessage=function(tA){jr(tA.data)},function(tA){Qt.port2.postMessage(tA)}):vr&&"onreadystatechange"in vr.createElement("script")?(It=vr.documentElement,function(tA){var nA=vr.createElement("script");nA.onreadystatechange=function(){jr(tA),nA.onreadystatechange=null,It.removeChild(nA),nA=null},It.appendChild(nA)}):function(tA){setTimeout(jr,0,tA)},Yr.setImmediate=function(tA){typeof tA!="function"&&(tA=new Function(""+tA));for(var nA=new Array(arguments.length-1),aA=0;aA<nA.length;aA++)nA[aA]=arguments[aA+1];var lA={callback:tA,args:nA};return cr[Yt]=lA,zt(Yt),Yt++},Yr.clearImmediate=Kr}function Kr(tA){delete cr[tA]}function jr(tA){if(_r)setTimeout(jr,0,tA);else{var nA=cr[tA];if(nA){_r=!0;try{(function(aA){var lA=aA.callback,hA=aA.args;switch(hA.length){case 0:lA();break;case 1:lA(hA[0]);break;case 2:lA(hA[0],hA[1]);break;case 3:lA(hA[0],hA[1],hA[2]);break;default:lA.apply(Ut,hA)}})(nA)}finally{Kr(tA),_r=!1}}}}function Hn(tA){tA.source===Et&&typeof tA.data=="string"&&tA.data.indexOf(Pt)===0&&jr(+tA.data.slice(Pt.length))}})(typeof self>"u"?At===void 0?this:At:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(o,s){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,et){j.__proto__=et}||function(j,et){for(var bt in et)Object.prototype.hasOwnProperty.call(et,bt)&&(j[bt]=et[bt])},extendStatics(o,s)};function __extends(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");extendStatics(o,s);function j(){this.constructor=o}o.prototype=s===null?Object.create(s):(j.prototype=s.prototype,new j)}var __assign=function(){return __assign=Object.assign||function(s){for(var j,et=1,bt=arguments.length;et<bt;et++){j=arguments[et];for(var At in j)Object.prototype.hasOwnProperty.call(j,At)&&(s[At]=j[At])}return s},__assign.apply(this,arguments)};function __awaiter(o,s,j,et){function bt(At){return At instanceof j?At:new j(function(Et){Et(At)})}return new(j||(j=Promise))(function(At,Et){function Ut(Qt){try{It(et.next(Qt))}catch(Pt){Et(Pt)}}function zt(Qt){try{It(et.throw(Qt))}catch(Pt){Et(Pt)}}function It(Qt){Qt.done?At(Qt.value):bt(Qt.value).then(Ut,zt)}It((et=et.apply(o,s||[])).next())})}function __generator(o,s){var j={label:0,sent:function(){if(At[0]&1)throw At[1];return At[1]},trys:[],ops:[]},et,bt,At,Et;return Et={next:Ut(0),throw:Ut(1),return:Ut(2)},typeof Symbol=="function"&&(Et[Symbol.iterator]=function(){return this}),Et;function Ut(It){return function(Qt){return zt([It,Qt])}}function zt(It){if(et)throw new TypeError("Generator is already executing.");for(;j;)try{if(et=1,bt&&(At=It[0]&2?bt.return:It[0]?bt.throw||((At=bt.return)&&At.call(bt),0):bt.next)&&!(At=At.call(bt,It[1])).done)return At;switch(bt=0,At&&(It=[It[0]&2,At.value]),It[0]){case 0:case 1:At=It;break;case 4:return j.label++,{value:It[1],done:!1};case 5:j.label++,bt=It[1],It=[0];continue;case 7:It=j.ops.pop(),j.trys.pop();continue;default:if(At=j.trys,!(At=At.length>0&&At[At.length-1])&&(It[0]===6||It[0]===2)){j=0;continue}if(It[0]===3&&(!At||It[1]>At[0]&&It[1]<At[3])){j.label=It[1];break}if(It[0]===6&&j.label<At[1]){j.label=At[1],At=It;break}if(At&&j.label<At[2]){j.label=At[2],j.ops.push(It);break}At[2]&&j.ops.pop(),j.trys.pop();continue}It=s.call(o,j)}catch(Qt){It=[6,Qt],bt=0}finally{et=At=0}if(It[0]&5)throw It[1];return{value:It[0]?It[1]:void 0,done:!0}}}function __spreadArray(o,s,j){if(j||arguments.length===2)for(var et=0,bt=s.length,At;et<bt;et++)(At||!(et in s))&&(At||(At=Array.prototype.slice.call(s,0,et)),At[et]=s[et]);return o.concat(At||s)}var Bounds=function(){function o(s,j,et,bt){this.left=s,this.top=j,this.width=et,this.height=bt}return o.prototype.add=function(s,j,et,bt){return new o(this.left+s,this.top+j,this.width+et,this.height+bt)},o.fromClientRect=function(s,j){return new o(j.left+s.windowBounds.left,j.top+s.windowBounds.top,j.width,j.height)},o.fromDOMRectList=function(s,j){var et=Array.from(j).find(function(bt){return bt.width!==0});return et?new o(et.left+s.windowBounds.left,et.top+s.windowBounds.top,et.width,et.height):o.EMPTY},o.EMPTY=new o(0,0,0,0),o}(),parseBounds=function(o,s){return Bounds.fromClientRect(o,s.getBoundingClientRect())},parseDocumentSize=function(o){var s=o.body,j=o.documentElement;if(!s||!j)throw new Error("Unable to get document size");var et=Math.max(Math.max(s.scrollWidth,j.scrollWidth),Math.max(s.offsetWidth,j.offsetWidth),Math.max(s.clientWidth,j.clientWidth)),bt=Math.max(Math.max(s.scrollHeight,j.scrollHeight),Math.max(s.offsetHeight,j.offsetHeight),Math.max(s.clientHeight,j.clientHeight));return new Bounds(0,0,et,bt)},toCodePoints$1=function(o){for(var s=[],j=0,et=o.length;j<et;){var bt=o.charCodeAt(j++);if(bt>=55296&&bt<=56319&&j<et){var At=o.charCodeAt(j++);(At&64512)===56320?s.push(((bt&1023)<<10)+(At&1023)+65536):(s.push(bt),j--)}else s.push(bt)}return s},fromCodePoint$1=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(String.fromCodePoint)return String.fromCodePoint.apply(String,o);var j=o.length;if(!j)return"";for(var et=[],bt=-1,At="";++bt<j;){var Et=o[bt];Et<=65535?et.push(Et):(Et-=65536,et.push((Et>>10)+55296,Et%1024+56320)),(bt+1===j||et.length>16384)&&(At+=String.fromCharCode.apply(String,et),et.length=0)}return At},chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars$2.length;i$2++)lookup$2[chars$2.charCodeAt(i$2)]=i$2;var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++)lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1;var decode$1=function(o){var s=o.length*.75,j=o.length,et,bt=0,At,Et,Ut,zt;o[o.length-1]==="="&&(s--,o[o.length-2]==="="&&s--);var It=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(s):new Array(s),Qt=Array.isArray(It)?It:new Uint8Array(It);for(et=0;et<j;et+=4)At=lookup$1$1[o.charCodeAt(et)],Et=lookup$1$1[o.charCodeAt(et+1)],Ut=lookup$1$1[o.charCodeAt(et+2)],zt=lookup$1$1[o.charCodeAt(et+3)],Qt[bt++]=At<<2|Et>>4,Qt[bt++]=(Et&15)<<4|Ut>>2,Qt[bt++]=(Ut&3)<<6|zt&63;return It},polyUint16Array$1=function(o){for(var s=o.length,j=[],et=0;et<s;et+=2)j.push(o[et+1]<<8|o[et]);return j},polyUint32Array$1=function(o){for(var s=o.length,j=[],et=0;et<s;et+=4)j.push(o[et+3]<<24|o[et+2]<<16|o[et+1]<<8|o[et]);return j},UTRIE2_SHIFT_2$1=5,UTRIE2_SHIFT_1$1=11,UTRIE2_INDEX_SHIFT$1=2,UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1,UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1,UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1,UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1,UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1,UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=32,UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1,UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1,UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1,slice16$1=function(o,s,j){return o.slice?o.slice(s,j):new Uint16Array(Array.prototype.slice.call(o,s,j))},slice32$1=function(o,s,j){return o.slice?o.slice(s,j):new Uint32Array(Array.prototype.slice.call(o,s,j))},createTrieFromBase64$1=function(o,s){var j=decode$1(o),et=Array.isArray(j)?polyUint32Array$1(j):new Uint32Array(j),bt=Array.isArray(j)?polyUint16Array$1(j):new Uint16Array(j),At=24,Et=slice16$1(bt,At/2,et[4]/2),Ut=et[5]===2?slice16$1(bt,(At+et[4])/2):slice32$1(et,Math.ceil((At+et[4])/4));return new Trie$1(et[0],et[1],et[2],et[3],Et,Ut)},Trie$1=function(){function o(s,j,et,bt,At,Et){this.initialValue=s,this.errorValue=j,this.highStart=et,this.highValueIndex=bt,this.index=At,this.data=Et}return o.prototype.get=function(s){var j;if(s>=0){if(s<55296||s>56319&&s<=65535)return j=this.index[s>>UTRIE2_SHIFT_2$1],j=(j<<UTRIE2_INDEX_SHIFT$1)+(s&UTRIE2_DATA_MASK$1),this.data[j];if(s<=65535)return j=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(s-55296>>UTRIE2_SHIFT_2$1)],j=(j<<UTRIE2_INDEX_SHIFT$1)+(s&UTRIE2_DATA_MASK$1),this.data[j];if(s<this.highStart)return j=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(s>>UTRIE2_SHIFT_1$1),j=this.index[j],j+=s>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1,j=this.index[j],j=(j<<UTRIE2_INDEX_SHIFT$1)+(s&UTRIE2_DATA_MASK$1),this.data[j];if(s<=1114111)return this.data[this.highValueIndex]}return this.errorValue},o}(),chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$3=0;i$3<chars$3.length;i$3++)lookup$3[chars$3.charCodeAt(i$3)]=i$3;var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LETTER_NUMBER_MODIFIER=50,BK=1,CR$1=2,LF$1=3,CM=4,NL=5,WJ=7,ZW=8,GL=9,SP=10,ZWJ$1=11,B2=12,BA=13,BB=14,HY=15,CB=16,CL=17,CP=18,EX=19,IN=20,NS=21,OP=22,QU=23,IS=24,NU=25,PO=26,PR=27,SY=28,AI=29,AL=30,CJ=31,EB=32,EM=33,H2=34,H3=35,HL=36,ID=37,JL=38,JV=39,JT=40,RI$1=41,SA=42,XX=43,ea_OP=[9001,65288],BREAK_MANDATORY="!",BREAK_NOT_ALLOWED$1="×",BREAK_ALLOWED$1="÷",UnicodeTrie$1=createTrieFromBase64$1(base64$1),ALPHABETICS=[AL,HL],HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL],SPACE$1=[SP,ZW],PREFIX_POSTFIX=[PR,PO],LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1),KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3],HYPHEN=[HY,BA],codePointsToCharacterClasses=function(o,s){s===void 0&&(s="strict");var j=[],et=[],bt=[];return o.forEach(function(At,Et){var Ut=UnicodeTrie$1.get(At);if(Ut>LETTER_NUMBER_MODIFIER?(bt.push(!0),Ut-=LETTER_NUMBER_MODIFIER):bt.push(!1),["normal","auto","loose"].indexOf(s)!==-1&&[8208,8211,12316,12448].indexOf(At)!==-1)return et.push(Et),j.push(CB);if(Ut===CM||Ut===ZWJ$1){if(Et===0)return et.push(Et),j.push(AL);var zt=j[Et-1];return LINE_BREAKS.indexOf(zt)===-1?(et.push(et[Et-1]),j.push(zt)):(et.push(Et),j.push(AL))}if(et.push(Et),Ut===CJ)return j.push(s==="strict"?NS:ID);if(Ut===SA||Ut===AI)return j.push(AL);if(Ut===XX)return At>=131072&&At<=196605||At>=196608&&At<=262141?j.push(ID):j.push(AL);j.push(Ut)}),[et,j,bt]},isAdjacentWithSpaceIgnored=function(o,s,j,et){var bt=et[j];if(Array.isArray(o)?o.indexOf(bt)!==-1:o===bt)for(var At=j;At<=et.length;){At++;var Et=et[At];if(Et===s)return!0;if(Et!==SP)break}if(bt===SP)for(var At=j;At>0;){At--;var Ut=et[At];if(Array.isArray(o)?o.indexOf(Ut)!==-1:o===Ut)for(var zt=j;zt<=et.length;){zt++;var Et=et[zt];if(Et===s)return!0;if(Et!==SP)break}if(Ut!==SP)break}return!1},previousNonSpaceClassType=function(o,s){for(var j=o;j>=0;){var et=s[j];if(et===SP)j--;else return et}return 0},_lineBreakAtIndex=function(o,s,j,et,bt){if(j[et]===0)return BREAK_NOT_ALLOWED$1;var At=et-1;if(Array.isArray(bt)&&bt[At]===!0)return BREAK_NOT_ALLOWED$1;var Et=At-1,Ut=At+1,zt=s[At],It=Et>=0?s[Et]:0,Qt=s[Ut];if(zt===CR$1&&Qt===LF$1)return BREAK_NOT_ALLOWED$1;if(HARD_LINE_BREAKS.indexOf(zt)!==-1)return BREAK_MANDATORY;if(HARD_LINE_BREAKS.indexOf(Qt)!==-1||SPACE$1.indexOf(Qt)!==-1)return BREAK_NOT_ALLOWED$1;if(previousNonSpaceClassType(At,s)===ZW)return BREAK_ALLOWED$1;if(UnicodeTrie$1.get(o[At])===ZWJ$1||(zt===EB||zt===EM)&&UnicodeTrie$1.get(o[Ut])===ZWJ$1||zt===WJ||Qt===WJ||zt===GL||[SP,BA,HY].indexOf(zt)===-1&&Qt===GL||[CL,CP,EX,IS,SY].indexOf(Qt)!==-1||previousNonSpaceClassType(At,s)===OP||isAdjacentWithSpaceIgnored(QU,OP,At,s)||isAdjacentWithSpaceIgnored([CL,CP],NS,At,s)||isAdjacentWithSpaceIgnored(B2,B2,At,s))return BREAK_NOT_ALLOWED$1;if(zt===SP)return BREAK_ALLOWED$1;if(zt===QU||Qt===QU)return BREAK_NOT_ALLOWED$1;if(Qt===CB||zt===CB)return BREAK_ALLOWED$1;if([BA,HY,NS].indexOf(Qt)!==-1||zt===BB||It===HL&&HYPHEN.indexOf(zt)!==-1||zt===SY&&Qt===HL||Qt===IN||ALPHABETICS.indexOf(Qt)!==-1&&zt===NU||ALPHABETICS.indexOf(zt)!==-1&&Qt===NU||zt===PR&&[ID,EB,EM].indexOf(Qt)!==-1||[ID,EB,EM].indexOf(zt)!==-1&&Qt===PO||ALPHABETICS.indexOf(zt)!==-1&&PREFIX_POSTFIX.indexOf(Qt)!==-1||PREFIX_POSTFIX.indexOf(zt)!==-1&&ALPHABETICS.indexOf(Qt)!==-1||[PR,PO].indexOf(zt)!==-1&&(Qt===NU||[OP,HY].indexOf(Qt)!==-1&&s[Ut+1]===NU)||[OP,HY].indexOf(zt)!==-1&&Qt===NU||zt===NU&&[NU,SY,IS].indexOf(Qt)!==-1)return BREAK_NOT_ALLOWED$1;if([NU,SY,IS,CL,CP].indexOf(Qt)!==-1)for(var Pt=At;Pt>=0;){var Yt=s[Pt];if(Yt===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(Yt)!==-1)Pt--;else break}if([PR,PO].indexOf(Qt)!==-1)for(var Pt=[CL,CP].indexOf(zt)!==-1?Et:At;Pt>=0;){var Yt=s[Pt];if(Yt===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(Yt)!==-1)Pt--;else break}if(JL===zt&&[JL,JV,H2,H3].indexOf(Qt)!==-1||[JV,H2].indexOf(zt)!==-1&&[JV,JT].indexOf(Qt)!==-1||[JT,H3].indexOf(zt)!==-1&&Qt===JT||KOREAN_SYLLABLE_BLOCK.indexOf(zt)!==-1&&[IN,PO].indexOf(Qt)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(Qt)!==-1&&zt===PR||ALPHABETICS.indexOf(zt)!==-1&&ALPHABETICS.indexOf(Qt)!==-1||zt===IS&&ALPHABETICS.indexOf(Qt)!==-1||ALPHABETICS.concat(NU).indexOf(zt)!==-1&&Qt===OP&&ea_OP.indexOf(o[Ut])===-1||ALPHABETICS.concat(NU).indexOf(Qt)!==-1&&zt===CP)return BREAK_NOT_ALLOWED$1;if(zt===RI$1&&Qt===RI$1){for(var cr=j[At],_r=1;cr>0&&(cr--,s[cr]===RI$1);)_r++;if(_r%2!==0)return BREAK_NOT_ALLOWED$1}return zt===EB&&Qt===EM?BREAK_NOT_ALLOWED$1:BREAK_ALLOWED$1},cssFormattedClasses=function(o,s){s||(s={lineBreak:"normal",wordBreak:"normal"});var j=codePointsToCharacterClasses(o,s.lineBreak),et=j[0],bt=j[1],At=j[2];(s.wordBreak==="break-all"||s.wordBreak==="break-word")&&(bt=bt.map(function(Ut){return[NU,AL,SA].indexOf(Ut)!==-1?ID:Ut}));var Et=s.wordBreak==="keep-all"?At.map(function(Ut,zt){return Ut&&o[zt]>=19968&&o[zt]<=40959}):void 0;return[et,bt,Et]},Break=function(){function o(s,j,et,bt){this.codePoints=s,this.required=j===BREAK_MANDATORY,this.start=et,this.end=bt}return o.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))},o}(),LineBreaker=function(o,s){var j=toCodePoints$1(o),et=cssFormattedClasses(j,s),bt=et[0],At=et[1],Et=et[2],Ut=j.length,zt=0,It=0;return{next:function(){if(It>=Ut)return{done:!0,value:null};for(var Qt=BREAK_NOT_ALLOWED$1;It<Ut&&(Qt=_lineBreakAtIndex(j,At,bt,++It,Et))===BREAK_NOT_ALLOWED$1;);if(Qt!==BREAK_NOT_ALLOWED$1||It===Ut){var Pt=new Break(j,Qt,zt,It);return zt=It,{value:Pt,done:!1}}return{done:!0,value:null}}}},FLAG_UNRESTRICTED=1,FLAG_ID=2,FLAG_INTEGER=4,FLAG_NUMBER=8,LINE_FEED=10,SOLIDUS=47,REVERSE_SOLIDUS=92,CHARACTER_TABULATION=9,SPACE=32,QUOTATION_MARK=34,EQUALS_SIGN=61,NUMBER_SIGN=35,DOLLAR_SIGN=36,PERCENTAGE_SIGN=37,APOSTROPHE=39,LEFT_PARENTHESIS=40,RIGHT_PARENTHESIS=41,LOW_LINE=95,HYPHEN_MINUS=45,EXCLAMATION_MARK=33,LESS_THAN_SIGN=60,GREATER_THAN_SIGN=62,COMMERCIAL_AT=64,LEFT_SQUARE_BRACKET=91,RIGHT_SQUARE_BRACKET=93,CIRCUMFLEX_ACCENT=61,LEFT_CURLY_BRACKET=123,QUESTION_MARK=63,RIGHT_CURLY_BRACKET=125,VERTICAL_LINE=124,TILDE=126,CONTROL=128,REPLACEMENT_CHARACTER=65533,ASTERISK=42,PLUS_SIGN=43,COMMA=44,COLON=58,SEMICOLON=59,FULL_STOP=46,NULL=0,BACKSPACE=8,LINE_TABULATION=11,SHIFT_OUT=14,INFORMATION_SEPARATOR_ONE=31,DELETE=127,EOF=-1,ZERO=48,a=97,e=101,f=102,u=117,z=122,A=65,E=69,F=70,U=85,Z=90,isDigit=function(o){return o>=ZERO&&o<=57},isSurrogateCodePoint=function(o){return o>=55296&&o<=57343},isHex=function(o){return isDigit(o)||o>=A&&o<=F||o>=a&&o<=f},isLowerCaseLetter=function(o){return o>=a&&o<=z},isUpperCaseLetter=function(o){return o>=A&&o<=Z},isLetter=function(o){return isLowerCaseLetter(o)||isUpperCaseLetter(o)},isNonASCIICodePoint=function(o){return o>=CONTROL},isWhiteSpace=function(o){return o===LINE_FEED||o===CHARACTER_TABULATION||o===SPACE},isNameStartCodePoint=function(o){return isLetter(o)||isNonASCIICodePoint(o)||o===LOW_LINE},isNameCodePoint=function(o){return isNameStartCodePoint(o)||isDigit(o)||o===HYPHEN_MINUS},isNonPrintableCodePoint=function(o){return o>=NULL&&o<=BACKSPACE||o===LINE_TABULATION||o>=SHIFT_OUT&&o<=INFORMATION_SEPARATOR_ONE||o===DELETE},isValidEscape=function(o,s){return o!==REVERSE_SOLIDUS?!1:s!==LINE_FEED},isIdentifierStart=function(o,s,j){return o===HYPHEN_MINUS?isNameStartCodePoint(s)||isValidEscape(s,j):isNameStartCodePoint(o)?!0:!!(o===REVERSE_SOLIDUS&&isValidEscape(o,s))},isNumberStart=function(o,s,j){return o===PLUS_SIGN||o===HYPHEN_MINUS?isDigit(s)?!0:s===FULL_STOP&&isDigit(j):isDigit(o===FULL_STOP?s:o)},stringToNumber=function(o){var s=0,j=1;(o[s]===PLUS_SIGN||o[s]===HYPHEN_MINUS)&&(o[s]===HYPHEN_MINUS&&(j=-1),s++);for(var et=[];isDigit(o[s]);)et.push(o[s++]);var bt=et.length?parseInt(fromCodePoint$1.apply(void 0,et),10):0;o[s]===FULL_STOP&&s++;for(var At=[];isDigit(o[s]);)At.push(o[s++]);var Et=At.length,Ut=Et?parseInt(fromCodePoint$1.apply(void 0,At),10):0;(o[s]===E||o[s]===e)&&s++;var zt=1;(o[s]===PLUS_SIGN||o[s]===HYPHEN_MINUS)&&(o[s]===HYPHEN_MINUS&&(zt=-1),s++);for(var It=[];isDigit(o[s]);)It.push(o[s++]);var Qt=It.length?parseInt(fromCodePoint$1.apply(void 0,It),10):0;return j*(bt+Ut*Math.pow(10,-Et))*Math.pow(10,zt*Qt)},LEFT_PARENTHESIS_TOKEN={type:2},RIGHT_PARENTHESIS_TOKEN={type:3},COMMA_TOKEN={type:4},SUFFIX_MATCH_TOKEN={type:13},PREFIX_MATCH_TOKEN={type:8},COLUMN_TOKEN={type:21},DASH_MATCH_TOKEN={type:9},INCLUDE_MATCH_TOKEN={type:10},LEFT_CURLY_BRACKET_TOKEN={type:11},RIGHT_CURLY_BRACKET_TOKEN={type:12},SUBSTRING_MATCH_TOKEN={type:14},BAD_URL_TOKEN={type:23},BAD_STRING_TOKEN={type:1},CDO_TOKEN={type:25},CDC_TOKEN={type:24},COLON_TOKEN={type:26},SEMICOLON_TOKEN={type:27},LEFT_SQUARE_BRACKET_TOKEN={type:28},RIGHT_SQUARE_BRACKET_TOKEN={type:29},WHITESPACE_TOKEN={type:31},EOF_TOKEN={type:32},Tokenizer=function(){function o(){this._value=[]}return o.prototype.write=function(s){this._value=this._value.concat(toCodePoints$1(s))},o.prototype.read=function(){for(var s=[],j=this.consumeToken();j!==EOF_TOKEN;)s.push(j),j=this.consumeToken();return s},o.prototype.consumeToken=function(){var s=this.consumeCodePoint();switch(s){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var j=this.peekCodePoint(0),et=this.peekCodePoint(1),bt=this.peekCodePoint(2);if(isNameCodePoint(j)||isValidEscape(et,bt)){var At=isIdentifierStart(j,et,bt)?FLAG_ID:FLAG_UNRESTRICTED,Et=this.consumeName();return{type:5,value:Et,flags:At}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUFFIX_MATCH_TOKEN;break;case APOSTROPHE:return this.consumeStringToken(APOSTROPHE);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUBSTRING_MATCH_TOKEN;break;case PLUS_SIGN:if(isNumberStart(s,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(s),this.consumeNumericToken();break;case COMMA:return COMMA_TOKEN;case HYPHEN_MINUS:var Ut=s,zt=this.peekCodePoint(0),It=this.peekCodePoint(1);if(isNumberStart(Ut,zt,It))return this.reconsumeCodePoint(s),this.consumeNumericToken();if(isIdentifierStart(Ut,zt,It))return this.reconsumeCodePoint(s),this.consumeIdentLikeToken();if(zt===HYPHEN_MINUS&&It===GREATER_THAN_SIGN)return this.consumeCodePoint(),this.consumeCodePoint(),CDC_TOKEN;break;case FULL_STOP:if(isNumberStart(s,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(s),this.consumeNumericToken();break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK)for(this.consumeCodePoint();;){var Qt=this.consumeCodePoint();if(Qt===ASTERISK&&(Qt=this.consumeCodePoint(),Qt===SOLIDUS))return this.consumeToken();if(Qt===EOF)return this.consumeToken()}break;case COLON:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS)return this.consumeCodePoint(),this.consumeCodePoint(),CDO_TOKEN;break;case COMMERCIAL_AT:var Pt=this.peekCodePoint(0),Yt=this.peekCodePoint(1),cr=this.peekCodePoint(2);if(isIdentifierStart(Pt,Yt,cr)){var Et=this.consumeName();return{type:7,value:Et}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(s,this.peekCodePoint(0)))return this.reconsumeCodePoint(s),this.consumeIdentLikeToken();break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),PREFIX_MATCH_TOKEN;break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u:case U:var _r=this.peekCodePoint(0),vr=this.peekCodePoint(1);return _r===PLUS_SIGN&&(isHex(vr)||vr===QUESTION_MARK)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(s),this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),DASH_MATCH_TOKEN;if(this.peekCodePoint(0)===VERTICAL_LINE)return this.consumeCodePoint(),COLUMN_TOKEN;break;case TILDE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),INCLUDE_MATCH_TOKEN;break;case EOF:return EOF_TOKEN}return isWhiteSpace(s)?(this.consumeWhiteSpace(),WHITESPACE_TOKEN):isDigit(s)?(this.reconsumeCodePoint(s),this.consumeNumericToken()):isNameStartCodePoint(s)?(this.reconsumeCodePoint(s),this.consumeIdentLikeToken()):{type:6,value:fromCodePoint$1(s)}},o.prototype.consumeCodePoint=function(){var s=this._value.shift();return typeof s>"u"?-1:s},o.prototype.reconsumeCodePoint=function(s){this._value.unshift(s)},o.prototype.peekCodePoint=function(s){return s>=this._value.length?-1:this._value[s]},o.prototype.consumeUnicodeRangeToken=function(){for(var s=[],j=this.consumeCodePoint();isHex(j)&&s.length<6;)s.push(j),j=this.consumeCodePoint();for(var et=!1;j===QUESTION_MARK&&s.length<6;)s.push(j),j=this.consumeCodePoint(),et=!0;if(et){var bt=parseInt(fromCodePoint$1.apply(void 0,s.map(function(zt){return zt===QUESTION_MARK?ZERO:zt})),16),At=parseInt(fromCodePoint$1.apply(void 0,s.map(function(zt){return zt===QUESTION_MARK?F:zt})),16);return{type:30,start:bt,end:At}}var Et=parseInt(fromCodePoint$1.apply(void 0,s),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint(),j=this.consumeCodePoint();for(var Ut=[];isHex(j)&&Ut.length<6;)Ut.push(j),j=this.consumeCodePoint();var At=parseInt(fromCodePoint$1.apply(void 0,Ut),16);return{type:30,start:Et,end:At}}else return{type:30,start:Et,end:Et}},o.prototype.consumeIdentLikeToken=function(){var s=this.consumeName();return s.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),{type:19,value:s}):{type:20,value:s}},o.prototype.consumeUrlToken=function(){var s=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF)return{type:22,value:""};var j=this.peekCodePoint(0);if(j===APOSTROPHE||j===QUOTATION_MARK){var et=this.consumeStringToken(this.consumeCodePoint());return et.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS)?(this.consumeCodePoint(),{type:22,value:et.value}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN)}for(;;){var bt=this.consumeCodePoint();if(bt===EOF||bt===RIGHT_PARENTHESIS)return{type:22,value:fromCodePoint$1.apply(void 0,s)};if(isWhiteSpace(bt))return this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS?(this.consumeCodePoint(),{type:22,value:fromCodePoint$1.apply(void 0,s)}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN);if(bt===QUOTATION_MARK||bt===APOSTROPHE||bt===LEFT_PARENTHESIS||isNonPrintableCodePoint(bt))return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;if(bt===REVERSE_SOLIDUS)if(isValidEscape(bt,this.peekCodePoint(0)))s.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;else s.push(bt)}},o.prototype.consumeWhiteSpace=function(){for(;isWhiteSpace(this.peekCodePoint(0));)this.consumeCodePoint()},o.prototype.consumeBadUrlRemnants=function(){for(;;){var s=this.consumeCodePoint();if(s===RIGHT_PARENTHESIS||s===EOF)return;isValidEscape(s,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},o.prototype.consumeStringSlice=function(s){for(var j=5e4,et="";s>0;){var bt=Math.min(j,s);et+=fromCodePoint$1.apply(void 0,this._value.splice(0,bt)),s-=bt}return this._value.shift(),et},o.prototype.consumeStringToken=function(s){var j="",et=0;do{var bt=this._value[et];if(bt===EOF||bt===void 0||bt===s)return j+=this.consumeStringSlice(et),{type:0,value:j};if(bt===LINE_FEED)return this._value.splice(0,et),BAD_STRING_TOKEN;if(bt===REVERSE_SOLIDUS){var At=this._value[et+1];At!==EOF&&At!==void 0&&(At===LINE_FEED?(j+=this.consumeStringSlice(et),et=-1,this._value.shift()):isValidEscape(bt,At)&&(j+=this.consumeStringSlice(et),j+=fromCodePoint$1(this.consumeEscapedCodePoint()),et=-1))}et++}while(!0)},o.prototype.consumeNumber=function(){var s=[],j=FLAG_INTEGER,et=this.peekCodePoint(0);for((et===PLUS_SIGN||et===HYPHEN_MINUS)&&s.push(this.consumeCodePoint());isDigit(this.peekCodePoint(0));)s.push(this.consumeCodePoint());et=this.peekCodePoint(0);var bt=this.peekCodePoint(1);if(et===FULL_STOP&&isDigit(bt))for(s.push(this.consumeCodePoint(),this.consumeCodePoint()),j=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)s.push(this.consumeCodePoint());et=this.peekCodePoint(0),bt=this.peekCodePoint(1);var At=this.peekCodePoint(2);if((et===E||et===e)&&((bt===PLUS_SIGN||bt===HYPHEN_MINUS)&&isDigit(At)||isDigit(bt)))for(s.push(this.consumeCodePoint(),this.consumeCodePoint()),j=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)s.push(this.consumeCodePoint());return[stringToNumber(s),j]},o.prototype.consumeNumericToken=function(){var s=this.consumeNumber(),j=s[0],et=s[1],bt=this.peekCodePoint(0),At=this.peekCodePoint(1),Et=this.peekCodePoint(2);if(isIdentifierStart(bt,At,Et)){var Ut=this.consumeName();return{type:15,number:j,flags:et,unit:Ut}}return bt===PERCENTAGE_SIGN?(this.consumeCodePoint(),{type:16,number:j,flags:et}):{type:17,number:j,flags:et}},o.prototype.consumeEscapedCodePoint=function(){var s=this.consumeCodePoint();if(isHex(s)){for(var j=fromCodePoint$1(s);isHex(this.peekCodePoint(0))&&j.length<6;)j+=fromCodePoint$1(this.consumeCodePoint());isWhiteSpace(this.peekCodePoint(0))&&this.consumeCodePoint();var et=parseInt(j,16);return et===0||isSurrogateCodePoint(et)||et>1114111?REPLACEMENT_CHARACTER:et}return s===EOF?REPLACEMENT_CHARACTER:s},o.prototype.consumeName=function(){for(var s="";;){var j=this.consumeCodePoint();if(isNameCodePoint(j))s+=fromCodePoint$1(j);else if(isValidEscape(j,this.peekCodePoint(0)))s+=fromCodePoint$1(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(j),s}},o}(),Parser=function(){function o(s){this._tokens=s}return o.create=function(s){var j=new Tokenizer;return j.write(s),new o(j.read())},o.parseValue=function(s){return o.create(s).parseComponentValue()},o.parseValues=function(s){return o.create(s).parseComponentValues()},o.prototype.parseComponentValue=function(){for(var s=this.consumeToken();s.type===31;)s=this.consumeToken();if(s.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(s);var j=this.consumeComponentValue();do s=this.consumeToken();while(s.type===31);if(s.type===32)return j;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},o.prototype.parseComponentValues=function(){for(var s=[];;){var j=this.consumeComponentValue();if(j.type===32)return s;s.push(j),s.push()}},o.prototype.consumeComponentValue=function(){var s=this.consumeToken();switch(s.type){case 11:case 28:case 2:return this.consumeSimpleBlock(s.type);case 19:return this.consumeFunction(s)}return s},o.prototype.consumeSimpleBlock=function(s){for(var j={type:s,values:[]},et=this.consumeToken();;){if(et.type===32||isEndingTokenFor(et,s))return j;this.reconsumeToken(et),j.values.push(this.consumeComponentValue()),et=this.consumeToken()}},o.prototype.consumeFunction=function(s){for(var j={name:s.value,values:[],type:18};;){var et=this.consumeToken();if(et.type===32||et.type===3)return j;this.reconsumeToken(et),j.values.push(this.consumeComponentValue())}},o.prototype.consumeToken=function(){var s=this._tokens.shift();return typeof s>"u"?EOF_TOKEN:s},o.prototype.reconsumeToken=function(s){this._tokens.unshift(s)},o}(),isDimensionToken=function(o){return o.type===15},isNumberToken=function(o){return o.type===17},isIdentToken=function(o){return o.type===20},isStringToken=function(o){return o.type===0},isIdentWithValue=function(o,s){return isIdentToken(o)&&o.value===s},nonWhiteSpace=function(o){return o.type!==31},nonFunctionArgSeparator=function(o){return o.type!==31&&o.type!==4},parseFunctionArgs=function(o){var s=[],j=[];return o.forEach(function(et){if(et.type===4){if(j.length===0)throw new Error("Error parsing function args, zero tokens for arg");s.push(j),j=[];return}et.type!==31&&j.push(et)}),j.length&&s.push(j),s},isEndingTokenFor=function(o,s){return s===11&&o.type===12||s===28&&o.type===29?!0:s===2&&o.type===3},isLength=function(o){return o.type===17||o.type===15},isLengthPercentage=function(o){return o.type===16||isLength(o)},parseLengthPercentageTuple=function(o){return o.length>1?[o[0],o[1]]:[o[0]]},ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER},FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER},HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER},getAbsoluteValueForTuple=function(o,s,j){var et=o[0],bt=o[1];return[getAbsoluteValue(et,s),getAbsoluteValue(typeof bt<"u"?bt:et,j)]},getAbsoluteValue=function(o,s){if(o.type===16)return o.number/100*s;if(isDimensionToken(o))switch(o.unit){case"rem":case"em":return 16*o.number;case"px":default:return o.number}return o.number},DEG="deg",GRAD="grad",RAD="rad",TURN="turn",angle={name:"angle",parse:function(o,s){if(s.type===15)switch(s.unit){case DEG:return Math.PI*s.number/180;case GRAD:return Math.PI/200*s.number;case RAD:return s.number;case TURN:return Math.PI*2*s.number}throw new Error("Unsupported angle type")}},isAngle=function(o){return o.type===15&&(o.unit===DEG||o.unit===GRAD||o.unit===RAD||o.unit===TURN)},parseNamedSide=function(o){var s=o.filter(isIdentToken).map(function(j){return j.value}).join(" ");switch(s){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0},deg=function(o){return Math.PI*o/180},color$1={name:"color",parse:function(o,s){if(s.type===18){var j=SUPPORTED_COLOR_FUNCTIONS[s.name];if(typeof j>"u")throw new Error('Attempting to parse an unsupported color function "'+s.name+'"');return j(o,s.values)}if(s.type===5){if(s.value.length===3){var et=s.value.substring(0,1),bt=s.value.substring(1,2),At=s.value.substring(2,3);return pack(parseInt(et+et,16),parseInt(bt+bt,16),parseInt(At+At,16),1)}if(s.value.length===4){var et=s.value.substring(0,1),bt=s.value.substring(1,2),At=s.value.substring(2,3),Et=s.value.substring(3,4);return pack(parseInt(et+et,16),parseInt(bt+bt,16),parseInt(At+At,16),parseInt(Et+Et,16)/255)}if(s.value.length===6){var et=s.value.substring(0,2),bt=s.value.substring(2,4),At=s.value.substring(4,6);return pack(parseInt(et,16),parseInt(bt,16),parseInt(At,16),1)}if(s.value.length===8){var et=s.value.substring(0,2),bt=s.value.substring(2,4),At=s.value.substring(4,6),Et=s.value.substring(6,8);return pack(parseInt(et,16),parseInt(bt,16),parseInt(At,16),parseInt(Et,16)/255)}}if(s.type===20){var Ut=COLORS[s.value.toUpperCase()];if(typeof Ut<"u")return Ut}return COLORS.TRANSPARENT}},isTransparent=function(o){return(255&o)===0},asString=function(o){var s=255&o,j=255&o>>8,et=255&o>>16,bt=255&o>>24;return s<255?"rgba("+bt+","+et+","+j+","+s/255+")":"rgb("+bt+","+et+","+j+")"},pack=function(o,s,j,et){return(o<<24|s<<16|j<<8|Math.round(et*255)<<0)>>>0},getTokenColorValue=function(o,s){if(o.type===17)return o.number;if(o.type===16){var j=s===3?1:255;return s===3?o.number/100*j:Math.round(o.number/100*j)}return 0},rgb=function(o,s){var j=s.filter(nonFunctionArgSeparator);if(j.length===3){var et=j.map(getTokenColorValue),bt=et[0],At=et[1],Et=et[2];return pack(bt,At,Et,1)}if(j.length===4){var Ut=j.map(getTokenColorValue),bt=Ut[0],At=Ut[1],Et=Ut[2],zt=Ut[3];return pack(bt,At,Et,zt)}return 0};function hue2rgb(o,s,j){return j<0&&(j+=1),j>=1&&(j-=1),j<1/6?(s-o)*j*6+o:j<1/2?s:j<2/3?(s-o)*6*(2/3-j)+o:o}var hsl=function(o,s){var j=s.filter(nonFunctionArgSeparator),et=j[0],bt=j[1],At=j[2],Et=j[3],Ut=(et.type===17?deg(et.number):angle.parse(o,et))/(Math.PI*2),zt=isLengthPercentage(bt)?bt.number/100:0,It=isLengthPercentage(At)?At.number/100:0,Qt=typeof Et<"u"&&isLengthPercentage(Et)?getAbsoluteValue(Et,1):1;if(zt===0)return pack(It*255,It*255,It*255,1);var Pt=It<=.5?It*(zt+1):It+zt-It*zt,Yt=It*2-Pt,cr=hue2rgb(Yt,Pt,Ut+1/3),_r=hue2rgb(Yt,Pt,Ut),vr=hue2rgb(Yt,Pt,Ut-1/3);return pack(cr*255,_r*255,vr*255,Qt)},SUPPORTED_COLOR_FUNCTIONS={hsl,hsla:hsl,rgb,rgba:rgb},parseColor=function(o,s){return color$1.parse(o,Parser.create(s).parseComponentValue())},COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},backgroundClip={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(o,s){return s.map(function(j){if(isIdentToken(j))switch(j.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundColor={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},parseColorStop=function(o,s){var j=color$1.parse(o,s[0]),et=s[1];return et&&isLengthPercentage(et)?{color:j,stop:et}:{color:j,stop:null}},processColorStops=function(o,s){var j=o[0],et=o[o.length-1];j.stop===null&&(j.stop=ZERO_LENGTH),et.stop===null&&(et.stop=HUNDRED_PERCENT);for(var bt=[],At=0,Et=0;Et<o.length;Et++){var Ut=o[Et].stop;if(Ut!==null){var zt=getAbsoluteValue(Ut,s);zt>At?bt.push(zt):bt.push(At),At=zt}else bt.push(null)}for(var It=null,Et=0;Et<bt.length;Et++){var Qt=bt[Et];if(Qt===null)It===null&&(It=Et);else if(It!==null){for(var Pt=Et-It,Yt=bt[It-1],cr=(Qt-Yt)/(Pt+1),_r=1;_r<=Pt;_r++)bt[It+_r-1]=cr*_r;It=null}}return o.map(function(vr,Yr){var Kr=vr.color;return{color:Kr,stop:Math.max(Math.min(1,bt[Yr]/s),0)}})},getAngleFromCorner=function(o,s,j){var et=s/2,bt=j/2,At=getAbsoluteValue(o[0],s)-et,Et=bt-getAbsoluteValue(o[1],j);return(Math.atan2(Et,At)+Math.PI*2)%(Math.PI*2)},calculateGradientDirection=function(o,s,j){var et=typeof o=="number"?o:getAngleFromCorner(o,s,j),bt=Math.abs(s*Math.sin(et))+Math.abs(j*Math.cos(et)),At=s/2,Et=j/2,Ut=bt/2,zt=Math.sin(et-Math.PI/2)*Ut,It=Math.cos(et-Math.PI/2)*Ut;return[bt,At-It,At+It,Et-zt,Et+zt]},distance=function(o,s){return Math.sqrt(o*o+s*s)},findCorner=function(o,s,j,et,bt){var At=[[0,0],[0,s],[o,0],[o,s]];return At.reduce(function(Et,Ut){var zt=Ut[0],It=Ut[1],Qt=distance(j-zt,et-It);return(bt?Qt<Et.optimumDistance:Qt>Et.optimumDistance)?{optimumCorner:Ut,optimumDistance:Qt}:Et},{optimumDistance:bt?1/0:-1/0,optimumCorner:null}).optimumCorner},calculateRadius=function(o,s,j,et,bt){var At=0,Et=0;switch(o.size){case 0:o.shape===0?At=Et=Math.min(Math.abs(s),Math.abs(s-et),Math.abs(j),Math.abs(j-bt)):o.shape===1&&(At=Math.min(Math.abs(s),Math.abs(s-et)),Et=Math.min(Math.abs(j),Math.abs(j-bt)));break;case 2:if(o.shape===0)At=Et=Math.min(distance(s,j),distance(s,j-bt),distance(s-et,j),distance(s-et,j-bt));else if(o.shape===1){var Ut=Math.min(Math.abs(j),Math.abs(j-bt))/Math.min(Math.abs(s),Math.abs(s-et)),zt=findCorner(et,bt,s,j,!0),It=zt[0],Qt=zt[1];At=distance(It-s,(Qt-j)/Ut),Et=Ut*At}break;case 1:o.shape===0?At=Et=Math.max(Math.abs(s),Math.abs(s-et),Math.abs(j),Math.abs(j-bt)):o.shape===1&&(At=Math.max(Math.abs(s),Math.abs(s-et)),Et=Math.max(Math.abs(j),Math.abs(j-bt)));break;case 3:if(o.shape===0)At=Et=Math.max(distance(s,j),distance(s,j-bt),distance(s-et,j),distance(s-et,j-bt));else if(o.shape===1){var Ut=Math.max(Math.abs(j),Math.abs(j-bt))/Math.max(Math.abs(s),Math.abs(s-et)),Pt=findCorner(et,bt,s,j,!1),It=Pt[0],Qt=Pt[1];At=distance(It-s,(Qt-j)/Ut),Et=Ut*At}break}return Array.isArray(o.size)&&(At=getAbsoluteValue(o.size[0],et),Et=o.size.length===2?getAbsoluteValue(o.size[1],bt):At),[At,Et]},linearGradient=function(o,s){var j=deg(180),et=[];return parseFunctionArgs(s).forEach(function(bt,At){if(At===0){var Et=bt[0];if(Et.type===20&&Et.value==="to"){j=parseNamedSide(bt);return}else if(isAngle(Et)){j=angle.parse(o,Et);return}}var Ut=parseColorStop(o,bt);et.push(Ut)}),{angle:j,stops:et,type:1}},prefixLinearGradient=function(o,s){var j=deg(180),et=[];return parseFunctionArgs(s).forEach(function(bt,At){if(At===0){var Et=bt[0];if(Et.type===20&&["top","left","right","bottom"].indexOf(Et.value)!==-1){j=parseNamedSide(bt);return}else if(isAngle(Et)){j=(angle.parse(o,Et)+deg(270))%deg(360);return}}var Ut=parseColorStop(o,bt);et.push(Ut)}),{angle:j,stops:et,type:1}},webkitGradient=function(o,s){var j=deg(180),et=[],bt=1,At=0,Et=3,Ut=[];return parseFunctionArgs(s).forEach(function(zt,It){var Qt=zt[0];if(It===0){if(isIdentToken(Qt)&&Qt.value==="linear"){bt=1;return}else if(isIdentToken(Qt)&&Qt.value==="radial"){bt=2;return}}if(Qt.type===18){if(Qt.name==="from"){var Pt=color$1.parse(o,Qt.values[0]);et.push({stop:ZERO_LENGTH,color:Pt})}else if(Qt.name==="to"){var Pt=color$1.parse(o,Qt.values[0]);et.push({stop:HUNDRED_PERCENT,color:Pt})}else if(Qt.name==="color-stop"){var Yt=Qt.values.filter(nonFunctionArgSeparator);if(Yt.length===2){var Pt=color$1.parse(o,Yt[1]),cr=Yt[0];isNumberToken(cr)&&et.push({stop:{type:16,number:cr.number*100,flags:cr.flags},color:Pt})}}}}),bt===1?{angle:(j+deg(180))%deg(360),stops:et,type:bt}:{size:Et,shape:At,stops:et,position:Ut,type:bt}},CLOSEST_SIDE="closest-side",FARTHEST_SIDE="farthest-side",CLOSEST_CORNER="closest-corner",FARTHEST_CORNER="farthest-corner",CIRCLE="circle",ELLIPSE="ellipse",COVER="cover",CONTAIN="contain",radialGradient=function(o,s){var j=0,et=3,bt=[],At=[];return parseFunctionArgs(s).forEach(function(Et,Ut){var zt=!0;if(Ut===0){var It=!1;zt=Et.reduce(function(Pt,Yt){if(It)if(isIdentToken(Yt))switch(Yt.value){case"center":return At.push(FIFTY_PERCENT),Pt;case"top":case"left":return At.push(ZERO_LENGTH),Pt;case"right":case"bottom":return At.push(HUNDRED_PERCENT),Pt}else(isLengthPercentage(Yt)||isLength(Yt))&&At.push(Yt);else if(isIdentToken(Yt))switch(Yt.value){case CIRCLE:return j=0,!1;case ELLIPSE:return j=1,!1;case"at":return It=!0,!1;case CLOSEST_SIDE:return et=0,!1;case COVER:case FARTHEST_SIDE:return et=1,!1;case CONTAIN:case CLOSEST_CORNER:return et=2,!1;case FARTHEST_CORNER:return et=3,!1}else if(isLength(Yt)||isLengthPercentage(Yt))return Array.isArray(et)||(et=[]),et.push(Yt),!1;return Pt},zt)}if(zt){var Qt=parseColorStop(o,Et);bt.push(Qt)}}),{size:et,shape:j,stops:bt,position:At,type:2}},prefixRadialGradient=function(o,s){var j=0,et=3,bt=[],At=[];return parseFunctionArgs(s).forEach(function(Et,Ut){var zt=!0;if(Ut===0?zt=Et.reduce(function(Qt,Pt){if(isIdentToken(Pt))switch(Pt.value){case"center":return At.push(FIFTY_PERCENT),!1;case"top":case"left":return At.push(ZERO_LENGTH),!1;case"right":case"bottom":return At.push(HUNDRED_PERCENT),!1}else if(isLengthPercentage(Pt)||isLength(Pt))return At.push(Pt),!1;return Qt},zt):Ut===1&&(zt=Et.reduce(function(Qt,Pt){if(isIdentToken(Pt))switch(Pt.value){case CIRCLE:return j=0,!1;case ELLIPSE:return j=1,!1;case CONTAIN:case CLOSEST_SIDE:return et=0,!1;case FARTHEST_SIDE:return et=1,!1;case CLOSEST_CORNER:return et=2,!1;case COVER:case FARTHEST_CORNER:return et=3,!1}else if(isLength(Pt)||isLengthPercentage(Pt))return Array.isArray(et)||(et=[]),et.push(Pt),!1;return Qt},zt)),zt){var It=parseColorStop(o,Et);bt.push(It)}}),{size:et,shape:j,stops:bt,position:At,type:2}},isLinearGradient=function(o){return o.type===1},isRadialGradient=function(o){return o.type===2},image={name:"image",parse:function(o,s){if(s.type===22){var j={url:s.value,type:0};return o.cache.addImage(s.value),j}if(s.type===18){var et=SUPPORTED_IMAGE_FUNCTIONS[s.name];if(typeof et>"u")throw new Error('Attempting to parse an unsupported image function "'+s.name+'"');return et(o,s.values)}throw new Error("Unsupported image type "+s.type)}};function isSupportedImage(o){return!(o.type===20&&o.value==="none")&&(o.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[o.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient},backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(o,s){if(s.length===0)return[];var j=s[0];return j.type===20&&j.value==="none"?[]:s.filter(function(et){return nonFunctionArgSeparator(et)&&isSupportedImage(et)}).map(function(et){return image.parse(o,et)})}},backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(o,s){return s.map(function(j){if(isIdentToken(j))switch(j.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(o,s){return parseFunctionArgs(s).map(function(j){return j.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}},backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(o,s){return parseFunctionArgs(s).map(function(j){return j.filter(isIdentToken).map(function(et){return et.value}).join(" ")}).map(parseBackgroundRepeat)}},parseBackgroundRepeat=function(o){switch(o){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BACKGROUND_SIZE;(function(o){o.AUTO="auto",o.CONTAIN="contain",o.COVER="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(o,s){return parseFunctionArgs(s).map(function(j){return j.filter(isBackgroundSizeInfoToken)})}},isBackgroundSizeInfoToken=function(o){return isIdentToken(o)||isLengthPercentage(o)},borderColorForSide=function(o){return{name:"border-"+o+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},borderTopColor=borderColorForSide("top"),borderRightColor=borderColorForSide("right"),borderBottomColor=borderColorForSide("bottom"),borderLeftColor=borderColorForSide("left"),borderRadiusForSide=function(o){return{name:"border-radius-"+o,initialValue:"0 0",prefix:!1,type:1,parse:function(s,j){return parseLengthPercentageTuple(j.filter(isLengthPercentage))}}},borderTopLeftRadius=borderRadiusForSide("top-left"),borderTopRightRadius=borderRadiusForSide("top-right"),borderBottomRightRadius=borderRadiusForSide("bottom-right"),borderBottomLeftRadius=borderRadiusForSide("bottom-left"),borderStyleForSide=function(o){return{name:"border-"+o+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(s,j){switch(j){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},borderTopStyle=borderStyleForSide("top"),borderRightStyle=borderStyleForSide("right"),borderBottomStyle=borderStyleForSide("bottom"),borderLeftStyle=borderStyleForSide("left"),borderWidthForSide=function(o){return{name:"border-"+o+"-width",initialValue:"0",type:0,prefix:!1,parse:function(s,j){return isDimensionToken(j)?j.number:0}}},borderTopWidth=borderWidthForSide("top"),borderRightWidth=borderWidthForSide("right"),borderBottomWidth=borderWidthForSide("bottom"),borderLeftWidth=borderWidthForSide("left"),color={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},direction={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(o,s){switch(s){case"rtl":return 1;case"ltr":default:return 0}}},display={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(o,s){return s.filter(isIdentToken).reduce(function(j,et){return j|parseDisplayValue(et.value)},0)}},parseDisplayValue=function(o){switch(o){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},float={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(o,s){switch(s){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},letterSpacing={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(o,s){return s.type===20&&s.value==="normal"?0:s.type===17||s.type===15?s.number:0}},LINE_BREAK;(function(o){o.NORMAL="normal",o.STRICT="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(o,s){switch(s){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}},lineHeight={name:"line-height",initialValue:"normal",prefix:!1,type:4},computeLineHeight=function(o,s){return isIdentToken(o)&&o.value==="normal"?1.2*s:o.type===17?s*o.number:isLengthPercentage(o)?getAbsoluteValue(o,s):s},listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(o,s){return s.type===20&&s.value==="none"?null:image.parse(o,s)}},listStylePosition={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(o,s){switch(s){case"inside":return 0;case"outside":default:return 1}}},listStyleType={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(o,s){switch(s){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},marginForSide=function(o){return{name:"margin-"+o,initialValue:"0",prefix:!1,type:4}},marginTop=marginForSide("top"),marginRight=marginForSide("right"),marginBottom=marginForSide("bottom"),marginLeft=marginForSide("left"),overflow={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(o,s){return s.filter(isIdentToken).map(function(j){switch(j.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(o,s){switch(s){case"break-word":return"break-word";case"normal":default:return"normal"}}},paddingForSide=function(o){return{name:"padding-"+o,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},paddingTop=paddingForSide("top"),paddingRight=paddingForSide("right"),paddingBottom=paddingForSide("bottom"),paddingLeft=paddingForSide("left"),textAlign={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(o,s){switch(s){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},position={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(o,s){switch(s){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(o,s){return s.length===1&&isIdentWithValue(s[0],"none")?[]:parseFunctionArgs(s).map(function(j){for(var et={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH},bt=0,At=0;At<j.length;At++){var Et=j[At];isLength(Et)?(bt===0?et.offsetX=Et:bt===1?et.offsetY=Et:et.blur=Et,bt++):et.color=color$1.parse(o,Et)}return et})}},textTransform={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(o,s){switch(s){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},transform$1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(o,s){if(s.type===20&&s.value==="none")return null;if(s.type===18){var j=SUPPORTED_TRANSFORM_FUNCTIONS[s.name];if(typeof j>"u")throw new Error('Attempting to parse an unsupported transform function "'+s.name+'"');return j(s.values)}return null}},matrix=function(o){var s=o.filter(function(j){return j.type===17}).map(function(j){return j.number});return s.length===6?s:null},matrix3d=function(o){var s=o.filter(function(zt){return zt.type===17}).map(function(zt){return zt.number}),j=s[0],et=s[1];s[2],s[3];var bt=s[4],At=s[5];s[6],s[7],s[8],s[9],s[10],s[11];var Et=s[12],Ut=s[13];return s[14],s[15],s.length===16?[j,et,bt,At,Et,Ut]:null},SUPPORTED_TRANSFORM_FUNCTIONS={matrix,matrix3d},DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER},DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE],transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(o,s){var j=s.filter(isLengthPercentage);return j.length!==2?DEFAULT:[j[0],j[1]]}},visibility={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(o,s){switch(s){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},WORD_BREAK;(function(o){o.NORMAL="normal",o.BREAK_ALL="break-all",o.KEEP_ALL="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(o,s){switch(s){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}},zIndex={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(o,s){if(s.type===20)return{auto:!0,order:0};if(isNumberToken(s))return{auto:!1,order:s.number};throw new Error("Invalid z-index number parsed")}},time={name:"time",parse:function(o,s){if(s.type===15)switch(s.unit.toLowerCase()){case"s":return 1e3*s.number;case"ms":return s.number}throw new Error("Unsupported time type")}},opacity={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(o,s){return isNumberToken(s)?s.number:1}},textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(o,s){return s.filter(isIdentToken).map(function(j){switch(j.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(j){return j!==0})}},fontFamily={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(o,s){var j=[],et=[];return s.forEach(function(bt){switch(bt.type){case 20:case 0:j.push(bt.value);break;case 17:j.push(bt.number.toString());break;case 4:et.push(j.join(" ")),j.length=0;break}}),j.length&&et.push(j.join(" ")),et.map(function(bt){return bt.indexOf(" ")===-1?bt:"'"+bt+"'"})}},fontSize={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(o,s){if(isNumberToken(s))return s.number;if(isIdentToken(s))switch(s.value){case"bold":return 700;case"normal":default:return 400}return 400}},fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(o,s){return s.filter(isIdentToken).map(function(j){return j.value})}},fontStyle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(o,s){switch(s){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},contains=function(o,s){return(o&s)!==0},content={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(o,s){if(s.length===0)return[];var j=s[0];return j.type===20&&j.value==="none"?[]:s}},counterIncrement={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(o,s){if(s.length===0)return null;var j=s[0];if(j.type===20&&j.value==="none")return null;for(var et=[],bt=s.filter(nonWhiteSpace),At=0;At<bt.length;At++){var Et=bt[At],Ut=bt[At+1];if(Et.type===20){var zt=Ut&&isNumberToken(Ut)?Ut.number:1;et.push({counter:Et.value,increment:zt})}}return et}},counterReset={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(o,s){if(s.length===0)return[];for(var j=[],et=s.filter(nonWhiteSpace),bt=0;bt<et.length;bt++){var At=et[bt],Et=et[bt+1];if(isIdentToken(At)&&At.value!=="none"){var Ut=Et&&isNumberToken(Et)?Et.number:0;j.push({counter:At.value,reset:Ut})}}return j}},duration={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(o,s){return s.filter(isDimensionToken).map(function(j){return time.parse(o,j)})}},quotes={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(o,s){if(s.length===0)return null;var j=s[0];if(j.type===20&&j.value==="none")return null;var et=[],bt=s.filter(isStringToken);if(bt.length%2!==0)return null;for(var At=0;At<bt.length;At+=2){var Et=bt[At].value,Ut=bt[At+1].value;et.push({open:Et,close:Ut})}return et}},getQuote=function(o,s,j){if(!o)return"";var et=o[Math.min(s,o.length-1)];return et?j?et.open:et.close:""},boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(o,s){return s.length===1&&isIdentWithValue(s[0],"none")?[]:parseFunctionArgs(s).map(function(j){for(var et={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:!1},bt=0,At=0;At<j.length;At++){var Et=j[At];isIdentWithValue(Et,"inset")?et.inset=!0:isLength(Et)?(bt===0?et.offsetX=Et:bt===1?et.offsetY=Et:bt===2?et.blur=Et:et.spread=Et,bt++):et.color=color$1.parse(o,Et)}return et})}},paintOrder={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(o,s){var j=[0,1,2],et=[];return s.filter(isIdentToken).forEach(function(bt){switch(bt.value){case"stroke":et.push(1);break;case"fill":et.push(0);break;case"markers":et.push(2);break}}),j.forEach(function(bt){et.indexOf(bt)===-1&&et.push(bt)}),et}},webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(o,s){return isDimensionToken(s)?s.number:0}},CSSParsedDeclaration=function(){function o(s,j){var et,bt;this.animationDuration=parse(s,duration,j.animationDuration),this.backgroundClip=parse(s,backgroundClip,j.backgroundClip),this.backgroundColor=parse(s,backgroundColor,j.backgroundColor),this.backgroundImage=parse(s,backgroundImage,j.backgroundImage),this.backgroundOrigin=parse(s,backgroundOrigin,j.backgroundOrigin),this.backgroundPosition=parse(s,backgroundPosition,j.backgroundPosition),this.backgroundRepeat=parse(s,backgroundRepeat,j.backgroundRepeat),this.backgroundSize=parse(s,backgroundSize,j.backgroundSize),this.borderTopColor=parse(s,borderTopColor,j.borderTopColor),this.borderRightColor=parse(s,borderRightColor,j.borderRightColor),this.borderBottomColor=parse(s,borderBottomColor,j.borderBottomColor),this.borderLeftColor=parse(s,borderLeftColor,j.borderLeftColor),this.borderTopLeftRadius=parse(s,borderTopLeftRadius,j.borderTopLeftRadius),this.borderTopRightRadius=parse(s,borderTopRightRadius,j.borderTopRightRadius),this.borderBottomRightRadius=parse(s,borderBottomRightRadius,j.borderBottomRightRadius),this.borderBottomLeftRadius=parse(s,borderBottomLeftRadius,j.borderBottomLeftRadius),this.borderTopStyle=parse(s,borderTopStyle,j.borderTopStyle),this.borderRightStyle=parse(s,borderRightStyle,j.borderRightStyle),this.borderBottomStyle=parse(s,borderBottomStyle,j.borderBottomStyle),this.borderLeftStyle=parse(s,borderLeftStyle,j.borderLeftStyle),this.borderTopWidth=parse(s,borderTopWidth,j.borderTopWidth),this.borderRightWidth=parse(s,borderRightWidth,j.borderRightWidth),this.borderBottomWidth=parse(s,borderBottomWidth,j.borderBottomWidth),this.borderLeftWidth=parse(s,borderLeftWidth,j.borderLeftWidth),this.boxShadow=parse(s,boxShadow,j.boxShadow),this.color=parse(s,color,j.color),this.direction=parse(s,direction,j.direction),this.display=parse(s,display,j.display),this.float=parse(s,float,j.cssFloat),this.fontFamily=parse(s,fontFamily,j.fontFamily),this.fontSize=parse(s,fontSize,j.fontSize),this.fontStyle=parse(s,fontStyle,j.fontStyle),this.fontVariant=parse(s,fontVariant,j.fontVariant),this.fontWeight=parse(s,fontWeight,j.fontWeight),this.letterSpacing=parse(s,letterSpacing,j.letterSpacing),this.lineBreak=parse(s,lineBreak,j.lineBreak),this.lineHeight=parse(s,lineHeight,j.lineHeight),this.listStyleImage=parse(s,listStyleImage,j.listStyleImage),this.listStylePosition=parse(s,listStylePosition,j.listStylePosition),this.listStyleType=parse(s,listStyleType,j.listStyleType),this.marginTop=parse(s,marginTop,j.marginTop),this.marginRight=parse(s,marginRight,j.marginRight),this.marginBottom=parse(s,marginBottom,j.marginBottom),this.marginLeft=parse(s,marginLeft,j.marginLeft),this.opacity=parse(s,opacity,j.opacity);var At=parse(s,overflow,j.overflow);this.overflowX=At[0],this.overflowY=At[At.length>1?1:0],this.overflowWrap=parse(s,overflowWrap,j.overflowWrap),this.paddingTop=parse(s,paddingTop,j.paddingTop),this.paddingRight=parse(s,paddingRight,j.paddingRight),this.paddingBottom=parse(s,paddingBottom,j.paddingBottom),this.paddingLeft=parse(s,paddingLeft,j.paddingLeft),this.paintOrder=parse(s,paintOrder,j.paintOrder),this.position=parse(s,position,j.position),this.textAlign=parse(s,textAlign,j.textAlign),this.textDecorationColor=parse(s,textDecorationColor,(et=j.textDecorationColor)!==null&&et!==void 0?et:j.color),this.textDecorationLine=parse(s,textDecorationLine,(bt=j.textDecorationLine)!==null&&bt!==void 0?bt:j.textDecoration),this.textShadow=parse(s,textShadow,j.textShadow),this.textTransform=parse(s,textTransform,j.textTransform),this.transform=parse(s,transform$1,j.transform),this.transformOrigin=parse(s,transformOrigin,j.transformOrigin),this.visibility=parse(s,visibility,j.visibility),this.webkitTextStrokeColor=parse(s,webkitTextStrokeColor,j.webkitTextStrokeColor),this.webkitTextStrokeWidth=parse(s,webkitTextStrokeWidth,j.webkitTextStrokeWidth),this.wordBreak=parse(s,wordBreak,j.wordBreak),this.zIndex=parse(s,zIndex,j.zIndex)}return o.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},o.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)},o.prototype.isTransformed=function(){return this.transform!==null},o.prototype.isPositioned=function(){return this.position!==0},o.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},o.prototype.isFloating=function(){return this.float!==0},o.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)},o}(),CSSParsedPseudoDeclaration=function(){function o(s,j){this.content=parse(s,content,j.content),this.quotes=parse(s,quotes,j.quotes)}return o}(),CSSParsedCounterDeclaration=function(){function o(s,j){this.counterIncrement=parse(s,counterIncrement,j.counterIncrement),this.counterReset=parse(s,counterReset,j.counterReset)}return o}(),parse=function(o,s,j){var et=new Tokenizer,bt=j!==null&&typeof j<"u"?j.toString():s.initialValue;et.write(bt);var At=new Parser(et.read());switch(s.type){case 2:var Et=At.parseComponentValue();return s.parse(o,isIdentToken(Et)?Et.value:s.initialValue);case 0:return s.parse(o,At.parseComponentValue());case 1:return s.parse(o,At.parseComponentValues());case 4:return At.parseComponentValue();case 3:switch(s.format){case"angle":return angle.parse(o,At.parseComponentValue());case"color":return color$1.parse(o,At.parseComponentValue());case"image":return image.parse(o,At.parseComponentValue());case"length":var Ut=At.parseComponentValue();return isLength(Ut)?Ut:ZERO_LENGTH;case"length-percentage":var zt=At.parseComponentValue();return isLengthPercentage(zt)?zt:ZERO_LENGTH;case"time":return time.parse(o,At.parseComponentValue())}break}},elementDebuggerAttribute="data-html2canvas-debug",getElementDebugType=function(o){var s=o.getAttribute(elementDebuggerAttribute);switch(s){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},isDebugging=function(o,s){var j=getElementDebugType(o);return j===1||s===j},ElementContainer=function(){function o(s,j){if(this.context=s,this.textNodes=[],this.elements=[],this.flags=0,isDebugging(j,3))debugger;this.styles=new CSSParsedDeclaration(s,window.getComputedStyle(j,null)),isHTMLElementNode(j)&&(this.styles.animationDuration.some(function(et){return et>0})&&(j.style.animationDuration="0s"),this.styles.transform!==null&&(j.style.transform="none")),this.bounds=parseBounds(this.context,j),isDebugging(j,4)&&(this.flags|=16)}return o}(),base64="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var decode=function(o){var s=o.length*.75,j=o.length,et,bt=0,At,Et,Ut,zt;o[o.length-1]==="="&&(s--,o[o.length-2]==="="&&s--);var It=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(s):new Array(s),Qt=Array.isArray(It)?It:new Uint8Array(It);for(et=0;et<j;et+=4)At=lookup$1[o.charCodeAt(et)],Et=lookup$1[o.charCodeAt(et+1)],Ut=lookup$1[o.charCodeAt(et+2)],zt=lookup$1[o.charCodeAt(et+3)],Qt[bt++]=At<<2|Et>>4,Qt[bt++]=(Et&15)<<4|Ut>>2,Qt[bt++]=(Ut&3)<<6|zt&63;return It},polyUint16Array=function(o){for(var s=o.length,j=[],et=0;et<s;et+=2)j.push(o[et+1]<<8|o[et]);return j},polyUint32Array=function(o){for(var s=o.length,j=[],et=0;et<s;et+=4)j.push(o[et+3]<<24|o[et+2]<<16|o[et+1]<<8|o[et]);return j},UTRIE2_SHIFT_2=5,UTRIE2_SHIFT_1=11,UTRIE2_INDEX_SHIFT=2,UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2,UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2,UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2,UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1,UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2,UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH,UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH,UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1,UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2,UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1,slice16=function(o,s,j){return o.slice?o.slice(s,j):new Uint16Array(Array.prototype.slice.call(o,s,j))},slice32=function(o,s,j){return o.slice?o.slice(s,j):new Uint32Array(Array.prototype.slice.call(o,s,j))},createTrieFromBase64=function(o,s){var j=decode(o),et=Array.isArray(j)?polyUint32Array(j):new Uint32Array(j),bt=Array.isArray(j)?polyUint16Array(j):new Uint16Array(j),At=24,Et=slice16(bt,At/2,et[4]/2),Ut=et[5]===2?slice16(bt,(At+et[4])/2):slice32(et,Math.ceil((At+et[4])/4));return new Trie(et[0],et[1],et[2],et[3],Et,Ut)},Trie=function(){function o(s,j,et,bt,At,Et){this.initialValue=s,this.errorValue=j,this.highStart=et,this.highValueIndex=bt,this.index=At,this.data=Et}return o.prototype.get=function(s){var j;if(s>=0){if(s<55296||s>56319&&s<=65535)return j=this.index[s>>UTRIE2_SHIFT_2],j=(j<<UTRIE2_INDEX_SHIFT)+(s&UTRIE2_DATA_MASK),this.data[j];if(s<=65535)return j=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(s-55296>>UTRIE2_SHIFT_2)],j=(j<<UTRIE2_INDEX_SHIFT)+(s&UTRIE2_DATA_MASK),this.data[j];if(s<this.highStart)return j=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(s>>UTRIE2_SHIFT_1),j=this.index[j],j+=s>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK,j=this.index[j],j=(j<<UTRIE2_INDEX_SHIFT)+(s&UTRIE2_DATA_MASK),this.data[j];if(s<=1114111)return this.data[this.highValueIndex]}return this.errorValue},o}(),chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var Prepend=1,CR=2,LF=3,Control=4,Extend=5,SpacingMark=7,L=8,V=9,T=10,LV=11,LVT=12,ZWJ=13,Extended_Pictographic=14,RI=15,toCodePoints=function(o){for(var s=[],j=0,et=o.length;j<et;){var bt=o.charCodeAt(j++);if(bt>=55296&&bt<=56319&&j<et){var At=o.charCodeAt(j++);(At&64512)===56320?s.push(((bt&1023)<<10)+(At&1023)+65536):(s.push(bt),j--)}else s.push(bt)}return s},fromCodePoint=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(String.fromCodePoint)return String.fromCodePoint.apply(String,o);var j=o.length;if(!j)return"";for(var et=[],bt=-1,At="";++bt<j;){var Et=o[bt];Et<=65535?et.push(Et):(Et-=65536,et.push((Et>>10)+55296,Et%1024+56320)),(bt+1===j||et.length>16384)&&(At+=String.fromCharCode.apply(String,et),et.length=0)}return At},UnicodeTrie=createTrieFromBase64(base64),BREAK_NOT_ALLOWED="×",BREAK_ALLOWED="÷",codePointToClass=function(o){return UnicodeTrie.get(o)},_graphemeBreakAtIndex=function(o,s,j){var et=j-2,bt=s[et],At=s[j-1],Et=s[j];if(At===CR&&Et===LF)return BREAK_NOT_ALLOWED;if(At===CR||At===LF||At===Control||Et===CR||Et===LF||Et===Control)return BREAK_ALLOWED;if(At===L&&[L,V,LV,LVT].indexOf(Et)!==-1||(At===LV||At===V)&&(Et===V||Et===T)||(At===LVT||At===T)&&Et===T||Et===ZWJ||Et===Extend||Et===SpacingMark||At===Prepend)return BREAK_NOT_ALLOWED;if(At===ZWJ&&Et===Extended_Pictographic){for(;bt===Extend;)bt=s[--et];if(bt===Extended_Pictographic)return BREAK_NOT_ALLOWED}if(At===RI&&Et===RI){for(var Ut=0;bt===RI;)Ut++,bt=s[--et];if(Ut%2===0)return BREAK_NOT_ALLOWED}return BREAK_ALLOWED},GraphemeBreaker=function(o){var s=toCodePoints(o),j=s.length,et=0,bt=0,At=s.map(codePointToClass);return{next:function(){if(et>=j)return{done:!0,value:null};for(var Et=BREAK_NOT_ALLOWED;et<j&&(Et=_graphemeBreakAtIndex(s,At,++et))===BREAK_NOT_ALLOWED;);if(Et!==BREAK_NOT_ALLOWED||et===j){var Ut=fromCodePoint.apply(null,s.slice(bt,et));return bt=et,{value:Ut,done:!1}}return{done:!0,value:null}}}},splitGraphemes=function(o){for(var s=GraphemeBreaker(o),j=[],et;!(et=s.next()).done;)et.value&&j.push(et.value.slice());return j},testRangeBounds=function(o){var s=123;if(o.createRange){var j=o.createRange();if(j.getBoundingClientRect){var et=o.createElement("boundtest");et.style.height=s+"px",et.style.display="block",o.body.appendChild(et),j.selectNode(et);var bt=j.getBoundingClientRect(),At=Math.round(bt.height);if(o.body.removeChild(et),At===s)return!0}}return!1},testIOSLineBreak=function(o){var s=o.createElement("boundtest");s.style.width="50px",s.style.display="block",s.style.fontSize="12px",s.style.letterSpacing="0px",s.style.wordSpacing="0px",o.body.appendChild(s);var j=o.createRange();s.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var et=s.firstChild,bt=toCodePoints$1(et.data).map(function(zt){return fromCodePoint$1(zt)}),At=0,Et={},Ut=bt.every(function(zt,It){j.setStart(et,At),j.setEnd(et,At+zt.length);var Qt=j.getBoundingClientRect();At+=zt.length;var Pt=Qt.x>Et.x||Qt.y>Et.y;return Et=Qt,It===0?!0:Pt});return o.body.removeChild(s),Ut},testCORS=function(){return typeof new Image().crossOrigin<"u"},testResponseType=function(){return typeof new XMLHttpRequest().responseType=="string"},testSVG=function(o){var s=new Image,j=o.createElement("canvas"),et=j.getContext("2d");if(!et)return!1;s.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{et.drawImage(s,0,0),j.toDataURL()}catch{return!1}return!0},isGreenPixel=function(o){return o[0]===0&&o[1]===255&&o[2]===0&&o[3]===255},testForeignObject=function(o){var s=o.createElement("canvas"),j=100;s.width=j,s.height=j;var et=s.getContext("2d");if(!et)return Promise.reject(!1);et.fillStyle="rgb(0, 255, 0)",et.fillRect(0,0,j,j);var bt=new Image,At=s.toDataURL();bt.src=At;var Et=createForeignObjectSVG(j,j,0,0,bt);return et.fillStyle="red",et.fillRect(0,0,j,j),loadSerializedSVG$1(Et).then(function(Ut){et.drawImage(Ut,0,0);var zt=et.getImageData(0,0,j,j).data;et.fillStyle="red",et.fillRect(0,0,j,j);var It=o.createElement("div");return It.style.backgroundImage="url("+At+")",It.style.height=j+"px",isGreenPixel(zt)?loadSerializedSVG$1(createForeignObjectSVG(j,j,0,0,It)):Promise.reject(!1)}).then(function(Ut){return et.drawImage(Ut,0,0),isGreenPixel(et.getImageData(0,0,j,j).data)}).catch(function(){return!1})},createForeignObjectSVG=function(o,s,j,et,bt){var At="http://www.w3.org/2000/svg",Et=document.createElementNS(At,"svg"),Ut=document.createElementNS(At,"foreignObject");return Et.setAttributeNS(null,"width",o.toString()),Et.setAttributeNS(null,"height",s.toString()),Ut.setAttributeNS(null,"width","100%"),Ut.setAttributeNS(null,"height","100%"),Ut.setAttributeNS(null,"x",j.toString()),Ut.setAttributeNS(null,"y",et.toString()),Ut.setAttributeNS(null,"externalResourcesRequired","true"),Et.appendChild(Ut),Ut.appendChild(bt),Et},loadSerializedSVG$1=function(o){return new Promise(function(s,j){var et=new Image;et.onload=function(){return s(et)},et.onerror=j,et.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(o))})},FEATURES={get SUPPORT_RANGE_BOUNDS(){var o=testRangeBounds(document);return Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:o}),o},get SUPPORT_WORD_BREAKING(){var o=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);return Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:o}),o},get SUPPORT_SVG_DRAWING(){var o=testSVG(document);return Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:o}),o},get SUPPORT_FOREIGNOBJECT_DRAWING(){var o=typeof Array.from=="function"&&typeof window.fetch=="function"?testForeignObject(document):Promise.resolve(!1);return Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:o}),o},get SUPPORT_CORS_IMAGES(){var o=testCORS();return Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:o}),o},get SUPPORT_RESPONSE_TYPE(){var o=testResponseType();return Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:o}),o},get SUPPORT_CORS_XHR(){var o="withCredentials"in new XMLHttpRequest;return Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:o}),o},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var o=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:o}),o}},TextBounds=function(){function o(s,j){this.text=s,this.bounds=j}return o}(),parseTextBounds=function(o,s,j,et){var bt=breakText(s,j),At=[],Et=0;return bt.forEach(function(Ut){if(j.textDecorationLine.length||Ut.trim().length>0)if(FEATURES.SUPPORT_RANGE_BOUNDS){var zt=createRange(et,Et,Ut.length).getClientRects();if(zt.length>1){var It=segmentGraphemes(Ut),Qt=0;It.forEach(function(Yt){At.push(new TextBounds(Yt,Bounds.fromDOMRectList(o,createRange(et,Qt+Et,Yt.length).getClientRects()))),Qt+=Yt.length})}else At.push(new TextBounds(Ut,Bounds.fromDOMRectList(o,zt)))}else{var Pt=et.splitText(Ut.length);At.push(new TextBounds(Ut,getWrapperBounds(o,et))),et=Pt}else FEATURES.SUPPORT_RANGE_BOUNDS||(et=et.splitText(Ut.length));Et+=Ut.length}),At},getWrapperBounds=function(o,s){var j=s.ownerDocument;if(j){var et=j.createElement("html2canvaswrapper");et.appendChild(s.cloneNode(!0));var bt=s.parentNode;if(bt){bt.replaceChild(et,s);var At=parseBounds(o,et);return et.firstChild&&bt.replaceChild(et.firstChild,et),At}}return Bounds.EMPTY},createRange=function(o,s,j){var et=o.ownerDocument;if(!et)throw new Error("Node has no owner document");var bt=et.createRange();return bt.setStart(o,s),bt.setEnd(o,s+j),bt},segmentGraphemes=function(o){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var s=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(s.segment(o)).map(function(j){return j.segment})}return splitGraphemes(o)},segmentWords=function(o,s){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var j=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(j.segment(o)).map(function(et){return et.segment})}return breakWords(o,s)},breakText=function(o,s){return s.letterSpacing!==0?segmentGraphemes(o):segmentWords(o,s)},wordSeparators=[32,160,4961,65792,65793,4153,4241],breakWords=function(o,s){for(var j=LineBreaker(o,{lineBreak:s.lineBreak,wordBreak:s.overflowWrap==="break-word"?"break-word":s.wordBreak}),et=[],bt,At=function(){if(bt.value){var Et=bt.value.slice(),Ut=toCodePoints$1(Et),zt="";Ut.forEach(function(It){wordSeparators.indexOf(It)===-1?zt+=fromCodePoint$1(It):(zt.length&&et.push(zt),et.push(fromCodePoint$1(It)),zt="")}),zt.length&&et.push(zt)}};!(bt=j.next()).done;)At();return et},TextContainer=function(){function o(s,j,et){this.text=transform(j.data,et.textTransform),this.textBounds=parseTextBounds(s,this.text,et,j)}return o}(),transform=function(o,s){switch(s){case 1:return o.toLowerCase();case 3:return o.replace(CAPITALIZE,capitalize);case 2:return o.toUpperCase();default:return o}},CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g,capitalize=function(o,s,j){return o.length>0?s+j.toUpperCase():o},ImageElementContainer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this;return bt.src=et.currentSrc||et.src,bt.intrinsicWidth=et.naturalWidth,bt.intrinsicHeight=et.naturalHeight,bt.context.cache.addImage(bt.src),bt}return s}(ElementContainer),CanvasElementContainer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this;return bt.canvas=et,bt.intrinsicWidth=et.width,bt.intrinsicHeight=et.height,bt}return s}(ElementContainer),SVGElementContainer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this,At=new XMLSerializer,Et=parseBounds(j,et);return et.setAttribute("width",Et.width+"px"),et.setAttribute("height",Et.height+"px"),bt.svg="data:image/svg+xml,"+encodeURIComponent(At.serializeToString(et)),bt.intrinsicWidth=et.width.baseVal.value,bt.intrinsicHeight=et.height.baseVal.value,bt.context.cache.addImage(bt.svg),bt}return s}(ElementContainer),LIElementContainer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this;return bt.value=et.value,bt}return s}(ElementContainer),OLElementContainer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this;return bt.start=et.start,bt.reversed=typeof et.reversed=="boolean"&&et.reversed===!0,bt}return s}(ElementContainer),CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}],RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}],reformatInputBounds=function(o){return o.width>o.height?new Bounds(o.left+(o.width-o.height)/2,o.top,o.height,o.height):o.width<o.height?new Bounds(o.left,o.top+(o.height-o.width)/2,o.width,o.width):o},getInputValue=function(o){var s=o.type===PASSWORD?new Array(o.value.length+1).join("•"):o.value;return s.length===0?o.placeholder||"":s},CHECKBOX="checkbox",RADIO="radio",PASSWORD="password",INPUT_COLOR=707406591,InputElementContainer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this;switch(bt.type=et.type.toLowerCase(),bt.checked=et.checked,bt.value=getInputValue(et),(bt.type===CHECKBOX||bt.type===RADIO)&&(bt.styles.backgroundColor=3739148031,bt.styles.borderTopColor=bt.styles.borderRightColor=bt.styles.borderBottomColor=bt.styles.borderLeftColor=2779096575,bt.styles.borderTopWidth=bt.styles.borderRightWidth=bt.styles.borderBottomWidth=bt.styles.borderLeftWidth=1,bt.styles.borderTopStyle=bt.styles.borderRightStyle=bt.styles.borderBottomStyle=bt.styles.borderLeftStyle=1,bt.styles.backgroundClip=[0],bt.styles.backgroundOrigin=[0],bt.bounds=reformatInputBounds(bt.bounds)),bt.type){case CHECKBOX:bt.styles.borderTopRightRadius=bt.styles.borderTopLeftRadius=bt.styles.borderBottomRightRadius=bt.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:bt.styles.borderTopRightRadius=bt.styles.borderTopLeftRadius=bt.styles.borderBottomRightRadius=bt.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return bt}return s}(ElementContainer),SelectElementContainer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this,At=et.options[et.selectedIndex||0];return bt.value=At&&At.text||"",bt}return s}(ElementContainer),TextareaElementContainer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this;return bt.value=et.value,bt}return s}(ElementContainer),IFrameElementContainer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this;bt.src=et.src,bt.width=parseInt(et.width,10)||0,bt.height=parseInt(et.height,10)||0,bt.backgroundColor=bt.styles.backgroundColor;try{if(et.contentWindow&&et.contentWindow.document&&et.contentWindow.document.documentElement){bt.tree=parseTree(j,et.contentWindow.document.documentElement);var At=et.contentWindow.document.documentElement?parseColor(j,getComputedStyle(et.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT,Et=et.contentWindow.document.body?parseColor(j,getComputedStyle(et.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;bt.backgroundColor=isTransparent(At)?isTransparent(Et)?bt.styles.backgroundColor:Et:At}}catch{}return bt}return s}(ElementContainer),LIST_OWNERS=["OL","UL","MENU"],parseNodeTree=function(o,s,j,et){for(var bt=s.firstChild,At=void 0;bt;bt=At)if(At=bt.nextSibling,isTextNode(bt)&&bt.data.trim().length>0)j.textNodes.push(new TextContainer(o,bt,j.styles));else if(isElementNode(bt))if(isSlotElement(bt)&&bt.assignedNodes)bt.assignedNodes().forEach(function(Ut){return parseNodeTree(o,Ut,j,et)});else{var Et=createContainer(o,bt);Et.styles.isVisible()&&(createsRealStackingContext(bt,Et,et)?Et.flags|=4:createsStackingContext(Et.styles)&&(Et.flags|=2),LIST_OWNERS.indexOf(bt.tagName)!==-1&&(Et.flags|=8),j.elements.push(Et),bt.slot,bt.shadowRoot?parseNodeTree(o,bt.shadowRoot,Et,et):!isTextareaElement(bt)&&!isSVGElement(bt)&&!isSelectElement(bt)&&parseNodeTree(o,bt,Et,et))}},createContainer=function(o,s){return isImageElement(s)?new ImageElementContainer(o,s):isCanvasElement(s)?new CanvasElementContainer(o,s):isSVGElement(s)?new SVGElementContainer(o,s):isLIElement(s)?new LIElementContainer(o,s):isOLElement(s)?new OLElementContainer(o,s):isInputElement(s)?new InputElementContainer(o,s):isSelectElement(s)?new SelectElementContainer(o,s):isTextareaElement(s)?new TextareaElementContainer(o,s):isIFrameElement(s)?new IFrameElementContainer(o,s):new ElementContainer(o,s)},parseTree=function(o,s){var j=createContainer(o,s);return j.flags|=4,parseNodeTree(o,s,j,j),j},createsRealStackingContext=function(o,s,j){return s.styles.isPositionedWithZIndex()||s.styles.opacity<1||s.styles.isTransformed()||isBodyElement(o)&&j.styles.isTransparent()},createsStackingContext=function(o){return o.isPositioned()||o.isFloating()},isTextNode=function(o){return o.nodeType===Node.TEXT_NODE},isElementNode=function(o){return o.nodeType===Node.ELEMENT_NODE},isHTMLElementNode=function(o){return isElementNode(o)&&typeof o.style<"u"&&!isSVGElementNode(o)},isSVGElementNode=function(o){return typeof o.className=="object"},isLIElement=function(o){return o.tagName==="LI"},isOLElement=function(o){return o.tagName==="OL"},isInputElement=function(o){return o.tagName==="INPUT"},isHTMLElement=function(o){return o.tagName==="HTML"},isSVGElement=function(o){return o.tagName==="svg"},isBodyElement=function(o){return o.tagName==="BODY"},isCanvasElement=function(o){return o.tagName==="CANVAS"},isVideoElement=function(o){return o.tagName==="VIDEO"},isImageElement=function(o){return o.tagName==="IMG"},isIFrameElement=function(o){return o.tagName==="IFRAME"},isStyleElement=function(o){return o.tagName==="STYLE"},isScriptElement=function(o){return o.tagName==="SCRIPT"},isTextareaElement=function(o){return o.tagName==="TEXTAREA"},isSelectElement=function(o){return o.tagName==="SELECT"},isSlotElement=function(o){return o.tagName==="SLOT"},isCustomElement=function(o){return o.tagName.indexOf("-")>0},CounterState=function(){function o(){this.counters={}}return o.prototype.getCounterValue=function(s){var j=this.counters[s];return j&&j.length?j[j.length-1]:1},o.prototype.getCounterValues=function(s){var j=this.counters[s];return j||[]},o.prototype.pop=function(s){var j=this;s.forEach(function(et){return j.counters[et].pop()})},o.prototype.parse=function(s){var j=this,et=s.counterIncrement,bt=s.counterReset,At=!0;et!==null&&et.forEach(function(Ut){var zt=j.counters[Ut.counter];zt&&Ut.increment!==0&&(At=!1,zt.length||zt.push(1),zt[Math.max(0,zt.length-1)]+=Ut.increment)});var Et=[];return At&&bt.forEach(function(Ut){var zt=j.counters[Ut.counter];Et.push(Ut.counter),zt||(zt=j.counters[Ut.counter]=[]),zt.push(Ut.reset)}),Et},o}(),ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},createAdditiveCounter=function(o,s,j,et,bt,At){return o<s||o>j?createCounterText(o,bt,At.length>0):et.integers.reduce(function(Et,Ut,zt){for(;o>=Ut;)o-=Ut,Et+=et.values[zt];return Et},"")+At},createCounterStyleWithSymbolResolver=function(o,s,j,et){var bt="";do j||o--,bt=et(o)+bt,o/=s;while(o*s>=s);return bt},createCounterStyleFromRange=function(o,s,j,et,bt){var At=j-s+1;return(o<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(o),At,et,function(Et){return fromCodePoint$1(Math.floor(Et%At)+s)})+bt)},createCounterStyleFromSymbols=function(o,s,j){j===void 0&&(j=". ");var et=s.length;return createCounterStyleWithSymbolResolver(Math.abs(o),et,!1,function(bt){return s[Math.floor(bt%et)]})+j},CJK_ZEROS=1,CJK_TEN_COEFFICIENTS=2,CJK_TEN_HIGH_COEFFICIENTS=4,CJK_HUNDRED_COEFFICIENTS=8,createCJKCounter=function(o,s,j,et,bt,At){if(o<-9999||o>9999)return createCounterText(o,4,bt.length>0);var Et=Math.abs(o),Ut=bt;if(Et===0)return s[0]+Ut;for(var zt=0;Et>0&&zt<=4;zt++){var It=Et%10;It===0&&contains(At,CJK_ZEROS)&&Ut!==""?Ut=s[It]+Ut:It>1||It===1&&zt===0||It===1&&zt===1&&contains(At,CJK_TEN_COEFFICIENTS)||It===1&&zt===1&&contains(At,CJK_TEN_HIGH_COEFFICIENTS)&&o>100||It===1&&zt>1&&contains(At,CJK_HUNDRED_COEFFICIENTS)?Ut=s[It]+(zt>0?j[zt-1]:"")+Ut:It===1&&zt>0&&(Ut=j[zt-1]+Ut),Et=Math.floor(Et/10)}return(o<0?et:"")+Ut},CHINESE_INFORMAL_MULTIPLIERS="十百千萬",CHINESE_FORMAL_MULTIPLIERS="拾佰仟萬",JAPANESE_NEGATIVE="マイナス",KOREAN_NEGATIVE="마이너스",createCounterText=function(o,s,j){var et=j?". ":"",bt=j?"、":"",At=j?", ":"",Et=j?" ":"";switch(s){case 0:return"•"+Et;case 1:return"◦"+Et;case 2:return"◾"+Et;case 5:var Ut=createCounterStyleFromRange(o,48,57,!0,et);return Ut.length<4?"0"+Ut:Ut;case 4:return createCounterStyleFromSymbols(o,"〇一二三四五六七八九",bt);case 6:return createAdditiveCounter(o,1,3999,ROMAN_UPPER,3,et).toLowerCase();case 7:return createAdditiveCounter(o,1,3999,ROMAN_UPPER,3,et);case 8:return createCounterStyleFromRange(o,945,969,!1,et);case 9:return createCounterStyleFromRange(o,97,122,!1,et);case 10:return createCounterStyleFromRange(o,65,90,!1,et);case 11:return createCounterStyleFromRange(o,1632,1641,!0,et);case 12:case 49:return createAdditiveCounter(o,1,9999,ARMENIAN,3,et);case 35:return createAdditiveCounter(o,1,9999,ARMENIAN,3,et).toLowerCase();case 13:return createCounterStyleFromRange(o,2534,2543,!0,et);case 14:case 30:return createCounterStyleFromRange(o,6112,6121,!0,et);case 15:return createCounterStyleFromSymbols(o,"子丑寅卯辰巳午未申酉戌亥",bt);case 16:return createCounterStyleFromSymbols(o,"甲乙丙丁戊己庚辛壬癸",bt);case 17:case 48:return createCJKCounter(o,"零一二三四五六七八九",CHINESE_INFORMAL_MULTIPLIERS,"負",bt,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(o,"零壹貳參肆伍陸柒捌玖",CHINESE_FORMAL_MULTIPLIERS,"負",bt,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(o,"零一二三四五六七八九",CHINESE_INFORMAL_MULTIPLIERS,"负",bt,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(o,"零壹贰叁肆伍陆柒捌玖",CHINESE_FORMAL_MULTIPLIERS,"负",bt,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(o,"〇一二三四五六七八九","十百千万",JAPANESE_NEGATIVE,bt,0);case 25:return createCJKCounter(o,"零壱弐参四伍六七八九","拾百千万",JAPANESE_NEGATIVE,bt,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(o,"영일이삼사오육칠팔구","십백천만",KOREAN_NEGATIVE,At,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(o,"零一二三四五六七八九","十百千萬",KOREAN_NEGATIVE,At,0);case 32:return createCJKCounter(o,"零壹貳參四五六七八九","拾百千",KOREAN_NEGATIVE,At,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(o,2406,2415,!0,et);case 20:return createAdditiveCounter(o,1,19999,GEORGIAN,3,et);case 21:return createCounterStyleFromRange(o,2790,2799,!0,et);case 22:return createCounterStyleFromRange(o,2662,2671,!0,et);case 22:return createAdditiveCounter(o,1,10999,HEBREW,3,et);case 23:return createCounterStyleFromSymbols(o,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return createCounterStyleFromSymbols(o,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return createCounterStyleFromRange(o,3302,3311,!0,et);case 28:return createCounterStyleFromSymbols(o,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",bt);case 29:return createCounterStyleFromSymbols(o,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",bt);case 34:return createCounterStyleFromRange(o,3792,3801,!0,et);case 37:return createCounterStyleFromRange(o,6160,6169,!0,et);case 38:return createCounterStyleFromRange(o,4160,4169,!0,et);case 39:return createCounterStyleFromRange(o,2918,2927,!0,et);case 40:return createCounterStyleFromRange(o,1776,1785,!0,et);case 43:return createCounterStyleFromRange(o,3046,3055,!0,et);case 44:return createCounterStyleFromRange(o,3174,3183,!0,et);case 45:return createCounterStyleFromRange(o,3664,3673,!0,et);case 46:return createCounterStyleFromRange(o,3872,3881,!0,et);case 3:default:return createCounterStyleFromRange(o,48,57,!0,et)}},IGNORE_ATTRIBUTE="data-html2canvas-ignore",DocumentCloner=function(){function o(s,j,et){if(this.context=s,this.options=et,this.scrolledElements=[],this.referenceElement=j,this.counters=new CounterState,this.quoteDepth=0,!j.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(j.ownerDocument.documentElement,!1)}return o.prototype.toIFrame=function(s,j){var et=this,bt=createIFrameContainer(s,j);if(!bt.contentWindow)return Promise.reject("Unable to find iframe window");var At=s.defaultView.pageXOffset,Et=s.defaultView.pageYOffset,Ut=bt.contentWindow,zt=Ut.document,It=iframeLoader(bt).then(function(){return __awaiter(et,void 0,void 0,function(){var Qt,Pt;return __generator(this,function(Yt){switch(Yt.label){case 0:return this.scrolledElements.forEach(restoreNodeScroll),Ut&&(Ut.scrollTo(j.left,j.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Ut.scrollY!==j.top||Ut.scrollX!==j.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Ut.scrollX-j.left,Ut.scrollY-j.top,0,0))),Qt=this.options.onclone,Pt=this.clonedReferenceElement,typeof Pt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:zt.fonts&&zt.fonts.ready?[4,zt.fonts.ready]:[3,2];case 1:Yt.sent(),Yt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,imagesReady(zt)]:[3,4];case 3:Yt.sent(),Yt.label=4;case 4:return typeof Qt=="function"?[2,Promise.resolve().then(function(){return Qt(zt,Pt)}).then(function(){return bt})]:[2,bt]}})})});return zt.open(),zt.write(serializeDoctype(document.doctype)+"<html></html>"),restoreOwnerScroll(this.referenceElement.ownerDocument,At,Et),zt.replaceChild(zt.adoptNode(this.documentElement),zt.documentElement),zt.close(),It},o.prototype.createElementClone=function(s){if(isDebugging(s,2))debugger;if(isCanvasElement(s))return this.createCanvasClone(s);if(isVideoElement(s))return this.createVideoClone(s);if(isStyleElement(s))return this.createStyleClone(s);var j=s.cloneNode(!1);return isImageElement(j)&&(isImageElement(s)&&s.currentSrc&&s.currentSrc!==s.src&&(j.src=s.currentSrc,j.srcset=""),j.loading==="lazy"&&(j.loading="eager")),isCustomElement(j)?this.createCustomElementClone(j):j},o.prototype.createCustomElementClone=function(s){var j=document.createElement("html2canvascustomelement");return copyCSSStyles(s.style,j),j},o.prototype.createStyleClone=function(s){try{var j=s.sheet;if(j&&j.cssRules){var et=[].slice.call(j.cssRules,0).reduce(function(At,Et){return Et&&typeof Et.cssText=="string"?At+Et.cssText:At},""),bt=s.cloneNode(!1);return bt.textContent=et,bt}}catch(At){if(this.context.logger.error("Unable to access cssRules property",At),At.name!=="SecurityError")throw At}return s.cloneNode(!1)},o.prototype.createCanvasClone=function(s){var j;if(this.options.inlineImages&&s.ownerDocument){var et=s.ownerDocument.createElement("img");try{return et.src=s.toDataURL(),et}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",s)}}var bt=s.cloneNode(!1);try{bt.width=s.width,bt.height=s.height;var At=s.getContext("2d"),Et=bt.getContext("2d");if(Et)if(!this.options.allowTaint&&At)Et.putImageData(At.getImageData(0,0,s.width,s.height),0,0);else{var Ut=(j=s.getContext("webgl2"))!==null&&j!==void 0?j:s.getContext("webgl");if(Ut){var zt=Ut.getContextAttributes();(zt==null?void 0:zt.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",s)}Et.drawImage(s,0,0)}return bt}catch{this.context.logger.info("Unable to clone canvas as it is tainted",s)}return bt},o.prototype.createVideoClone=function(s){var j=s.ownerDocument.createElement("canvas");j.width=s.offsetWidth,j.height=s.offsetHeight;var et=j.getContext("2d");try{return et&&(et.drawImage(s,0,0,j.width,j.height),this.options.allowTaint||et.getImageData(0,0,j.width,j.height)),j}catch{this.context.logger.info("Unable to clone video as it is tainted",s)}var bt=s.ownerDocument.createElement("canvas");return bt.width=s.offsetWidth,bt.height=s.offsetHeight,bt},o.prototype.appendChildNode=function(s,j,et){(!isElementNode(j)||!isScriptElement(j)&&!j.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(j)))&&(!this.options.copyStyles||!isElementNode(j)||!isStyleElement(j))&&s.appendChild(this.cloneNode(j,et))},o.prototype.cloneChildNodes=function(s,j,et){for(var bt=this,At=s.shadowRoot?s.shadowRoot.firstChild:s.firstChild;At;At=At.nextSibling)if(isElementNode(At)&&isSlotElement(At)&&typeof At.assignedNodes=="function"){var Et=At.assignedNodes();Et.length&&Et.forEach(function(Ut){return bt.appendChildNode(j,Ut,et)})}else this.appendChildNode(j,At,et)},o.prototype.cloneNode=function(s,j){if(isTextNode(s))return document.createTextNode(s.data);if(!s.ownerDocument)return s.cloneNode(!1);var et=s.ownerDocument.defaultView;if(et&&isElementNode(s)&&(isHTMLElementNode(s)||isSVGElementNode(s))){var bt=this.createElementClone(s);bt.style.transitionProperty="none";var At=et.getComputedStyle(s),Et=et.getComputedStyle(s,":before"),Ut=et.getComputedStyle(s,":after");this.referenceElement===s&&isHTMLElementNode(bt)&&(this.clonedReferenceElement=bt),isBodyElement(bt)&&createPseudoHideStyles(bt);var zt=this.counters.parse(new CSSParsedCounterDeclaration(this.context,At)),It=this.resolvePseudoContent(s,bt,Et,PseudoElementType.BEFORE);isCustomElement(s)&&(j=!0),isVideoElement(s)||this.cloneChildNodes(s,bt,j),It&&bt.insertBefore(It,bt.firstChild);var Qt=this.resolvePseudoContent(s,bt,Ut,PseudoElementType.AFTER);return Qt&&bt.appendChild(Qt),this.counters.pop(zt),(At&&(this.options.copyStyles||isSVGElementNode(s))&&!isIFrameElement(s)||j)&&copyCSSStyles(At,bt),(s.scrollTop!==0||s.scrollLeft!==0)&&this.scrolledElements.push([bt,s.scrollLeft,s.scrollTop]),(isTextareaElement(s)||isSelectElement(s))&&(isTextareaElement(bt)||isSelectElement(bt))&&(bt.value=s.value),bt}return s.cloneNode(!1)},o.prototype.resolvePseudoContent=function(s,j,et,bt){var At=this;if(et){var Et=et.content,Ut=j.ownerDocument;if(!(!Ut||!Et||Et==="none"||Et==="-moz-alt-content"||et.display==="none")){this.counters.parse(new CSSParsedCounterDeclaration(this.context,et));var zt=new CSSParsedPseudoDeclaration(this.context,et),It=Ut.createElement("html2canvaspseudoelement");copyCSSStyles(et,It),zt.content.forEach(function(Pt){if(Pt.type===0)It.appendChild(Ut.createTextNode(Pt.value));else if(Pt.type===22){var Yt=Ut.createElement("img");Yt.src=Pt.value,Yt.style.opacity="1",It.appendChild(Yt)}else if(Pt.type===18){if(Pt.name==="attr"){var cr=Pt.values.filter(isIdentToken);cr.length&&It.appendChild(Ut.createTextNode(s.getAttribute(cr[0].value)||""))}else if(Pt.name==="counter"){var _r=Pt.values.filter(nonFunctionArgSeparator),vr=_r[0],Yr=_r[1];if(vr&&isIdentToken(vr)){var Kr=At.counters.getCounterValue(vr.value),jr=Yr&&isIdentToken(Yr)?listStyleType.parse(At.context,Yr.value):3;It.appendChild(Ut.createTextNode(createCounterText(Kr,jr,!1)))}}else if(Pt.name==="counters"){var Hn=Pt.values.filter(nonFunctionArgSeparator),vr=Hn[0],tA=Hn[1],Yr=Hn[2];if(vr&&isIdentToken(vr)){var nA=At.counters.getCounterValues(vr.value),aA=Yr&&isIdentToken(Yr)?listStyleType.parse(At.context,Yr.value):3,lA=tA&&tA.type===0?tA.value:"",hA=nA.map(function(NA){return createCounterText(NA,aA,!1)}).join(lA);It.appendChild(Ut.createTextNode(hA))}}}else if(Pt.type===20)switch(Pt.value){case"open-quote":It.appendChild(Ut.createTextNode(getQuote(zt.quotes,At.quoteDepth++,!0)));break;case"close-quote":It.appendChild(Ut.createTextNode(getQuote(zt.quotes,--At.quoteDepth,!1)));break;default:It.appendChild(Ut.createTextNode(Pt.value))}}),It.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;var Qt=bt===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;return isSVGElementNode(j)?j.className.baseValue+=Qt:j.className+=Qt,It}}},o.destroy=function(s){return s.parentNode?(s.parentNode.removeChild(s),!0):!1},o}(),PseudoElementType;(function(o){o[o.BEFORE=0]="BEFORE",o[o.AFTER=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function(o,s){var j=o.createElement("iframe");return j.className="html2canvas-container",j.style.visibility="hidden",j.style.position="fixed",j.style.left="-10000px",j.style.top="0px",j.style.border="0",j.width=s.width.toString(),j.height=s.height.toString(),j.scrolling="no",j.setAttribute(IGNORE_ATTRIBUTE,"true"),o.body.appendChild(j),j},imageReady=function(o){return new Promise(function(s){if(o.complete){s();return}if(!o.src){s();return}o.onload=s,o.onerror=s})},imagesReady=function(o){return Promise.all([].slice.call(o.images,0).map(imageReady))},iframeLoader=function(o){return new Promise(function(s,j){var et=o.contentWindow;if(!et)return j("No window assigned for iframe");var bt=et.document;et.onload=o.onload=function(){et.onload=o.onload=null;var At=setInterval(function(){bt.body.childNodes.length>0&&bt.readyState==="complete"&&(clearInterval(At),s(o))},50)}})},ignoredStyleProperties=["all","d","content"],copyCSSStyles=function(o,s){for(var j=o.length-1;j>=0;j--){var et=o.item(j);ignoredStyleProperties.indexOf(et)===-1&&s.style.setProperty(et,o.getPropertyValue(et))}return s},serializeDoctype=function(o){var s="";return o&&(s+="<!DOCTYPE ",o.name&&(s+=o.name),o.internalSubset&&(s+=o.internalSubset),o.publicId&&(s+='"'+o.publicId+'"'),o.systemId&&(s+='"'+o.systemId+'"'),s+=">"),s},restoreOwnerScroll=function(o,s,j){o&&o.defaultView&&(s!==o.defaultView.pageXOffset||j!==o.defaultView.pageYOffset)&&o.defaultView.scrollTo(s,j)},restoreNodeScroll=function(o){var s=o[0],j=o[1],et=o[2];s.scrollLeft=j,s.scrollTop=et},PSEUDO_BEFORE=":before",PSEUDO_AFTER=":after",PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",PSEUDO_HIDE_ELEMENT_STYLE=`{
    content: "" !important;
    display: none !important;
}`,createPseudoHideStyles=function(o){createStyles(o,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+`
         .`+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE)},createStyles=function(o,s){var j=o.ownerDocument;if(j){var et=j.createElement("style");et.textContent=s,o.appendChild(et)}},CacheStorage=function(){function o(){}return o.getOrigin=function(s){var j=o._link;return j?(j.href=s,j.href=j.href,j.protocol+j.hostname+j.port):"about:blank"},o.isSameOrigin=function(s){return o.getOrigin(s)===o._origin},o.setContext=function(s){o._link=s.document.createElement("a"),o._origin=o.getOrigin(s.location.href)},o._origin="about:blank",o}(),Cache=function(){function o(s,j){this.context=s,this._options=j,this._cache={}}return o.prototype.addImage=function(s){var j=Promise.resolve();return this.has(s)||(isBlobImage(s)||isRenderable(s))&&(this._cache[s]=this.loadImage(s)).catch(function(){}),j},o.prototype.match=function(s){return this._cache[s]},o.prototype.loadImage=function(s){return __awaiter(this,void 0,void 0,function(){var j,et,bt,At,Et=this;return __generator(this,function(Ut){switch(Ut.label){case 0:return j=CacheStorage.isSameOrigin(s),et=!isInlineImage(s)&&this._options.useCORS===!0&&FEATURES.SUPPORT_CORS_IMAGES&&!j,bt=!isInlineImage(s)&&!j&&!isBlobImage(s)&&typeof this._options.proxy=="string"&&FEATURES.SUPPORT_CORS_XHR&&!et,!j&&this._options.allowTaint===!1&&!isInlineImage(s)&&!isBlobImage(s)&&!bt&&!et?[2]:(At=s,bt?[4,this.proxy(At)]:[3,2]);case 1:At=Ut.sent(),Ut.label=2;case 2:return this.context.logger.debug("Added image "+s.substring(0,256)),[4,new Promise(function(zt,It){var Qt=new Image;Qt.onload=function(){return zt(Qt)},Qt.onerror=It,(isInlineBase64Image(At)||et)&&(Qt.crossOrigin="anonymous"),Qt.src=At,Qt.complete===!0&&setTimeout(function(){return zt(Qt)},500),Et._options.imageTimeout>0&&setTimeout(function(){return It("Timed out ("+Et._options.imageTimeout+"ms) loading image")},Et._options.imageTimeout)})];case 3:return[2,Ut.sent()]}})})},o.prototype.has=function(s){return typeof this._cache[s]<"u"},o.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},o.prototype.proxy=function(s){var j=this,et=this._options.proxy;if(!et)throw new Error("No proxy defined");var bt=s.substring(0,256);return new Promise(function(At,Et){var Ut=FEATURES.SUPPORT_RESPONSE_TYPE?"blob":"text",zt=new XMLHttpRequest;zt.onload=function(){if(zt.status===200)if(Ut==="text")At(zt.response);else{var Pt=new FileReader;Pt.addEventListener("load",function(){return At(Pt.result)},!1),Pt.addEventListener("error",function(Yt){return Et(Yt)},!1),Pt.readAsDataURL(zt.response)}else Et("Failed to proxy resource "+bt+" with status code "+zt.status)},zt.onerror=Et;var It=et.indexOf("?")>-1?"&":"?";if(zt.open("GET",""+et+It+"url="+encodeURIComponent(s)+"&responseType="+Ut),Ut!=="text"&&zt instanceof XMLHttpRequest&&(zt.responseType=Ut),j._options.imageTimeout){var Qt=j._options.imageTimeout;zt.timeout=Qt,zt.ontimeout=function(){return Et("Timed out ("+Qt+"ms) proxying "+bt)}}zt.send()})},o}(),INLINE_SVG=/^data:image\/svg\+xml/i,INLINE_BASE64=/^data:image\/.*;base64,/i,INLINE_IMG=/^data:image\/.*/i,isRenderable=function(o){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(o)},isInlineImage=function(o){return INLINE_IMG.test(o)},isInlineBase64Image=function(o){return INLINE_BASE64.test(o)},isBlobImage=function(o){return o.substr(0,4)==="blob"},isSVG=function(o){return o.substr(-3).toLowerCase()==="svg"||INLINE_SVG.test(o)},Vector=function(){function o(s,j){this.type=0,this.x=s,this.y=j}return o.prototype.add=function(s,j){return new o(this.x+s,this.y+j)},o}(),lerp=function(o,s,j){return new Vector(o.x+(s.x-o.x)*j,o.y+(s.y-o.y)*j)},BezierCurve=function(){function o(s,j,et,bt){this.type=1,this.start=s,this.startControl=j,this.endControl=et,this.end=bt}return o.prototype.subdivide=function(s,j){var et=lerp(this.start,this.startControl,s),bt=lerp(this.startControl,this.endControl,s),At=lerp(this.endControl,this.end,s),Et=lerp(et,bt,s),Ut=lerp(bt,At,s),zt=lerp(Et,Ut,s);return j?new o(this.start,et,Et,zt):new o(zt,Ut,At,this.end)},o.prototype.add=function(s,j){return new o(this.start.add(s,j),this.startControl.add(s,j),this.endControl.add(s,j),this.end.add(s,j))},o.prototype.reverse=function(){return new o(this.end,this.endControl,this.startControl,this.start)},o}(),isBezierCurve=function(o){return o.type===1},BoundCurves=function(){function o(s){var j=s.styles,et=s.bounds,bt=getAbsoluteValueForTuple(j.borderTopLeftRadius,et.width,et.height),At=bt[0],Et=bt[1],Ut=getAbsoluteValueForTuple(j.borderTopRightRadius,et.width,et.height),zt=Ut[0],It=Ut[1],Qt=getAbsoluteValueForTuple(j.borderBottomRightRadius,et.width,et.height),Pt=Qt[0],Yt=Qt[1],cr=getAbsoluteValueForTuple(j.borderBottomLeftRadius,et.width,et.height),_r=cr[0],vr=cr[1],Yr=[];Yr.push((At+zt)/et.width),Yr.push((_r+Pt)/et.width),Yr.push((Et+vr)/et.height),Yr.push((It+Yt)/et.height);var Kr=Math.max.apply(Math,Yr);Kr>1&&(At/=Kr,Et/=Kr,zt/=Kr,It/=Kr,Pt/=Kr,Yt/=Kr,_r/=Kr,vr/=Kr);var jr=et.width-zt,Hn=et.height-Yt,tA=et.width-Pt,nA=et.height-vr,aA=j.borderTopWidth,lA=j.borderRightWidth,hA=j.borderBottomWidth,pA=j.borderLeftWidth,wA=getAbsoluteValue(j.paddingTop,s.bounds.width),NA=getAbsoluteValue(j.paddingRight,s.bounds.width),cA=getAbsoluteValue(j.paddingBottom,s.bounds.width),CA=getAbsoluteValue(j.paddingLeft,s.bounds.width);this.topLeftBorderDoubleOuterBox=At>0||Et>0?getCurvePoints(et.left+pA/3,et.top+aA/3,At-pA/3,Et-aA/3,CORNER.TOP_LEFT):new Vector(et.left+pA/3,et.top+aA/3),this.topRightBorderDoubleOuterBox=At>0||Et>0?getCurvePoints(et.left+jr,et.top+aA/3,zt-lA/3,It-aA/3,CORNER.TOP_RIGHT):new Vector(et.left+et.width-lA/3,et.top+aA/3),this.bottomRightBorderDoubleOuterBox=Pt>0||Yt>0?getCurvePoints(et.left+tA,et.top+Hn,Pt-lA/3,Yt-hA/3,CORNER.BOTTOM_RIGHT):new Vector(et.left+et.width-lA/3,et.top+et.height-hA/3),this.bottomLeftBorderDoubleOuterBox=_r>0||vr>0?getCurvePoints(et.left+pA/3,et.top+nA,_r-pA/3,vr-hA/3,CORNER.BOTTOM_LEFT):new Vector(et.left+pA/3,et.top+et.height-hA/3),this.topLeftBorderDoubleInnerBox=At>0||Et>0?getCurvePoints(et.left+pA*2/3,et.top+aA*2/3,At-pA*2/3,Et-aA*2/3,CORNER.TOP_LEFT):new Vector(et.left+pA*2/3,et.top+aA*2/3),this.topRightBorderDoubleInnerBox=At>0||Et>0?getCurvePoints(et.left+jr,et.top+aA*2/3,zt-lA*2/3,It-aA*2/3,CORNER.TOP_RIGHT):new Vector(et.left+et.width-lA*2/3,et.top+aA*2/3),this.bottomRightBorderDoubleInnerBox=Pt>0||Yt>0?getCurvePoints(et.left+tA,et.top+Hn,Pt-lA*2/3,Yt-hA*2/3,CORNER.BOTTOM_RIGHT):new Vector(et.left+et.width-lA*2/3,et.top+et.height-hA*2/3),this.bottomLeftBorderDoubleInnerBox=_r>0||vr>0?getCurvePoints(et.left+pA*2/3,et.top+nA,_r-pA*2/3,vr-hA*2/3,CORNER.BOTTOM_LEFT):new Vector(et.left+pA*2/3,et.top+et.height-hA*2/3),this.topLeftBorderStroke=At>0||Et>0?getCurvePoints(et.left+pA/2,et.top+aA/2,At-pA/2,Et-aA/2,CORNER.TOP_LEFT):new Vector(et.left+pA/2,et.top+aA/2),this.topRightBorderStroke=At>0||Et>0?getCurvePoints(et.left+jr,et.top+aA/2,zt-lA/2,It-aA/2,CORNER.TOP_RIGHT):new Vector(et.left+et.width-lA/2,et.top+aA/2),this.bottomRightBorderStroke=Pt>0||Yt>0?getCurvePoints(et.left+tA,et.top+Hn,Pt-lA/2,Yt-hA/2,CORNER.BOTTOM_RIGHT):new Vector(et.left+et.width-lA/2,et.top+et.height-hA/2),this.bottomLeftBorderStroke=_r>0||vr>0?getCurvePoints(et.left+pA/2,et.top+nA,_r-pA/2,vr-hA/2,CORNER.BOTTOM_LEFT):new Vector(et.left+pA/2,et.top+et.height-hA/2),this.topLeftBorderBox=At>0||Et>0?getCurvePoints(et.left,et.top,At,Et,CORNER.TOP_LEFT):new Vector(et.left,et.top),this.topRightBorderBox=zt>0||It>0?getCurvePoints(et.left+jr,et.top,zt,It,CORNER.TOP_RIGHT):new Vector(et.left+et.width,et.top),this.bottomRightBorderBox=Pt>0||Yt>0?getCurvePoints(et.left+tA,et.top+Hn,Pt,Yt,CORNER.BOTTOM_RIGHT):new Vector(et.left+et.width,et.top+et.height),this.bottomLeftBorderBox=_r>0||vr>0?getCurvePoints(et.left,et.top+nA,_r,vr,CORNER.BOTTOM_LEFT):new Vector(et.left,et.top+et.height),this.topLeftPaddingBox=At>0||Et>0?getCurvePoints(et.left+pA,et.top+aA,Math.max(0,At-pA),Math.max(0,Et-aA),CORNER.TOP_LEFT):new Vector(et.left+pA,et.top+aA),this.topRightPaddingBox=zt>0||It>0?getCurvePoints(et.left+Math.min(jr,et.width-lA),et.top+aA,jr>et.width+lA?0:Math.max(0,zt-lA),Math.max(0,It-aA),CORNER.TOP_RIGHT):new Vector(et.left+et.width-lA,et.top+aA),this.bottomRightPaddingBox=Pt>0||Yt>0?getCurvePoints(et.left+Math.min(tA,et.width-pA),et.top+Math.min(Hn,et.height-hA),Math.max(0,Pt-lA),Math.max(0,Yt-hA),CORNER.BOTTOM_RIGHT):new Vector(et.left+et.width-lA,et.top+et.height-hA),this.bottomLeftPaddingBox=_r>0||vr>0?getCurvePoints(et.left+pA,et.top+Math.min(nA,et.height-hA),Math.max(0,_r-pA),Math.max(0,vr-hA),CORNER.BOTTOM_LEFT):new Vector(et.left+pA,et.top+et.height-hA),this.topLeftContentBox=At>0||Et>0?getCurvePoints(et.left+pA+CA,et.top+aA+wA,Math.max(0,At-(pA+CA)),Math.max(0,Et-(aA+wA)),CORNER.TOP_LEFT):new Vector(et.left+pA+CA,et.top+aA+wA),this.topRightContentBox=zt>0||It>0?getCurvePoints(et.left+Math.min(jr,et.width+pA+CA),et.top+aA+wA,jr>et.width+pA+CA?0:zt-pA+CA,It-(aA+wA),CORNER.TOP_RIGHT):new Vector(et.left+et.width-(lA+NA),et.top+aA+wA),this.bottomRightContentBox=Pt>0||Yt>0?getCurvePoints(et.left+Math.min(tA,et.width-(pA+CA)),et.top+Math.min(Hn,et.height+aA+wA),Math.max(0,Pt-(lA+NA)),Yt-(hA+cA),CORNER.BOTTOM_RIGHT):new Vector(et.left+et.width-(lA+NA),et.top+et.height-(hA+cA)),this.bottomLeftContentBox=_r>0||vr>0?getCurvePoints(et.left+pA+CA,et.top+nA,Math.max(0,_r-(pA+CA)),vr-(hA+cA),CORNER.BOTTOM_LEFT):new Vector(et.left+pA+CA,et.top+et.height-(hA+cA))}return o}(),CORNER;(function(o){o[o.TOP_LEFT=0]="TOP_LEFT",o[o.TOP_RIGHT=1]="TOP_RIGHT",o[o.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",o[o.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function(o,s,j,et,bt){var At=4*((Math.sqrt(2)-1)/3),Et=j*At,Ut=et*At,zt=o+j,It=s+et;switch(bt){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(o,It),new Vector(o,It-Ut),new Vector(zt-Et,s),new Vector(zt,s));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(o,s),new Vector(o+Et,s),new Vector(zt,It-Ut),new Vector(zt,It));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(zt,s),new Vector(zt,s+Ut),new Vector(o+Et,It),new Vector(o,It));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(zt,It),new Vector(zt-Et,It),new Vector(o,s+Ut),new Vector(o,s))}},calculateBorderBoxPath=function(o){return[o.topLeftBorderBox,o.topRightBorderBox,o.bottomRightBorderBox,o.bottomLeftBorderBox]},calculateContentBoxPath=function(o){return[o.topLeftContentBox,o.topRightContentBox,o.bottomRightContentBox,o.bottomLeftContentBox]},calculatePaddingBoxPath=function(o){return[o.topLeftPaddingBox,o.topRightPaddingBox,o.bottomRightPaddingBox,o.bottomLeftPaddingBox]},TransformEffect=function(){function o(s,j,et){this.offsetX=s,this.offsetY=j,this.matrix=et,this.type=0,this.target=6}return o}(),ClipEffect=function(){function o(s,j){this.path=s,this.target=j,this.type=1}return o}(),OpacityEffect=function(){function o(s){this.opacity=s,this.type=2,this.target=6}return o}(),isTransformEffect=function(o){return o.type===0},isClipEffect=function(o){return o.type===1},isOpacityEffect=function(o){return o.type===2},equalPath=function(o,s){return o.length===s.length?o.some(function(j,et){return j===s[et]}):!1},transformPath=function(o,s,j,et,bt){return o.map(function(At,Et){switch(Et){case 0:return At.add(s,j);case 1:return At.add(s+et,j);case 2:return At.add(s+et,j+bt);case 3:return At.add(s,j+bt)}return At})},StackingContext=function(){function o(s){this.element=s,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return o}(),ElementPaint=function(){function o(s,j){if(this.container=s,this.parent=j,this.effects=[],this.curves=new BoundCurves(this.container),this.container.styles.opacity<1&&this.effects.push(new OpacityEffect(this.container.styles.opacity)),this.container.styles.transform!==null){var et=this.container.bounds.left+this.container.styles.transformOrigin[0].number,bt=this.container.bounds.top+this.container.styles.transformOrigin[1].number,At=this.container.styles.transform;this.effects.push(new TransformEffect(et,bt,At))}if(this.container.styles.overflowX!==0){var Et=calculateBorderBoxPath(this.curves),Ut=calculatePaddingBoxPath(this.curves);equalPath(Et,Ut)?this.effects.push(new ClipEffect(Et,6)):(this.effects.push(new ClipEffect(Et,2)),this.effects.push(new ClipEffect(Ut,4)))}}return o.prototype.getEffects=function(s){for(var j=[2,3].indexOf(this.container.styles.position)===-1,et=this.parent,bt=this.effects.slice(0);et;){var At=et.effects.filter(function(zt){return!isClipEffect(zt)});if(j||et.container.styles.position!==0||!et.parent){if(bt.unshift.apply(bt,At),j=[2,3].indexOf(et.container.styles.position)===-1,et.container.styles.overflowX!==0){var Et=calculateBorderBoxPath(et.curves),Ut=calculatePaddingBoxPath(et.curves);equalPath(Et,Ut)||bt.unshift(new ClipEffect(Ut,6))}}else bt.unshift.apply(bt,At);et=et.parent}return bt.filter(function(zt){return contains(zt.target,s)})},o}(),parseStackTree=function(o,s,j,et){o.container.elements.forEach(function(bt){var At=contains(bt.flags,4),Et=contains(bt.flags,2),Ut=new ElementPaint(bt,o);contains(bt.styles.display,2048)&&et.push(Ut);var zt=contains(bt.flags,8)?[]:et;if(At||Et){var It=At||bt.styles.isPositioned()?j:s,Qt=new StackingContext(Ut);if(bt.styles.isPositioned()||bt.styles.opacity<1||bt.styles.isTransformed()){var Pt=bt.styles.zIndex.order;if(Pt<0){var Yt=0;It.negativeZIndex.some(function(_r,vr){return Pt>_r.element.container.styles.zIndex.order?(Yt=vr,!1):Yt>0}),It.negativeZIndex.splice(Yt,0,Qt)}else if(Pt>0){var cr=0;It.positiveZIndex.some(function(_r,vr){return Pt>=_r.element.container.styles.zIndex.order?(cr=vr+1,!1):cr>0}),It.positiveZIndex.splice(cr,0,Qt)}else It.zeroOrAutoZIndexOrTransformedOrOpacity.push(Qt)}else bt.styles.isFloating()?It.nonPositionedFloats.push(Qt):It.nonPositionedInlineLevel.push(Qt);parseStackTree(Ut,Qt,At?Qt:j,zt)}else bt.styles.isInlineLevel()?s.inlineLevel.push(Ut):s.nonInlineLevel.push(Ut),parseStackTree(Ut,s,j,zt);contains(bt.flags,8)&&processListItems(bt,zt)})},processListItems=function(o,s){for(var j=o instanceof OLElementContainer?o.start:1,et=o instanceof OLElementContainer?o.reversed:!1,bt=0;bt<s.length;bt++){var At=s[bt];At.container instanceof LIElementContainer&&typeof At.container.value=="number"&&At.container.value!==0&&(j=At.container.value),At.listValue=createCounterText(j,At.container.styles.listStyleType,!0),j+=et?-1:1}},parseStackingContexts=function(o){var s=new ElementPaint(o,null),j=new StackingContext(s),et=[];return parseStackTree(s,j,j,et),processListItems(s.container,et),j},parsePathForBorder=function(o,s){switch(s){case 0:return createPathFromCurves(o.topLeftBorderBox,o.topLeftPaddingBox,o.topRightBorderBox,o.topRightPaddingBox);case 1:return createPathFromCurves(o.topRightBorderBox,o.topRightPaddingBox,o.bottomRightBorderBox,o.bottomRightPaddingBox);case 2:return createPathFromCurves(o.bottomRightBorderBox,o.bottomRightPaddingBox,o.bottomLeftBorderBox,o.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(o.bottomLeftBorderBox,o.bottomLeftPaddingBox,o.topLeftBorderBox,o.topLeftPaddingBox)}},parsePathForBorderDoubleOuter=function(o,s){switch(s){case 0:return createPathFromCurves(o.topLeftBorderBox,o.topLeftBorderDoubleOuterBox,o.topRightBorderBox,o.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(o.topRightBorderBox,o.topRightBorderDoubleOuterBox,o.bottomRightBorderBox,o.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(o.bottomRightBorderBox,o.bottomRightBorderDoubleOuterBox,o.bottomLeftBorderBox,o.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(o.bottomLeftBorderBox,o.bottomLeftBorderDoubleOuterBox,o.topLeftBorderBox,o.topLeftBorderDoubleOuterBox)}},parsePathForBorderDoubleInner=function(o,s){switch(s){case 0:return createPathFromCurves(o.topLeftBorderDoubleInnerBox,o.topLeftPaddingBox,o.topRightBorderDoubleInnerBox,o.topRightPaddingBox);case 1:return createPathFromCurves(o.topRightBorderDoubleInnerBox,o.topRightPaddingBox,o.bottomRightBorderDoubleInnerBox,o.bottomRightPaddingBox);case 2:return createPathFromCurves(o.bottomRightBorderDoubleInnerBox,o.bottomRightPaddingBox,o.bottomLeftBorderDoubleInnerBox,o.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(o.bottomLeftBorderDoubleInnerBox,o.bottomLeftPaddingBox,o.topLeftBorderDoubleInnerBox,o.topLeftPaddingBox)}},parsePathForBorderStroke=function(o,s){switch(s){case 0:return createStrokePathFromCurves(o.topLeftBorderStroke,o.topRightBorderStroke);case 1:return createStrokePathFromCurves(o.topRightBorderStroke,o.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(o.bottomRightBorderStroke,o.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(o.bottomLeftBorderStroke,o.topLeftBorderStroke)}},createStrokePathFromCurves=function(o,s){var j=[];return isBezierCurve(o)?j.push(o.subdivide(.5,!1)):j.push(o),isBezierCurve(s)?j.push(s.subdivide(.5,!0)):j.push(s),j},createPathFromCurves=function(o,s,j,et){var bt=[];return isBezierCurve(o)?bt.push(o.subdivide(.5,!1)):bt.push(o),isBezierCurve(j)?bt.push(j.subdivide(.5,!0)):bt.push(j),isBezierCurve(et)?bt.push(et.subdivide(.5,!0).reverse()):bt.push(et),isBezierCurve(s)?bt.push(s.subdivide(.5,!1).reverse()):bt.push(s),bt},paddingBox=function(o){var s=o.bounds,j=o.styles;return s.add(j.borderLeftWidth,j.borderTopWidth,-(j.borderRightWidth+j.borderLeftWidth),-(j.borderTopWidth+j.borderBottomWidth))},contentBox=function(o){var s=o.styles,j=o.bounds,et=getAbsoluteValue(s.paddingLeft,j.width),bt=getAbsoluteValue(s.paddingRight,j.width),At=getAbsoluteValue(s.paddingTop,j.width),Et=getAbsoluteValue(s.paddingBottom,j.width);return j.add(et+s.borderLeftWidth,At+s.borderTopWidth,-(s.borderRightWidth+s.borderLeftWidth+et+bt),-(s.borderTopWidth+s.borderBottomWidth+At+Et))},calculateBackgroundPositioningArea=function(o,s){return o===0?s.bounds:o===2?contentBox(s):paddingBox(s)},calculateBackgroundPaintingArea=function(o,s){return o===0?s.bounds:o===2?contentBox(s):paddingBox(s)},calculateBackgroundRendering=function(o,s,j){var et=calculateBackgroundPositioningArea(getBackgroundValueForIndex(o.styles.backgroundOrigin,s),o),bt=calculateBackgroundPaintingArea(getBackgroundValueForIndex(o.styles.backgroundClip,s),o),At=calculateBackgroundSize(getBackgroundValueForIndex(o.styles.backgroundSize,s),j,et),Et=At[0],Ut=At[1],zt=getAbsoluteValueForTuple(getBackgroundValueForIndex(o.styles.backgroundPosition,s),et.width-Et,et.height-Ut),It=calculateBackgroundRepeatPath(getBackgroundValueForIndex(o.styles.backgroundRepeat,s),zt,At,et,bt),Qt=Math.round(et.left+zt[0]),Pt=Math.round(et.top+zt[1]);return[It,Qt,Pt,Et,Ut]},isAuto=function(o){return isIdentToken(o)&&o.value===BACKGROUND_SIZE.AUTO},hasIntrinsicValue=function(o){return typeof o=="number"},calculateBackgroundSize=function(o,s,j){var et=s[0],bt=s[1],At=s[2],Et=o[0],Ut=o[1];if(!Et)return[0,0];if(isLengthPercentage(Et)&&Ut&&isLengthPercentage(Ut))return[getAbsoluteValue(Et,j.width),getAbsoluteValue(Ut,j.height)];var zt=hasIntrinsicValue(At);if(isIdentToken(Et)&&(Et.value===BACKGROUND_SIZE.CONTAIN||Et.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(At)){var It=j.width/j.height;return It<At!=(Et.value===BACKGROUND_SIZE.COVER)?[j.width,j.width/At]:[j.height*At,j.height]}return[j.width,j.height]}var Qt=hasIntrinsicValue(et),Pt=hasIntrinsicValue(bt),Yt=Qt||Pt;if(isAuto(Et)&&(!Ut||isAuto(Ut))){if(Qt&&Pt)return[et,bt];if(!zt&&!Yt)return[j.width,j.height];if(Yt&&zt){var cr=Qt?et:bt*At,_r=Pt?bt:et/At;return[cr,_r]}var vr=Qt?et:j.width,Yr=Pt?bt:j.height;return[vr,Yr]}if(zt){var Kr=0,jr=0;return isLengthPercentage(Et)?Kr=getAbsoluteValue(Et,j.width):isLengthPercentage(Ut)&&(jr=getAbsoluteValue(Ut,j.height)),isAuto(Et)?Kr=jr*At:(!Ut||isAuto(Ut))&&(jr=Kr/At),[Kr,jr]}var Hn=null,tA=null;if(isLengthPercentage(Et)?Hn=getAbsoluteValue(Et,j.width):Ut&&isLengthPercentage(Ut)&&(tA=getAbsoluteValue(Ut,j.height)),Hn!==null&&(!Ut||isAuto(Ut))&&(tA=Qt&&Pt?Hn/et*bt:j.height),tA!==null&&isAuto(Et)&&(Hn=Qt&&Pt?tA/bt*et:j.width),Hn!==null&&tA!==null)return[Hn,tA];throw new Error("Unable to calculate background-size for element")},getBackgroundValueForIndex=function(o,s){var j=o[s];return typeof j>"u"?o[0]:j},calculateBackgroundRepeatPath=function(o,s,j,et,bt){var At=s[0],Et=s[1],Ut=j[0],zt=j[1];switch(o){case 2:return[new Vector(Math.round(et.left),Math.round(et.top+Et)),new Vector(Math.round(et.left+et.width),Math.round(et.top+Et)),new Vector(Math.round(et.left+et.width),Math.round(zt+et.top+Et)),new Vector(Math.round(et.left),Math.round(zt+et.top+Et))];case 3:return[new Vector(Math.round(et.left+At),Math.round(et.top)),new Vector(Math.round(et.left+At+Ut),Math.round(et.top)),new Vector(Math.round(et.left+At+Ut),Math.round(et.height+et.top)),new Vector(Math.round(et.left+At),Math.round(et.height+et.top))];case 1:return[new Vector(Math.round(et.left+At),Math.round(et.top+Et)),new Vector(Math.round(et.left+At+Ut),Math.round(et.top+Et)),new Vector(Math.round(et.left+At+Ut),Math.round(et.top+Et+zt)),new Vector(Math.round(et.left+At),Math.round(et.top+Et+zt))];default:return[new Vector(Math.round(bt.left),Math.round(bt.top)),new Vector(Math.round(bt.left+bt.width),Math.round(bt.top)),new Vector(Math.round(bt.left+bt.width),Math.round(bt.height+bt.top)),new Vector(Math.round(bt.left),Math.round(bt.height+bt.top))]}},SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SAMPLE_TEXT="Hidden Text",FontMetrics=function(){function o(s){this._data={},this._document=s}return o.prototype.parseMetrics=function(s,j){var et=this._document.createElement("div"),bt=this._document.createElement("img"),At=this._document.createElement("span"),Et=this._document.body;et.style.visibility="hidden",et.style.fontFamily=s,et.style.fontSize=j,et.style.margin="0",et.style.padding="0",et.style.whiteSpace="nowrap",Et.appendChild(et),bt.src=SMALL_IMAGE,bt.width=1,bt.height=1,bt.style.margin="0",bt.style.padding="0",bt.style.verticalAlign="baseline",At.style.fontFamily=s,At.style.fontSize=j,At.style.margin="0",At.style.padding="0",At.appendChild(this._document.createTextNode(SAMPLE_TEXT)),et.appendChild(At),et.appendChild(bt);var Ut=bt.offsetTop-At.offsetTop+2;et.removeChild(At),et.appendChild(this._document.createTextNode(SAMPLE_TEXT)),et.style.lineHeight="normal",bt.style.verticalAlign="super";var zt=bt.offsetTop-et.offsetTop+2;return Et.removeChild(et),{baseline:Ut,middle:zt}},o.prototype.getMetrics=function(s,j){var et=s+" "+j;return typeof this._data[et]>"u"&&(this._data[et]=this.parseMetrics(s,j)),this._data[et]},o}(),Renderer=function(){function o(s,j){this.context=s,this.options=j}return o}(),MASK_OFFSET=1e4,CanvasRenderer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this;return bt._activeEffects=[],bt.canvas=et.canvas?et.canvas:document.createElement("canvas"),bt.ctx=bt.canvas.getContext("2d"),et.canvas||(bt.canvas.width=Math.floor(et.width*et.scale),bt.canvas.height=Math.floor(et.height*et.scale),bt.canvas.style.width=et.width+"px",bt.canvas.style.height=et.height+"px"),bt.fontMetrics=new FontMetrics(document),bt.ctx.scale(bt.options.scale,bt.options.scale),bt.ctx.translate(-et.x,-et.y),bt.ctx.textBaseline="bottom",bt._activeEffects=[],bt.context.logger.debug("Canvas renderer initialized ("+et.width+"x"+et.height+") with scale "+et.scale),bt}return s.prototype.applyEffects=function(j){for(var et=this;this._activeEffects.length;)this.popEffect();j.forEach(function(bt){return et.applyEffect(bt)})},s.prototype.applyEffect=function(j){this.ctx.save(),isOpacityEffect(j)&&(this.ctx.globalAlpha=j.opacity),isTransformEffect(j)&&(this.ctx.translate(j.offsetX,j.offsetY),this.ctx.transform(j.matrix[0],j.matrix[1],j.matrix[2],j.matrix[3],j.matrix[4],j.matrix[5]),this.ctx.translate(-j.offsetX,-j.offsetY)),isClipEffect(j)&&(this.path(j.path),this.ctx.clip()),this._activeEffects.push(j)},s.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},s.prototype.renderStack=function(j){return __awaiter(this,void 0,void 0,function(){var et;return __generator(this,function(bt){switch(bt.label){case 0:return et=j.element.container.styles,et.isVisible()?[4,this.renderStackContent(j)]:[3,2];case 1:bt.sent(),bt.label=2;case 2:return[2]}})})},s.prototype.renderNode=function(j){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){switch(et.label){case 0:if(contains(j.container.flags,16))debugger;return j.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(j)]:[3,3];case 1:return et.sent(),[4,this.renderNodeContent(j)];case 2:et.sent(),et.label=3;case 3:return[2]}})})},s.prototype.renderTextWithLetterSpacing=function(j,et,bt){var At=this;if(et===0)this.ctx.fillText(j.text,j.bounds.left,j.bounds.top+bt);else{var Et=segmentGraphemes(j.text);Et.reduce(function(Ut,zt){return At.ctx.fillText(zt,Ut,j.bounds.top+bt),Ut+At.ctx.measureText(zt).width},j.bounds.left)}},s.prototype.createFontStyle=function(j){var et=j.fontVariant.filter(function(Et){return Et==="normal"||Et==="small-caps"}).join(""),bt=fixIOSSystemFonts(j.fontFamily).join(", "),At=isDimensionToken(j.fontSize)?""+j.fontSize.number+j.fontSize.unit:j.fontSize.number+"px";return[[j.fontStyle,et,j.fontWeight,At,bt].join(" "),bt,At]},s.prototype.renderTextNode=function(j,et){return __awaiter(this,void 0,void 0,function(){var bt,At,Et,Ut,zt,It,Qt,Pt,Yt=this;return __generator(this,function(cr){return bt=this.createFontStyle(et),At=bt[0],Et=bt[1],Ut=bt[2],this.ctx.font=At,this.ctx.direction=et.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",zt=this.fontMetrics.getMetrics(Et,Ut),It=zt.baseline,Qt=zt.middle,Pt=et.paintOrder,j.textBounds.forEach(function(_r){Pt.forEach(function(vr){switch(vr){case 0:Yt.ctx.fillStyle=asString(et.color),Yt.renderTextWithLetterSpacing(_r,et.letterSpacing,It);var Yr=et.textShadow;Yr.length&&_r.text.trim().length&&(Yr.slice(0).reverse().forEach(function(Kr){Yt.ctx.shadowColor=asString(Kr.color),Yt.ctx.shadowOffsetX=Kr.offsetX.number*Yt.options.scale,Yt.ctx.shadowOffsetY=Kr.offsetY.number*Yt.options.scale,Yt.ctx.shadowBlur=Kr.blur.number,Yt.renderTextWithLetterSpacing(_r,et.letterSpacing,It)}),Yt.ctx.shadowColor="",Yt.ctx.shadowOffsetX=0,Yt.ctx.shadowOffsetY=0,Yt.ctx.shadowBlur=0),et.textDecorationLine.length&&(Yt.ctx.fillStyle=asString(et.textDecorationColor||et.color),et.textDecorationLine.forEach(function(Kr){switch(Kr){case 1:Yt.ctx.fillRect(_r.bounds.left,Math.round(_r.bounds.top+It),_r.bounds.width,1);break;case 2:Yt.ctx.fillRect(_r.bounds.left,Math.round(_r.bounds.top),_r.bounds.width,1);break;case 3:Yt.ctx.fillRect(_r.bounds.left,Math.ceil(_r.bounds.top+Qt),_r.bounds.width,1);break}}));break;case 1:et.webkitTextStrokeWidth&&_r.text.trim().length&&(Yt.ctx.strokeStyle=asString(et.webkitTextStrokeColor),Yt.ctx.lineWidth=et.webkitTextStrokeWidth,Yt.ctx.lineJoin=window.chrome?"miter":"round",Yt.ctx.strokeText(_r.text,_r.bounds.left,_r.bounds.top+It)),Yt.ctx.strokeStyle="",Yt.ctx.lineWidth=0,Yt.ctx.lineJoin="miter";break}})}),[2]})})},s.prototype.renderReplacedElement=function(j,et,bt){if(bt&&j.intrinsicWidth>0&&j.intrinsicHeight>0){var At=contentBox(j),Et=calculatePaddingBoxPath(et);this.path(Et),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(bt,0,0,j.intrinsicWidth,j.intrinsicHeight,At.left,At.top,At.width,At.height),this.ctx.restore()}},s.prototype.renderNodeContent=function(j){return __awaiter(this,void 0,void 0,function(){var et,bt,At,Et,Ut,zt,jr,jr,It,Qt,Pt,Yt,tA,cr,_r,nA,vr,Yr,Kr,jr,Hn,tA,nA;return __generator(this,function(aA){switch(aA.label){case 0:this.applyEffects(j.getEffects(4)),et=j.container,bt=j.curves,At=et.styles,Et=0,Ut=et.textNodes,aA.label=1;case 1:return Et<Ut.length?(zt=Ut[Et],[4,this.renderTextNode(zt,At)]):[3,4];case 2:aA.sent(),aA.label=3;case 3:return Et++,[3,1];case 4:if(!(et instanceof ImageElementContainer))return[3,8];aA.label=5;case 5:return aA.trys.push([5,7,,8]),[4,this.context.cache.match(et.src)];case 6:return jr=aA.sent(),this.renderReplacedElement(et,bt,jr),[3,8];case 7:return aA.sent(),this.context.logger.error("Error loading image "+et.src),[3,8];case 8:if(et instanceof CanvasElementContainer&&this.renderReplacedElement(et,bt,et.canvas),!(et instanceof SVGElementContainer))return[3,12];aA.label=9;case 9:return aA.trys.push([9,11,,12]),[4,this.context.cache.match(et.svg)];case 10:return jr=aA.sent(),this.renderReplacedElement(et,bt,jr),[3,12];case 11:return aA.sent(),this.context.logger.error("Error loading svg "+et.svg.substring(0,255)),[3,12];case 12:return et instanceof IFrameElementContainer&&et.tree?(It=new s(this.context,{scale:this.options.scale,backgroundColor:et.backgroundColor,x:0,y:0,width:et.width,height:et.height}),[4,It.render(et.tree)]):[3,14];case 13:Qt=aA.sent(),et.width&&et.height&&this.ctx.drawImage(Qt,0,0,et.width,et.height,et.bounds.left,et.bounds.top,et.bounds.width,et.bounds.height),aA.label=14;case 14:if(et instanceof InputElementContainer&&(Pt=Math.min(et.bounds.width,et.bounds.height),et.type===CHECKBOX?et.checked&&(this.ctx.save(),this.path([new Vector(et.bounds.left+Pt*.39363,et.bounds.top+Pt*.79),new Vector(et.bounds.left+Pt*.16,et.bounds.top+Pt*.5549),new Vector(et.bounds.left+Pt*.27347,et.bounds.top+Pt*.44071),new Vector(et.bounds.left+Pt*.39694,et.bounds.top+Pt*.5649),new Vector(et.bounds.left+Pt*.72983,et.bounds.top+Pt*.23),new Vector(et.bounds.left+Pt*.84,et.bounds.top+Pt*.34085),new Vector(et.bounds.left+Pt*.39363,et.bounds.top+Pt*.79)]),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore()):et.type===RADIO&&et.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(et.bounds.left+Pt/2,et.bounds.top+Pt/2,Pt/4,0,Math.PI*2,!0),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore())),isTextInputElement(et)&&et.value.length){switch(Yt=this.createFontStyle(At),tA=Yt[0],cr=Yt[1],_r=this.fontMetrics.getMetrics(tA,cr).baseline,this.ctx.font=tA,this.ctx.fillStyle=asString(At.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=canvasTextAlign(et.styles.textAlign),nA=contentBox(et),vr=0,et.styles.textAlign){case 1:vr+=nA.width/2;break;case 2:vr+=nA.width;break}Yr=nA.add(vr,0,0,-nA.height/2+1),this.ctx.save(),this.path([new Vector(nA.left,nA.top),new Vector(nA.left+nA.width,nA.top),new Vector(nA.left+nA.width,nA.top+nA.height),new Vector(nA.left,nA.top+nA.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TextBounds(et.value,Yr),At.letterSpacing,_r),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!contains(et.styles.display,2048))return[3,20];if(et.styles.listStyleImage===null)return[3,19];if(Kr=et.styles.listStyleImage,Kr.type!==0)return[3,18];jr=void 0,Hn=Kr.url,aA.label=15;case 15:return aA.trys.push([15,17,,18]),[4,this.context.cache.match(Hn)];case 16:return jr=aA.sent(),this.ctx.drawImage(jr,et.bounds.left-(jr.width+10),et.bounds.top),[3,18];case 17:return aA.sent(),this.context.logger.error("Error loading list-style-image "+Hn),[3,18];case 18:return[3,20];case 19:j.listValue&&et.styles.listStyleType!==-1&&(tA=this.createFontStyle(At)[0],this.ctx.font=tA,this.ctx.fillStyle=asString(At.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",nA=new Bounds(et.bounds.left,et.bounds.top+getAbsoluteValue(et.styles.paddingTop,et.bounds.width),et.bounds.width,computeLineHeight(At.lineHeight,At.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TextBounds(j.listValue,nA),At.letterSpacing,computeLineHeight(At.lineHeight,At.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),aA.label=20;case 20:return[2]}})})},s.prototype.renderStackContent=function(j){return __awaiter(this,void 0,void 0,function(){var et,bt,Kr,At,Et,Kr,Ut,zt,Kr,It,Qt,Kr,Pt,Yt,Kr,cr,_r,Kr,vr,Yr,Kr;return __generator(this,function(jr){switch(jr.label){case 0:if(contains(j.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(j.element)];case 1:jr.sent(),et=0,bt=j.negativeZIndex,jr.label=2;case 2:return et<bt.length?(Kr=bt[et],[4,this.renderStack(Kr)]):[3,5];case 3:jr.sent(),jr.label=4;case 4:return et++,[3,2];case 5:return[4,this.renderNodeContent(j.element)];case 6:jr.sent(),At=0,Et=j.nonInlineLevel,jr.label=7;case 7:return At<Et.length?(Kr=Et[At],[4,this.renderNode(Kr)]):[3,10];case 8:jr.sent(),jr.label=9;case 9:return At++,[3,7];case 10:Ut=0,zt=j.nonPositionedFloats,jr.label=11;case 11:return Ut<zt.length?(Kr=zt[Ut],[4,this.renderStack(Kr)]):[3,14];case 12:jr.sent(),jr.label=13;case 13:return Ut++,[3,11];case 14:It=0,Qt=j.nonPositionedInlineLevel,jr.label=15;case 15:return It<Qt.length?(Kr=Qt[It],[4,this.renderStack(Kr)]):[3,18];case 16:jr.sent(),jr.label=17;case 17:return It++,[3,15];case 18:Pt=0,Yt=j.inlineLevel,jr.label=19;case 19:return Pt<Yt.length?(Kr=Yt[Pt],[4,this.renderNode(Kr)]):[3,22];case 20:jr.sent(),jr.label=21;case 21:return Pt++,[3,19];case 22:cr=0,_r=j.zeroOrAutoZIndexOrTransformedOrOpacity,jr.label=23;case 23:return cr<_r.length?(Kr=_r[cr],[4,this.renderStack(Kr)]):[3,26];case 24:jr.sent(),jr.label=25;case 25:return cr++,[3,23];case 26:vr=0,Yr=j.positiveZIndex,jr.label=27;case 27:return vr<Yr.length?(Kr=Yr[vr],[4,this.renderStack(Kr)]):[3,30];case 28:jr.sent(),jr.label=29;case 29:return vr++,[3,27];case 30:return[2]}})})},s.prototype.mask=function(j){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(j.slice(0).reverse()),this.ctx.closePath()},s.prototype.path=function(j){this.ctx.beginPath(),this.formatPath(j),this.ctx.closePath()},s.prototype.formatPath=function(j){var et=this;j.forEach(function(bt,At){var Et=isBezierCurve(bt)?bt.start:bt;At===0?et.ctx.moveTo(Et.x,Et.y):et.ctx.lineTo(Et.x,Et.y),isBezierCurve(bt)&&et.ctx.bezierCurveTo(bt.startControl.x,bt.startControl.y,bt.endControl.x,bt.endControl.y,bt.end.x,bt.end.y)})},s.prototype.renderRepeat=function(j,et,bt,At){this.path(j),this.ctx.fillStyle=et,this.ctx.translate(bt,At),this.ctx.fill(),this.ctx.translate(-bt,-At)},s.prototype.resizeImage=function(j,et,bt){var At;if(j.width===et&&j.height===bt)return j;var Et=(At=this.canvas.ownerDocument)!==null&&At!==void 0?At:document,Ut=Et.createElement("canvas");Ut.width=Math.max(1,et),Ut.height=Math.max(1,bt);var zt=Ut.getContext("2d");return zt.drawImage(j,0,0,j.width,j.height,0,0,et,bt),Ut},s.prototype.renderBackgroundImage=function(j){return __awaiter(this,void 0,void 0,function(){var et,bt,At,Et,Ut,zt;return __generator(this,function(It){switch(It.label){case 0:et=j.styles.backgroundImage.length-1,bt=function(Qt){var Pt,Yt,cr,wA,LA,RA,CA,sA,hA,_r,wA,LA,RA,CA,sA,vr,Yr,Kr,jr,Hn,tA,nA,aA,lA,hA,pA,wA,NA,cA,CA,sA,UA,LA,RA,kA,OA,KA,yA,TA,r0,qA,XA;return __generator(this,function(S0){switch(S0.label){case 0:if(Qt.type!==0)return[3,5];Pt=void 0,Yt=Qt.url,S0.label=1;case 1:return S0.trys.push([1,3,,4]),[4,At.context.cache.match(Yt)];case 2:return Pt=S0.sent(),[3,4];case 3:return S0.sent(),At.context.logger.error("Error loading background-image "+Yt),[3,4];case 4:return Pt&&(cr=calculateBackgroundRendering(j,et,[Pt.width,Pt.height,Pt.width/Pt.height]),wA=cr[0],LA=cr[1],RA=cr[2],CA=cr[3],sA=cr[4],hA=At.ctx.createPattern(At.resizeImage(Pt,CA,sA),"repeat"),At.renderRepeat(wA,hA,LA,RA)),[3,6];case 5:isLinearGradient(Qt)?(_r=calculateBackgroundRendering(j,et,[null,null,null]),wA=_r[0],LA=_r[1],RA=_r[2],CA=_r[3],sA=_r[4],vr=calculateGradientDirection(Qt.angle,CA,sA),Yr=vr[0],Kr=vr[1],jr=vr[2],Hn=vr[3],tA=vr[4],nA=document.createElement("canvas"),nA.width=CA,nA.height=sA,aA=nA.getContext("2d"),lA=aA.createLinearGradient(Kr,Hn,jr,tA),processColorStops(Qt.stops,Yr).forEach(function(U0){return lA.addColorStop(U0.stop,asString(U0.color))}),aA.fillStyle=lA,aA.fillRect(0,0,CA,sA),CA>0&&sA>0&&(hA=At.ctx.createPattern(nA,"repeat"),At.renderRepeat(wA,hA,LA,RA))):isRadialGradient(Qt)&&(pA=calculateBackgroundRendering(j,et,[null,null,null]),wA=pA[0],NA=pA[1],cA=pA[2],CA=pA[3],sA=pA[4],UA=Qt.position.length===0?[FIFTY_PERCENT]:Qt.position,LA=getAbsoluteValue(UA[0],CA),RA=getAbsoluteValue(UA[UA.length-1],sA),kA=calculateRadius(Qt,LA,RA,CA,sA),OA=kA[0],KA=kA[1],OA>0&&KA>0&&(yA=At.ctx.createRadialGradient(NA+LA,cA+RA,0,NA+LA,cA+RA,OA),processColorStops(Qt.stops,OA*2).forEach(function(U0){return yA.addColorStop(U0.stop,asString(U0.color))}),At.path(wA),At.ctx.fillStyle=yA,OA!==KA?(TA=j.bounds.left+.5*j.bounds.width,r0=j.bounds.top+.5*j.bounds.height,qA=KA/OA,XA=1/qA,At.ctx.save(),At.ctx.translate(TA,r0),At.ctx.transform(1,0,0,qA,0,0),At.ctx.translate(-TA,-r0),At.ctx.fillRect(NA,XA*(cA-r0)+r0,CA,sA*XA),At.ctx.restore()):At.ctx.fill())),S0.label=6;case 6:return et--,[2]}})},At=this,Et=0,Ut=j.styles.backgroundImage.slice(0).reverse(),It.label=1;case 1:return Et<Ut.length?(zt=Ut[Et],[5,bt(zt)]):[3,4];case 2:It.sent(),It.label=3;case 3:return Et++,[3,1];case 4:return[2]}})})},s.prototype.renderSolidBorder=function(j,et,bt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(At){return this.path(parsePathForBorder(bt,et)),this.ctx.fillStyle=asString(j),this.ctx.fill(),[2]})})},s.prototype.renderDoubleBorder=function(j,et,bt,At){return __awaiter(this,void 0,void 0,function(){var Et,Ut;return __generator(this,function(zt){switch(zt.label){case 0:return et<3?[4,this.renderSolidBorder(j,bt,At)]:[3,2];case 1:return zt.sent(),[2];case 2:return Et=parsePathForBorderDoubleOuter(At,bt),this.path(Et),this.ctx.fillStyle=asString(j),this.ctx.fill(),Ut=parsePathForBorderDoubleInner(At,bt),this.path(Ut),this.ctx.fill(),[2]}})})},s.prototype.renderNodeBackgroundAndBorders=function(j){return __awaiter(this,void 0,void 0,function(){var et,bt,At,Et,Ut,zt,It,Qt,Pt=this;return __generator(this,function(Yt){switch(Yt.label){case 0:return this.applyEffects(j.getEffects(2)),et=j.container.styles,bt=!isTransparent(et.backgroundColor)||et.backgroundImage.length,At=[{style:et.borderTopStyle,color:et.borderTopColor,width:et.borderTopWidth},{style:et.borderRightStyle,color:et.borderRightColor,width:et.borderRightWidth},{style:et.borderBottomStyle,color:et.borderBottomColor,width:et.borderBottomWidth},{style:et.borderLeftStyle,color:et.borderLeftColor,width:et.borderLeftWidth}],Et=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(et.backgroundClip,0),j.curves),bt||et.boxShadow.length?(this.ctx.save(),this.path(Et),this.ctx.clip(),isTransparent(et.backgroundColor)||(this.ctx.fillStyle=asString(et.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(j.container)]):[3,2];case 1:Yt.sent(),this.ctx.restore(),et.boxShadow.slice(0).reverse().forEach(function(cr){Pt.ctx.save();var _r=calculateBorderBoxPath(j.curves),vr=cr.inset?0:MASK_OFFSET,Yr=transformPath(_r,-vr+(cr.inset?1:-1)*cr.spread.number,(cr.inset?1:-1)*cr.spread.number,cr.spread.number*(cr.inset?-2:2),cr.spread.number*(cr.inset?-2:2));cr.inset?(Pt.path(_r),Pt.ctx.clip(),Pt.mask(Yr)):(Pt.mask(_r),Pt.ctx.clip(),Pt.path(Yr)),Pt.ctx.shadowOffsetX=cr.offsetX.number+vr,Pt.ctx.shadowOffsetY=cr.offsetY.number,Pt.ctx.shadowColor=asString(cr.color),Pt.ctx.shadowBlur=cr.blur.number,Pt.ctx.fillStyle=cr.inset?asString(cr.color):"rgba(0,0,0,1)",Pt.ctx.fill(),Pt.ctx.restore()}),Yt.label=2;case 2:Ut=0,zt=0,It=At,Yt.label=3;case 3:return zt<It.length?(Qt=It[zt],Qt.style!==0&&!isTransparent(Qt.color)&&Qt.width>0?Qt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Qt.color,Qt.width,Ut,j.curves,2)]:[3,11]):[3,13];case 4:return Yt.sent(),[3,11];case 5:return Qt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Qt.color,Qt.width,Ut,j.curves,3)];case 6:return Yt.sent(),[3,11];case 7:return Qt.style!==4?[3,9]:[4,this.renderDoubleBorder(Qt.color,Qt.width,Ut,j.curves)];case 8:return Yt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Qt.color,Ut,j.curves)];case 10:Yt.sent(),Yt.label=11;case 11:Ut++,Yt.label=12;case 12:return zt++,[3,3];case 13:return[2]}})})},s.prototype.renderDashedDottedBorder=function(j,et,bt,At,Et){return __awaiter(this,void 0,void 0,function(){var Ut,zt,It,Qt,Pt,Yt,cr,_r,vr,Yr,Kr,jr,Hn,tA,nA,aA,nA,aA;return __generator(this,function(lA){return this.ctx.save(),Ut=parsePathForBorderStroke(At,bt),zt=parsePathForBorder(At,bt),Et===2&&(this.path(zt),this.ctx.clip()),isBezierCurve(zt[0])?(It=zt[0].start.x,Qt=zt[0].start.y):(It=zt[0].x,Qt=zt[0].y),isBezierCurve(zt[1])?(Pt=zt[1].end.x,Yt=zt[1].end.y):(Pt=zt[1].x,Yt=zt[1].y),bt===0||bt===2?cr=Math.abs(It-Pt):cr=Math.abs(Qt-Yt),this.ctx.beginPath(),Et===3?this.formatPath(Ut):this.formatPath(zt.slice(0,2)),_r=et<3?et*3:et*2,vr=et<3?et*2:et,Et===3&&(_r=et,vr=et),Yr=!0,cr<=_r*2?Yr=!1:cr<=_r*2+vr?(Kr=cr/(2*_r+vr),_r*=Kr,vr*=Kr):(jr=Math.floor((cr+vr)/(_r+vr)),Hn=(cr-jr*_r)/(jr-1),tA=(cr-(jr+1)*_r)/jr,vr=tA<=0||Math.abs(vr-Hn)<Math.abs(vr-tA)?Hn:tA),Yr&&(Et===3?this.ctx.setLineDash([0,_r+vr]):this.ctx.setLineDash([_r,vr])),Et===3?(this.ctx.lineCap="round",this.ctx.lineWidth=et):this.ctx.lineWidth=et*2+1.1,this.ctx.strokeStyle=asString(j),this.ctx.stroke(),this.ctx.setLineDash([]),Et===2&&(isBezierCurve(zt[0])&&(nA=zt[3],aA=zt[0],this.ctx.beginPath(),this.formatPath([new Vector(nA.end.x,nA.end.y),new Vector(aA.start.x,aA.start.y)]),this.ctx.stroke()),isBezierCurve(zt[1])&&(nA=zt[1],aA=zt[2],this.ctx.beginPath(),this.formatPath([new Vector(nA.end.x,nA.end.y),new Vector(aA.start.x,aA.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},s.prototype.render=function(j){return __awaiter(this,void 0,void 0,function(){var et;return __generator(this,function(bt){switch(bt.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),et=parseStackingContexts(j),[4,this.renderStack(et)];case 1:return bt.sent(),this.applyEffects([]),[2,this.canvas]}})})},s}(Renderer),isTextInputElement=function(o){return o instanceof TextareaElementContainer||o instanceof SelectElementContainer?!0:o instanceof InputElementContainer&&o.type!==RADIO&&o.type!==CHECKBOX},calculateBackgroundCurvedPaintingArea=function(o,s){switch(o){case 0:return calculateBorderBoxPath(s);case 2:return calculateContentBoxPath(s);case 1:default:return calculatePaddingBoxPath(s)}},canvasTextAlign=function(o){switch(o){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iOSBrokenFonts=["-apple-system","system-ui"],fixIOSSystemFonts=function(o){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?o.filter(function(s){return iOSBrokenFonts.indexOf(s)===-1}):o},ForeignObjectRenderer=function(o){__extends(s,o);function s(j,et){var bt=o.call(this,j,et)||this;return bt.canvas=et.canvas?et.canvas:document.createElement("canvas"),bt.ctx=bt.canvas.getContext("2d"),bt.options=et,bt.canvas.width=Math.floor(et.width*et.scale),bt.canvas.height=Math.floor(et.height*et.scale),bt.canvas.style.width=et.width+"px",bt.canvas.style.height=et.height+"px",bt.ctx.scale(bt.options.scale,bt.options.scale),bt.ctx.translate(-et.x,-et.y),bt.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+et.width+"x"+et.height+" at "+et.x+","+et.y+") with scale "+et.scale),bt}return s.prototype.render=function(j){return __awaiter(this,void 0,void 0,function(){var et,bt;return __generator(this,function(At){switch(At.label){case 0:return et=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,j),[4,loadSerializedSVG(et)];case 1:return bt=At.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(bt,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},s}(Renderer),loadSerializedSVG=function(o){return new Promise(function(s,j){var et=new Image;et.onload=function(){s(et)},et.onerror=j,et.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(o))})},Logger=function(){function o(s){var j=s.id,et=s.enabled;this.id=j,this.enabled=et,this.start=Date.now()}return o.prototype.debug=function(){for(var s=[],j=0;j<arguments.length;j++)s[j]=arguments[j];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,__spreadArray([this.id,this.getTime()+"ms"],s)):this.info.apply(this,s))},o.prototype.getTime=function(){return Date.now()-this.start},o.prototype.info=function(){for(var s=[],j=0;j<arguments.length;j++)s[j]=arguments[j];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,__spreadArray([this.id,this.getTime()+"ms"],s))},o.prototype.warn=function(){for(var s=[],j=0;j<arguments.length;j++)s[j]=arguments[j];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,__spreadArray([this.id,this.getTime()+"ms"],s)):this.info.apply(this,s))},o.prototype.error=function(){for(var s=[],j=0;j<arguments.length;j++)s[j]=arguments[j];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,__spreadArray([this.id,this.getTime()+"ms"],s)):this.info.apply(this,s))},o.instances={},o}(),Context=function(){function o(s,j){var et;this.windowBounds=j,this.instanceName="#"+o.instanceCount++,this.logger=new Logger({id:this.instanceName,enabled:s.logging}),this.cache=(et=s.cache)!==null&&et!==void 0?et:new Cache(this,s)}return o.instanceCount=1,o}(),html2canvas=function(o,s){return s===void 0&&(s={}),renderElement(o,s)};typeof window<"u"&&CacheStorage.setContext(window);var renderElement=function(o,s){return __awaiter(void 0,void 0,void 0,function(){var j,et,bt,At,Et,Ut,zt,It,Qt,Pt,Yt,cr,_r,vr,Yr,Kr,jr,Hn,tA,nA,lA,aA,lA,hA,pA,wA,NA,cA,CA,sA,UA,LA,RA,kA,OA,KA,yA,TA,r0,qA;return __generator(this,function(XA){switch(XA.label){case 0:if(!o||typeof o!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(j=o.ownerDocument,!j)throw new Error("Element is not attached to a Document");if(et=j.defaultView,!et)throw new Error("Document is not attached to a Window");return bt={allowTaint:(hA=s.allowTaint)!==null&&hA!==void 0?hA:!1,imageTimeout:(pA=s.imageTimeout)!==null&&pA!==void 0?pA:15e3,proxy:s.proxy,useCORS:(wA=s.useCORS)!==null&&wA!==void 0?wA:!1},At=__assign({logging:(NA=s.logging)!==null&&NA!==void 0?NA:!0,cache:s.cache},bt),Et={windowWidth:(cA=s.windowWidth)!==null&&cA!==void 0?cA:et.innerWidth,windowHeight:(CA=s.windowHeight)!==null&&CA!==void 0?CA:et.innerHeight,scrollX:(sA=s.scrollX)!==null&&sA!==void 0?sA:et.pageXOffset,scrollY:(UA=s.scrollY)!==null&&UA!==void 0?UA:et.pageYOffset},Ut=new Bounds(Et.scrollX,Et.scrollY,Et.windowWidth,Et.windowHeight),zt=new Context(At,Ut),It=(LA=s.foreignObjectRendering)!==null&&LA!==void 0?LA:!1,Qt={allowTaint:(RA=s.allowTaint)!==null&&RA!==void 0?RA:!1,onclone:s.onclone,ignoreElements:s.ignoreElements,inlineImages:It,copyStyles:It},zt.logger.debug("Starting document clone with size "+Ut.width+"x"+Ut.height+" scrolled to "+-Ut.left+","+-Ut.top),Pt=new DocumentCloner(zt,o,Qt),Yt=Pt.clonedReferenceElement,Yt?[4,Pt.toIFrame(j,Ut)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return cr=XA.sent(),_r=isBodyElement(Yt)||isHTMLElement(Yt)?parseDocumentSize(Yt.ownerDocument):parseBounds(zt,Yt),vr=_r.width,Yr=_r.height,Kr=_r.left,jr=_r.top,Hn=parseBackgroundColor(zt,Yt,s.backgroundColor),tA={canvas:s.canvas,backgroundColor:Hn,scale:(OA=(kA=s.scale)!==null&&kA!==void 0?kA:et.devicePixelRatio)!==null&&OA!==void 0?OA:1,x:((KA=s.x)!==null&&KA!==void 0?KA:0)+Kr,y:((yA=s.y)!==null&&yA!==void 0?yA:0)+jr,width:(TA=s.width)!==null&&TA!==void 0?TA:Math.ceil(vr),height:(r0=s.height)!==null&&r0!==void 0?r0:Math.ceil(Yr)},It?(zt.logger.debug("Document cloned, using foreign object rendering"),lA=new ForeignObjectRenderer(zt,tA),[4,lA.render(Yt)]):[3,3];case 2:return nA=XA.sent(),[3,5];case 3:return zt.logger.debug("Document cloned, element located at "+Kr+","+jr+" with size "+vr+"x"+Yr+" using computed rendering"),zt.logger.debug("Starting DOM parsing"),aA=parseTree(zt,Yt),Hn===aA.styles.backgroundColor&&(aA.styles.backgroundColor=COLORS.TRANSPARENT),zt.logger.debug("Starting renderer for element at "+tA.x+","+tA.y+" with size "+tA.width+"x"+tA.height),lA=new CanvasRenderer(zt,tA),[4,lA.render(aA)];case 4:nA=XA.sent(),XA.label=5;case 5:return(!((qA=s.removeContainer)!==null&&qA!==void 0)||qA)&&(DocumentCloner.destroy(cr)||zt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),zt.logger.debug("Finished rendering"),[2,nA]}})})},parseBackgroundColor=function(o,s,j){var et=s.ownerDocument,bt=et.documentElement?parseColor(o,getComputedStyle(et.documentElement).backgroundColor):COLORS.TRANSPARENT,At=et.body?parseColor(o,getComputedStyle(et.body).backgroundColor):COLORS.TRANSPARENT,Et=typeof j=="string"?parseColor(o,j):j===null?COLORS.TRANSPARENT:4294967295;return s===et.documentElement?isTransparent(bt)?isTransparent(At)?Et:At:bt:Et};const getImgDimensions=o=>new Promise(s=>{let j=new Image;j.src=o,j.onload=()=>{s({width:j.width,height:j.height})}}),translateLayer=(o,s,j)=>({top:o.top+j,left:o.left+s}),rotateLayer=(o,s,j)=>{const et={x:(o.left+o.right)/2,y:(o.top+o.bottom)/2};return{rotation:Math.atan2(j-et.y,s-et.x)*180/Math.PI+90}},resizeLayer=(o,s,j,et)=>{const bt=et==="resize-br"||et==="resize-tr"?s:-s,At=et==="resize-br"||et==="resize-bl"?j:-j,Et=o.width/o.height,Ut=Math.abs(bt)>Math.abs(At)?o.width+bt:(o.height+At)*Et,zt=Math.abs(bt)<=Math.abs(At)?o.height+At:(o.width+bt)/Et,It=et==="resize-bl"||et==="resize-br"?o.top:o.top-zt+o.height,Qt=et==="resize-tr"||et==="resize-br"?o.left:o.left-Ut+o.width;return{width:Ut,height:zt,top:It,left:Qt}},cropLayer=(o,s,j,et)=>{const bt=et==="crop-br"||et==="crop-tr"?s:-s,At=et==="crop-br"||et==="crop-bl"?j:-j,Et=bt*Math.cos(o.rotation/180*Math.PI)+At*Math.sin(o.rotation/180*Math.PI),Ut=At*Math.cos(o.rotation/180*Math.PI)+bt*Math.sin(o.rotation/180*Math.PI),zt=o._width/o.croppedWidth*o.width,It=o._height/o.croppedHeight*o.height,Qt=Math.min(zt,Math.max(1,o.width+Et)),Pt=Math.min(It,Math.max(1,o.height+Ut)),Yt=Qt/zt*o._width,cr=Pt/It*o._height,_r=et==="crop-bl"||et==="crop-br"?o.croppedTop:o.croppedTop-cr+o.croppedHeight,vr=et==="crop-tr"||et==="crop-br"?o.croppedLeft:o.croppedLeft-Yt+o.croppedWidth,Yr=et==="crop-bl"||et==="crop-br"?o.top:o.top-Pt+o.height,Kr=et==="crop-tr"||et==="crop-br"?o.left:o.left-Qt+o.width;return{top:Yr,left:Kr,width:Qt,height:Pt,croppedHeight:cr,croppedWidth:Yt,croppedLeft:vr,croppedTop:_r}},cropTranslate=(o,s,j)=>{const et=o._width/o.croppedWidth*o.width,bt=o._height/o.croppedHeight*o.height,At=Math.max(0,Math.min(o.croppedLeft+s/et*o._width,o._width-o.croppedWidth)),Et=Math.max(0,Math.min(o.croppedTop+j/bt*o._height,o._height-o.croppedHeight)),Ut=o.top-o.croppedTop/o.croppedHeight*o.height,zt=o.left-o.croppedLeft/o.croppedWidth*o.width;return{top:Math.max(Ut,Math.min(o.top+j,Ut+bt-o.height)),left:Math.max(zt,Math.min(o.left+s,zt+et-o.width)),croppedLeft:At,croppedTop:Et}},removeLayerBackground=({content:o})=>removeBackground(o).then(s=>new Promise(j=>{const et=new FileReader;et.onloadend=()=>j({content:et.result}),et.onerror=()=>j({content:o}),et.readAsDataURL(s)})),addStrokeEffect=({content:o,_height:s,_width:j},et,bt)=>new Promise(At=>{const Et=document.createElement("canvas");Et.height=s,Et.width=j;const Ut=Et.getContext("2d"),zt=new Image;zt.onload=()=>{const It=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],Qt=0,Pt=0;for(let Yt=0;Yt<It.length;Yt+=2)Ut.drawImage(zt,Qt+It[Yt]*bt,Pt+It[Yt+1]*bt);Ut.globalCompositeOperation="source-in",Ut.fillStyle=et,Ut.fillRect(0,0,j,s),Ut.globalCompositeOperation="source-over",Ut.drawImage(zt,Qt,Pt),At({content:Et.toDataURL()})},zt.src=o,zt.setAttribute("crossorigin","anonymous")}),getImageFromLayers=async o=>{const s=document.querySelector("#html2canvas");s.innerHTML="",s.style.width="500px",s.style.height="500px",s.style.position="absolute";for(const j of o){const et=document.createElement("div");et.style.width=`${j.width}px`,et.style.height=`${j.height}px`,et.style.position="absolute",et.style.backgroundRepeat="no-repeat",et.style.backgroundImage=`url(${j.content})`,et.style.backgroundSize=`${j._width/j.croppedWidth*j.width}px ${j._height/j.croppedHeight*j.height}px`,et.style.backgroundPositionX=`-${j.croppedLeft/j.croppedWidth*j.width}`,et.style.backgroundPositionY=`-${j.croppedTop/j.croppedHeight*j.height}`,et.style.transform=`rotate(${j.rotation}deg)`,s.appendChild(et)}return await html2canvas(s,{scale:2,backgroundColor:null}).then(j=>j.toDataURL())},zipPack=o=>getStoreData(Stores.Packs,o).then(async s=>{const j=new JSZip,et=await Promise.all(s.stickerIds.map(At=>getStoreData(Stores.Stickers,At)));console.log(et),j.file("meta.json",JSON.stringify({title:s.title,author:s.author,tags:s.tags,emojis:et.reduce((At,{id:Et,emoji:Ut})=>(At[Et]=Ut,At),{})}));const bt=j.folder("stickers");for(const At of et){const Et=await getImageFromLayers(At.layers);bt==null||bt.file(`${At.id}.png`,Et.replace(/^data:image\/?[A-z]*;base64,/,""),{base64:!0})}return j.generateAsync({type:"blob"})});var FileSaver_min={exports:{}};(function(o,s){(function(j,et){et()})(commonjsGlobal,function(){function j(It,Qt){return typeof Qt>"u"?Qt={autoBom:!1}:typeof Qt!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),Qt={autoBom:!Qt}),Qt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(It.type)?new Blob(["\uFEFF",It],{type:It.type}):It}function et(It,Qt,Pt){var Yt=new XMLHttpRequest;Yt.open("GET",It),Yt.responseType="blob",Yt.onload=function(){zt(Yt.response,Qt,Pt)},Yt.onerror=function(){console.error("could not download file")},Yt.send()}function bt(It){var Qt=new XMLHttpRequest;Qt.open("HEAD",It,!1);try{Qt.send()}catch{}return 200<=Qt.status&&299>=Qt.status}function At(It){try{It.dispatchEvent(new MouseEvent("click"))}catch{var Qt=document.createEvent("MouseEvents");Qt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),It.dispatchEvent(Qt)}}var Et=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,Ut=Et.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),zt=Et.saveAs||(typeof window!="object"||window!==Et?function(){}:"download"in HTMLAnchorElement.prototype&&!Ut?function(It,Qt,Pt){var Yt=Et.URL||Et.webkitURL,cr=document.createElement("a");Qt=Qt||It.name||"download",cr.download=Qt,cr.rel="noopener",typeof It=="string"?(cr.href=It,cr.origin===location.origin?At(cr):bt(cr.href)?et(It,Qt,Pt):At(cr,cr.target="_blank")):(cr.href=Yt.createObjectURL(It),setTimeout(function(){Yt.revokeObjectURL(cr.href)},4e4),setTimeout(function(){At(cr)},0))}:"msSaveOrOpenBlob"in navigator?function(It,Qt,Pt){if(Qt=Qt||It.name||"download",typeof It!="string")navigator.msSaveOrOpenBlob(j(It,Pt),Qt);else if(bt(It))et(It,Qt,Pt);else{var Yt=document.createElement("a");Yt.href=It,Yt.target="_blank",setTimeout(function(){At(Yt)})}}:function(It,Qt,Pt,Yt){if(Yt=Yt||open("","_blank"),Yt&&(Yt.document.title=Yt.document.body.innerText="downloading..."),typeof It=="string")return et(It,Qt,Pt);var cr=It.type==="application/octet-stream",_r=/constructor/i.test(Et.HTMLElement)||Et.safari,vr=/CriOS\/[\d]+/.test(navigator.userAgent);if((vr||cr&&_r||Ut)&&typeof FileReader<"u"){var Yr=new FileReader;Yr.onloadend=function(){var Hn=Yr.result;Hn=vr?Hn:Hn.replace(/^data:[^;]*;/,"data:attachment/file;"),Yt?Yt.location.href=Hn:location=Hn,Yt=null},Yr.readAsDataURL(It)}else{var Kr=Et.URL||Et.webkitURL,jr=Kr.createObjectURL(It);Yt?Yt.location=jr:location.href=jr,Yt=null,setTimeout(function(){Kr.revokeObjectURL(jr)},4e4)}});Et.saveAs=zt.saveAs=zt,o.exports=zt})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;const AppContext=React$1.createContext({}),AppContextProvider=({children:o})=>{const[s,j]=reactExports.useState(DEFAULT_STATE$1),{packId:et,stickerId:bt}=useParams(),At=reactExports.useCallback(({target:{value:Pt}})=>{j(Yt=>{const cr={...Yt.pack,title:Pt};return saveData(Stores.Packs,cr),{...Yt,pack:cr}})},[]),Et=reactExports.useCallback(({target:{value:Pt}})=>{j(Yt=>{const cr={...Yt.pack,author:Pt};return saveData(Stores.Packs,cr),{...Yt,pack:cr}})},[]),Ut=reactExports.useCallback(Pt=>{j(Yt=>{const cr={...Yt.pack,tags:Pt};return saveData(Stores.Packs,cr),{...Yt,pack:cr}})},[]),zt=reactExports.useCallback(Pt=>{j(Yt=>{const cr={...Yt.pack,stickerIds:Yt.pack.stickerIds.filter(_r=>_r!==Pt)};return saveData(Stores.Packs,cr).then(()=>{removeStoreData(Stores.Stickers,Pt)}),{...Yt,pack:cr}})},[]),It=reactExports.useCallback(Pt=>{zipPack(Pt.id).then(Yt=>{FileSaver_minExports.saveAs(Yt,`${Pt.title||Pt.id}.zip`)})},[]);reactExports.useEffect(()=>{initDB().then(Pt=>{j(Yt=>({...Yt,isDBReady:Pt}))})},[]),reactExports.useEffect(()=>{s.isDBReady&&(et!==void 0&&s.pack.id!==et?getStoreData(Stores.Packs,et).then(Pt=>{j(Yt=>({...Yt,pack:Pt}))}).catch(()=>{j(Pt=>({...Pt,pack:{...Pt.pack,id:et}}))}):s.pack.id===et&&bt!==void 0&&j(Pt=>{if(Pt.pack.stickerIds.includes(bt))return Pt;const Yt={...Pt.pack,stickerIds:[...Pt.pack.stickerIds,bt]};return saveData(Stores.Packs,Yt),{...Pt,pack:Yt}}))},[s.isDBReady,et,bt,s.pack.id]),reactExports.useEffect(()=>{et===void 0&&j(Pt=>({...Pt,pack:JSON.parse(JSON.stringify(DEFAULT_STATE$1)).pack}))},[et]);const Qt=reactExports.useMemo(()=>({...s,setPackTitle:At,setPackAuthor:Et,setPackTags:Ut,removeSticker:zt,downloadPack:It}),[s,Et,At,Ut,zt,It]);return s.isDBReady?jsxRuntimeExports.jsx(AppContext.Provider,{value:Qt,children:o}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},DEFAULT_STATE$1={isDBReady:!1,pack:{id:"",title:"",author:"",stickerIds:[],tags:[]}},Layout=()=>jsxRuntimeExports.jsx(AppContextProvider,{children:jsxRuntimeExports.jsxs(Container$1,{fixed:!0,maxWidth:"xl",sx:rootSx$1,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Outlet,{}),jsxRuntimeExports.jsx(Footer,{})]})}),rootSx$1={height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",px:2},AddIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),AddPhotoAlternateIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8zM5 19l3-4 2 3 3-4 4 5z"}),"AddPhotoAlternate"),CleaningServicesIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M16 11h-1V3c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v8H8c-2.76 0-5 2.24-5 5v7h18v-7c0-2.76-2.24-5-5-5m3 10h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H9v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H5v-5c0-1.65 1.35-3 3-3h8c1.65 0 3 1.35 3 3z"}),"CleaningServices"),DeleteIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),CropIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2z"}),"Crop"),DownloadIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),FormatPaintIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4z"}),"FormatPaint");let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let o=0;o<256;++o)byteToHex.push((o+256).toString(16).slice(1));function unsafeStringify(o,s=0){return byteToHex[o[s+0]]+byteToHex[o[s+1]]+byteToHex[o[s+2]]+byteToHex[o[s+3]]+"-"+byteToHex[o[s+4]]+byteToHex[o[s+5]]+"-"+byteToHex[o[s+6]]+byteToHex[o[s+7]]+"-"+byteToHex[o[s+8]]+byteToHex[o[s+9]]+"-"+byteToHex[o[s+10]]+byteToHex[o[s+11]]+byteToHex[o[s+12]]+byteToHex[o[s+13]]+byteToHex[o[s+14]]+byteToHex[o[s+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(o,s,j){if(native.randomUUID&&!s&&!o)return native.randomUUID();o=o||{};const et=o.random||(o.rng||rng)();if(et[6]=et[6]&15|64,et[8]=et[8]&63|128,s){j=j||0;for(let bt=0;bt<16;++bt)s[j+bt]=et[bt];return s}return unsafeStringify(et)}const MockImage=({layer:o})=>jsxRuntimeExports.jsx(Box$1,{width:`${o.width}px`,height:`${o.height}px`,position:"absolute",top:o.top,left:o.left,sx:{backgroundImage:`url(${o.content})`,backgroundRepeat:"no-repeat",backgroundSize:`${o._width/o.croppedWidth*o.width}px ${o._height/o.croppedHeight*o.height}px`,backgroundPositionX:`-${o.croppedLeft/o.croppedWidth*o.width}px`,backgroundPositionY:`-${o.croppedTop/o.croppedHeight*o.height}px`,transform:`rotate(${o.rotation}deg)`,pointerEvents:"none"}}),PackThumbnail=({pack:o})=>{const[s,j]=reactExports.useState(DEFAULT_STICKER$1),et=reactExports.useCallback(bt=>{bt.stopPropagation(),window.confirm("Confirm remove?")&&console.log("hi")},[]);return reactExports.useEffect(()=>{o.stickerIds.length!==0&&getStoreData(Stores.Stickers,o.stickerIds[0]).then(bt=>{j(bt)})},[o.stickerIds]),jsxRuntimeExports.jsxs(Box$1,{display:"flex",flexDirection:"column",gap:1,py:1,alignItems:"center",width:"100%",position:"relative",children:[jsxRuntimeExports.jsx(Box$1,{width:150,height:150,children:jsxRuntimeExports.jsx(Box$1,{position:"relative",width:500,height:500,sx:{transform:"scale(0.3)",transformOrigin:"top left",overflow:"hidden"},children:s.layers.map((bt,At)=>jsxRuntimeExports.jsx(MockImage,{layer:bt},`layer-${At}`))})}),jsxRuntimeExports.jsx(Typography$1,{variant:"h6",children:o.title||"<no name>"}),jsxRuntimeExports.jsx(IconButton$1,{size:"small",sx:removeBtnSx$1,onClick:et,className:"remove",children:jsxRuntimeExports.jsx(DeleteIcon,{})})]})},DEFAULT_STICKER$1={id:"",layers:[],emoji:"🫥"},removeBtnSx$1={position:"absolute",right:4,visibility:"hidden"},DashboardPage=()=>{const o=useNavigate(),[s,j]=reactExports.useState([]);return reactExports.useEffect(()=>{getStore(Stores.Packs).then(et=>{j(et)})},[]),jsxRuntimeExports.jsx(Box$1,{flex:1,py:2,overflow:"scroll",width:"100%",children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,alignItems:"center",children:[s.map(et=>jsxRuntimeExports.jsx(Grid$1,{item:!0,sx:gridSx$1,md:3,sm:4,xs:6,onClick:()=>o(`/${et.id}`),children:jsxRuntimeExports.jsx(PackThumbnail,{pack:et},`pack-${et.id}`)},`pack-${et.id}`)),jsxRuntimeExports.jsx(Grid$1,{item:!0,sx:gridSx$1,md:3,sm:4,xs:6,onClick:()=>o(`/${v4()}`),children:jsxRuntimeExports.jsx(AddIcon,{})})]})})},gridSx$1={cursor:"pointer",border:"1px dashed #333",display:"flex",justifyContent:"center",alignItems:"center",minWidth:150,minHeight:210,"&:hover":{border:"1px solid #ddd","& .remove":{visibility:"visible"}}},Thumbnail=({id:o})=>{const[s,j]=reactExports.useState(DEFAULT_STICKER),{removeSticker:et}=reactExports.useContext(AppContext),bt=reactExports.useCallback(At=>{At.stopPropagation(),window.confirm("Confirm remove?")&&et(o)},[et,o]);return reactExports.useEffect(()=>{getStoreData(Stores.Stickers,o).then(At=>{j(At)})},[o]),jsxRuntimeExports.jsxs(Box$1,{display:"flex",flexDirection:"column",gap:1,py:1,alignItems:"center",width:"100%",position:"relative",children:[jsxRuntimeExports.jsx(Box$1,{width:150,height:150,children:jsxRuntimeExports.jsx(Box$1,{position:"relative",width:500,height:500,sx:{transform:"scale(0.3)",transformOrigin:"top left",overflow:"hidden"},children:s.layers.map((At,Et)=>jsxRuntimeExports.jsx(MockImage,{layer:At},`layer-${Et}`))})}),jsxRuntimeExports.jsx(Typography$1,{variant:"h6",children:s.emoji}),jsxRuntimeExports.jsx(IconButton$1,{size:"small",sx:removeBtnSx,onClick:bt,className:"remove",children:jsxRuntimeExports.jsx(DeleteIcon,{})})]})},DEFAULT_STICKER={id:"",layers:[],emoji:"🫥"},removeBtnSx={position:"absolute",right:4,visibility:"hidden"},PackPage=()=>{const{pack:o,setPackTitle:s,setPackAuthor:j,setPackTags:et,downloadPack:bt}=reactExports.useContext(AppContext),At=useNavigate();return jsxRuntimeExports.jsxs(Box$1,{flex:1,py:2,overflow:"scroll",width:"100%",gap:1,display:"flex",flexDirection:"column",children:[jsxRuntimeExports.jsxs(Box$1,{display:"flex",alignItems:"center",children:[jsxRuntimeExports.jsxs(Box$1,{display:"flex",flexDirection:"column",gap:1,flex:5,children:[jsxRuntimeExports.jsxs(Box$1,{display:"flex",gap:1,children:[jsxRuntimeExports.jsx(TextField$1,{value:o.title,size:"small",onChange:s,fullWidth:!0,placeholder:"Pack Name"}),jsxRuntimeExports.jsx(TextField$1,{value:o.author,size:"small",onChange:j,placeholder:"Author name",fullWidth:!0})]}),jsxRuntimeExports.jsx(Autocomplete$1,{freeSolo:!0,multiple:!0,disableClearable:!0,value:o.tags,onChange:(Et,Ut)=>{et(Ut)},renderInput:Et=>jsxRuntimeExports.jsx(TextField$1,{...Et,placeholder:"Tags",size:"small"}),options:[]})]}),jsxRuntimeExports.jsx(Box$1,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",children:jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>bt(o),children:jsxRuntimeExports.jsx(DownloadIcon,{})})})]}),jsxRuntimeExports.jsx(Box$1,{overflow:"scroll",py:2,children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,alignItems:"center",children:[o.stickerIds.map(Et=>jsxRuntimeExports.jsx(Grid$1,{item:!0,sx:gridSx,md:3,sm:4,xs:6,onClick:()=>At(`/${o.id}/${Et}`),children:jsxRuntimeExports.jsx(Thumbnail,{id:Et})},`sticker-${Et}`)),jsxRuntimeExports.jsx(Grid$1,{item:!0,sx:gridSx,md:3,sm:4,xs:6,onClick:()=>At(`/${o.id}/${v4()}`),children:jsxRuntimeExports.jsx(AddIcon,{})})]})})]})},gridSx={cursor:"pointer",border:"1px dashed #333",display:"flex",justifyContent:"center",alignItems:"center",minWidth:150,minHeight:210,"&:hover":{border:"1px solid #ddd","& .remove":{visibility:"visible"}}},EditorContext=React$1.createContext({}),EditorContextProvider=({children:o})=>{const[s,j]=reactExports.useState(DEFAULT_STATE),{isDBReady:et}=reactExports.useContext(AppContext),{stickerId:bt}=useParams(),At=reactExports.useCallback(_r=>{getImgDimensions(_r).then(({width:vr,height:Yr})=>{const Kr=vr/Yr,jr=Math.min(500,vr),Hn=Math.min(500,Yr),tA=Kr>1?jr:Hn*Kr,nA=Kr>1?jr/Kr:Hn,aA=v4();j(lA=>({...lA,layers:[...lA.layers,{id:aA,_width:vr,_height:Yr,width:tA,height:nA,rotation:0,top:0,left:0,content:_r,croppedTop:0,croppedLeft:0,croppedHeight:Yr,croppedWidth:vr}],selectedLayerId:aA}))})},[]),Et=reactExports.useCallback(_r=>{j(vr=>{const Yr=[...vr.layers],Kr=Yr.findIndex(({id:jr})=>jr===_r.id);return Yr[Kr]=_r,{...vr,layers:Yr}})},[]),Ut=reactExports.useCallback(_r=>{j(vr=>({...vr,layers:vr.layers.filter(({id:Yr})=>Yr!==_r),selectedLayerId:vr.selectedLayerId===_r?"":vr.selectedLayerId}))},[]),zt=reactExports.useCallback(()=>{j(_r=>({..._r,isCrop:!_r.isCrop}))},[]),It=reactExports.useCallback(_r=>{j(vr=>({...vr,layerIdInBgRemoval:[...vr.layerIdInBgRemoval,_r]})),removeLayerBackground(s.layers[s.layers.findIndex(({id:vr})=>vr===_r)]).then(({content:vr})=>{j(Yr=>{const Kr=[...Yr.layers],jr=Kr.findIndex(({id:Hn})=>Hn===_r);return Kr[jr].content=vr,{...Yr,layers:Kr,layerIdInBgRemoval:Yr.layerIdInBgRemoval.filter(Hn=>Hn!==_r)}})})},[s.layers]),Qt=reactExports.useCallback((_r,vr,Yr)=>{const Kr=s.layers[s.layers.findIndex(({id:jr})=>Yr===jr)];addStrokeEffect(Kr,_r,vr).then(({content:jr})=>{j(Hn=>{const tA=[...Hn.layers],nA=tA.findIndex(({id:aA})=>aA===Yr);return tA[nA].content=jr,{...Hn,layers:tA}})})},[s.layers]),Pt=reactExports.useCallback(_r=>{j(vr=>({...vr,selectedLayerId:_r}))},[]),Yt=reactExports.useCallback(_r=>{j(vr=>({...vr,emoji:_r}))},[]);reactExports.useEffect(()=>{const _r=vr=>{(vr.key==="Backspace"||vr.key==="Delete")&&j(Yr=>({...Yr,selectedLayerId:"",layers:Yr.layers.filter(({id:Kr})=>Kr!==Yr.selectedLayerId)}))};return window.addEventListener("keydown",_r),()=>{window.removeEventListener("keydown",_r)}},[Ut]),reactExports.useEffect(()=>{et&&(bt===s.id?saveData(Stores.Stickers,{id:s.id,layers:s.layers,emoji:s.emoji}):bt!==void 0&&getStoreData(Stores.Stickers,bt).then(({id:_r,layers:vr,emoji:Yr})=>{console.log(vr),j({...DEFAULT_STATE,id:_r,layers:vr,emoji:Yr})}).catch(()=>{j(_r=>({..._r,id:bt}))}))},[et,s.layers,bt,s.id,s.emoji]),reactExports.useEffect(()=>{bt===void 0&&j(JSON.parse(JSON.stringify(DEFAULT_STATE)))},[bt]);const cr=reactExports.useMemo(()=>({...s,toggleCrop:zt,addLayer:At,updateLayer:Et,deleteLayer:Ut,setSelectedLayerId:Pt,cleanLayerBg:It,outlineLayer:Qt,setEmoji:Yt}),[s,zt,At,Et,Ut,Pt,It,Qt,Yt]);return jsxRuntimeExports.jsx(EditorContext.Provider,{value:cr,children:o})},DEFAULT_STATE={isCrop:!1,id:"",layers:[],emoji:"🫥",selectedLayerId:"",layerIdInBgRemoval:[]};function $parcel$interopDefault(o){return o&&o.__esModule?o.default:o}function $c770c458706daa72$export$2e2bcd8739ae039(o,s,j){return s in o?Object.defineProperty(o,s,{value:j,enumerable:!0,configurable:!0,writable:!0}):o[s]=j,o}var $fb96b826c0c5f37a$var$n,$fb96b826c0c5f37a$export$41c562ebe57d11e2,$fb96b826c0c5f37a$var$u,$fb96b826c0c5f37a$var$t,$fb96b826c0c5f37a$var$r,$fb96b826c0c5f37a$var$o,$fb96b826c0c5f37a$var$e={},$fb96b826c0c5f37a$var$c=[],$fb96b826c0c5f37a$var$s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function $fb96b826c0c5f37a$var$a(o,s){for(var j in s)o[j]=s[j];return o}function $fb96b826c0c5f37a$var$h(o){var s=o.parentNode;s&&s.removeChild(o)}function $fb96b826c0c5f37a$export$c8a8987d4410bf2d(o,s,j){var et,bt,At,Et={};for(At in s)At=="key"?et=s[At]:At=="ref"?bt=s[At]:Et[At]=s[At];if(arguments.length>2&&(Et.children=arguments.length>3?$fb96b826c0c5f37a$var$n.call(arguments,2):j),typeof o=="function"&&o.defaultProps!=null)for(At in o.defaultProps)Et[At]===void 0&&(Et[At]=o.defaultProps[At]);return $fb96b826c0c5f37a$var$y(o,Et,et,bt,null)}function $fb96b826c0c5f37a$var$y(o,s,j,et,bt){var At={type:o,props:s,key:j,ref:et,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:bt??++$fb96b826c0c5f37a$var$u};return bt==null&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode!=null&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode(At),At}function $fb96b826c0c5f37a$export$7d1e3a5e95ceca43(){return{current:null}}function $fb96b826c0c5f37a$export$ffb0004e005737fa(o){return o.children}function $fb96b826c0c5f37a$export$16fa2f45be04daa8(o,s){this.props=o,this.context=s}function $fb96b826c0c5f37a$var$k(o,s){if(s==null)return o.__?$fb96b826c0c5f37a$var$k(o.__,o.__.__k.indexOf(o)+1):null;for(var j;s<o.__k.length;s++)if((j=o.__k[s])!=null&&j.__e!=null)return j.__e;return typeof o.type=="function"?$fb96b826c0c5f37a$var$k(o):null}function $fb96b826c0c5f37a$var$b(o){var s,j;if((o=o.__)!=null&&o.__c!=null){for(o.__e=o.__c.base=null,s=0;s<o.__k.length;s++)if((j=o.__k[s])!=null&&j.__e!=null){o.__e=o.__c.base=j.__e;break}return $fb96b826c0c5f37a$var$b(o)}}function $fb96b826c0c5f37a$var$m(o){(!o.__d&&(o.__d=!0)&&$fb96b826c0c5f37a$var$t.push(o)&&!$fb96b826c0c5f37a$var$g.__r++||$fb96b826c0c5f37a$var$o!==$fb96b826c0c5f37a$export$41c562ebe57d11e2.debounceRendering)&&(($fb96b826c0c5f37a$var$o=$fb96b826c0c5f37a$export$41c562ebe57d11e2.debounceRendering)||$fb96b826c0c5f37a$var$r)($fb96b826c0c5f37a$var$g)}function $fb96b826c0c5f37a$var$g(){for(var o;$fb96b826c0c5f37a$var$g.__r=$fb96b826c0c5f37a$var$t.length;)o=$fb96b826c0c5f37a$var$t.sort(function(s,j){return s.__v.__b-j.__v.__b}),$fb96b826c0c5f37a$var$t=[],o.some(function(s){var j,et,bt,At,Et,Ut;s.__d&&(Et=(At=(j=s).__v).__e,(Ut=j.__P)&&(et=[],(bt=$fb96b826c0c5f37a$var$a({},At)).__v=At.__v+1,$fb96b826c0c5f37a$var$j(Ut,At,bt,j.__n,Ut.ownerSVGElement!==void 0,At.__h!=null?[Et]:null,et,Et??$fb96b826c0c5f37a$var$k(At),At.__h),$fb96b826c0c5f37a$var$z(et,At),At.__e!=Et&&$fb96b826c0c5f37a$var$b(At)))})}function $fb96b826c0c5f37a$var$w(o,s,j,et,bt,At,Et,Ut,zt,It){var Qt,Pt,Yt,cr,_r,vr,Yr,Kr=et&&et.__k||$fb96b826c0c5f37a$var$c,jr=Kr.length;for(j.__k=[],Qt=0;Qt<s.length;Qt++)if((cr=j.__k[Qt]=(cr=s[Qt])==null||typeof cr=="boolean"?null:typeof cr=="string"||typeof cr=="number"||typeof cr=="bigint"?$fb96b826c0c5f37a$var$y(null,cr,null,null,cr):Array.isArray(cr)?$fb96b826c0c5f37a$var$y($fb96b826c0c5f37a$export$ffb0004e005737fa,{children:cr},null,null,null):cr.__b>0?$fb96b826c0c5f37a$var$y(cr.type,cr.props,cr.key,null,cr.__v):cr)!=null){if(cr.__=j,cr.__b=j.__b+1,(Yt=Kr[Qt])===null||Yt&&cr.key==Yt.key&&cr.type===Yt.type)Kr[Qt]=void 0;else for(Pt=0;Pt<jr;Pt++){if((Yt=Kr[Pt])&&cr.key==Yt.key&&cr.type===Yt.type){Kr[Pt]=void 0;break}Yt=null}$fb96b826c0c5f37a$var$j(o,cr,Yt=Yt||$fb96b826c0c5f37a$var$e,bt,At,Et,Ut,zt,It),_r=cr.__e,(Pt=cr.ref)&&Yt.ref!=Pt&&(Yr||(Yr=[]),Yt.ref&&Yr.push(Yt.ref,null,cr),Yr.push(Pt,cr.__c||_r,cr)),_r!=null?(vr==null&&(vr=_r),typeof cr.type=="function"&&cr.__k===Yt.__k?cr.__d=zt=$fb96b826c0c5f37a$var$x(cr,zt,o):zt=$fb96b826c0c5f37a$var$P(o,cr,Yt,Kr,_r,zt),typeof j.type=="function"&&(j.__d=zt)):zt&&Yt.__e==zt&&zt.parentNode!=o&&(zt=$fb96b826c0c5f37a$var$k(Yt))}for(j.__e=vr,Qt=jr;Qt--;)Kr[Qt]!=null&&(typeof j.type=="function"&&Kr[Qt].__e!=null&&Kr[Qt].__e==j.__d&&(j.__d=$fb96b826c0c5f37a$var$k(et,Qt+1)),$fb96b826c0c5f37a$var$N(Kr[Qt],Kr[Qt]));if(Yr)for(Qt=0;Qt<Yr.length;Qt++)$fb96b826c0c5f37a$var$M(Yr[Qt],Yr[++Qt],Yr[++Qt])}function $fb96b826c0c5f37a$var$x(o,s,j){for(var et,bt=o.__k,At=0;bt&&At<bt.length;At++)(et=bt[At])&&(et.__=o,s=typeof et.type=="function"?$fb96b826c0c5f37a$var$x(et,s,j):$fb96b826c0c5f37a$var$P(j,et,et,bt,et.__e,s));return s}function $fb96b826c0c5f37a$export$47e4c5b300681277(o,s){return s=s||[],o==null||typeof o=="boolean"||(Array.isArray(o)?o.some(function(j){$fb96b826c0c5f37a$export$47e4c5b300681277(j,s)}):s.push(o)),s}function $fb96b826c0c5f37a$var$P(o,s,j,et,bt,At){var Et,Ut,zt;if(s.__d!==void 0)Et=s.__d,s.__d=void 0;else if(j==null||bt!=At||bt.parentNode==null)e:if(At==null||At.parentNode!==o)o.appendChild(bt),Et=null;else{for(Ut=At,zt=0;(Ut=Ut.nextSibling)&&zt<et.length;zt+=2)if(Ut==bt)break e;o.insertBefore(bt,At),Et=At}return Et!==void 0?Et:bt.nextSibling}function $fb96b826c0c5f37a$var$C(o,s,j,et,bt){var At;for(At in j)At==="children"||At==="key"||At in s||$fb96b826c0c5f37a$var$H(o,At,null,j[At],et);for(At in s)bt&&typeof s[At]!="function"||At==="children"||At==="key"||At==="value"||At==="checked"||j[At]===s[At]||$fb96b826c0c5f37a$var$H(o,At,s[At],j[At],et)}function $fb96b826c0c5f37a$var$$(o,s,j){s[0]==="-"?o.setProperty(s,j):o[s]=j==null?"":typeof j!="number"||$fb96b826c0c5f37a$var$s.test(s)?j:j+"px"}function $fb96b826c0c5f37a$var$H(o,s,j,et,bt){var At;e:if(s==="style")if(typeof j=="string")o.style.cssText=j;else{if(typeof et=="string"&&(o.style.cssText=et=""),et)for(s in et)j&&s in j||$fb96b826c0c5f37a$var$$(o.style,s,"");if(j)for(s in j)et&&j[s]===et[s]||$fb96b826c0c5f37a$var$$(o.style,s,j[s])}else if(s[0]==="o"&&s[1]==="n")At=s!==(s=s.replace(/Capture$/,"")),s=s.toLowerCase()in o?s.toLowerCase().slice(2):s.slice(2),o.l||(o.l={}),o.l[s+At]=j,j?et||o.addEventListener(s,At?$fb96b826c0c5f37a$var$T:$fb96b826c0c5f37a$var$I,At):o.removeEventListener(s,At?$fb96b826c0c5f37a$var$T:$fb96b826c0c5f37a$var$I,At);else if(s!=="dangerouslySetInnerHTML"){if(bt)s=s.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(s!=="href"&&s!=="list"&&s!=="form"&&s!=="tabIndex"&&s!=="download"&&s in o)try{o[s]=j??"";break e}catch{}typeof j=="function"||(j!=null&&(j!==!1||s[0]==="a"&&s[1]==="r")?o.setAttribute(s,j):o.removeAttribute(s))}}function $fb96b826c0c5f37a$var$I(o){this.l[o.type+!1]($fb96b826c0c5f37a$export$41c562ebe57d11e2.event?$fb96b826c0c5f37a$export$41c562ebe57d11e2.event(o):o)}function $fb96b826c0c5f37a$var$T(o){this.l[o.type+!0]($fb96b826c0c5f37a$export$41c562ebe57d11e2.event?$fb96b826c0c5f37a$export$41c562ebe57d11e2.event(o):o)}function $fb96b826c0c5f37a$var$j(o,s,j,et,bt,At,Et,Ut,zt){var It,Qt,Pt,Yt,cr,_r,vr,Yr,Kr,jr,Hn,tA=s.type;if(s.constructor!==void 0)return null;j.__h!=null&&(zt=j.__h,Ut=s.__e=j.__e,s.__h=null,At=[Ut]),(It=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b)&&It(s);try{e:if(typeof tA=="function"){if(Yr=s.props,Kr=(It=tA.contextType)&&et[It.__c],jr=It?Kr?Kr.props.value:It.__:et,j.__c?vr=(Qt=s.__c=j.__c).__=Qt.__E:("prototype"in tA&&tA.prototype.render?s.__c=Qt=new tA(Yr,jr):(s.__c=Qt=new $fb96b826c0c5f37a$export$16fa2f45be04daa8(Yr,jr),Qt.constructor=tA,Qt.render=$fb96b826c0c5f37a$var$O),Kr&&Kr.sub(Qt),Qt.props=Yr,Qt.state||(Qt.state={}),Qt.context=jr,Qt.__n=et,Pt=Qt.__d=!0,Qt.__h=[]),Qt.__s==null&&(Qt.__s=Qt.state),tA.getDerivedStateFromProps!=null&&(Qt.__s==Qt.state&&(Qt.__s=$fb96b826c0c5f37a$var$a({},Qt.__s)),$fb96b826c0c5f37a$var$a(Qt.__s,tA.getDerivedStateFromProps(Yr,Qt.__s))),Yt=Qt.props,cr=Qt.state,Pt)tA.getDerivedStateFromProps==null&&Qt.componentWillMount!=null&&Qt.componentWillMount(),Qt.componentDidMount!=null&&Qt.__h.push(Qt.componentDidMount);else{if(tA.getDerivedStateFromProps==null&&Yr!==Yt&&Qt.componentWillReceiveProps!=null&&Qt.componentWillReceiveProps(Yr,jr),!Qt.__e&&Qt.shouldComponentUpdate!=null&&Qt.shouldComponentUpdate(Yr,Qt.__s,jr)===!1||s.__v===j.__v){Qt.props=Yr,Qt.state=Qt.__s,s.__v!==j.__v&&(Qt.__d=!1),Qt.__v=s,s.__e=j.__e,s.__k=j.__k,s.__k.forEach(function(nA){nA&&(nA.__=s)}),Qt.__h.length&&Et.push(Qt);break e}Qt.componentWillUpdate!=null&&Qt.componentWillUpdate(Yr,Qt.__s,jr),Qt.componentDidUpdate!=null&&Qt.__h.push(function(){Qt.componentDidUpdate(Yt,cr,_r)})}Qt.context=jr,Qt.props=Yr,Qt.state=Qt.__s,(It=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r)&&It(s),Qt.__d=!1,Qt.__v=s,Qt.__P=o,It=Qt.render(Qt.props,Qt.state,Qt.context),Qt.state=Qt.__s,Qt.getChildContext!=null&&(et=$fb96b826c0c5f37a$var$a($fb96b826c0c5f37a$var$a({},et),Qt.getChildContext())),Pt||Qt.getSnapshotBeforeUpdate==null||(_r=Qt.getSnapshotBeforeUpdate(Yt,cr)),Hn=It!=null&&It.type===$fb96b826c0c5f37a$export$ffb0004e005737fa&&It.key==null?It.props.children:It,$fb96b826c0c5f37a$var$w(o,Array.isArray(Hn)?Hn:[Hn],s,j,et,bt,At,Et,Ut,zt),Qt.base=s.__e,s.__h=null,Qt.__h.length&&Et.push(Qt),vr&&(Qt.__E=Qt.__=null),Qt.__e=!1}else At==null&&s.__v===j.__v?(s.__k=j.__k,s.__e=j.__e):s.__e=$fb96b826c0c5f37a$var$L(j.__e,s,j,et,bt,At,Et,zt);(It=$fb96b826c0c5f37a$export$41c562ebe57d11e2.diffed)&&It(s)}catch(nA){s.__v=null,(zt||At!=null)&&(s.__e=Ut,s.__h=!!zt,At[At.indexOf(Ut)]=null),$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(nA,s,j)}}function $fb96b826c0c5f37a$var$z(o,s){$fb96b826c0c5f37a$export$41c562ebe57d11e2.__c&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.__c(s,o),o.some(function(j){try{o=j.__h,j.__h=[],o.some(function(et){et.call(j)})}catch(et){$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(et,j.__v)}})}function $fb96b826c0c5f37a$var$L(o,s,j,et,bt,At,Et,Ut){var zt,It,Qt,Pt=j.props,Yt=s.props,cr=s.type,_r=0;if(cr==="svg"&&(bt=!0),At!=null){for(;_r<At.length;_r++)if((zt=At[_r])&&"setAttribute"in zt==!!cr&&(cr?zt.localName===cr:zt.nodeType===3)){o=zt,At[_r]=null;break}}if(o==null){if(cr===null)return document.createTextNode(Yt);o=bt?document.createElementNS("http://www.w3.org/2000/svg",cr):document.createElement(cr,Yt.is&&Yt),At=null,Ut=!1}if(cr===null)Pt===Yt||Ut&&o.data===Yt||(o.data=Yt);else{if(At=At&&$fb96b826c0c5f37a$var$n.call(o.childNodes),It=(Pt=j.props||$fb96b826c0c5f37a$var$e).dangerouslySetInnerHTML,Qt=Yt.dangerouslySetInnerHTML,!Ut){if(At!=null)for(Pt={},_r=0;_r<o.attributes.length;_r++)Pt[o.attributes[_r].name]=o.attributes[_r].value;(Qt||It)&&(Qt&&(It&&Qt.__html==It.__html||Qt.__html===o.innerHTML)||(o.innerHTML=Qt&&Qt.__html||""))}if($fb96b826c0c5f37a$var$C(o,Yt,Pt,bt,Ut),Qt)s.__k=[];else if(_r=s.props.children,$fb96b826c0c5f37a$var$w(o,Array.isArray(_r)?_r:[_r],s,j,et,bt&&cr!=="foreignObject",At,Et,At?At[0]:j.__k&&$fb96b826c0c5f37a$var$k(j,0),Ut),At!=null)for(_r=At.length;_r--;)At[_r]!=null&&$fb96b826c0c5f37a$var$h(At[_r]);Ut||("value"in Yt&&(_r=Yt.value)!==void 0&&(_r!==Pt.value||_r!==o.value||cr==="progress"&&!_r)&&$fb96b826c0c5f37a$var$H(o,"value",_r,Pt.value,!1),"checked"in Yt&&(_r=Yt.checked)!==void 0&&_r!==o.checked&&$fb96b826c0c5f37a$var$H(o,"checked",_r,Pt.checked,!1))}return o}function $fb96b826c0c5f37a$var$M(o,s,j){try{typeof o=="function"?o(s):o.current=s}catch(et){$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(et,j)}}function $fb96b826c0c5f37a$var$N(o,s,j){var et,bt;if($fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount(o),(et=o.ref)&&(et.current&&et.current!==o.__e||$fb96b826c0c5f37a$var$M(et,null,s)),(et=o.__c)!=null){if(et.componentWillUnmount)try{et.componentWillUnmount()}catch(At){$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(At,s)}et.base=et.__P=null}if(et=o.__k)for(bt=0;bt<et.length;bt++)et[bt]&&$fb96b826c0c5f37a$var$N(et[bt],s,typeof o.type!="function");j||o.__e==null||$fb96b826c0c5f37a$var$h(o.__e),o.__e=o.__d=void 0}function $fb96b826c0c5f37a$var$O(o,s,j){return this.constructor(o,j)}function $fb96b826c0c5f37a$export$b3890eb0ae9dca99(o,s,j){var et,bt,At;$fb96b826c0c5f37a$export$41c562ebe57d11e2.__&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.__(o,s),bt=(et=typeof j=="function")?null:j&&j.__k||s.__k,At=[],$fb96b826c0c5f37a$var$j(s,o=(!et&&j||s).__k=$fb96b826c0c5f37a$export$c8a8987d4410bf2d($fb96b826c0c5f37a$export$ffb0004e005737fa,null,[o]),bt||$fb96b826c0c5f37a$var$e,$fb96b826c0c5f37a$var$e,s.ownerSVGElement!==void 0,!et&&j?[j]:bt?null:s.firstChild?$fb96b826c0c5f37a$var$n.call(s.childNodes):null,At,!et&&j?j:bt?bt.__e:s.firstChild,et),$fb96b826c0c5f37a$var$z(At,o)}$fb96b826c0c5f37a$var$n=$fb96b826c0c5f37a$var$c.slice,$fb96b826c0c5f37a$export$41c562ebe57d11e2={__e:function(o,s){for(var j,et,bt;s=s.__;)if((j=s.__c)&&!j.__)try{if((et=j.constructor)&&et.getDerivedStateFromError!=null&&(j.setState(et.getDerivedStateFromError(o)),bt=j.__d),j.componentDidCatch!=null&&(j.componentDidCatch(o),bt=j.__d),bt)return j.__E=j}catch(At){o=At}throw o}},$fb96b826c0c5f37a$var$u=0,$fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype.setState=function(o,s){var j;j=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$fb96b826c0c5f37a$var$a({},this.state),typeof o=="function"&&(o=o($fb96b826c0c5f37a$var$a({},j),this.props)),o&&$fb96b826c0c5f37a$var$a(j,o),o!=null&&this.__v&&(s&&this.__h.push(s),$fb96b826c0c5f37a$var$m(this))},$fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype.forceUpdate=function(o){this.__v&&(this.__e=!0,o&&this.__h.push(o),$fb96b826c0c5f37a$var$m(this))},$fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype.render=$fb96b826c0c5f37a$export$ffb0004e005737fa,$fb96b826c0c5f37a$var$t=[],$fb96b826c0c5f37a$var$r=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$fb96b826c0c5f37a$var$g.__r=0;var $bd9dd35321b03dd4$var$o=0;function $bd9dd35321b03dd4$export$34b9dba7ce09269b(o,s,j,et,bt){var At,Et,Ut={};for(Et in s)Et=="ref"?At=s[Et]:Ut[Et]=s[Et];var zt={type:o,props:Ut,key:j,ref:At,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--$bd9dd35321b03dd4$var$o,__source:et,__self:bt};if(typeof o=="function"&&(At=o.defaultProps))for(Et in At)Ut[Et]===void 0&&(Ut[Et]=At[Et]);return $fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode(zt),zt}function $f72b75cf796873c7$var$set(o,s){try{window.localStorage[`emoji-mart.${o}`]=JSON.stringify(s)}catch{}}function $f72b75cf796873c7$var$get(o){try{const s=window.localStorage[`emoji-mart.${o}`];if(s)return JSON.parse(s)}catch{}}var $f72b75cf796873c7$export$2e2bcd8739ae039={set:$f72b75cf796873c7$var$set,get:$f72b75cf796873c7$var$get};const $c84d045dcc34faf5$var$CACHE=new Map,$c84d045dcc34faf5$var$VERSIONS=[{v:15,emoji:"🫨"},{v:14,emoji:"🫠"},{v:13.1,emoji:"😶‍🌫️"},{v:13,emoji:"🥸"},{v:12.1,emoji:"🧑‍🦰"},{v:12,emoji:"🥱"},{v:11,emoji:"🥰"},{v:5,emoji:"🤩"},{v:4,emoji:"👱‍♀️"},{v:3,emoji:"🤣"},{v:2,emoji:"👋🏻"},{v:1,emoji:"🙃"}];function $c84d045dcc34faf5$var$latestVersion(){for(const{v:o,emoji:s}of $c84d045dcc34faf5$var$VERSIONS)if($c84d045dcc34faf5$var$isSupported(s))return o}function $c84d045dcc34faf5$var$noCountryFlags(){return!$c84d045dcc34faf5$var$isSupported("🇨🇦")}function $c84d045dcc34faf5$var$isSupported(o){if($c84d045dcc34faf5$var$CACHE.has(o))return $c84d045dcc34faf5$var$CACHE.get(o);const s=$c84d045dcc34faf5$var$isEmojiSupported(o);return $c84d045dcc34faf5$var$CACHE.set(o,s),s}const $c84d045dcc34faf5$var$isEmojiSupported=(()=>{let o=null;try{navigator.userAgent.includes("jsdom")||(o=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!o)return()=>!1;const s=25,j=20,et=Math.floor(s/2);return o.font=et+"px Arial, Sans-Serif",o.textBaseline="top",o.canvas.width=j*2,o.canvas.height=s,bt=>{o.clearRect(0,0,j*2,s),o.fillStyle="#FF0000",o.fillText(bt,0,22),o.fillStyle="#0000FF",o.fillText(bt,j,22);const At=o.getImageData(0,0,j,s).data,Et=At.length;let Ut=0;for(;Ut<Et&&!At[Ut+3];Ut+=4);if(Ut>=Et)return!1;const zt=j+Ut/4%j,It=Math.floor(Ut/4/j),Qt=o.getImageData(zt,It,1,1).data;return!(At[Ut]!==Qt[0]||At[Ut+2]!==Qt[2]||o.measureText(bt).width>=j)}})();var $c84d045dcc34faf5$export$2e2bcd8739ae039={latestVersion:$c84d045dcc34faf5$var$latestVersion,noCountryFlags:$c84d045dcc34faf5$var$noCountryFlags};const $b22cfd0a55410b4f$var$DEFAULTS=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let $b22cfd0a55410b4f$var$Index=null;function $b22cfd0a55410b4f$var$add(o){$b22cfd0a55410b4f$var$Index||($b22cfd0a55410b4f$var$Index=$f72b75cf796873c7$export$2e2bcd8739ae039.get("frequently")||{});const s=o.id||o;s&&($b22cfd0a55410b4f$var$Index[s]||($b22cfd0a55410b4f$var$Index[s]=0),$b22cfd0a55410b4f$var$Index[s]+=1,$f72b75cf796873c7$export$2e2bcd8739ae039.set("last",s),$f72b75cf796873c7$export$2e2bcd8739ae039.set("frequently",$b22cfd0a55410b4f$var$Index))}function $b22cfd0a55410b4f$var$get({maxFrequentRows:o,perLine:s}){if(!o)return[];$b22cfd0a55410b4f$var$Index||($b22cfd0a55410b4f$var$Index=$f72b75cf796873c7$export$2e2bcd8739ae039.get("frequently"));let j=[];if(!$b22cfd0a55410b4f$var$Index){$b22cfd0a55410b4f$var$Index={};for(let At in $b22cfd0a55410b4f$var$DEFAULTS.slice(0,s)){const Et=$b22cfd0a55410b4f$var$DEFAULTS[At];$b22cfd0a55410b4f$var$Index[Et]=s-At,j.push(Et)}return j}const et=o*s,bt=$f72b75cf796873c7$export$2e2bcd8739ae039.get("last");for(let At in $b22cfd0a55410b4f$var$Index)j.push(At);if(j.sort((At,Et)=>{const Ut=$b22cfd0a55410b4f$var$Index[Et],zt=$b22cfd0a55410b4f$var$Index[At];return Ut==zt?At.localeCompare(Et):Ut-zt}),j.length>et){const At=j.slice(et);j=j.slice(0,et);for(let Et of At)Et!=bt&&delete $b22cfd0a55410b4f$var$Index[Et];bt&&j.indexOf(bt)==-1&&(delete $b22cfd0a55410b4f$var$Index[j[j.length-1]],j.splice(-1,1,bt)),$f72b75cf796873c7$export$2e2bcd8739ae039.set("frequently",$b22cfd0a55410b4f$var$Index)}return j}var $b22cfd0a55410b4f$export$2e2bcd8739ae039={add:$b22cfd0a55410b4f$var$add,get:$b22cfd0a55410b4f$var$get,DEFAULTS:$b22cfd0a55410b4f$var$DEFAULTS},$8d50d93417ef682a$exports={};$8d50d93417ef682a$exports=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldn’t be found","pick":"Pick an emoji…","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var $b247ea80b67298d5$export$2e2bcd8739ae039={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let $7adb23b0109cc36a$export$dbe3113d60765c1a=null,$7adb23b0109cc36a$export$2d0294657ab35f1b=null;const $7adb23b0109cc36a$var$fetchCache={};async function $7adb23b0109cc36a$var$fetchJSON(o){if($7adb23b0109cc36a$var$fetchCache[o])return $7adb23b0109cc36a$var$fetchCache[o];const j=await(await fetch(o)).json();return $7adb23b0109cc36a$var$fetchCache[o]=j,j}let $7adb23b0109cc36a$var$promise=null,$7adb23b0109cc36a$var$initCallback=null,$7adb23b0109cc36a$var$initialized=!1;function $7adb23b0109cc36a$export$2cd8252107eb640b(o,{caller:s}={}){return $7adb23b0109cc36a$var$promise||($7adb23b0109cc36a$var$promise=new Promise(j=>{$7adb23b0109cc36a$var$initCallback=j})),o?$7adb23b0109cc36a$var$_init(o):s&&!$7adb23b0109cc36a$var$initialized&&console.warn(`\`${s}\` requires data to be initialized first. Promise will be pending until \`init\` is called.`),$7adb23b0109cc36a$var$promise}async function $7adb23b0109cc36a$var$_init(o){$7adb23b0109cc36a$var$initialized=!0;let{emojiVersion:s,set:j,locale:et}=o;if(s||(s=$b247ea80b67298d5$export$2e2bcd8739ae039.emojiVersion.value),j||(j=$b247ea80b67298d5$export$2e2bcd8739ae039.set.value),et||(et=$b247ea80b67298d5$export$2e2bcd8739ae039.locale.value),$7adb23b0109cc36a$export$2d0294657ab35f1b)$7adb23b0109cc36a$export$2d0294657ab35f1b.categories=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.filter(zt=>!zt.name);else{$7adb23b0109cc36a$export$2d0294657ab35f1b=(typeof o.data=="function"?await o.data():o.data)||await $7adb23b0109cc36a$var$fetchJSON(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${s}/${j}.json`),$7adb23b0109cc36a$export$2d0294657ab35f1b.emoticons={},$7adb23b0109cc36a$export$2d0294657ab35f1b.natives={},$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.unshift({id:"frequent",emojis:[]});for(const zt in $7adb23b0109cc36a$export$2d0294657ab35f1b.aliases){const It=$7adb23b0109cc36a$export$2d0294657ab35f1b.aliases[zt],Qt=$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[It];Qt&&(Qt.aliases||(Qt.aliases=[]),Qt.aliases.push(zt))}$7adb23b0109cc36a$export$2d0294657ab35f1b.originalCategories=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories}if($7adb23b0109cc36a$export$dbe3113d60765c1a=(typeof o.i18n=="function"?await o.i18n():o.i18n)||(et=="en"?$parcel$interopDefault($8d50d93417ef682a$exports):await $7adb23b0109cc36a$var$fetchJSON(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${et}.json`)),o.custom)for(let zt in o.custom){zt=parseInt(zt);const It=o.custom[zt],Qt=o.custom[zt-1];if(!(!It.emojis||!It.emojis.length)){It.id||(It.id=`custom_${zt+1}`),It.name||(It.name=$7adb23b0109cc36a$export$dbe3113d60765c1a.categories.custom),Qt&&!It.icon&&(It.target=Qt.target||Qt),$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.push(It);for(const Pt of It.emojis)$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[Pt.id]=Pt}}o.categories&&($7adb23b0109cc36a$export$2d0294657ab35f1b.categories=$7adb23b0109cc36a$export$2d0294657ab35f1b.originalCategories.filter(zt=>o.categories.indexOf(zt.id)!=-1).sort((zt,It)=>{const Qt=o.categories.indexOf(zt.id),Pt=o.categories.indexOf(It.id);return Qt-Pt}));let bt=null,At=null;j=="native"&&(bt=$c84d045dcc34faf5$export$2e2bcd8739ae039.latestVersion(),At=o.noCountryFlags||$c84d045dcc34faf5$export$2e2bcd8739ae039.noCountryFlags());let Et=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.length,Ut=!1;for(;Et--;){const zt=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories[Et];if(zt.id=="frequent"){let{maxFrequentRows:Pt,perLine:Yt}=o;Pt=Pt>=0?Pt:$b247ea80b67298d5$export$2e2bcd8739ae039.maxFrequentRows.value,Yt||(Yt=$b247ea80b67298d5$export$2e2bcd8739ae039.perLine.value),zt.emojis=$b22cfd0a55410b4f$export$2e2bcd8739ae039.get({maxFrequentRows:Pt,perLine:Yt})}if(!zt.emojis||!zt.emojis.length){$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.splice(Et,1);continue}const{categoryIcons:It}=o;if(It){const Pt=It[zt.id];Pt&&!zt.icon&&(zt.icon=Pt)}let Qt=zt.emojis.length;for(;Qt--;){const Pt=zt.emojis[Qt],Yt=Pt.id?Pt:$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[Pt],cr=()=>{zt.emojis.splice(Qt,1)};if(!Yt||o.exceptEmojis&&o.exceptEmojis.includes(Yt.id)){cr();continue}if(bt&&Yt.version>bt){cr();continue}if(At&&zt.id=="flags"&&!$e6eae5155b87f591$export$bcb25aa587e9cb13.includes(Yt.id)){cr();continue}if(!Yt.search){if(Ut=!0,Yt.search=","+[[Yt.id,!1],[Yt.name,!0],[Yt.keywords,!1],[Yt.emoticons,!1]].map(([vr,Yr])=>{if(vr)return(Array.isArray(vr)?vr:[vr]).map(Kr=>(Yr?Kr.split(/[-|_|\s]+/):[Kr]).map(jr=>jr.toLowerCase())).flat()}).flat().filter(vr=>vr&&vr.trim()).join(","),Yt.emoticons)for(const vr of Yt.emoticons)$7adb23b0109cc36a$export$2d0294657ab35f1b.emoticons[vr]||($7adb23b0109cc36a$export$2d0294657ab35f1b.emoticons[vr]=Yt.id);let _r=0;for(const vr of Yt.skins){if(!vr)continue;_r++;const{native:Yr}=vr;Yr&&($7adb23b0109cc36a$export$2d0294657ab35f1b.natives[Yr]=Yt.id,Yt.search+=`,${Yr}`);const Kr=_r==1?"":`:skin-tone-${_r}:`;vr.shortcodes=`:${Yt.id}:${Kr}`}}}}Ut&&$c4d155af13ad4d4b$export$2e2bcd8739ae039.reset(),$7adb23b0109cc36a$var$initCallback()}function $7adb23b0109cc36a$export$75fe5f91d452f94b(o,s,j){o||(o={});const et={};for(let bt in s)et[bt]=$7adb23b0109cc36a$export$88c9ddb45cea7241(bt,o,s,j);return et}function $7adb23b0109cc36a$export$88c9ddb45cea7241(o,s,j,et){const bt=j[o];let At=et&&et.getAttribute(o)||(s[o]!=null&&s[o]!=null?s[o]:null);return bt&&(At!=null&&bt.value&&typeof bt.value!=typeof At&&(typeof bt.value=="boolean"?At=At!="false":At=bt.value.constructor(At)),bt.transform&&At&&(At=bt.transform(At)),(At==null||bt.choices&&bt.choices.indexOf(At)==-1)&&(At=bt.value)),At}const $c4d155af13ad4d4b$var$SHORTCODES_REGEX=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/;let $c4d155af13ad4d4b$var$Pool=null;function $c4d155af13ad4d4b$var$get(o){return o.id?o:$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[o]||$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[$7adb23b0109cc36a$export$2d0294657ab35f1b.aliases[o]]||$7adb23b0109cc36a$export$2d0294657ab35f1b.emojis[$7adb23b0109cc36a$export$2d0294657ab35f1b.natives[o]]}function $c4d155af13ad4d4b$var$reset(){$c4d155af13ad4d4b$var$Pool=null}async function $c4d155af13ad4d4b$var$search(o,{maxResults:s,caller:j}={}){if(!o||!o.trim().length)return null;s||(s=90),await $7adb23b0109cc36a$export$2cd8252107eb640b(null,{caller:j||"SearchIndex.search"});const et=o.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((Ut,zt,It)=>Ut.trim()&&It.indexOf(Ut)==zt);if(!et.length)return;let bt=$c4d155af13ad4d4b$var$Pool||($c4d155af13ad4d4b$var$Pool=Object.values($7adb23b0109cc36a$export$2d0294657ab35f1b.emojis)),At,Et;for(const Ut of et){if(!bt.length)break;At=[],Et={};for(const zt of bt){if(!zt.search)continue;const It=zt.search.indexOf(`,${Ut}`);It!=-1&&(At.push(zt),Et[zt.id]||(Et[zt.id]=0),Et[zt.id]+=zt.id==Ut?0:It+1)}bt=At}return At.length<2||(At.sort((Ut,zt)=>{const It=Et[Ut.id],Qt=Et[zt.id];return It==Qt?Ut.id.localeCompare(zt.id):It-Qt}),At.length>s&&(At=At.slice(0,s))),At}var $c4d155af13ad4d4b$export$2e2bcd8739ae039={search:$c4d155af13ad4d4b$var$search,get:$c4d155af13ad4d4b$var$get,reset:$c4d155af13ad4d4b$var$reset,SHORTCODES_REGEX:$c4d155af13ad4d4b$var$SHORTCODES_REGEX};const $e6eae5155b87f591$export$bcb25aa587e9cb13=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function $693b183b0a78708f$export$9cb4719e2e525b7a(o,s){return Array.isArray(o)&&Array.isArray(s)&&o.length===s.length&&o.every((j,et)=>j==s[et])}async function $693b183b0a78708f$export$e772c8ff12451969(o=1){for(let s in[...Array(o).keys()])await new Promise(requestAnimationFrame)}function $693b183b0a78708f$export$d10ac59fbe52a745(o,{skinIndex:s=0}={}){const j=o.skins[s]||(s=0,o.skins[s]),et={id:o.id,name:o.name,native:j.native,unified:j.unified,keywords:o.keywords,shortcodes:j.shortcodes||o.shortcodes};return o.skins.length>1&&(et.skin=s+1),j.src&&(et.src=j.src),o.aliases&&o.aliases.length&&(et.aliases=o.aliases),o.emoticons&&o.emoticons.length&&(et.emoticons=o.emoticons),et}const $fcccfb36ed0cde68$var$categories={activity:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},$fcccfb36ed0cde68$var$search={loupe:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:$bd9dd35321b03dd4$export$34b9dba7ce09269b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})};var $fcccfb36ed0cde68$export$2e2bcd8739ae039={categories:$fcccfb36ed0cde68$var$categories,search:$fcccfb36ed0cde68$var$search};function $254755d3f438722f$export$2e2bcd8739ae039(o){let{id:s,skin:j,emoji:et}=o;if(o.shortcodes){const Ut=o.shortcodes.match($c4d155af13ad4d4b$export$2e2bcd8739ae039.SHORTCODES_REGEX);Ut&&(s=Ut[1],Ut[2]&&(j=Ut[2]))}if(et||(et=$c4d155af13ad4d4b$export$2e2bcd8739ae039.get(s||o.native)),!et)return o.fallback;const bt=et.skins[j-1]||et.skins[0],At=bt.src||(o.set!="native"&&!o.spritesheet?typeof o.getImageURL=="function"?o.getImageURL(o.set,bt.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${o.set}@15.0.1/img/${o.set}/64/${bt.unified}.png`:void 0),Et=typeof o.getSpritesheetURL=="function"?o.getSpritesheetURL(o.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${o.set}@15.0.1/img/${o.set}/sheets-256/64.png`;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:"emoji-mart-emoji","data-emoji-set":o.set,children:At?$bd9dd35321b03dd4$export$34b9dba7ce09269b("img",{style:{maxWidth:o.size||"1em",maxHeight:o.size||"1em",display:"inline-block"},alt:bt.native||bt.shortcodes,src:At}):o.set=="native"?$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{style:{fontSize:o.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:bt.native}):$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{style:{display:"block",width:o.size,height:o.size,backgroundImage:`url(${Et})`,backgroundSize:`${100*$7adb23b0109cc36a$export$2d0294657ab35f1b.sheet.cols}% ${100*$7adb23b0109cc36a$export$2d0294657ab35f1b.sheet.rows}%`,backgroundPosition:`${100/($7adb23b0109cc36a$export$2d0294657ab35f1b.sheet.cols-1)*bt.x}% ${100/($7adb23b0109cc36a$export$2d0294657ab35f1b.sheet.rows-1)*bt.y}%`}})})}const $6f57cc9cd54c5aaa$var$WindowHTMLElement=typeof window<"u"&&window.HTMLElement?window.HTMLElement:Object;class $6f57cc9cd54c5aaa$export$2e2bcd8739ae039 extends $6f57cc9cd54c5aaa$var$WindowHTMLElement{static get observedAttributes(){return Object.keys(this.Props)}update(s={}){for(let j in s)this.attributeChangedCallback(j,null,s[j])}attributeChangedCallback(s,j,et){if(!this.component)return;const bt=$7adb23b0109cc36a$export$88c9ddb45cea7241(s,{[s]:et},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[s]:bt}):(this.component.props[s]=bt,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(s={}){if(super(),this.props=s,s.parent||s.ref){let j=null;const et=s.parent||(j=s.ref&&s.ref.current);j&&(j.innerHTML=""),et&&et.appendChild(this)}}}class $26f27c338a96b1a6$export$2e2bcd8739ae039 extends $6f57cc9cd54c5aaa$export$2e2bcd8739ae039{setShadow(){this.attachShadow({mode:"open"})}injectStyles(s){if(!s)return;const j=document.createElement("style");j.textContent=s,this.shadowRoot.insertBefore(j,this.shadowRoot.firstChild)}constructor(s,{styles:j}={}){super(s),this.setShadow(),this.injectStyles(j)}}var $3d90f6e46fb2dd47$export$2e2bcd8739ae039={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:o=>/\D/.test(o)?o:`${o}px`},set:$b247ea80b67298d5$export$2e2bcd8739ae039.set,skin:$b247ea80b67298d5$export$2e2bcd8739ae039.skin};class $331b4160623139bf$export$2e2bcd8739ae039 extends $6f57cc9cd54c5aaa$export$2e2bcd8739ae039{async connectedCallback(){const s=$7adb23b0109cc36a$export$75fe5f91d452f94b(this.props,$3d90f6e46fb2dd47$export$2e2bcd8739ae039,this);s.element=this,s.ref=j=>{this.component=j},await $7adb23b0109cc36a$export$2cd8252107eb640b(),!this.disconnected&&$fb96b826c0c5f37a$export$b3890eb0ae9dca99($bd9dd35321b03dd4$export$34b9dba7ce09269b($254755d3f438722f$export$2e2bcd8739ae039,{...s}),this)}constructor(s){super(s)}}$c770c458706daa72$export$2e2bcd8739ae039($331b4160623139bf$export$2e2bcd8739ae039,"Props",$3d90f6e46fb2dd47$export$2e2bcd8739ae039);typeof customElements<"u"&&!customElements.get("em-emoji")&&customElements.define("em-emoji",$331b4160623139bf$export$2e2bcd8739ae039);var $1a9a8ef576b7773d$var$r,$1a9a8ef576b7773d$var$i=[],$1a9a8ef576b7773d$var$c=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b,$1a9a8ef576b7773d$var$f=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r,$1a9a8ef576b7773d$var$e=$fb96b826c0c5f37a$export$41c562ebe57d11e2.diffed,$1a9a8ef576b7773d$var$a=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__c,$1a9a8ef576b7773d$var$v=$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount;function $1a9a8ef576b7773d$var$x(){var o;for($1a9a8ef576b7773d$var$i.sort(function(s,j){return s.__v.__b-j.__v.__b});o=$1a9a8ef576b7773d$var$i.pop();)if(o.__P)try{o.__H.__h.forEach($1a9a8ef576b7773d$var$g),o.__H.__h.forEach($1a9a8ef576b7773d$var$j),o.__H.__h=[]}catch(s){o.__H.__h=[],$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(s,o.__v)}}$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b=function(o){$1a9a8ef576b7773d$var$c&&$1a9a8ef576b7773d$var$c(o)},$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r=function(o){$1a9a8ef576b7773d$var$f&&$1a9a8ef576b7773d$var$f(o);var s=o.__c.__H;s&&(s.__h.forEach($1a9a8ef576b7773d$var$g),s.__h.forEach($1a9a8ef576b7773d$var$j),s.__h=[])},$fb96b826c0c5f37a$export$41c562ebe57d11e2.diffed=function(o){$1a9a8ef576b7773d$var$e&&$1a9a8ef576b7773d$var$e(o);var s=o.__c;s&&s.__H&&s.__H.__h.length&&($1a9a8ef576b7773d$var$i.push(s)!==1&&$1a9a8ef576b7773d$var$r===$fb96b826c0c5f37a$export$41c562ebe57d11e2.requestAnimationFrame||(($1a9a8ef576b7773d$var$r=$fb96b826c0c5f37a$export$41c562ebe57d11e2.requestAnimationFrame)||function(j){var et,bt=function(){clearTimeout(At),$1a9a8ef576b7773d$var$b&&cancelAnimationFrame(et),setTimeout(j)},At=setTimeout(bt,100);$1a9a8ef576b7773d$var$b&&(et=requestAnimationFrame(bt))})($1a9a8ef576b7773d$var$x))},$fb96b826c0c5f37a$export$41c562ebe57d11e2.__c=function(o,s){s.some(function(j){try{j.__h.forEach($1a9a8ef576b7773d$var$g),j.__h=j.__h.filter(function(et){return!et.__||$1a9a8ef576b7773d$var$j(et)})}catch(et){s.some(function(bt){bt.__h&&(bt.__h=[])}),s=[],$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(et,j.__v)}}),$1a9a8ef576b7773d$var$a&&$1a9a8ef576b7773d$var$a(o,s)},$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount=function(o){$1a9a8ef576b7773d$var$v&&$1a9a8ef576b7773d$var$v(o);var s,j=o.__c;j&&j.__H&&(j.__H.__.forEach(function(et){try{$1a9a8ef576b7773d$var$g(et)}catch(bt){s=bt}}),s&&$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e(s,j.__v))};var $1a9a8ef576b7773d$var$b=typeof requestAnimationFrame=="function";function $1a9a8ef576b7773d$var$g(o){var s=o.__c;typeof s=="function"&&(o.__c=void 0,s())}function $1a9a8ef576b7773d$var$j(o){o.__c=o.__()}function $dc040a17866866fa$var$S(o,s){for(var j in s)o[j]=s[j];return o}function $dc040a17866866fa$var$C(o,s){for(var j in o)if(j!=="__source"&&!(j in s))return!0;for(var et in s)if(et!=="__source"&&o[et]!==s[et])return!0;return!1}function $dc040a17866866fa$export$221d75b3f55bb0bd(o){this.props=o}($dc040a17866866fa$export$221d75b3f55bb0bd.prototype=new $fb96b826c0c5f37a$export$16fa2f45be04daa8).isPureReactComponent=!0,$dc040a17866866fa$export$221d75b3f55bb0bd.prototype.shouldComponentUpdate=function(o,s){return $dc040a17866866fa$var$C(this.props,o)||$dc040a17866866fa$var$C(this.state,s)};var $dc040a17866866fa$var$w=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b;$fb96b826c0c5f37a$export$41c562ebe57d11e2.__b=function(o){o.type&&o.type.__f&&o.ref&&(o.props.ref=o.ref,o.ref=null),$dc040a17866866fa$var$w&&$dc040a17866866fa$var$w(o)};var $dc040a17866866fa$var$A=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e;$fb96b826c0c5f37a$export$41c562ebe57d11e2.__e=function(o,s,j){if(o.then){for(var et,bt=s;bt=bt.__;)if((et=bt.__c)&&et.__c)return s.__e==null&&(s.__e=j.__e,s.__k=j.__k),et.__c(o,s)}$dc040a17866866fa$var$A(o,s,j)};var $dc040a17866866fa$var$O=$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount;function $dc040a17866866fa$export$74bf444e3cd11ea5(){this.__u=0,this.t=null,this.__b=null}function $dc040a17866866fa$var$U(o){var s=o.__.__c;return s&&s.__e&&s.__e(o)}function $dc040a17866866fa$export$998bcd577473dd93(){this.u=null,this.o=null}$fb96b826c0c5f37a$export$41c562ebe57d11e2.unmount=function(o){var s=o.__c;s&&s.__R&&s.__R(),s&&o.__h===!0&&(o.type=null),$dc040a17866866fa$var$O&&$dc040a17866866fa$var$O(o)},($dc040a17866866fa$export$74bf444e3cd11ea5.prototype=new $fb96b826c0c5f37a$export$16fa2f45be04daa8).__c=function(o,s){var j=s.__c,et=this;et.t==null&&(et.t=[]),et.t.push(j);var bt=$dc040a17866866fa$var$U(et.__v),At=!1,Et=function(){At||(At=!0,j.__R=null,bt?bt(Ut):Ut())};j.__R=Et;var Ut=function(){if(!--et.__u){if(et.state.__e){var It=et.state.__e;et.__v.__k[0]=function Pt(Yt,cr,_r){return Yt&&(Yt.__v=null,Yt.__k=Yt.__k&&Yt.__k.map(function(vr){return Pt(vr,cr,_r)}),Yt.__c&&Yt.__c.__P===cr&&(Yt.__e&&_r.insertBefore(Yt.__e,Yt.__d),Yt.__c.__e=!0,Yt.__c.__P=_r)),Yt}(It,It.__c.__P,It.__c.__O)}var Qt;for(et.setState({__e:et.__b=null});Qt=et.t.pop();)Qt.forceUpdate()}},zt=s.__h===!0;et.__u++||zt||et.setState({__e:et.__b=et.__v.__k[0]}),o.then(Et,Et)},$dc040a17866866fa$export$74bf444e3cd11ea5.prototype.componentWillUnmount=function(){this.t=[]},$dc040a17866866fa$export$74bf444e3cd11ea5.prototype.render=function(o,s){if(this.__b){if(this.__v.__k){var j=document.createElement("div"),et=this.__v.__k[0].__c;this.__v.__k[0]=function At(Et,Ut,zt){return Et&&(Et.__c&&Et.__c.__H&&(Et.__c.__H.__.forEach(function(It){typeof It.__c=="function"&&It.__c()}),Et.__c.__H=null),(Et=$dc040a17866866fa$var$S({},Et)).__c!=null&&(Et.__c.__P===zt&&(Et.__c.__P=Ut),Et.__c=null),Et.__k=Et.__k&&Et.__k.map(function(It){return At(It,Ut,zt)})),Et}(this.__b,j,et.__O=et.__P)}this.__b=null}var bt=s.__e&&$fb96b826c0c5f37a$export$c8a8987d4410bf2d($fb96b826c0c5f37a$export$ffb0004e005737fa,null,o.fallback);return bt&&(bt.__h=null),[$fb96b826c0c5f37a$export$c8a8987d4410bf2d($fb96b826c0c5f37a$export$ffb0004e005737fa,null,s.__e?null:o.children),bt]};var $dc040a17866866fa$var$T=function(o,s,j){if(++j[1]===j[0]&&o.o.delete(s),o.props.revealOrder&&(o.props.revealOrder[0]!=="t"||!o.o.size))for(j=o.u;j;){for(;j.length>3;)j.pop()();if(j[1]<j[0])break;o.u=j=j[2]}};($dc040a17866866fa$export$998bcd577473dd93.prototype=new $fb96b826c0c5f37a$export$16fa2f45be04daa8).__e=function(o){var s=this,j=$dc040a17866866fa$var$U(s.__v),et=s.o.get(o);return et[0]++,function(bt){var At=function(){s.props.revealOrder?(et.push(bt),$dc040a17866866fa$var$T(s,o,et)):bt()};j?j(At):At()}},$dc040a17866866fa$export$998bcd577473dd93.prototype.render=function(o){this.u=null,this.o=new Map;var s=$fb96b826c0c5f37a$export$47e4c5b300681277(o.children);o.revealOrder&&o.revealOrder[0]==="b"&&s.reverse();for(var j=s.length;j--;)this.o.set(s[j],this.u=[1,0,this.u]);return o.children},$dc040a17866866fa$export$998bcd577473dd93.prototype.componentDidUpdate=$dc040a17866866fa$export$998bcd577473dd93.prototype.componentDidMount=function(){var o=this;this.o.forEach(function(s,j){$dc040a17866866fa$var$T(o,j,s)})};var $dc040a17866866fa$var$j=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,$dc040a17866866fa$var$P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$dc040a17866866fa$var$V=typeof document<"u",$dc040a17866866fa$var$z=function(o){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(o)};$fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(o){Object.defineProperty($fb96b826c0c5f37a$export$16fa2f45be04daa8.prototype,o,{configurable:!0,get:function(){return this["UNSAFE_"+o]},set:function(s){Object.defineProperty(this,o,{configurable:!0,writable:!0,value:s})}})});var $dc040a17866866fa$var$H=$fb96b826c0c5f37a$export$41c562ebe57d11e2.event;function $dc040a17866866fa$var$Z(){}function $dc040a17866866fa$var$Y(){return this.cancelBubble}function $dc040a17866866fa$var$q(){return this.defaultPrevented}$fb96b826c0c5f37a$export$41c562ebe57d11e2.event=function(o){return $dc040a17866866fa$var$H&&(o=$dc040a17866866fa$var$H(o)),o.persist=$dc040a17866866fa$var$Z,o.isPropagationStopped=$dc040a17866866fa$var$Y,o.isDefaultPrevented=$dc040a17866866fa$var$q,o.nativeEvent=o};var $dc040a17866866fa$var$J={configurable:!0,get:function(){return this.class}},$dc040a17866866fa$var$K=$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode;$fb96b826c0c5f37a$export$41c562ebe57d11e2.vnode=function(o){var s=o.type,j=o.props,et=j;if(typeof s=="string"){var bt=s.indexOf("-")===-1;for(var At in et={},j){var Et=j[At];$dc040a17866866fa$var$V&&At==="children"&&s==="noscript"||At==="value"&&"defaultValue"in j&&Et==null||(At==="defaultValue"&&"value"in j&&j.value==null?At="value":At==="download"&&Et===!0?Et="":/ondoubleclick/i.test(At)?At="ondblclick":/^onchange(textarea|input)/i.test(At+s)&&!$dc040a17866866fa$var$z(j.type)?At="oninput":/^onfocus$/i.test(At)?At="onfocusin":/^onblur$/i.test(At)?At="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(At)?At=At.toLowerCase():bt&&$dc040a17866866fa$var$P.test(At)?At=At.replace(/[A-Z0-9]/,"-$&").toLowerCase():Et===null&&(Et=void 0),et[At]=Et)}s=="select"&&et.multiple&&Array.isArray(et.value)&&(et.value=$fb96b826c0c5f37a$export$47e4c5b300681277(j.children).forEach(function(Ut){Ut.props.selected=et.value.indexOf(Ut.props.value)!=-1})),s=="select"&&et.defaultValue!=null&&(et.value=$fb96b826c0c5f37a$export$47e4c5b300681277(j.children).forEach(function(Ut){Ut.props.selected=et.multiple?et.defaultValue.indexOf(Ut.props.value)!=-1:et.defaultValue==Ut.props.value})),o.props=et,j.class!=j.className&&($dc040a17866866fa$var$J.enumerable="className"in j,j.className!=null&&(et.class=j.className),Object.defineProperty(et,"className",$dc040a17866866fa$var$J))}o.$$typeof=$dc040a17866866fa$var$j,$dc040a17866866fa$var$K&&$dc040a17866866fa$var$K(o)};var $dc040a17866866fa$var$Q=$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r;$fb96b826c0c5f37a$export$41c562ebe57d11e2.__r=function(o){$dc040a17866866fa$var$Q&&$dc040a17866866fa$var$Q(o),o.__c};const $ec8c39fdad15601a$var$THEME_ICONS={light:"outline",dark:"solid"};class $ec8c39fdad15601a$export$2e2bcd8739ae039 extends $dc040a17866866fa$export$221d75b3f55bb0bd{renderIcon(s){const{icon:j}=s;if(j){if(j.svg)return $bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:"flex",dangerouslySetInnerHTML:{__html:j.svg}});if(j.src)return $bd9dd35321b03dd4$export$34b9dba7ce09269b("img",{src:j.src})}const et=$fcccfb36ed0cde68$export$2e2bcd8739ae039.categories[s.id]||$fcccfb36ed0cde68$export$2e2bcd8739ae039.categories.custom,bt=this.props.icons=="auto"?$ec8c39fdad15601a$var$THEME_ICONS[this.props.theme]:this.props.icons;return et[bt]||et}render(){let s=null;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex relative",children:[this.categories.map((j,et)=>{const bt=j.name||$7adb23b0109cc36a$export$dbe3113d60765c1a.categories[j.id],At=!this.props.unfocused&&j.id==this.state.categoryId;return At&&(s=et),$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{"aria-label":bt,"aria-selected":At||void 0,title:bt,type:"button",class:"flex flex-grow flex-center",onMouseDown:Et=>Et.preventDefault(),onClick:()=>{this.props.onClick({category:j,i:et})},children:this.renderIcon(j)})}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"bar",style:{width:`${100/this.categories.length}%`,opacity:s==null?0:1,transform:this.props.dir==="rtl"?`scaleX(-1) translateX(${s*100}%)`:`translateX(${s*100}%)`}})]})})}constructor(){super(),this.categories=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.filter(s=>!s.target),this.state={categoryId:this.categories[0].id}}}class $e0d4dda61265ff1e$export$2e2bcd8739ae039 extends $dc040a17866866fa$export$221d75b3f55bb0bd{shouldComponentUpdate(s){for(let j in s)if(j!="children"&&s[j]!=this.props[j])return!0;return!1}render(){return this.props.children}}const $89bd6bb200cc8fef$var$Performance={rowsPerRender:10};class $89bd6bb200cc8fef$export$2e2bcd8739ae039 extends $fb96b826c0c5f37a$export$16fa2f45be04daa8{getInitialState(s=this.props){return{skin:$f72b75cf796873c7$export$2e2bcd8739ae039.get("skin")||s.skin,theme:this.initTheme(s.theme)}}componentWillMount(){this.dir=$7adb23b0109cc36a$export$dbe3113d60765c1a.rtl?"rtl":"ltr",this.refs={menu:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),navigation:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),scroll:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),search:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),searchInput:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),skinToneButton:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),skinToneRadio:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43()},this.initGrid(),this.props.stickySearch==!1&&this.props.searchPosition=="sticky"&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:s}=this.refs;s.current&&s.current.focus()}}componentWillReceiveProps(s){this.nextState||(this.nextState={});for(const j in s)this.nextState[j]=s[j];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout(()=>{let j=!1;for(const bt in this.nextState)this.props[bt]=this.nextState[bt],(bt==="custom"||bt==="categories")&&(j=!0);delete this.nextState;const et=this.getInitialState();if(j)return this.reset(et);this.setState(et)})}componentWillUnmount(){this.unregister()}async reset(s={}){await $7adb23b0109cc36a$export$2cd8252107eb640b(this.props),this.initGrid(),this.unobserve(),this.setState(s,()=>{this.observeCategories(),this.observeRows()})}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){var s;document.removeEventListener("click",this.handleClickOutside),(s=this.darkMedia)==null||s.removeEventListener("change",this.darkMediaCallback),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve({except:s=[]}={}){Array.isArray(s)||(s=[s]);for(const j of this.observers)s.includes(j)||j.disconnect();this.observers=[].concat(s)}initGrid(){const{categories:s}=$7adb23b0109cc36a$export$2d0294657ab35f1b;this.refs.categories=new Map;const j=$7adb23b0109cc36a$export$2d0294657ab35f1b.categories.map(bt=>bt.id).join(",");this.navKey&&this.navKey!=j&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=j,this.grid=[],this.grid.setsize=0;const et=(bt,At)=>{const Et=[];Et.__categoryId=At.id,Et.__index=bt.length,this.grid.push(Et);const Ut=this.grid.length-1,zt=Ut%$89bd6bb200cc8fef$var$Performance.rowsPerRender?{}:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43();return zt.index=Ut,zt.posinset=this.grid.setsize+1,bt.push(zt),Et};for(let bt of s){const At=[];let Et=et(At,bt);for(let Ut of bt.emojis)Et.length==this.getPerLine()&&(Et=et(At,bt)),this.grid.setsize+=1,Et.push(Ut);this.refs.categories.set(bt.id,{root:$fb96b826c0c5f37a$export$7d1e3a5e95ceca43(),rows:At})}}initTheme(s){if(s!="auto")return s;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}initDynamicPerLine(s=this.props){if(!s.dynamicWidth)return;const{element:j,emojiButtonSize:et}=s,bt=()=>{const{width:Et}=j.getBoundingClientRect();return Math.floor(Et/et)},At=new ResizeObserver(()=>{this.unobserve({except:At}),this.setState({perLine:bt()},()=>{this.initGrid(),this.forceUpdate(()=>{this.observeCategories(),this.observeRows()})})});return At.observe(j),this.observers.push(At),bt()}getPerLine(){return this.state.perLine||this.props.perLine}getEmojiByPos([s,j]){const et=this.state.searchResults||this.grid,bt=et[s]&&et[s][j];if(bt)return $c4d155af13ad4d4b$export$2e2bcd8739ae039.get(bt)}observeCategories(){const s=this.refs.navigation.current;if(!s)return;const j=new Map,et=Et=>{Et!=s.state.categoryId&&s.setState({categoryId:Et})},bt={root:this.refs.scroll.current,threshold:[0,1]},At=new IntersectionObserver(Et=>{for(const zt of Et){const It=zt.target.dataset.id;j.set(It,zt.intersectionRatio)}const Ut=[...j];for(const[zt,It]of Ut)if(It){et(zt);break}},bt);for(const{root:Et}of this.refs.categories.values())At.observe(Et.current);this.observers.push(At)}observeRows(){const s={...this.state.visibleRows},j=new IntersectionObserver(et=>{for(const bt of et){const At=parseInt(bt.target.dataset.index);bt.isIntersecting?s[At]=!0:delete s[At]}this.setState({visibleRows:s})},{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*($89bd6bb200cc8fef$var$Performance.rowsPerRender+5)}px 0px ${this.props.emojiButtonSize*$89bd6bb200cc8fef$var$Performance.rowsPerRender}px`});for(const{rows:et}of this.refs.categories.values())for(const bt of et)bt.current&&j.observe(bt.current);this.observers.push(j)}preventDefault(s){s.preventDefault()}unfocusSearch(){const s=this.refs.searchInput.current;s&&s.blur()}navigate({e:s,input:j,left:et,right:bt,up:At,down:Et}){const Ut=this.state.searchResults||this.grid;if(!Ut.length)return;let[zt,It]=this.state.pos;const Qt=(()=>{if(zt==0&&It==0&&!s.repeat&&(et||At))return null;if(zt==-1)return!s.repeat&&(bt||Et)&&j.selectionStart==j.value.length?[0,0]:null;if(et||bt){let Pt=Ut[zt];const Yt=et?-1:1;if(It+=Yt,!Pt[It]){if(zt+=Yt,Pt=Ut[zt],!Pt)return zt=et?0:Ut.length-1,It=et?0:Ut[zt].length-1,[zt,It];It=et?Pt.length-1:0}return[zt,It]}if(At||Et){zt+=At?-1:1;const Pt=Ut[zt];return Pt?(Pt[It]||(It=Pt.length-1),[zt,It]):(zt=At?0:Ut.length-1,It=At?0:Ut[zt].length-1,[zt,It])}})();if(Qt)s.preventDefault();else{this.state.pos[0]>-1&&this.setState({pos:[-1,-1]});return}this.setState({pos:Qt,keyboard:!0},()=>{this.scrollTo({row:Qt[0]})})}scrollTo({categoryId:s,row:j}){const et=this.state.searchResults||this.grid;if(!et.length)return;const bt=this.refs.scroll.current,At=bt.getBoundingClientRect();let Et=0;if(j>=0&&(s=et[j].__categoryId),s&&(Et=(this.refs[s]||this.refs.categories.get(s).root).current.getBoundingClientRect().top-(At.top-bt.scrollTop)+1),j>=0)if(!j)Et=0;else{const Ut=et[j].__index,zt=Et+Ut*this.props.emojiButtonSize,It=zt+this.props.emojiButtonSize+this.props.emojiButtonSize*.88;if(zt<bt.scrollTop)Et=zt;else if(It>bt.scrollTop+At.height)Et=It-At.height;else return}this.ignoreMouse(),bt.scrollTop=Et}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout(()=>{delete this.mouseIsIgnored},100)}handleEmojiOver(s){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:s||[-1,-1],keyboard:!1})}handleEmojiClick({e:s,emoji:j,pos:et}){if(this.props.onEmojiSelect&&(!j&&et&&(j=this.getEmojiByPos(et)),j)){const bt=$693b183b0a78708f$export$d10ac59fbe52a745(j,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&$b22cfd0a55410b4f$export$2e2bcd8739ae039.add(bt,this.props),this.props.onEmojiSelect(bt,s)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(s){this.setState({tempSkin:s})}handleSkinClick(s){this.ignoreMouse(),this.closeSkins(),this.setState({skin:s,tempSkin:null}),$f72b75cf796873c7$export$2e2bcd8739ae039.set("skin",s)}renderNav(){return $bd9dd35321b03dd4$export$34b9dba7ce09269b($ec8c39fdad15601a$export$2e2bcd8739ae039,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const s=this.getEmojiByPos(this.state.pos),j=this.state.searchResults&&!this.state.searchResults.length;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex flex-middle flex-grow",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:$bd9dd35321b03dd4$export$34b9dba7ce09269b($254755d3f438722f$export$2e2bcd8739ae039,{emoji:s,id:j?this.props.noResultsEmoji||"cry":this.props.previewEmoji||(this.props.previewPosition=="top"?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`margin-${this.dir[0]}`,children:s||j?$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"preview-title ellipsis",children:s?s.name:$7adb23b0109cc36a$export$dbe3113d60765c1a.search_no_results_1}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"preview-subtitle ellipsis color-c",children:s?s.skins[0].shortcodes:$7adb23b0109cc36a$export$dbe3113d60765c1a.search_no_results_2})]}):$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"preview-placeholder color-c",children:$7adb23b0109cc36a$export$dbe3113d60765c1a.pick})})]}),!s&&this.props.skinTonePosition=="preview"&&this.renderSkinToneButton()]})}renderEmojiButton(s,{pos:j,posinset:et,grid:bt}){const At=this.props.emojiButtonSize,Et=this.state.tempSkin||this.state.skin,zt=(s.skins[Et-1]||s.skins[0]).native,It=$693b183b0a78708f$export$9cb4719e2e525b7a(this.state.pos,j),Qt=j.concat(s.id).join("");return $bd9dd35321b03dd4$export$34b9dba7ce09269b($e0d4dda61265ff1e$export$2e2bcd8739ae039,{selected:It,skin:Et,size:At,children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{"aria-label":zt,"aria-selected":It||void 0,"aria-posinset":et,"aria-setsize":bt.setsize,"data-keyboard":this.state.keyboard,title:this.props.previewPosition=="none"?s.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:Pt=>this.handleEmojiClick({e:Pt,emoji:s}),onMouseEnter:()=>this.handleEmojiOver(j),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(et-1)%this.props.emojiButtonColors.length]:void 0}}),$bd9dd35321b03dd4$export$34b9dba7ce09269b($254755d3f438722f$export$2e2bcd8739ae039,{emoji:s,set:this.props.set,size:this.props.emojiSize,skin:Et,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},Qt)}renderSearch(){const s=this.props.previewPosition=="none"||this.props.skinTonePosition=="search";return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"spacer"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex flex-middle",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"search relative flex-grow",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("input",{type:"search",ref:this.refs.searchInput,placeholder:$7adb23b0109cc36a$export$dbe3113d60765c1a.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:"icon loupe flex",children:$fcccfb36ed0cde68$export$2e2bcd8739ae039.search.loupe}),this.state.searchResults&&$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:$fcccfb36ed0cde68$export$2e2bcd8739ae039.search.delete})]}),s&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:s}=this.state;return s?$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"category",ref:this.refs.search,children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`sticky padding-small align-${this.dir[0]}`,children:$7adb23b0109cc36a$export$dbe3113d60765c1a.categories.search}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{children:s.length?s.map((j,et)=>$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex",children:j.map((bt,At)=>this.renderEmojiButton(bt,{pos:[et,At],posinset:et*this.props.perLine+At+1,grid:s}))})):$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&$bd9dd35321b03dd4$export$34b9dba7ce09269b("a",{onClick:this.props.onAddCustomEmoji,children:$7adb23b0109cc36a$export$dbe3113d60765c1a.add_custom})})})]}):null}renderCategories(){const{categories:s}=$7adb23b0109cc36a$export$2d0294657ab35f1b,j=!!this.state.searchResults,et=this.getPerLine();return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{style:{visibility:j?"hidden":void 0,display:j?"none":void 0,height:"100%"},children:s.map(bt=>{const{root:At,rows:Et}=this.refs.categories.get(bt.id);return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{"data-id":bt.target?bt.target.id:bt.id,class:"category",ref:At,children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:`sticky padding-small align-${this.dir[0]}`,children:bt.name||$7adb23b0109cc36a$export$dbe3113d60765c1a.categories[bt.id]}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"relative",style:{height:Et.length*this.props.emojiButtonSize},children:Et.map((Ut,zt)=>{const It=Ut.index-Ut.index%$89bd6bb200cc8fef$var$Performance.rowsPerRender,Qt=this.state.visibleRows[It],Pt="current"in Ut?Ut:void 0;if(!Qt&&!Pt)return null;const Yt=zt*et,cr=Yt+et,_r=bt.emojis.slice(Yt,cr);return _r.length<et&&_r.push(...new Array(et-_r.length)),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{"data-index":Ut.index,ref:Pt,class:"flex row",style:{top:zt*this.props.emojiButtonSize},children:Qt&&_r.map((vr,Yr)=>{if(!vr)return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize}});const Kr=$c4d155af13ad4d4b$export$2e2bcd8739ae039.get(vr);return this.renderEmojiButton(Kr,{pos:[Ut.index,Yr],posinset:Ut.posinset+Yr,grid:this.grid})})},Ut.index)})})]})})})}renderSkinToneButton(){return this.props.skinTonePosition=="none"?null:$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":$7adb23b0109cc36a$export$dbe3113d60765c1a.skins.choose,title:$7adb23b0109cc36a$export$dbe3113d60765c1a.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const s=this.getEmojiByPos(this.state.pos),j=s?s.name:"";return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{"aria-live":"polite",class:"sr-only",children:j})}renderSkins(){const j=this.refs.skinToneButton.current.getBoundingClientRect(),et=this.base.getBoundingClientRect(),bt={};return this.dir=="ltr"?bt.right=et.right-j.right-3:bt.left=j.left-et.left-3,this.props.previewPosition=="bottom"&&this.props.skinTonePosition=="preview"?bt.bottom=et.bottom-j.top+6:(bt.top=j.bottom-et.top+3,bt.bottom="auto"),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":$7adb23b0109cc36a$export$dbe3113d60765c1a.skins.choose,class:"menu hidden","data-position":bt.top?"top":"bottom",style:bt,children:[...Array(6).keys()].map(At=>{const Et=At+1,Ut=this.state.skin==Et;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("input",{type:"radio",name:"skin-tone",value:Et,"aria-label":$7adb23b0109cc36a$export$dbe3113d60765c1a.skins[Et],ref:Ut?this.refs.skinToneRadio:null,defaultChecked:Ut,onChange:()=>this.handleSkinMouseOver(Et),onKeyDown:zt=>{(zt.code=="Enter"||zt.code=="Space"||zt.code=="Tab")&&(zt.preventDefault(),this.handleSkinClick(Et))}}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(Et),onMouseEnter:()=>this.handleSkinMouseOver(Et),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:`skin-tone skin-tone-${Et}`}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("span",{class:"margin-small-lr",children:$7adb23b0109cc36a$export$dbe3113d60765c1a.skins[Et]})]})]})})})}render(){const s=this.props.perLine*this.props.emojiButtonSize;return $bd9dd35321b03dd4$export$34b9dba7ce09269b("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":`calc(${s}px + (var(--padding) + var(--sidebar-width)))`},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:[this.props.previewPosition=="top"&&this.renderPreview(),this.props.navPosition=="top"&&this.renderNav(),this.props.searchPosition=="sticky"&&$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{class:"padding-lr",children:this.renderSearch()}),$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:$bd9dd35321b03dd4$export$34b9dba7ce09269b("div",{style:{width:this.props.dynamicWidth?"100%":s,height:"100%"},children:[this.props.searchPosition=="static"&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),this.props.navPosition=="bottom"&&this.renderNav(),this.props.previewPosition=="bottom"&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(s){super(),$c770c458706daa72$export$2e2bcd8739ae039(this,"darkMediaCallback",()=>{this.props.theme=="auto"&&this.setState({theme:this.darkMedia.matches?"dark":"light"})}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleClickOutside",j=>{const{element:et}=this.props;j.target!=et&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside(j))}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleBaseClick",j=>{this.state.showSkins&&(j.target.closest(".menu")||(j.preventDefault(),j.stopImmediatePropagation(),this.closeSkins()))}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleBaseKeydown",j=>{this.state.showSkins&&j.key=="Escape"&&(j.preventDefault(),j.stopImmediatePropagation(),this.closeSkins())}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleSearchClick",()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleSearchInput",async()=>{const j=this.refs.searchInput.current;if(!j)return;const{value:et}=j,bt=await $c4d155af13ad4d4b$export$2e2bcd8739ae039.search(et),At=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!bt)return this.setState({searchResults:bt,pos:[-1,-1]},At);const Et=j.selectionStart==j.value.length?[0,0]:[-1,-1],Ut=[];Ut.setsize=bt.length;let zt=null;for(let It of bt)(!Ut.length||zt.length==this.getPerLine())&&(zt=[],zt.__categoryId="search",zt.__index=Ut.length,Ut.push(zt)),zt.push(It);this.ignoreMouse(),this.setState({searchResults:Ut,pos:Et},At)}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleSearchKeyDown",j=>{const et=j.currentTarget;switch(j.stopImmediatePropagation(),j.key){case"ArrowLeft":this.navigate({e:j,input:et,left:!0});break;case"ArrowRight":this.navigate({e:j,input:et,right:!0});break;case"ArrowUp":this.navigate({e:j,input:et,up:!0});break;case"ArrowDown":this.navigate({e:j,input:et,down:!0});break;case"Enter":j.preventDefault(),this.handleEmojiClick({e:j,pos:this.state.pos});break;case"Escape":j.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch();break}}),$c770c458706daa72$export$2e2bcd8739ae039(this,"clearSearch",()=>{const j=this.refs.searchInput.current;j&&(j.value="",j.focus(),this.handleSearchInput())}),$c770c458706daa72$export$2e2bcd8739ae039(this,"handleCategoryClick",({category:j,i:et})=>{this.scrollTo(et==0?{row:-1}:{categoryId:j.id})}),$c770c458706daa72$export$2e2bcd8739ae039(this,"openSkins",j=>{const{currentTarget:et}=j,bt=et.getBoundingClientRect();this.setState({showSkins:bt},async()=>{await $693b183b0a78708f$export$e772c8ff12451969(2);const At=this.refs.menu.current;At&&(At.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))})}),this.observers=[],this.state={pos:[-1,-1],perLine:this.initDynamicPerLine(s),visibleRows:{0:!0},...this.getInitialState(s)}}}class $efa000751917694d$export$2e2bcd8739ae039 extends $26f27c338a96b1a6$export$2e2bcd8739ae039{async connectedCallback(){const s=$7adb23b0109cc36a$export$75fe5f91d452f94b(this.props,$b247ea80b67298d5$export$2e2bcd8739ae039,this);s.element=this,s.ref=j=>{this.component=j},await $7adb23b0109cc36a$export$2cd8252107eb640b(s),!this.disconnected&&$fb96b826c0c5f37a$export$b3890eb0ae9dca99($bd9dd35321b03dd4$export$34b9dba7ce09269b($89bd6bb200cc8fef$export$2e2bcd8739ae039,{...s}),this.shadowRoot)}constructor(s){super(s,{styles:$parcel$interopDefault($329d53ba9fd7125f$exports)})}}$c770c458706daa72$export$2e2bcd8739ae039($efa000751917694d$export$2e2bcd8739ae039,"Props",$b247ea80b67298d5$export$2e2bcd8739ae039);typeof customElements<"u"&&!customElements.get("em-emoji-picker")&&customElements.define("em-emoji-picker",$efa000751917694d$export$2e2bcd8739ae039);var $329d53ba9fd7125f$exports={};$329d53ba9fd7125f$exports=`:host {
  width: min-content;
  height: 435px;
  min-height: 230px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  --border-radius: 10px;
  --category-icon-size: 18px;
  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  --font-size: 15px;
  --preview-placeholder-size: 21px;
  --preview-title-size: 1.1em;
  --preview-subtitle-size: .9em;
  --shadow-color: 0deg 0% 0%;
  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);
  display: flex;
}

[data-theme="light"] {
  --em-rgb-color: var(--rgb-color, 34, 36, 39);
  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);
  --em-rgb-background: var(--rgb-background, 255, 255, 255);
  --em-rgb-input: var(--rgb-input, 255, 255, 255);
  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));
  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));
}

[data-theme="dark"] {
  --em-rgb-color: var(--rgb-color, 222, 222, 221);
  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);
  --em-rgb-background: var(--rgb-background, 21, 22, 23);
  --em-rgb-input: var(--rgb-input, 0, 0, 0);
  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));
  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));
}

#root {
  --color-a: rgb(var(--em-rgb-color));
  --color-b: rgba(var(--em-rgb-color), .65);
  --color-c: rgba(var(--em-rgb-color), .45);
  --padding: 12px;
  --padding-small: calc(var(--padding) / 2);
  --sidebar-width: 16px;
  --duration: 225ms;
  --duration-fast: 125ms;
  --duration-instant: 50ms;
  --easing: cubic-bezier(.4, 0, .2, 1);
  width: 100%;
  text-align: left;
  border-radius: var(--border-radius);
  background-color: rgb(var(--em-rgb-background));
  position: relative;
}

@media (prefers-reduced-motion) {
  #root {
    --duration: 0;
    --duration-fast: 0;
    --duration-instant: 0;
  }
}

#root[data-menu] button {
  cursor: auto;
}

#root[data-menu] .menu button {
  cursor: pointer;
}

:host, #root, input, button {
  color: rgb(var(--em-rgb-color));
  font-family: var(--font-family);
  font-size: var(--font-size);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: normal;
}

*, :before, :after {
  box-sizing: border-box;
  min-width: 0;
  margin: 0;
  padding: 0;
}

.relative {
  position: relative;
}

.flex {
  display: flex;
}

.flex-auto {
  flex: none;
}

.flex-center {
  justify-content: center;
}

.flex-column {
  flex-direction: column;
}

.flex-grow {
  flex: auto;
}

.flex-middle {
  align-items: center;
}

.flex-wrap {
  flex-wrap: wrap;
}

.padding {
  padding: var(--padding);
}

.padding-t {
  padding-top: var(--padding);
}

.padding-lr {
  padding-left: var(--padding);
  padding-right: var(--padding);
}

.padding-r {
  padding-right: var(--padding);
}

.padding-small {
  padding: var(--padding-small);
}

.padding-small-b {
  padding-bottom: var(--padding-small);
}

.padding-small-lr {
  padding-left: var(--padding-small);
  padding-right: var(--padding-small);
}

.margin {
  margin: var(--padding);
}

.margin-r {
  margin-right: var(--padding);
}

.margin-l {
  margin-left: var(--padding);
}

.margin-small-l {
  margin-left: var(--padding-small);
}

.margin-small-lr {
  margin-left: var(--padding-small);
  margin-right: var(--padding-small);
}

.align-l {
  text-align: left;
}

.align-r {
  text-align: right;
}

.color-a {
  color: var(--color-a);
}

.color-b {
  color: var(--color-b);
}

.color-c {
  color: var(--color-c);
}

.ellipsis {
  white-space: nowrap;
  max-width: 100%;
  width: auto;
  text-overflow: ellipsis;
  overflow: hidden;
}

.sr-only {
  width: 1px;
  height: 1px;
  position: absolute;
  top: auto;
  left: -10000px;
  overflow: hidden;
}

a {
  cursor: pointer;
  color: rgb(var(--em-rgb-accent));
}

a:hover {
  text-decoration: underline;
}

.spacer {
  height: 10px;
}

[dir="rtl"] .scroll {
  padding-left: 0;
  padding-right: var(--padding);
}

.scroll {
  padding-right: 0;
  overflow-x: hidden;
  overflow-y: auto;
}

.scroll::-webkit-scrollbar {
  width: var(--sidebar-width);
  height: var(--sidebar-width);
}

.scroll::-webkit-scrollbar-track {
  border: 0;
}

.scroll::-webkit-scrollbar-button {
  width: 0;
  height: 0;
  display: none;
}

.scroll::-webkit-scrollbar-corner {
  background-color: rgba(0, 0, 0, 0);
}

.scroll::-webkit-scrollbar-thumb {
  min-height: 20%;
  min-height: 65px;
  border: 4px solid rgb(var(--em-rgb-background));
  border-radius: 8px;
}

.scroll::-webkit-scrollbar-thumb:hover {
  background-color: var(--em-color-border-over) !important;
}

.scroll:hover::-webkit-scrollbar-thumb {
  background-color: var(--em-color-border);
}

.sticky {
  z-index: 1;
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  font-weight: 500;
  position: sticky;
  top: -1px;
}

[dir="rtl"] .search input[type="search"] {
  padding: 10px 2.2em 10px 2em;
}

[dir="rtl"] .search .loupe {
  left: auto;
  right: .7em;
}

[dir="rtl"] .search .delete {
  left: .7em;
  right: auto;
}

.search {
  z-index: 2;
  position: relative;
}

.search input, .search button {
  font-size: calc(var(--font-size)  - 1px);
}

.search input[type="search"] {
  width: 100%;
  background-color: var(--em-color-border);
  transition-duration: var(--duration);
  transition-property: background-color, box-shadow;
  transition-timing-function: var(--easing);
  border: 0;
  border-radius: 10px;
  outline: 0;
  padding: 10px 2em 10px 2.2em;
  display: block;
}

.search input[type="search"]::-ms-input-placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"]::placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
}

.search input[type="search"]:focus {
  background-color: rgb(var(--em-rgb-input));
  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);
}

.search .icon {
  z-index: 1;
  color: rgba(var(--em-rgb-color), .7);
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.search .loupe {
  pointer-events: none;
  left: .7em;
}

.search .delete {
  right: .7em;
}

svg {
  fill: currentColor;
  width: 1em;
  height: 1em;
}

button {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
  cursor: pointer;
  color: currentColor;
  background-color: rgba(0, 0, 0, 0);
  border: 0;
}

#nav {
  z-index: 2;
  padding-top: 12px;
  padding-bottom: 12px;
  padding-right: var(--sidebar-width);
  position: relative;
}

#nav button {
  color: var(--color-b);
  transition: color var(--duration) var(--easing);
}

#nav button:hover {
  color: var(--color-a);
}

#nav svg, #nav img {
  width: var(--category-icon-size);
  height: var(--category-icon-size);
}

#nav[dir="rtl"] .bar {
  left: auto;
  right: 0;
}

#nav .bar {
  width: 100%;
  height: 3px;
  background-color: rgb(var(--em-rgb-accent));
  transition: transform var(--duration) var(--easing);
  border-radius: 3px 3px 0 0;
  position: absolute;
  bottom: -12px;
  left: 0;
}

#nav button[aria-selected] {
  color: rgb(var(--em-rgb-accent));
}

#preview {
  z-index: 2;
  padding: calc(var(--padding)  + 4px) var(--padding);
  padding-right: var(--sidebar-width);
  position: relative;
}

#preview .preview-placeholder {
  font-size: var(--preview-placeholder-size);
}

#preview .preview-title {
  font-size: var(--preview-title-size);
}

#preview .preview-subtitle {
  font-size: var(--preview-subtitle-size);
}

#nav:before, #preview:before {
  content: "";
  height: 2px;
  position: absolute;
  left: 0;
  right: 0;
}

#nav[data-position="top"]:before, #preview[data-position="top"]:before {
  background: linear-gradient(to bottom, var(--em-color-border), transparent);
  top: 100%;
}

#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {
  background: linear-gradient(to top, var(--em-color-border), transparent);
  bottom: 100%;
}

.category:last-child {
  min-height: calc(100% + 1px);
}

.category button {
  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;
  position: relative;
}

.category button > * {
  position: relative;
}

.category button .background {
  opacity: 0;
  background-color: var(--em-color-border);
  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

.category button:hover .background {
  transition-duration: var(--duration-instant);
  transition-delay: 0s;
}

.category button[aria-selected] .background {
  opacity: 1;
}

.category button[data-keyboard] .background {
  transition: none;
}

.row {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.skin-tone-button {
  border: 1px solid rgba(0, 0, 0, 0);
  border-radius: 100%;
}

.skin-tone-button:hover {
  border-color: var(--em-color-border);
}

.skin-tone-button:active .skin-tone {
  transform: scale(.85) !important;
}

.skin-tone-button .skin-tone {
  transition: transform var(--duration) var(--easing);
}

.skin-tone-button[aria-selected] {
  background-color: var(--em-color-border);
  border-top-color: rgba(0, 0, 0, .05);
  border-bottom-color: rgba(0, 0, 0, 0);
  border-left-width: 0;
  border-right-width: 0;
}

.skin-tone-button[aria-selected] .skin-tone {
  transform: scale(.9);
}

.menu {
  z-index: 2;
  white-space: nowrap;
  border: 1px solid var(--em-color-border);
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  transition-property: opacity, transform;
  transition-duration: var(--duration);
  transition-timing-function: var(--easing);
  border-radius: 10px;
  padding: 4px;
  position: absolute;
  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);
}

.menu.hidden {
  opacity: 0;
}

.menu[data-position="bottom"] {
  transform-origin: 100% 100%;
}

.menu[data-position="bottom"].hidden {
  transform: scale(.9)rotate(-3deg)translateY(5%);
}

.menu[data-position="top"] {
  transform-origin: 100% 0;
}

.menu[data-position="top"].hidden {
  transform: scale(.9)rotate(3deg)translateY(-5%);
}

.menu input[type="radio"] {
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  border: 0;
  margin: 0;
  padding: 0;
  position: absolute;
  overflow: hidden;
}

.menu input[type="radio"]:checked + .option {
  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));
}

.option {
  width: 100%;
  border-radius: 6px;
  padding: 4px 6px;
}

.option:hover {
  color: #fff;
  background-color: rgb(var(--em-rgb-accent));
}

.skin-tone {
  width: 16px;
  height: 16px;
  border-radius: 100%;
  display: inline-block;
  position: relative;
  overflow: hidden;
}

.skin-tone:after {
  content: "";
  mix-blend-mode: overlay;
  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));
  border: 1px solid rgba(0, 0, 0, .8);
  border-radius: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;
}

.skin-tone-1 {
  background-color: #ffc93a;
}

.skin-tone-2 {
  background-color: #ffdab7;
}

.skin-tone-3 {
  background-color: #e7b98f;
}

.skin-tone-4 {
  background-color: #c88c61;
}

.skin-tone-5 {
  background-color: #a46134;
}

.skin-tone-6 {
  background-color: #5d4437;
}

[data-index] {
  justify-content: space-between;
}

[data-emoji-set="twitter"] .skin-tone:after {
  box-shadow: none;
  border-color: rgba(0, 0, 0, .5);
}

[data-emoji-set="twitter"] .skin-tone-1 {
  background-color: #fade72;
}

[data-emoji-set="twitter"] .skin-tone-2 {
  background-color: #f3dfd0;
}

[data-emoji-set="twitter"] .skin-tone-3 {
  background-color: #eed3a8;
}

[data-emoji-set="twitter"] .skin-tone-4 {
  background-color: #cfad8d;
}

[data-emoji-set="twitter"] .skin-tone-5 {
  background-color: #a8805d;
}

[data-emoji-set="twitter"] .skin-tone-6 {
  background-color: #765542;
}

[data-emoji-set="google"] .skin-tone:after {
  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);
}

[data-emoji-set="google"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="google"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="google"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="google"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="google"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="google"] .skin-tone-6 {
  background-color: #61493f;
}

[data-emoji-set="facebook"] .skin-tone:after {
  border-color: rgba(0, 0, 0, .4);
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;
}

[data-emoji-set="facebook"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="facebook"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="facebook"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="facebook"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="facebook"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="facebook"] .skin-tone-6 {
  background-color: #61493f;
}

`;function $e5534fc185f7111e$export$2e2bcd8739ae039(o){const s=reactExports.useRef(null),j=reactExports.useRef(null);return j.current&&j.current.update(o),reactExports.useEffect(()=>(j.current=new $efa000751917694d$export$2e2bcd8739ae039({...o,ref:s}),()=>{j.current=null}),[]),React$1.createElement("div",{ref:s})}const Panel=()=>{const[o,s]=reactExports.useState(!1),j=reactExports.useRef(null),et=reactExports.useRef(null),{id:bt,layers:At,addLayer:Et,isCrop:Ut,toggleCrop:zt,selectedLayerId:It,cleanLayerBg:Qt,outlineLayer:Pt,emoji:Yt,setEmoji:cr}=reactExports.useContext(EditorContext),_r=reactExports.useCallback(()=>{var jr;(jr=et.current)==null||jr.click()},[et]),vr=reactExports.useCallback(()=>{var jr,Hn;(jr=et.current)!=null&&jr.files&&Promise.all(Array.from((Hn=et.current)==null?void 0:Hn.files).map(tA=>{const nA=new FileReader;return new Promise(aA=>{var lA;nA.onload=function(){aA(nA.result)},(lA=et.current)!=null&&lA.files&&nA.readAsDataURL(tA)})})).then(tA=>{tA.map(nA=>Et(nA)),et.current.value=""})},[Et]),Yr=reactExports.useCallback(()=>{getImageFromLayers(At).then(jr=>{const Hn=atob(jr.split(",")[1]),tA=jr.split(",")[0].split(":")[1].split(";")[0],nA=new ArrayBuffer(Hn.length),aA=new Uint8Array(nA);for(let hA=0;hA<Hn.length;hA++)aA[hA]=Hn.charCodeAt(hA);const lA=new Blob([nA],{type:tA});FileSaver_minExports.saveAs(lA,`${bt}.png`)})},[At,bt]),Kr=reactExports.useCallback(jr=>{cr(jr),s(!1)},[cr]);return jsxRuntimeExports.jsxs(Paper$1,{sx:{display:"flex",gap:1,zIndex:10},children:[jsxRuntimeExports.jsx(IconButton$1,{ref:j,onClick:()=>s(!0),children:jsxRuntimeExports.jsx(Typography$1,{variant:"h6",children:Yt})}),jsxRuntimeExports.jsx(Menu$1,{open:o,onClose:()=>s(!1),anchorEl:j.current,sx:{ml:4},children:jsxRuntimeExports.jsx($e5534fc185f7111e$export$2e2bcd8739ae039,{data:$7adb23b0109cc36a$export$2d0294657ab35f1b,onEmojiSelect:jr=>Kr(jr.native)})}),jsxRuntimeExports.jsxs(IconButton$1,{onClick:_r,children:[jsxRuntimeExports.jsx("input",{hidden:!0,multiple:!0,type:"file",ref:et,onChange:vr,accept:".jpg,.jpeg,.png,.webp"}),jsxRuntimeExports.jsx(AddPhotoAlternateIcon,{})]}),jsxRuntimeExports.jsx(IconButton$1,{sx:{background:Ut?"#777":"none"},disabled:It==="",onClick:zt,children:jsxRuntimeExports.jsx(CropIcon,{})}),jsxRuntimeExports.jsx(IconButton$1,{disabled:It==="",onClick:()=>Qt(It),children:jsxRuntimeExports.jsx(CleaningServicesIcon,{})}),jsxRuntimeExports.jsx(IconButton$1,{disabled:It==="",onClick:()=>Pt("white",10,It),children:jsxRuntimeExports.jsx(FormatPaintIcon,{})}),jsxRuntimeExports.jsx(IconButton$1,{onClick:Yr,children:jsxRuntimeExports.jsx(DownloadIcon,{})})]})},Image$1=({layer:o})=>{const[s,j]=reactExports.useState(o),{updateLayer:et,selectedLayerId:bt,setSelectedLayerId:At,layerIdInBgRemoval:Et,isCrop:Ut}=reactExports.useContext(EditorContext),zt=reactExports.useRef(null),It=reactExports.useRef(null),Qt=reactExports.useMemo(()=>bt===o.id,[bt,o.id]),Pt=reactExports.useMemo(()=>Et.includes(o.id),[Et,o.id]),Yt=reactExports.useCallback(vr=>Yr=>{var Kr;Yr.stopPropagation(),(Kr=zt.current)==null||Kr.setPointerCapture(Yr.pointerId),It.current=vr,console.log(`${vr} capturing`)},[]),cr=reactExports.useCallback(vr=>{var Yr,Kr,jr;if(vr.stopPropagation(),vr.pressure===0&&It.current){console.log(`${It.current} release`),(Yr=zt.current)==null||Yr.releasePointerCapture(vr.pointerId),It.current=null,et(s);return}It.current==="translate"?j(Hn=>({...Hn,...translateLayer(Hn,vr.movementX,vr.movementY)})):(Kr=It.current)!=null&&Kr.startsWith("resize")?j(Hn=>({...Hn,...resizeLayer(Hn,vr.movementX,vr.movementY,It.current)})):It.current==="crop-translate"?j(Hn=>({...Hn,...cropTranslate(Hn,vr.movementX,vr.movementY)})):(jr=It.current)!=null&&jr.startsWith("crop")?j(Hn=>({...Hn,...cropLayer(Hn,vr.movementX,vr.movementY,It.current)})):It.current==="rotate"&&zt.current&&j(Hn=>({...Hn,...rotateLayer(zt.current.getBoundingClientRect(),vr.clientX,vr.clientY)}))},[et,s]),_r=reactExports.useCallback(vr=>{var Yr;(Yr=zt.current)==null||Yr.releasePointerCapture(vr.pointerId),console.log(`${It.current} release`),vr.stopPropagation(),et(s),It.current=null},[et,s]);return jsxRuntimeExports.jsxs(Box$1,{ref:zt,width:`${s.width}px`,height:`${s.height}px`,position:"absolute",top:s.top,left:s.left,sx:{backgroundImage:`url(${s.content})`,backgroundRepeat:"no-repeat",backgroundSize:`${s._width/s.croppedWidth*s.width}px ${s._height/s.croppedHeight*s.height}px`,backgroundPositionX:`-${s.croppedLeft/s.croppedWidth*s.width}px`,backgroundPositionY:`-${s.croppedTop/s.croppedHeight*s.height}px`,transform:`rotate(${s.rotation}deg)`,pointerEvents:Pt?"none":"unset",filter:Pt?"grayscale(60%)":"unset"},onPointerMove:Qt?cr:void 0,onPointerUp:Qt?_r:void 0,onClick:()=>At(s.id),children:[jsxRuntimeExports.jsx(Box$1,{position:"absolute",top:0,left:0,width:s._width/s.croppedWidth*s.width,height:s._height/s.croppedHeight*s.height,sx:{display:Ut&&bt===o.id?"block":"none",backgroundImage:`url(${s.content})`,backgroundRepeat:"no-repeat",backgroundSize:`${s._width/s.croppedWidth*s.width}px ${s._height/s.croppedHeight*s.height}px`,transform:`translate(${-s.croppedLeft/s.croppedWidth*s.width}px, ${-s.croppedTop/s.croppedHeight*s.height}px)`,pointerEvents:"none",filter:Pt?"grayscale(60%)":"unset",opacity:.3}}),Qt&&jsxRuntimeExports.jsx(Box$1,{width:"100%",height:"100%",position:"relative",border:"1px solid #00b0ff",onPointerDown:Yt(Ut?"crop-translate":"translate"),children:Ut?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Box$1,{position:"absolute",top:0,left:0,onPointerDown:Yt("crop-tl"),sx:cropSx}),jsxRuntimeExports.jsx(Box$1,{position:"absolute",bottom:0,left:0,onPointerDown:Yt("crop-bl"),sx:cropSx}),jsxRuntimeExports.jsx(Box$1,{position:"absolute",top:0,right:0,onPointerDown:Yt("crop-tr"),sx:cropSx}),jsxRuntimeExports.jsx(Box$1,{position:"absolute",bottom:0,right:0,onPointerDown:Yt("crop-br"),sx:cropSx})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Box$1,{position:"absolute",sx:rotateSx,onPointerDown:Yt("rotate")}),jsxRuntimeExports.jsx(Box$1,{position:"absolute",top:-5,left:-5,onPointerDown:Yt("resize-tl"),sx:{...resizeSx,cursor:"nwse-resize"}}),jsxRuntimeExports.jsx(Box$1,{position:"absolute",bottom:-5,left:-5,onPointerDown:Yt("resize-bl"),sx:{...resizeSx,cursor:"nesw-resize"}}),jsxRuntimeExports.jsx(Box$1,{position:"absolute",top:-5,right:-5,onPointerDown:Yt("resize-tr"),sx:{...resizeSx,cursor:"nesw-resize"}}),jsxRuntimeExports.jsx(Box$1,{position:"absolute",bottom:-5,right:-5,onPointerDown:Yt("resize-br"),sx:{...resizeSx,cursor:"nwse-resize"}})]})})]})},resizeSx={border:"1px solid #00b0ff",borderRadius:"50%",width:10,height:10,background:"#eee"},cropSx={outline:"1px solid #00b0ff",width:15,height:15,cursor:"url(/assets/crop.png) 9 9, auto"},rotateSx={border:"1px solid #00b0ff",borderRadius:"50%",width:10,height:10,top:-20,left:"50%",right:"50%",cursor:"url(/assets/rotate-cursor.png) 9 9, auto",background:"#eee"},StickerPage=()=>{const{pack:o}=reactExports.useContext(AppContext),{layers:s,setSelectedLayerId:j}=reactExports.useContext(EditorContext),et=useNavigate(),bt=reactExports.useCallback(()=>{et(`/${o.id}`)},[et,o.id]);return jsxRuntimeExports.jsx(ClickAwayListener,{onClickAway:()=>j(""),children:jsxRuntimeExports.jsxs(Box$1,{sx:rootSx,children:[jsxRuntimeExports.jsx(Breadcrumbs$1,{children:jsxRuntimeExports.jsxs(Typography$1,{variant:"h6",onClick:bt,sx:linkSx,children:["Pack: ",o.title||o.id]})}),jsxRuntimeExports.jsxs(Box$1,{sx:editorSx,children:[jsxRuntimeExports.jsx(Box$1,{sx:bgSx}),jsxRuntimeExports.jsx(Box$1,{id:"image",width:500,height:500,position:"relative",children:s.map(At=>jsxRuntimeExports.jsx(Image$1,{layer:At},`layer-${At.id}`))})]}),jsxRuntimeExports.jsx(Panel,{})]})})},rootSx={flex:1,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around",flexDirection:"column",gap:1},linkSx={cursor:"pointer","&:hover":{borderBottom:"1px solid #777"}},bgSx={background:"url(/assets/Checkered.svg)",opacity:.5,top:0,bottom:0,left:0,right:0,position:"absolute",pointerEvents:"none"},editorSx={height:500,width:500,position:"relative"};function App(){return jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsxs(Route,{path:"/",element:jsxRuntimeExports.jsx(Layout,{}),children:[jsxRuntimeExports.jsxs(Route,{path:":packId",element:jsxRuntimeExports.jsx(EditorContextProvider,{children:jsxRuntimeExports.jsx(Outlet,{})}),children:[jsxRuntimeExports.jsx(Route,{path:":stickerId",element:jsxRuntimeExports.jsx(StickerPage,{})}),jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(PackPage,{})})]}),jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(DashboardPage,{})})]})})}const theme=createTheme({palette:{mode:"dark"}});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(ThemeProvider,{theme,children:[jsxRuntimeExports.jsx(CssBaseline,{}),jsxRuntimeExports.jsx(App,{})]})})}));
